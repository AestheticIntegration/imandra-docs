<!DOCTYPE html>
<html>
<head><meta charset="utf-8" />
<meta content="width=device-width, initial-scale=1.0" name="viewport">
<title>Imandra Documentation - Verifying a Ripple Carry Adder</title>
<meta property="og:url" content="https://docs.imandra.ai/imandra-docs/notebooks/ripple-carry-adder/">
<meta property="og:type" content="website">
<meta property="og:title" content="Imandra Documentation - Verifying a Ripple Carry Adder">
<meta property="og:description" content="In this notebook, we'll verify a simple hardware design in Imandra, that of a full (arbitrary width) ripple-carry adder. We'll express this simple piece of hardware at the gate level. The theorem we'll prove expresses that our (arbitrary width) adder circuit is correct for all possible bit sequences.">
<meta property="og:image" content="https://storage.googleapis.com/imandra-assets/images/og_image_default_i78.jpg">


<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-116937440-6"></script>
<script>
window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());

gtag('config', 'UA-116937440-6');
</script>
<script type="text/javascript"> var sc_project=11767520; var sc_invisible=1; var sc_security="fa7e88d1"; </script>
<script type="text/javascript" src="https://www.statcounter.com/counter/counter.js" async></script>
<noscript><div class="statcounter">
<a title="Web Analytics" href="http://statcounter.com/" target="_blank">
<img class="statcounter" src="//c.statcounter.com/11767520/0/fa7e88d1/1/" alt="Web Analytics"></a>
</div></noscript>


<script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.1.10/require.min.js"></script>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Merriweather" type="text/css" />

<link rel="stylesheet" href="/imandra-docs/static/style/style.min.9ef6027e.css" type="text/css">
<link rel="stylesheet" href="/imandra-docs/static/custom/custom.43522872.css" type="text/css">
<link rel="stylesheet" href="/imandra-docs/static/nbextensions/nbimandra/styles.c7ed3d1a.css" type="text/css">
<link rel="stylesheet" href="/imandra-docs/static/docs-styles.3b1b6d03.css" type="text/css">

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
<script src="/imandra-docs/static/nbimandra-rjs-bundle.2469bcb7.js"></script>

<style type="text/css">
.highlight .hll { background-color: #ffffcc }
.highlight  { background: #f8f8f8; }
.highlight .c { color: #408080; font-style: italic } /* Comment */
.highlight .err { border: 1px solid #FF0000 } /* Error */
.highlight .k { color: #008000; font-weight: bold } /* Keyword */
.highlight .o { color: #666666 } /* Operator */
.highlight .ch { color: #408080; font-style: italic } /* Comment.Hashbang */
.highlight .cm { color: #408080; font-style: italic } /* Comment.Multiline */
.highlight .cp { color: #BC7A00 } /* Comment.Preproc */
.highlight .cpf { color: #408080; font-style: italic } /* Comment.PreprocFile */
.highlight .c1 { color: #408080; font-style: italic } /* Comment.Single */
.highlight .cs { color: #408080; font-style: italic } /* Comment.Special */
.highlight .gd { color: #A00000 } /* Generic.Deleted */
.highlight .ge { font-style: italic } /* Generic.Emph */
.highlight .gr { color: #FF0000 } /* Generic.Error */
.highlight .gh { color: #000080; font-weight: bold } /* Generic.Heading */
.highlight .gi { color: #00A000 } /* Generic.Inserted */
.highlight .go { color: #888888 } /* Generic.Output */
.highlight .gp { color: #000080; font-weight: bold } /* Generic.Prompt */
.highlight .gs { font-weight: bold } /* Generic.Strong */
.highlight .gu { color: #800080; font-weight: bold } /* Generic.Subheading */
.highlight .gt { color: #0044DD } /* Generic.Traceback */
.highlight .kc { color: #008000; font-weight: bold } /* Keyword.Constant */
.highlight .kd { color: #008000; font-weight: bold } /* Keyword.Declaration */
.highlight .kn { color: #008000; font-weight: bold } /* Keyword.Namespace */
.highlight .kp { color: #008000 } /* Keyword.Pseudo */
.highlight .kr { color: #008000; font-weight: bold } /* Keyword.Reserved */
.highlight .kt { color: #B00040 } /* Keyword.Type */
.highlight .m { color: #666666 } /* Literal.Number */
.highlight .s { color: #BA2121 } /* Literal.String */
.highlight .na { color: #7D9029 } /* Name.Attribute */
.highlight .nb { color: #008000 } /* Name.Builtin */
.highlight .nc { color: #0000FF; font-weight: bold } /* Name.Class */
.highlight .no { color: #880000 } /* Name.Constant */
.highlight .nd { color: #AA22FF } /* Name.Decorator */
.highlight .ni { color: #999999; font-weight: bold } /* Name.Entity */
.highlight .ne { color: #D2413A; font-weight: bold } /* Name.Exception */
.highlight .nf { color: #0000FF } /* Name.Function */
.highlight .nl { color: #A0A000 } /* Name.Label */
.highlight .nn { color: #0000FF; font-weight: bold } /* Name.Namespace */
.highlight .nt { color: #008000; font-weight: bold } /* Name.Tag */
.highlight .nv { color: #19177C } /* Name.Variable */
.highlight .ow { color: #AA22FF; font-weight: bold } /* Operator.Word */
.highlight .w { color: #bbbbbb } /* Text.Whitespace */
.highlight .mb { color: #666666 } /* Literal.Number.Bin */
.highlight .mf { color: #666666 } /* Literal.Number.Float */
.highlight .mh { color: #666666 } /* Literal.Number.Hex */
.highlight .mi { color: #666666 } /* Literal.Number.Integer */
.highlight .mo { color: #666666 } /* Literal.Number.Oct */
.highlight .sa { color: #BA2121 } /* Literal.String.Affix */
.highlight .sb { color: #BA2121 } /* Literal.String.Backtick */
.highlight .sc { color: #BA2121 } /* Literal.String.Char */
.highlight .dl { color: #BA2121 } /* Literal.String.Delimiter */
.highlight .sd { color: #BA2121; font-style: italic } /* Literal.String.Doc */
.highlight .s2 { color: #BA2121 } /* Literal.String.Double */
.highlight .se { color: #BB6622; font-weight: bold } /* Literal.String.Escape */
.highlight .sh { color: #BA2121 } /* Literal.String.Heredoc */
.highlight .si { color: #BB6688; font-weight: bold } /* Literal.String.Interpol */
.highlight .sx { color: #008000 } /* Literal.String.Other */
.highlight .sr { color: #BB6688 } /* Literal.String.Regex */
.highlight .s1 { color: #BA2121 } /* Literal.String.Single */
.highlight .ss { color: #19177C } /* Literal.String.Symbol */
.highlight .bp { color: #008000 } /* Name.Builtin.Pseudo */
.highlight .fm { color: #0000FF } /* Name.Function.Magic */
.highlight .vc { color: #19177C } /* Name.Variable.Class */
.highlight .vg { color: #19177C } /* Name.Variable.Global */
.highlight .vi { color: #19177C } /* Name.Variable.Instance */
.highlight .vm { color: #19177C } /* Name.Variable.Magic */
.highlight .il { color: #666666 } /* Literal.Number.Integer.Long */
</style>
    
<!-- Loading mathjax macro -->
<!-- Load mathjax -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS_HTML"></script>
    <!-- MathJax configuration -->
    <script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        tex2jax: {
            inlineMath: [ ['$','$'], ["\\(","\\)"] ],
            displayMath: [ ['$$','$$'], ["\\[","\\]"] ],
            processEscapes: true,
            processEnvironments: true
        },
        // Center justify equations in code and markdown cells. Elsewhere
        // we use CSS to left justify single line equations in code cells.
        displayAlign: 'center',
        "HTML-CSS": {
            styles: {'.MathJax_Display': {"margin": 0}},
            linebreaks: { automatic: true }
        }
    });
    </script>
    <!-- End of mathjax configuration --></head>
<body>
  <div class="header-nav">
    <div class="header-nav__container">
      <div class="header-nav-main-logo">
        <a href="/" class="header-nav-main-logo__container">
          <img src="/imandra-docs/static/img/imandra_doc_logo_main.svg">
        </a>
      </div>
      <a href="/imandra-docs/">&lt; Back</a>
    </div>
  </div>
  <div class="bg-container">
    <div class="bg-container__bg"></div>
    <div class="container">
      <header class="header">
        <a href="/imandra-docs/">
          <img src="/imandra-docs/static/img/site_specific_image_v_2.svg">
        </a>
      </header>
      <div class="content content--with-cells">
  
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="Verifying-a-Ripple-Carry-Adder-in-Imandra">Verifying a Ripple-Carry Adder in Imandra<a class="anchor-link" href="#Verifying-a-Ripple-Carry-Adder-in-Imandra">&#182;</a></h1><p><img src="https://upload.wikimedia.org/wikipedia/commons/5/57/Fulladder.gif"></p>
<p>In this notebook, we'll verify a simple hardware design in Imandra, that of a full (arbitrary width) <em>ripple-carry adder</em>.</p>
<p>We'll express this simple piece of hardware at the <em>gate</em> level.</p>
<p>The correctness theorem we'll prove is as follows:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<div class="highlight"><pre><span></span><span class="n">theorem</span> <span class="n">full_ripple_carry_adder_correct</span> <span class="n">a</span> <span class="n">b</span> <span class="n">cin</span> <span class="o">=</span>
  <span class="nn">List</span><span class="p">.</span><span class="n">length</span> <span class="n">a</span> <span class="o">=</span> <span class="nn">List</span><span class="p">.</span><span class="n">length</span> <span class="n">b</span> <span class="o">==&gt;</span>
  <span class="n">int_of_bits</span> <span class="o">(</span><span class="n">ripple_carry_adder</span> <span class="n">a</span> <span class="n">b</span> <span class="n">cin</span><span class="o">)</span> <span class="o">=</span>
  <span class="n">int_of_bits</span> <span class="n">a</span> <span class="o">+</span> <span class="n">int_of_bits</span> <span class="n">b</span> <span class="o">+</span> <span class="n">int_of_bit</span> <span class="n">cin</span>
</pre></div>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>This theorem expresses that our (arbitrary width) adder circuit is correct for all possible bit sequences.</p>
<h1 id="Building-the-circuit-in-Imandra">Building the circuit in Imandra<a class="anchor-link" href="#Building-the-circuit-in-Imandra">&#182;</a></h1><p>We begin by defining <code>xor</code> and our basic building blocks <code>adder_sum</code> and <code>adder_carry_out</code>.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="try-this-container">
  <a href="https://try.imandra.ai/launch/?next=/h/user-redirect/notebooks/Verifying%20a%20Ripple%20Carry%20Adder.ipynb%23try-cell-4" target="_blank">
    <div class="try-this">Try this!</div>
  </a>
</div>
<div class="input">
<div class="prompt input_prompt">In&nbsp;[1]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ocaml"><pre><span></span><span class="k">let</span> <span class="n">xor</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="kt">bool</span><span class="o">)</span> <span class="o">(</span><span class="n">y</span> <span class="o">:</span> <span class="kt">bool</span><span class="o">)</span> <span class="o">:</span> <span class="kt">bool</span> <span class="o">=</span> <span class="n">x</span> <span class="o">&lt;&gt;</span> <span class="n">y</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt output_prompt">Out[1]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>val xor : bool -&gt; bool -&gt; bool = &lt;fun&gt;
</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>We now define the basic sum and carry circuits for our adder.</p>
<table border="0">
    <tr><td><img src="https://upload.wikimedia.org/wikipedia/commons/thumb/4/48/1-bit_full-adder.svg/215px-1-bit_full-adder.svg.png"></td><td>&nbsp;</td><td><img src="https://upload.wikimedia.org/wikipedia/commons/thumb/6/69/Full-adder_logic_diagram.svg/400px-Full-adder_logic_diagram.svg.png"></td></tr>
</table><p>We'll define two functions: <code>adder_sum</code> and <code>adder_carry_out</code>. Notice these are purely logical (<em>"combinational"</em>), i.e., they're defined using combinations of logic gates like <code>xor</code>, <code>and</code> (<code>&amp;&amp;</code>), and <code>or</code> (<code>||</code>) operating on <code>bool</code> values.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="try-this-container">
  <a href="https://try.imandra.ai/launch/?next=/h/user-redirect/notebooks/Verifying%20a%20Ripple%20Carry%20Adder.ipynb%23try-cell-6" target="_blank">
    <div class="try-this">Try this!</div>
  </a>
</div>
<div class="input">
<div class="prompt input_prompt">In&nbsp;[2]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ocaml"><pre><span></span><span class="k">let</span> <span class="n">adder_sum</span> <span class="n">a</span> <span class="n">b</span> <span class="n">cin</span> <span class="o">=</span>
  <span class="n">xor</span> <span class="o">(</span><span class="n">xor</span> <span class="n">a</span> <span class="n">b</span><span class="o">)</span> <span class="n">cin</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt output_prompt">Out[2]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>val adder_sum : bool -&gt; bool -&gt; bool -&gt; bool = &lt;fun&gt;
</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="try-this-container">
  <a href="https://try.imandra.ai/launch/?next=/h/user-redirect/notebooks/Verifying%20a%20Ripple%20Carry%20Adder.ipynb%23try-cell-7" target="_blank">
    <div class="try-this">Try this!</div>
  </a>
</div>
<div class="input">
<div class="prompt input_prompt">In&nbsp;[3]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ocaml"><pre><span></span><span class="k">let</span> <span class="n">adder_carry_out</span> <span class="n">a</span> <span class="n">b</span> <span class="n">cin</span> <span class="o">=</span>
  <span class="o">((</span><span class="n">xor</span> <span class="n">a</span> <span class="n">b</span><span class="o">)</span> <span class="o">&amp;&amp;</span> <span class="n">cin</span><span class="o">)</span> <span class="o">||</span> <span class="o">(</span><span class="n">a</span> <span class="o">&amp;&amp;</span> <span class="n">b</span><span class="o">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt output_prompt">Out[3]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>val adder_carry_out : bool -&gt; bool -&gt; bool -&gt; bool = &lt;fun&gt;
</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>To help us understand and document how it works, we can use Imandra's <code>Document</code> machinery to produce a truth-table for our one-bit full adder circuit:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="try-this-container">
  <a href="https://try.imandra.ai/launch/?next=/h/user-redirect/notebooks/Verifying%20a%20Ripple%20Carry%20Adder.ipynb%23try-cell-9" target="_blank">
    <div class="try-this">Try this!</div>
  </a>
</div>
<div class="input">
<div class="prompt input_prompt">In&nbsp;[4]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ocaml"><pre><span></span><span class="k">let</span> <span class="n">args</span> <span class="o">=</span> <span class="nn">CCList</span><span class="p">.</span><span class="n">cartesian_product</span> <span class="o">[[</span><span class="bp">true</span><span class="o">;</span> <span class="bp">false</span><span class="o">];</span> <span class="o">[</span><span class="bp">true</span><span class="o">;</span> <span class="bp">false</span><span class="o">];</span> <span class="o">[</span><span class="bp">true</span><span class="o">;</span> <span class="bp">false</span><span class="o">]]</span> <span class="k">in</span>
<span class="k">let</span> <span class="n">pb</span> <span class="n">b</span> <span class="o">=</span> <span class="nn">Document</span><span class="p">.</span><span class="n">s</span> <span class="o">(</span><span class="n">string_of_bool</span> <span class="n">b</span><span class="o">)</span> <span class="k">in</span>
<span class="nn">Imandra</span><span class="p">.</span><span class="n">display</span> <span class="o">@@</span> 
 <span class="nn">Document</span><span class="p">.</span><span class="o">(</span><span class="n">tbl</span> <span class="o">~</span><span class="n">headers</span><span class="o">:[</span><span class="s2">&quot;a&quot;</span><span class="o">;</span><span class="s2">&quot;b&quot;</span><span class="o">;</span><span class="s2">&quot;cin&quot;</span><span class="o">;</span><span class="s2">&quot;sum&quot;</span><span class="o">;</span><span class="s2">&quot;cout&quot;</span><span class="o">]</span> <span class="o">@@</span>
  <span class="nn">List</span><span class="p">.</span><span class="n">map</span> <span class="o">(</span><span class="k">function</span> <span class="o">[</span><span class="n">a</span><span class="o">;</span><span class="n">b</span><span class="o">;</span><span class="n">cin</span><span class="o">]</span> <span class="o">-&gt;</span> 
   <span class="o">[</span><span class="n">pb</span> <span class="n">a</span><span class="o">;</span> <span class="n">pb</span> <span class="n">b</span><span class="o">;</span> <span class="n">pb</span> <span class="n">cin</span><span class="o">;</span> <span class="n">pb</span> <span class="o">(</span><span class="n">adder_sum</span> <span class="n">a</span> <span class="n">b</span> <span class="n">cin</span><span class="o">);</span> <span class="n">pb</span> <span class="o">(</span><span class="n">adder_carry_out</span> <span class="n">a</span> <span class="n">b</span> <span class="n">cin</span><span class="o">)]</span>
   <span class="o">|</span> <span class="o">_</span> <span class="o">-&gt;</span> <span class="bp">[]</span><span class="o">)</span>
   <span class="n">args</span><span class="o">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt output_prompt">Out[4]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>- : unit = ()
</pre>
</div>

</div>

<div class="output_area">

<div class="prompt"></div>



<div class="output_html rendered_html output_subarea ">
<div><div class="imandra-table" id="table-4bd3681e-ced3-4f32-afd1-d49fa902e80f"><table><thead><tr><th>a</th><th>b</th><th>cin</th><th>sum</th><th>cout</th></tr></thead><tr><td>false</td><td>false</td><td>false</td><td>false</td><td>false</td></tr><tr><td>false</td><td>false</td><td>true</td><td>true</td><td>false</td></tr><tr><td>false</td><td>true</td><td>false</td><td>true</td><td>false</td></tr><tr><td>false</td><td>true</td><td>true</td><td>false</td><td>true</td></tr><tr><td>true</td><td>false</td><td>false</td><td>true</td><td>false</td></tr><tr><td>true</td><td>false</td><td>true</td><td>false</td><td>true</td></tr><tr><td>true</td><td>true</td><td>false</td><td>false</td><td>true</td></tr><tr><td>true</td><td>true</td><td>true</td><td>true</td><td>true</td></tr></table></div></div>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>We can now define our ripple-carry adder, for arbitrary length bitvector inputs.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="try-this-container">
  <a href="https://try.imandra.ai/launch/?next=/h/user-redirect/notebooks/Verifying%20a%20Ripple%20Carry%20Adder.ipynb%23try-cell-11" target="_blank">
    <div class="try-this">Try this!</div>
  </a>
</div>
<div class="input">
<div class="prompt input_prompt">In&nbsp;[5]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ocaml"><pre><span></span><span class="k">let</span> <span class="k">rec</span> <span class="n">ripple_carry_adder</span> <span class="o">(</span><span class="n">a</span> <span class="o">:</span> <span class="kt">bool</span> <span class="kt">list</span><span class="o">)</span> <span class="o">(</span><span class="n">b</span> <span class="o">:</span> <span class="kt">bool</span> <span class="kt">list</span><span class="o">)</span> <span class="o">(</span><span class="n">cin</span> <span class="o">:</span> <span class="kt">bool</span><span class="o">)</span> <span class="o">:</span> <span class="kt">bool</span> <span class="kt">list</span> <span class="o">=</span>
  <span class="k">match</span> <span class="n">a</span><span class="o">,</span> <span class="n">b</span> <span class="k">with</span>
  <span class="o">|</span> <span class="n">a1</span> <span class="o">::</span> <span class="n">a&#39;</span><span class="o">,</span> <span class="n">b1</span> <span class="o">::</span> <span class="n">b&#39;</span> <span class="o">-&gt;</span>
    <span class="n">adder_sum</span> <span class="n">a1</span> <span class="n">b1</span> <span class="n">cin</span> <span class="o">::</span>
    <span class="n">ripple_carry_adder</span> <span class="n">a&#39;</span> <span class="n">b&#39;</span> <span class="o">(</span><span class="n">adder_carry_out</span> <span class="n">a1</span> <span class="n">b1</span> <span class="n">cin</span><span class="o">)</span>
  <span class="o">|</span> <span class="o">_</span> <span class="o">-&gt;</span> <span class="k">if</span> <span class="n">cin</span> <span class="k">then</span> <span class="o">[</span><span class="n">cin</span><span class="o">]</span> <span class="k">else</span> <span class="bp">[]</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt output_prompt">Out[5]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>val ripple_carry_adder : bool list -&gt; bool list -&gt; bool -&gt; bool list = &lt;fun&gt;
</pre>
</div>

</div>

<div class="output_area">

<div class="prompt"></div>



<div class="output_html rendered_html output_subarea ">
<div><div class="imandra-fold panel panel-default" id="fold-5470a6ac-e51b-44e1-af30-68600d25d41c"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>termination proof</span></div></div><div class="panel-body collapse"><div><h3>Termination proof</h3><p></p><div class="imandra-fold panel panel-default" id="fold-63e78f8f-61c3-423f-b611-5b22eed1d27d"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>call `ripple_carry_adder (List.tl a) (List.tl b)
(adder_carry_out (List.hd a) (List.hd b) cin)` from `ripple_carry_adder a b cin`</span></div></div><div class="panel-body collapse"><div class="imandra-table" id="table-c13fb6bd-2df4-485e-b2fc-bd6fcd4cb248"><table><tr><td><b>original</b></td><td>ripple_carry_adder a b cin</td></tr><tr><td><b>sub</b></td><td>ripple_carry_adder (List.tl a) (List.tl b)
(adder_carry_out (List.hd a) (List.hd b) cin)</td></tr><tr><td><b>original ordinal</b></td><td>Ordinal.Int (Ordinal.count a)</td></tr><tr><td><b>sub ordinal</b></td><td>Ordinal.Int (Ordinal.count (List.tl a))</td></tr><tr><td><b>path</b></td><td>[b &lt;&gt; [] &amp;&amp; a &lt;&gt; []]</td></tr><tr><td><b>proof</b></td><td><div class="imandra-fold panel panel-default" id="fold-763431e2-58e1-40b9-b583-2b8cb25dd18a"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>detailed proof</span></div></div><div class="panel-body collapse"><div class="imandra-proof"><div class="imandra-alternatives" id="alt-ef368930-0f49-4b65-92a7-10621c0da564"><ul class="nav nav-tabs"><li class="active" data-toggle="tab"><a>summary</a></li><li class="" data-toggle="tab"><a>full</a></li></ul><div class="tab-content"><div class="tab-pane active"><div class="imandra-table" id="table-aaad8541-96b5-4b3b-b62e-3bcbe6245f0b"><table><tr><td><b>ground_instances</b></td><td>3</td></tr><tr><td><b>definitions</b></td><td>0</td></tr><tr><td><b>inductions</b></td><td>0</td></tr><tr><td><b>search_time</b></td><td><pre>0.021s</pre></td></tr><tr><td><b>details</b></td><td><div class="imandra-fold panel panel-default" id="fold-9d98ed3d-964c-4819-8f20-eca03401037d"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>Expand</span></div></div><div class="panel-body collapse"><div class="imandra-table" id="table-56f477b6-1b24-4cd9-b3fb-74616e0e814f"><table><tr><td><b>smt_stats</b></td><td><div class="imandra-table" id="table-0938b117-244f-4d9e-887f-98e44a5dc7d8"><table><tr><td><b>num checks</b></td><td>8</td></tr><tr><td><b>arith assert lower</b></td><td>7</td></tr><tr><td><b>arith pivots</b></td><td>6</td></tr><tr><td><b>rlimit count</b></td><td>2090</td></tr><tr><td><b>mk clause</b></td><td>30</td></tr><tr><td><b>datatype occurs check</b></td><td>67</td></tr><tr><td><b>mk bool var</b></td><td>86</td></tr><tr><td><b>arith assert upper</b></td><td>5</td></tr><tr><td><b>datatype splits</b></td><td>6</td></tr><tr><td><b>decisions</b></td><td>28</td></tr><tr><td><b>arith add rows</b></td><td>13</td></tr><tr><td><b>propagations</b></td><td>29</td></tr><tr><td><b>conflicts</b></td><td>9</td></tr><tr><td><b>arith fixed eqs</b></td><td>4</td></tr><tr><td><b>datatype accessor ax</b></td><td>10</td></tr><tr><td><b>arith conflicts</b></td><td>1</td></tr><tr><td><b>datatype constructor ax</b></td><td>14</td></tr><tr><td><b>num allocs</b></td><td>1379671184</td></tr><tr><td><b>final checks</b></td><td>6</td></tr><tr><td><b>added eqs</b></td><td>88</td></tr><tr><td><b>del clause</b></td><td>16</td></tr><tr><td><b>arith eq adapter</b></td><td>6</td></tr><tr><td><b>memory</b></td><td>6.370000</td></tr><tr><td><b>max memory</b></td><td>22.720000</td></tr></table></div></td></tr></table></div></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-9d98ed3d-964c-4819-8f20-eca03401037d';
  fold.hydrate(target);
});
</script></div></td></tr></table></div></div><div class="tab-pane"><div class="imandra-fold panel panel-default" id="fold-cbd412bb-7892-4de5-9f1a-eff1bd62939d"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>Expand</span></div></div><div class="panel-body collapse"><ul><li><pre>start[0.021s]
  (b &lt;&gt; [] &amp;&amp; a &lt;&gt; [])
  &amp;&amp; Ordinal.count a &gt;= 0 &amp;&amp; Ordinal.count (List.tl a) &gt;= 0
  ==&gt; not ((List.tl b) &lt;&gt; [] &amp;&amp; (List.tl a) &lt;&gt; [])
      || Ordinal.Int (Ordinal.count (List.tl a)) Ordinal.&lt;&lt;
         Ordinal.Int (Ordinal.count a)</pre></li><li><div><h5>simplify</h5><div class="imandra-table" id="table-dec54110-6803-41ba-b6a4-4f0cb6ce5317"><table><tr><td><b>into</b></td><td><pre>(not
 (((b &lt;&gt; [] &amp;&amp; a &lt;&gt; []) &amp;&amp; Ordinal.count a &gt;= 0)
  &amp;&amp; Ordinal.count (List.tl a) &gt;= 0)
 || not ((List.tl b) &lt;&gt; [] &amp;&amp; (List.tl a) &lt;&gt; []))
|| Ordinal.Int (Ordinal.count (List.tl a)) Ordinal.&lt;&lt;
   Ordinal.Int (Ordinal.count a)</pre></td></tr><tr><td><b>expansions</b></td><td><pre>[]</pre></td></tr><tr><td><b>rewrite_steps</b></td><td><ul></ul></td></tr><tr><td><b>forward_chaining</b></td><td><ul></ul></td></tr></table></div></div></li><li><div>unroll<div class="imandra-table" id="table-e9e0c112-47b1-4a80-9437-a7ebe87a2315"><table><tr><td><b>expr</b></td><td><pre>(|\|Ordinal.&lt;&lt;_132\||
  (|\|Ordinal.Int_123\||
    (|\|count_`bool list`_2289\|| (|\|get.::.1_2275\|…</pre></td></tr><tr><td><b>expansions</b></td><td><ul></ul></td></tr></table></div></div></li><li><div>unroll<div class="imandra-table" id="table-bb8725eb-04fe-4aef-89c3-8bed7f01d4dc"><table><tr><td><b>expr</b></td><td><pre>(|\|count_`bool list`_2289\|| (|\|get.::.1_2275\|| a_2276))</pre></td></tr><tr><td><b>expansions</b></td><td><ul></ul></td></tr></table></div></div></li><li><div>unroll<div class="imandra-table" id="table-0a492afc-d993-43ac-ab4c-8c4b099a3f8b"><table><tr><td><b>expr</b></td><td><pre>(|\|count_`bool list`_2289\|| a_2276)</pre></td></tr><tr><td><b>expansions</b></td><td><ul></ul></td></tr></table></div></div></li><li><div><h5>unsat</h5><pre>(let ((a!1 (ite (&gt;= (|\|count_`bool list`_2289\|| (|\|get.::.1_2275\|| a_2276))
                    …</pre></div></li></ul></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-cbd412bb-7892-4de5-9f1a-eff1bd62939d';
  fold.hydrate(target);
});
</script></div></div></div><script>
require(['nbextensions/nbimandra/alternatives'], function (alternatives) {
  var target = '#alt-ef368930-0f49-4b65-92a7-10621c0da564';
  alternatives.hydrate(target);
});
</script></div></div></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-763431e2-58e1-40b9-b583-2b8cb25dd18a';
  fold.hydrate(target);
});
</script></div></td></tr></table></div></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-63e78f8f-61c3-423f-b611-5b22eed1d27d';
  fold.hydrate(target);
});
</script></div><p></p></div></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-5470a6ac-e51b-44e1-af30-68600d25d41c';
  fold.hydrate(target);
});
</script></div></div>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Let's now compute with our adder to get a feel for it.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="try-this-container">
  <a href="https://try.imandra.ai/launch/?next=/h/user-redirect/notebooks/Verifying%20a%20Ripple%20Carry%20Adder.ipynb%23try-cell-13" target="_blank">
    <div class="try-this">Try this!</div>
  </a>
</div>
<div class="input">
<div class="prompt input_prompt">In&nbsp;[6]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ocaml"><pre><span></span><span class="k">let</span> <span class="n">zero</span> <span class="o">=</span> <span class="bp">[]</span>
<span class="k">let</span> <span class="n">one</span> <span class="o">=</span> <span class="o">[</span><span class="bp">true</span><span class="o">]</span>
<span class="k">let</span> <span class="n">two</span> <span class="o">=</span> <span class="o">[</span><span class="bp">false</span><span class="o">;</span> <span class="bp">true</span><span class="o">]</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt output_prompt">Out[6]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>val zero : &#39;a list = []
val one : bool list = [true]
val two : bool list = [false; true]
</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="try-this-container">
  <a href="https://try.imandra.ai/launch/?next=/h/user-redirect/notebooks/Verifying%20a%20Ripple%20Carry%20Adder.ipynb%23try-cell-14" target="_blank">
    <div class="try-this">Try this!</div>
  </a>
</div>
<div class="input">
<div class="prompt input_prompt">In&nbsp;[7]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ocaml"><pre><span></span><span class="n">ripple_carry_adder</span> <span class="n">zero</span> <span class="n">zero</span> <span class="bp">false</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt output_prompt">Out[7]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>- : bool list = []
</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="try-this-container">
  <a href="https://try.imandra.ai/launch/?next=/h/user-redirect/notebooks/Verifying%20a%20Ripple%20Carry%20Adder.ipynb%23try-cell-15" target="_blank">
    <div class="try-this">Try this!</div>
  </a>
</div>
<div class="input">
<div class="prompt input_prompt">In&nbsp;[8]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ocaml"><pre><span></span><span class="n">ripple_carry_adder</span> <span class="n">one</span> <span class="n">one</span> <span class="bp">false</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt output_prompt">Out[8]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>- : bool list = [false; true]
</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="try-this-container">
  <a href="https://try.imandra.ai/launch/?next=/h/user-redirect/notebooks/Verifying%20a%20Ripple%20Carry%20Adder.ipynb%23try-cell-16" target="_blank">
    <div class="try-this">Try this!</div>
  </a>
</div>
<div class="input">
<div class="prompt input_prompt">In&nbsp;[9]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ocaml"><pre><span></span><span class="n">instance</span> <span class="o">(</span><span class="k">fun</span> <span class="n">a</span> <span class="n">b</span> <span class="o">-&gt;</span> <span class="n">ripple_carry_adder</span> <span class="n">a</span> <span class="n">b</span> <span class="bp">false</span> <span class="o">=</span> <span class="o">[</span><span class="bp">false</span><span class="o">;</span> <span class="bp">false</span><span class="o">;</span> <span class="bp">false</span><span class="o">;</span> <span class="bp">true</span><span class="o">])</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt output_prompt">Out[9]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>- : bool list -&gt; bool list -&gt; bool = &lt;fun&gt;
module CX : sig val a : bool list val b : bool list end
</pre>
</div>

</div>

<div class="output_area">

<div class="prompt"></div>



<div class="output_html rendered_html output_subarea ">
<div><pre>Instance (after 4 steps, 0.024s):
 let a = [true; true; false]
 let b = [true; false; true]
</pre></div>

</div>

</div>

<div class="output_area">

<div class="prompt"></div>



<div class="output_html rendered_html output_subarea ">
<div><div class="imandra-vr imandra-vr-proved"><i class="fa fa-check-circle"></i><span>Instance</span></div><div><div class="imandra-alternatives" id="alt-5ca8683d-780c-4876-92ed-edb392f437a1"><ul class="nav nav-tabs"><li class="active" data-toggle="tab"><a>call graph</a></li><li class="" data-toggle="tab"><a>proof-attempt</a></li></ul><div class="tab-content"><div class="tab-pane active"><div class="imandra-graphviz" id="graphviz-b7720157-ab8f-4bec-9261-796dbb2e159a"><textarea style="display: none">digraph &quot;call graph&quot; {
goal [label=&quot;ripple_carry_adder a b false = false :: (false :: (false :: (true :: …)))&quot;,shape=box,style=filled,color=&quot;cyan&quot;,fontname=&quot;courier&quot;,fontsize=14];
call_16 [label=&quot;ripple_carry_adder a b false&quot;,shape=box,style=filled,color=&quot;green&quot;,fontname=&quot;courier&quot;,fontsize=14];
call_16 -&gt; expr_173 [label=&quot;=&quot;];
expr_173 [label=&quot;if b \&lt;\&gt; [] &amp;&amp; a \&lt;\&gt; []\lthen\l  ((List.hd a \&lt;==\&gt; List.hd b) \&lt;==\&gt; false) ::\l  (ripple_carry_adder (List.tl a) (List.tl b)\l   ((not (List.hd a) \&lt;==\&gt; List.hd b) &amp;&amp; false \|\| List.hd a &amp;&amp; List.hd b))\lelse []&quot;,shape=box,style=filled,color=&quot;grey&quot;,fontname=&quot;courier&quot;,fontsize=14];
goal -&gt; call_16 [label=&quot;calls&quot;];
call_1036 [label=&quot;ripple_carry_adder (List.tl (List.tl (List.tl (List.tl a))))\l(List.tl (List.tl (List.tl (List.tl b))))\l((not (List.hd (List.tl (List.tl (List.tl a)))) \&lt;==\&gt;\l  List.hd (List.tl (List.tl (List.tl b))))\l &amp;&amp; ((not (List.hd (List.tl (List.tl a))) \&lt;==\&gt; List.hd (List.tl (List.tl b)))\l     &amp;&amp; ((not (List.hd (List.tl a)) \&lt;==\&gt; List.hd (List.tl b))\l         &amp;&amp; ((not (List.hd a) \&lt;==\&gt; List.hd b) &amp;&amp; false\l             \|\| List.hd a &amp;&amp; List.hd b)\l         \|\| List.hd (List.tl a) &amp;&amp; List.hd (List.tl b))\l     \|\| List.hd (List.tl (List.tl a)) &amp;&amp; List.hd (List.tl (List.tl b)))\l \|\| List.hd (List.tl (List.tl (List.tl a)))\l    &amp;&amp; List.hd (List.tl (List.tl (List.tl b))))&quot;,shape=box,style=filled,color=&quot;yellow&quot;,fontname=&quot;courier&quot;,fontsize=14];
expr_1040 -&gt; call_1036 [label=&quot;calls&quot;];
call_699 [label=&quot;ripple_carry_adder (List.tl (List.tl (List.tl a)))\l(List.tl (List.tl (List.tl b)))\l((not (List.hd (List.tl (List.tl a))) \&lt;==\&gt; List.hd (List.tl (List.tl b)))\l &amp;&amp; ((not (List.hd (List.tl a)) \&lt;==\&gt; List.hd (List.tl b))\l     &amp;&amp; ((not (List.hd a) \&lt;==\&gt; List.hd b) &amp;&amp; false \|\| List.hd a &amp;&amp; List.hd b)\l     \|\| List.hd (List.tl a) &amp;&amp; List.hd (List.tl b))\l \|\| List.hd (List.tl (List.tl a)) &amp;&amp; List.hd (List.tl (List.tl b)))&quot;,shape=box,style=filled,color=&quot;green&quot;,fontname=&quot;courier&quot;,fontsize=14];
call_699 -&gt; expr_1040 [label=&quot;=&quot;];
expr_1040 [label=&quot;if (List.tl (List.tl (List.tl b))) \&lt;\&gt; []\l   &amp;&amp; (List.tl (List.tl (List.tl a))) \&lt;\&gt; []\lthen\l  ((List.hd (List.tl (List.tl (List.tl a))) \&lt;==\&gt;\l    List.hd (List.tl (List.tl (List.tl b))))\l   \&lt;==\&gt;\l   (not (List.hd (List.tl (List.tl a))) \&lt;==\&gt; List.hd (List.tl (List.tl b)))\l   &amp;&amp; ((not (List.hd (List.tl a)) \&lt;==\&gt; List.hd (List.tl b))\l       &amp;&amp; ((not (List.hd a) \&lt;==\&gt; List.hd b) &amp;&amp; false\l           \|\| List.hd a &amp;&amp; List.hd b)\l       \|\| List.hd (List.tl a) &amp;&amp; List.hd (List.tl b))\l   \|\| List.hd (List.tl (List.tl a)) &amp;&amp; List.hd (List.tl (List.tl b)))\l  ::\l  (ripple_carry_adder (List.tl (List.tl (List.tl (List.tl a))))\l   (List.tl (List.tl (List.tl (List.tl b))))\l   ((not (List.hd (List.tl (List.tl (List.tl a)))) \&lt;==\&gt;\l     List.hd (List.tl (List.tl (List.tl b))))\l    &amp;&amp; ((not (List.hd (List.tl (List.tl a))) \&lt;==\&gt;\l         List.hd (List.tl (List.tl b)))\l        &amp;&amp; ((not (List.hd (List.tl a)) \&lt;==\&gt; List.hd (List.tl b))\l            &amp;&amp; ((not (List.hd a) \&lt;==\&gt; List.hd b) &amp;&amp; false\l                \|\| List.hd a &amp;&amp; List.hd b)\l            \|\| List.hd (List.tl a) &amp;&amp; List.hd (List.tl b))\l        \|\| List.hd (List.tl (List.tl a)) &amp;&amp; List.hd (List.tl (List.tl b)))\l    \|\| List.hd (List.tl (List.tl (List.tl a)))\l       &amp;&amp; List.hd (List.tl (List.tl (List.tl b)))))\lelse\lif (not (List.hd (List.tl (List.tl a))) \&lt;==\&gt; List.hd (List.tl (List.tl b)))\l   &amp;&amp; ((not (List.hd (List.tl a)) \&lt;==\&gt; List.hd (List.tl b))\l       &amp;&amp; ((not (List.hd a) \&lt;==\&gt; List.hd b) &amp;&amp; false\l           \|\| List.hd a &amp;&amp; List.hd b)\l       \|\| List.hd (List.tl a) &amp;&amp; List.hd (List.tl b))\l   \|\| List.hd (List.tl (List.tl a)) &amp;&amp; List.hd (List.tl (List.tl b))\lthen\l  ((not (List.hd (List.tl (List.tl a))) \&lt;==\&gt; List.hd (List.tl (List.tl b)))\l   &amp;&amp; ((not (List.hd (List.tl a)) \&lt;==\&gt; List.hd (List.tl b))\l       &amp;&amp; ((not (List.hd a) \&lt;==\&gt; List.hd b) &amp;&amp; false\l           \|\| List.hd a &amp;&amp; List.hd b)\l       \|\| List.hd (List.tl a) &amp;&amp; List.hd (List.tl b))\l   \|\| List.hd (List.tl (List.tl a)) &amp;&amp; List.hd (List.tl (List.tl b)))\l  :: []\lelse []&quot;,shape=box,style=filled,color=&quot;grey&quot;,fontname=&quot;courier&quot;,fontsize=14];
expr_703 -&gt; call_699 [label=&quot;calls&quot;];
call_171 [label=&quot;ripple_carry_adder (List.tl a) (List.tl b)\l((not (List.hd a) \&lt;==\&gt; List.hd b) &amp;&amp; false \|\| List.hd a &amp;&amp; List.hd b)&quot;,shape=box,style=filled,color=&quot;green&quot;,fontname=&quot;courier&quot;,fontsize=14];
call_171 -&gt; expr_365 [label=&quot;=&quot;];
expr_365 [label=&quot;if (List.tl b) \&lt;\&gt; [] &amp;&amp; (List.tl a) \&lt;\&gt; []\lthen\l  ((List.hd (List.tl a) \&lt;==\&gt; List.hd (List.tl b)) \&lt;==\&gt;\l   (not (List.hd a) \&lt;==\&gt; List.hd b) &amp;&amp; false \|\| List.hd a &amp;&amp; List.hd b)\l  ::\l  (ripple_carry_adder (List.tl (List.tl a)) (List.tl (List.tl b))\l   ((not (List.hd (List.tl a)) \&lt;==\&gt; List.hd (List.tl b))\l    &amp;&amp; ((not (List.hd a) \&lt;==\&gt; List.hd b) &amp;&amp; false \|\| List.hd a &amp;&amp; List.hd b)\l    \|\| List.hd (List.tl a) &amp;&amp; List.hd (List.tl b)))\lelse\lif (not (List.hd a) \&lt;==\&gt; List.hd b) &amp;&amp; false \|\| List.hd a &amp;&amp; List.hd b\lthen\l  ((not (List.hd a) \&lt;==\&gt; List.hd b) &amp;&amp; false \|\| List.hd a &amp;&amp; List.hd b) :: []\lelse []&quot;,shape=box,style=filled,color=&quot;grey&quot;,fontname=&quot;courier&quot;,fontsize=14];
expr_173 -&gt; call_171 [label=&quot;calls&quot;];
call_361 [label=&quot;ripple_carry_adder (List.tl (List.tl a)) (List.tl (List.tl b))\l((not (List.hd (List.tl a)) \&lt;==\&gt; List.hd (List.tl b))\l &amp;&amp; ((not (List.hd a) \&lt;==\&gt; List.hd b) &amp;&amp; false \|\| List.hd a &amp;&amp; List.hd b)\l \|\| List.hd (List.tl a) &amp;&amp; List.hd (List.tl b))&quot;,shape=box,style=filled,color=&quot;green&quot;,fontname=&quot;courier&quot;,fontsize=14];
call_361 -&gt; expr_703 [label=&quot;=&quot;];
expr_703 [label=&quot;if (List.tl (List.tl b)) \&lt;\&gt; [] &amp;&amp; (List.tl (List.tl a)) \&lt;\&gt; []\lthen\l  ((List.hd (List.tl (List.tl a)) \&lt;==\&gt; List.hd (List.tl (List.tl b))) \&lt;==\&gt;\l   (not (List.hd (List.tl a)) \&lt;==\&gt; List.hd (List.tl b))\l   &amp;&amp; ((not (List.hd a) \&lt;==\&gt; List.hd b) &amp;&amp; false \|\| List.hd a &amp;&amp; List.hd b)\l   \|\| List.hd (List.tl a) &amp;&amp; List.hd (List.tl b))\l  ::\l  (ripple_carry_adder (List.tl (List.tl (List.tl a)))\l   (List.tl (List.tl (List.tl b)))\l   ((not (List.hd (List.tl (List.tl a))) \&lt;==\&gt; List.hd (List.tl (List.tl b)))\l    &amp;&amp; ((not (List.hd (List.tl a)) \&lt;==\&gt; List.hd (List.tl b))\l        &amp;&amp; ((not (List.hd a) \&lt;==\&gt; List.hd b) &amp;&amp; false\l            \|\| List.hd a &amp;&amp; List.hd b)\l        \|\| List.hd (List.tl a) &amp;&amp; List.hd (List.tl b))\l    \|\| List.hd (List.tl (List.tl a)) &amp;&amp; List.hd (List.tl (List.tl b))))\lelse\lif (not (List.hd (List.tl a)) \&lt;==\&gt; List.hd (List.tl b))\l   &amp;&amp; ((not (List.hd a) \&lt;==\&gt; List.hd b) &amp;&amp; false \|\| List.hd a &amp;&amp; List.hd b)\l   \|\| List.hd (List.tl a) &amp;&amp; List.hd (List.tl b)\lthen\l  ((not (List.hd (List.tl a)) \&lt;==\&gt; List.hd (List.tl b))\l   &amp;&amp; ((not (List.hd a) \&lt;==\&gt; List.hd b) &amp;&amp; false \|\| List.hd a &amp;&amp; List.hd b)\l   \|\| List.hd (List.tl a) &amp;&amp; List.hd (List.tl b))\l  :: []\lelse []&quot;,shape=box,style=filled,color=&quot;grey&quot;,fontname=&quot;courier&quot;,fontsize=14];
expr_365 -&gt; call_361 [label=&quot;calls&quot;];
}
</textarea><button class="btn btn-primary">Load graph</button><div class="imandra-graphviz-loading display-none">Loading..</div><div class="imandra-graphviz-target"></div><script>
require(['nbextensions/nbimandra/graphviz'], function (graphviz) {
  var target = '#graphviz-b7720157-ab8f-4bec-9261-796dbb2e159a';
  graphviz.hydrate(target);
});
</script></div></div><div class="tab-pane"><div class="imandra-proof-top"><div class="imandra-fold panel panel-default" id="fold-8bce11f8-48ea-443d-b92c-38df0b7ed443"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>proof attempt</span></div></div><div class="panel-body collapse"><div class="imandra-proof"><div class="imandra-alternatives" id="alt-ebbc6b44-c73c-4ee5-a89a-c84717f70004"><ul class="nav nav-tabs"><li class="active" data-toggle="tab"><a>summary</a></li><li class="" data-toggle="tab"><a>full</a></li><li class="" data-toggle="tab"><a>graph</a></li></ul><div class="tab-content"><div class="tab-pane active"><div class="imandra-table" id="table-5ed6598c-d269-4e60-b247-ebfe5c5d56ee"><table><tr><td><b>ground_instances</b></td><td>4</td></tr><tr><td><b>definitions</b></td><td>12</td></tr><tr><td><b>inductions</b></td><td>0</td></tr><tr><td><b>search_time</b></td><td><pre>0.024s</pre></td></tr><tr><td><b>details</b></td><td><div class="imandra-fold panel panel-default" id="fold-8910c26b-0604-4773-9ab1-14d12fa2ffd3"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>Expand</span></div></div><div class="panel-body collapse"><div class="imandra-table" id="table-155fb1d6-279b-47df-8ac6-03d671677f7d"><table><tr><td><b>smt_stats</b></td><td><div class="imandra-table" id="table-6592adb6-fef2-41c6-83dd-67e6f24fa6a0"><table><tr><td><b>num checks</b></td><td>9</td></tr><tr><td><b>rlimit count</b></td><td>3499</td></tr><tr><td><b>mk clause</b></td><td>200</td></tr><tr><td><b>datatype occurs check</b></td><td>333</td></tr><tr><td><b>mk bool var</b></td><td>189</td></tr><tr><td><b>datatype splits</b></td><td>12</td></tr><tr><td><b>decisions</b></td><td>62</td></tr><tr><td><b>propagations</b></td><td>216</td></tr><tr><td><b>conflicts</b></td><td>19</td></tr><tr><td><b>datatype accessor ax</b></td><td>27</td></tr><tr><td><b>minimized lits</b></td><td>1</td></tr><tr><td><b>datatype constructor ax</b></td><td>30</td></tr><tr><td><b>num allocs</b></td><td>1433167061</td></tr><tr><td><b>final checks</b></td><td>12</td></tr><tr><td><b>added eqs</b></td><td>296</td></tr><tr><td><b>del clause</b></td><td>46</td></tr><tr><td><b>memory</b></td><td>6.860000</td></tr><tr><td><b>max memory</b></td><td>22.720000</td></tr></table></div></td></tr></table></div></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-8910c26b-0604-4773-9ab1-14d12fa2ffd3';
  fold.hydrate(target);
});
</script></div></td></tr></table></div></div><div class="tab-pane"><div class="imandra-fold panel panel-default" id="fold-527e52c4-6e90-4f72-b30b-7937c0dfd097"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>Expand</span></div></div><div class="panel-body collapse"><ul><li><pre>start[0.024s]
  ripple_carry_adder :var_0: :var_1: false =
  false :: (false :: (false :: (true :: …)))</pre></li><li><div>unroll<div class="imandra-table" id="table-cd7108f8-3bd9-48e9-9562-523ecd4b29a6"><table><tr><td><b>expr</b></td><td><pre>(ripple_carry_adder_2262 a_2301 b_2302 false)</pre></td></tr><tr><td><b>expansions</b></td><td><ul><li><pre>xor</pre></li><li><pre>xoradder_sum</pre></li><li><pre>xoradder_sumadder_carry_out</pre></li></ul></td></tr></table></div></div></li><li><div>unroll<div class="imandra-table" id="table-46e4762f-9961-400c-94fe-1c053cad17a5"><table><tr><td><b>expr</b></td><td><pre>(let ((a!1 (and (= (not (|\|get.::.0_2307\|| a_2301))
                   (|\|get.::.0_2307\|| b_2302…</pre></td></tr><tr><td><b>expansions</b></td><td><ul><li><pre>xor</pre></li><li><pre>xoradder_sum</pre></li><li><pre>xoradder_sumadder_carry_out</pre></li></ul></td></tr></table></div></div></li><li><div>unroll<div class="imandra-table" id="table-c2110fdf-6d81-4a0a-ad4d-d3dd3c3dbeab"><table><tr><td><b>expr</b></td><td><pre>(let ((a!1 (= (not (|\|get.::.0_2307\|| (|\|get.::.1_2308\|| a_2301)))
              (|\|get.::.0_23…</pre></td></tr><tr><td><b>expansions</b></td><td><ul><li><pre>xor</pre></li><li><pre>xoradder_sum</pre></li><li><pre>xoradder_sumadder_carry_out</pre></li></ul></td></tr></table></div></div></li><li><div>unroll<div class="imandra-table" id="table-27bda8a0-e2f2-47cb-a198-94c8d60f842d"><table><tr><td><b>expr</b></td><td><pre>(let ((a!1 (not (|\|get.::.0_2307\||
                  (|\|get.::.1_2308\|| (|\|get.::.1_2308\|| a_2…</pre></td></tr><tr><td><b>expansions</b></td><td><ul><li><pre>xor</pre></li><li><pre>xoradder_sum</pre></li><li><pre>xoradder_sumadder_carry_out</pre></li></ul></td></tr></table></div></div></li><li>Sat (Some  let a = [true; true; false]
 let b = [true; false; true]
)</li></ul></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-527e52c4-6e90-4f72-b30b-7937c0dfd097';
  fold.hydrate(target);
});
</script></div></div><div class="tab-pane"><div class="imandra-graphviz" id="graphviz-31f002a0-81e9-4171-a034-e3c1021a0af7"><textarea style="display: none">digraph &quot;proof&quot; {
p_258 [label=&quot;Start (ripple_carry_adder :var_0: :var_1: false =\l       false :: (false :: (false :: (true :: …))) :time 0.024s)&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_258 -&gt; p_257 [label=&quot;&quot;];
p_257 [label=&quot;Unroll ([ripple_carry_adder a b false], [[xor; adder_sum; adder_carry_out]])&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_257 -&gt; p_256 [label=&quot;&quot;];
p_256 [label=&quot;Unroll ([ripple_carry_adder (List.tl a) (List.tl b)\l         ((not (List.hd a) \&lt;==\&gt; List.hd b) &amp;&amp; false \|\| List.hd a &amp;&amp; List.hd b)],\l        [[xor; adder_sum; adder_carry_out]])&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_256 -&gt; p_255 [label=&quot;&quot;];
p_255 [label=&quot;Unroll ([ripple_carry_adder (List.tl (List.tl a)) (List.tl (List.tl b))\l         ((not (List.hd (List.tl a)) \&lt;==\&gt; List.hd (List.tl b))\l          &amp;&amp; ((not (List.hd a) \&lt;==\&gt; List.hd b) &amp;&amp; false\l              \|\| List.hd a &amp;&amp; List.hd b)\l          \|\| List.hd (List.tl a) &amp;&amp; List.hd (List.tl b))],\l        [[xor; adder_sum; adder_carry_out]])&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_255 -&gt; p_254 [label=&quot;&quot;];
p_254 [label=&quot;Unroll ([ripple_carry_adder (List.tl (List.tl (List.tl a)))\l         (List.tl (List.tl (List.tl b)))\l         ((not (List.hd (List.tl (List.tl a))) \&lt;==\&gt;\l           List.hd (List.tl (List.tl b)))\l          &amp;&amp; ((not (List.hd (List.tl a)) \&lt;==\&gt; List.hd (List.tl b))\l              &amp;&amp; ((not (List.hd a) \&lt;==\&gt; List.hd b) &amp;&amp; false\l                  \|\| List.hd a &amp;&amp; List.hd b)\l              \|\| List.hd (List.tl a) &amp;&amp; List.hd (List.tl b))\l          \|\| List.hd (List.tl (List.tl a)) &amp;&amp; List.hd (List.tl (List.tl b)))],\l        [[xor; adder_sum; adder_carry_out]])&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_254 -&gt; p_253 [label=&quot;&quot;];
p_253 [label=&quot;Sat (Some  let a = [true; true; false]\l let b = [true; false; true]\l)&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
}
</textarea><button class="btn btn-primary">Load graph</button><div class="imandra-graphviz-loading display-none">Loading..</div><div class="imandra-graphviz-target"></div><script>
require(['nbextensions/nbimandra/graphviz'], function (graphviz) {
  var target = '#graphviz-31f002a0-81e9-4171-a034-e3c1021a0af7';
  graphviz.hydrate(target);
});
</script></div></div></div><script>
require(['nbextensions/nbimandra/alternatives'], function (alternatives) {
  var target = '#alt-ebbc6b44-c73c-4ee5-a89a-c84717f70004';
  alternatives.hydrate(target);
});
</script></div></div></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-8bce11f8-48ea-443d-b92c-38df0b7ed443';
  fold.hydrate(target);
});
</script></div></div></div></div><script>
require(['nbextensions/nbimandra/alternatives'], function (alternatives) {
  var target = '#alt-5ca8683d-780c-4876-92ed-edb392f437a1';
  alternatives.hydrate(target);
});
</script></div></div></div>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="Relating-bit-sequences-to-natural-numbers">Relating bit sequences to natural numbers<a class="anchor-link" href="#Relating-bit-sequences-to-natural-numbers">&#182;</a></h1><p>Let's now define some functions to relate our bit sequences to natural numbers. These will be useful both in our computations and in our expression of our correctness criteria for the circut.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="try-this-container">
  <a href="https://try.imandra.ai/launch/?next=/h/user-redirect/notebooks/Verifying%20a%20Ripple%20Carry%20Adder.ipynb%23try-cell-18" target="_blank">
    <div class="try-this">Try this!</div>
  </a>
</div>
<div class="input">
<div class="prompt input_prompt">In&nbsp;[10]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ocaml"><pre><span></span><span class="k">let</span> <span class="n">int_of_bit</span> <span class="o">(</span><span class="n">a</span> <span class="o">:</span> <span class="kt">bool</span><span class="o">)</span> <span class="o">:</span> <span class="nn">Z</span><span class="p">.</span><span class="n">t</span> <span class="o">=</span>
 <span class="k">if</span> <span class="n">a</span> <span class="k">then</span> <span class="mi">1</span> <span class="k">else</span> <span class="mi">0</span>

<span class="k">let</span> <span class="k">rec</span> <span class="n">int_of_bits</span> <span class="o">(</span><span class="n">a</span> <span class="o">:</span> <span class="kt">bool</span> <span class="kt">list</span><span class="o">)</span> <span class="o">:</span> <span class="nn">Z</span><span class="p">.</span><span class="n">t</span> <span class="o">=</span>
  <span class="k">match</span> <span class="n">a</span> <span class="k">with</span>
   <span class="o">|</span> <span class="bp">[]</span> <span class="o">-&gt;</span> <span class="mi">0</span>
   <span class="o">|</span> <span class="n">a</span> <span class="o">::</span> <span class="n">a&#39;</span> <span class="o">-&gt;</span> <span class="n">int_of_bit</span> <span class="n">a</span> <span class="o">+</span> <span class="mi">2</span> <span class="o">*</span> <span class="o">(</span><span class="n">int_of_bits</span> <span class="n">a&#39;</span><span class="o">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt output_prompt">Out[10]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>val int_of_bit : bool -&gt; Z.t = &lt;fun&gt;
val int_of_bits : bool list -&gt; Z.t = &lt;fun&gt;
</pre>
</div>

</div>

<div class="output_area">

<div class="prompt"></div>



<div class="output_html rendered_html output_subarea ">
<div><div class="imandra-fold panel panel-default" id="fold-f39934c9-e627-4d6a-b3d2-3e800b9564ec"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>termination proof</span></div></div><div class="panel-body collapse"><div><h3>Termination proof</h3><p></p><div class="imandra-fold panel panel-default" id="fold-70aa41d3-0303-4913-a3c4-f5e02cf8daec"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>call `int_of_bits (List.tl a)` from `int_of_bits a`</span></div></div><div class="panel-body collapse"><div class="imandra-table" id="table-bf52d450-0b23-4f88-be03-314535bf7eb1"><table><tr><td><b>original</b></td><td>int_of_bits a</td></tr><tr><td><b>sub</b></td><td>int_of_bits (List.tl a)</td></tr><tr><td><b>original ordinal</b></td><td>Ordinal.Int (Ordinal.count a)</td></tr><tr><td><b>sub ordinal</b></td><td>Ordinal.Int (Ordinal.count (List.tl a))</td></tr><tr><td><b>path</b></td><td>[not (a = [])]</td></tr><tr><td><b>proof</b></td><td><div class="imandra-fold panel panel-default" id="fold-1382d515-7391-43f5-9ef9-5b4fa459b5f8"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>detailed proof</span></div></div><div class="panel-body collapse"><div class="imandra-proof"><div class="imandra-alternatives" id="alt-50188799-2249-42a8-bfed-3cd03dfe09b5"><ul class="nav nav-tabs"><li class="active" data-toggle="tab"><a>summary</a></li><li class="" data-toggle="tab"><a>full</a></li></ul><div class="tab-content"><div class="tab-pane active"><div class="imandra-table" id="table-ca1e46a6-2947-4be5-8810-063ac830b1d0"><table><tr><td><b>ground_instances</b></td><td>3</td></tr><tr><td><b>definitions</b></td><td>0</td></tr><tr><td><b>inductions</b></td><td>0</td></tr><tr><td><b>search_time</b></td><td><pre>0.019s</pre></td></tr><tr><td><b>details</b></td><td><div class="imandra-fold panel panel-default" id="fold-cb4229f8-e0f2-464e-99e6-32ddbc834009"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>Expand</span></div></div><div class="panel-body collapse"><div class="imandra-table" id="table-c73bad8d-ec81-4c2f-b1db-6cefee77eb6d"><table><tr><td><b>smt_stats</b></td><td><div class="imandra-table" id="table-17f61543-cb4e-4882-a0b8-932f67963c06"><table><tr><td><b>num checks</b></td><td>7</td></tr><tr><td><b>arith assert lower</b></td><td>8</td></tr><tr><td><b>arith pivots</b></td><td>6</td></tr><tr><td><b>rlimit count</b></td><td>5474</td></tr><tr><td><b>mk clause</b></td><td>11</td></tr><tr><td><b>datatype occurs check</b></td><td>67</td></tr><tr><td><b>mk bool var</b></td><td>64</td></tr><tr><td><b>arith assert upper</b></td><td>4</td></tr><tr><td><b>datatype splits</b></td><td>6</td></tr><tr><td><b>decisions</b></td><td>17</td></tr><tr><td><b>arith add rows</b></td><td>13</td></tr><tr><td><b>propagations</b></td><td>10</td></tr><tr><td><b>conflicts</b></td><td>8</td></tr><tr><td><b>arith fixed eqs</b></td><td>4</td></tr><tr><td><b>datatype accessor ax</b></td><td>5</td></tr><tr><td><b>arith conflicts</b></td><td>1</td></tr><tr><td><b>datatype constructor ax</b></td><td>9</td></tr><tr><td><b>num allocs</b></td><td>1460100498</td></tr><tr><td><b>final checks</b></td><td>9</td></tr><tr><td><b>added eqs</b></td><td>52</td></tr><tr><td><b>del clause</b></td><td>5</td></tr><tr><td><b>arith eq adapter</b></td><td>4</td></tr><tr><td><b>memory</b></td><td>9.480000</td></tr><tr><td><b>max memory</b></td><td>22.720000</td></tr></table></div></td></tr></table></div></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-cb4229f8-e0f2-464e-99e6-32ddbc834009';
  fold.hydrate(target);
});
</script></div></td></tr></table></div></div><div class="tab-pane"><div class="imandra-fold panel panel-default" id="fold-3498918e-09d5-4fec-9e90-65c9b8b877c7"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>Expand</span></div></div><div class="panel-body collapse"><ul><li><pre>start[0.019s]
  not (a = []) &amp;&amp; Ordinal.count a &gt;= 0 &amp;&amp; Ordinal.count (List.tl a) &gt;= 0
  ==&gt; List.tl a = []
      || Ordinal.Int (Ordinal.count (List.tl a)) Ordinal.&lt;&lt;
         Ordinal.Int (Ordinal.count a)</pre></li><li><div><h5>simplify</h5><div class="imandra-table" id="table-a255b6df-7a1a-424b-b79d-20fc6170cb61"><table><tr><td><b>into</b></td><td><pre>(not
 ((not (a = []) &amp;&amp; Ordinal.count a &gt;= 0) &amp;&amp; Ordinal.count (List.tl a) &gt;= 0)
 || List.tl a = [])
|| Ordinal.Int (Ordinal.count (List.tl a)) Ordinal.&lt;&lt;
   Ordinal.Int (Ordinal.count a)</pre></td></tr><tr><td><b>expansions</b></td><td><pre>[]</pre></td></tr><tr><td><b>rewrite_steps</b></td><td><ul></ul></td></tr><tr><td><b>forward_chaining</b></td><td><ul></ul></td></tr></table></div></div></li><li><div>unroll<div class="imandra-table" id="table-01e11550-84f3-453d-8357-1ce40fce9bf4"><table><tr><td><b>expr</b></td><td><pre>(|\|Ordinal.&lt;&lt;_132\||
  (|\|Ordinal.Int_123\||
    (|\|count_`bool list`_2335\|| (|\|get.::.1_2308\|…</pre></td></tr><tr><td><b>expansions</b></td><td><ul></ul></td></tr></table></div></div></li><li><div>unroll<div class="imandra-table" id="table-4bbcb489-9cfd-4045-8cfb-8b336c9ada03"><table><tr><td><b>expr</b></td><td><pre>(|\|count_`bool list`_2335\|| (|\|get.::.1_2308\|| a_2326))</pre></td></tr><tr><td><b>expansions</b></td><td><ul></ul></td></tr></table></div></div></li><li><div>unroll<div class="imandra-table" id="table-3ba05b9e-22d5-4d00-9fbf-c0c8e6015edb"><table><tr><td><b>expr</b></td><td><pre>(|\|count_`bool list`_2335\|| a_2326)</pre></td></tr><tr><td><b>expansions</b></td><td><ul></ul></td></tr></table></div></div></li><li><div><h5>unsat</h5><pre>(let ((a!1 (ite (&gt;= (|\|count_`bool list`_2335\|| (|\|get.::.1_2308\|| a_2326))
                    …</pre></div></li></ul></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-3498918e-09d5-4fec-9e90-65c9b8b877c7';
  fold.hydrate(target);
});
</script></div></div></div><script>
require(['nbextensions/nbimandra/alternatives'], function (alternatives) {
  var target = '#alt-50188799-2249-42a8-bfed-3cd03dfe09b5';
  alternatives.hydrate(target);
});
</script></div></div></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-1382d515-7391-43f5-9ef9-5b4fa459b5f8';
  fold.hydrate(target);
});
</script></div></td></tr></table></div></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-70aa41d3-0303-4913-a3c4-f5e02cf8daec';
  fold.hydrate(target);
});
</script></div><p></p></div></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-f39934c9-e627-4d6a-b3d2-3e800b9564ec';
  fold.hydrate(target);
});
</script></div></div>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Let's experiment with these a bit, to ensure we understand their endianness (among other things).</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="try-this-container">
  <a href="https://try.imandra.ai/launch/?next=/h/user-redirect/notebooks/Verifying%20a%20Ripple%20Carry%20Adder.ipynb%23try-cell-20" target="_blank">
    <div class="try-this">Try this!</div>
  </a>
</div>
<div class="input">
<div class="prompt input_prompt">In&nbsp;[11]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ocaml"><pre><span></span><span class="n">int_of_bits</span> <span class="o">[</span><span class="bp">true</span><span class="o">;</span> <span class="bp">false</span><span class="o">]</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt output_prompt">Out[11]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>- : Z.t = 1
</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="try-this-container">
  <a href="https://try.imandra.ai/launch/?next=/h/user-redirect/notebooks/Verifying%20a%20Ripple%20Carry%20Adder.ipynb%23try-cell-21" target="_blank">
    <div class="try-this">Try this!</div>
  </a>
</div>
<div class="input">
<div class="prompt input_prompt">In&nbsp;[12]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ocaml"><pre><span></span><span class="n">int_of_bits</span> <span class="o">[</span><span class="bp">false</span><span class="o">;</span> <span class="bp">true</span><span class="o">]</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt output_prompt">Out[12]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>- : Z.t = 2
</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="try-this-container">
  <a href="https://try.imandra.ai/launch/?next=/h/user-redirect/notebooks/Verifying%20a%20Ripple%20Carry%20Adder.ipynb%23try-cell-22" target="_blank">
    <div class="try-this">Try this!</div>
  </a>
</div>
<div class="input">
<div class="prompt input_prompt">In&nbsp;[13]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ocaml"><pre><span></span><span class="n">int_of_bits</span> <span class="o">[</span><span class="bp">true</span><span class="o">;</span> <span class="bp">true</span><span class="o">;</span> <span class="bp">true</span><span class="o">;</span> <span class="bp">true</span><span class="o">;]</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt output_prompt">Out[13]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>- : Z.t = 15
</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>We can of course use Imandra to obtain some interesting examples by querying for interesting inputs to our functions via <code>instance</code>:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="try-this-container">
  <a href="https://try.imandra.ai/launch/?next=/h/user-redirect/notebooks/Verifying%20a%20Ripple%20Carry%20Adder.ipynb%23try-cell-24" target="_blank">
    <div class="try-this">Try this!</div>
  </a>
</div>
<div class="input">
<div class="prompt input_prompt">In&nbsp;[14]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ocaml"><pre><span></span><span class="n">instance</span> <span class="o">(</span><span class="k">fun</span> <span class="n">a</span> <span class="o">-&gt;</span> <span class="n">int_of_bits</span> <span class="n">a</span> <span class="o">=</span> <span class="mi">256</span><span class="o">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt output_prompt">Out[14]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>- : bool list -&gt; bool = &lt;fun&gt;
module CX : sig val a : bool list end
</pre>
</div>

</div>

<div class="output_area">

<div class="prompt"></div>



<div class="output_html rendered_html output_subarea ">
<div><pre>Instance (after 10 steps, 0.048s):
 let a = [false; false; false; false; false; false; false; false; true]
</pre></div>

</div>

</div>

<div class="output_area">

<div class="prompt"></div>



<div class="output_html rendered_html output_subarea ">
<div><div class="imandra-vr imandra-vr-proved"><i class="fa fa-check-circle"></i><span>Instance</span></div><div><div class="imandra-alternatives" id="alt-dd73aab2-21e7-4b63-b6d9-6ed66bad809c"><ul class="nav nav-tabs"><li class="active" data-toggle="tab"><a>call graph</a></li><li class="" data-toggle="tab"><a>proof-attempt</a></li></ul><div class="tab-content"><div class="tab-pane active"><div class="imandra-graphviz" id="graphviz-0f2042c9-b768-4fa3-ba39-5056e16ec9b5"><textarea style="display: none">digraph &quot;call graph&quot; {
goal [label=&quot;int_of_bits a = 256&quot;,shape=box,style=filled,color=&quot;cyan&quot;,fontname=&quot;courier&quot;,fontsize=14];
call_600 [label=&quot;int_of_bits (List.tl (List.tl (List.tl (List.tl a))))&quot;,shape=box,style=filled,color=&quot;green&quot;,fontname=&quot;courier&quot;,fontsize=14];
call_600 -&gt; expr_704 [label=&quot;=&quot;];
expr_704 [label=&quot;if List.tl (List.tl (List.tl (List.tl a))) = [] then 0\lelse\l  (if List.hd (List.tl (List.tl (List.tl (List.tl a)))) then 1 else 0)\l  + 2 * int_of_bits (List.tl (List.tl (List.tl (List.tl (List.tl a)))))&quot;,shape=box,style=filled,color=&quot;grey&quot;,fontname=&quot;courier&quot;,fontsize=14];
expr_603 -&gt; call_600 [label=&quot;calls&quot;];
call_176 [label=&quot;int_of_bits (List.tl (List.tl a))&quot;,shape=box,style=filled,color=&quot;green&quot;,fontname=&quot;courier&quot;,fontsize=14];
call_176 -&gt; expr_318 [label=&quot;=&quot;];
expr_318 [label=&quot;if List.tl (List.tl a) = [] then 0\lelse\l  (if List.hd (List.tl (List.tl a)) then 1 else 0)\l  + 2 * int_of_bits (List.tl (List.tl (List.tl a)))&quot;,shape=box,style=filled,color=&quot;grey&quot;,fontname=&quot;courier&quot;,fontsize=14];
expr_179 -&gt; call_176 [label=&quot;calls&quot;];
call_315 [label=&quot;int_of_bits (List.tl (List.tl (List.tl a)))&quot;,shape=box,style=filled,color=&quot;green&quot;,fontname=&quot;courier&quot;,fontsize=14];
call_315 -&gt; expr_603 [label=&quot;=&quot;];
expr_603 [label=&quot;if List.tl (List.tl (List.tl a)) = [] then 0\lelse\l  (if List.hd (List.tl (List.tl (List.tl a))) then 1 else 0)\l  + 2 * int_of_bits (List.tl (List.tl (List.tl (List.tl a))))&quot;,shape=box,style=filled,color=&quot;grey&quot;,fontname=&quot;courier&quot;,fontsize=14];
expr_318 -&gt; call_315 [label=&quot;calls&quot;];
call_1461 [label=&quot;int_of_bits\l(List.tl\l (List.tl\l  (List.tl (List.tl (List.tl (List.tl (List.tl (List.tl (List.tl a)))))))))&quot;,shape=box,style=filled,color=&quot;green&quot;,fontname=&quot;courier&quot;,fontsize=14];
call_1461 -&gt; expr_1709 [label=&quot;=&quot;];
expr_1709 [label=&quot;if List.tl\l   (List.tl\l    (List.tl (List.tl (List.tl (List.tl (List.tl (List.tl (List.tl a))))))))\l   = []\lthen 0\lelse\l  (if List.hd\l      (List.tl\l       (List.tl\l        (List.tl\l         (List.tl (List.tl (List.tl (List.tl (List.tl (List.tl a)))))))))\l   then 1 else 0)\l  + 2\l    * int_of_bits\l      (List.tl\l       (List.tl\l        (List.tl\l         (List.tl\l          (List.tl (List.tl (List.tl (List.tl (List.tl (List.tl a))))))))))&quot;,shape=box,style=filled,color=&quot;grey&quot;,fontname=&quot;courier&quot;,fontsize=14];
expr_1464 -&gt; call_1461 [label=&quot;calls&quot;];
call_701 [label=&quot;int_of_bits (List.tl (List.tl (List.tl (List.tl (List.tl a)))))&quot;,shape=box,style=filled,color=&quot;green&quot;,fontname=&quot;courier&quot;,fontsize=14];
call_701 -&gt; expr_913 [label=&quot;=&quot;];
expr_913 [label=&quot;if List.tl (List.tl (List.tl (List.tl (List.tl a)))) = [] then 0\lelse\l  (if List.hd (List.tl (List.tl (List.tl (List.tl (List.tl a))))) then 1\l   else 0)\l  + 2\l    * int_of_bits\l      (List.tl (List.tl (List.tl (List.tl (List.tl (List.tl a))))))&quot;,shape=box,style=filled,color=&quot;grey&quot;,fontname=&quot;courier&quot;,fontsize=14];
expr_704 -&gt; call_701 [label=&quot;calls&quot;];
call_1323 [label=&quot;int_of_bits\l(List.tl\l (List.tl (List.tl (List.tl (List.tl (List.tl (List.tl (List.tl a))))))))&quot;,shape=box,style=filled,color=&quot;green&quot;,fontname=&quot;courier&quot;,fontsize=14];
call_1323 -&gt; expr_1464 [label=&quot;=&quot;];
expr_1464 [label=&quot;if List.tl\l   (List.tl (List.tl (List.tl (List.tl (List.tl (List.tl (List.tl a))))))) =\l   []\lthen 0\lelse\l  (if List.hd\l      (List.tl\l       (List.tl (List.tl (List.tl (List.tl (List.tl (List.tl (List.tl a))))))))\l   then 1 else 0)\l  + 2\l    * int_of_bits\l      (List.tl\l       (List.tl\l        (List.tl\l         (List.tl (List.tl (List.tl (List.tl (List.tl (List.tl a)))))))))&quot;,shape=box,style=filled,color=&quot;grey&quot;,fontname=&quot;courier&quot;,fontsize=14];
expr_1326 -&gt; call_1323 [label=&quot;calls&quot;];
call_62 [label=&quot;int_of_bits (List.tl a)&quot;,shape=box,style=filled,color=&quot;green&quot;,fontname=&quot;courier&quot;,fontsize=14];
call_62 -&gt; expr_179 [label=&quot;=&quot;];
expr_179 [label=&quot;if List.tl a = [] then 0\lelse\l  (if List.hd (List.tl a) then 1 else 0)\l  + 2 * int_of_bits (List.tl (List.tl a))&quot;,shape=box,style=filled,color=&quot;grey&quot;,fontname=&quot;courier&quot;,fontsize=14];
expr_65 -&gt; call_62 [label=&quot;calls&quot;];
call_910 [label=&quot;int_of_bits (List.tl (List.tl (List.tl (List.tl (List.tl (List.tl a))))))&quot;,shape=box,style=filled,color=&quot;green&quot;,fontname=&quot;courier&quot;,fontsize=14];
call_910 -&gt; expr_1060 [label=&quot;=&quot;];
expr_1060 [label=&quot;if List.tl (List.tl (List.tl (List.tl (List.tl (List.tl a))))) = [] then 0\lelse\l  (if List.hd (List.tl (List.tl (List.tl (List.tl (List.tl (List.tl a))))))\l   then 1 else 0)\l  + 2\l    * int_of_bits\l      (List.tl (List.tl (List.tl (List.tl (List.tl (List.tl (List.tl a)))))))&quot;,shape=box,style=filled,color=&quot;grey&quot;,fontname=&quot;courier&quot;,fontsize=14];
expr_913 -&gt; call_910 [label=&quot;calls&quot;];
call_10 [label=&quot;int_of_bits a&quot;,shape=box,style=filled,color=&quot;green&quot;,fontname=&quot;courier&quot;,fontsize=14];
call_10 -&gt; expr_65 [label=&quot;=&quot;];
expr_65 [label=&quot;if a = [] then 0\lelse (if List.hd a then 1 else 0) + 2 * int_of_bits (List.tl a)&quot;,shape=box,style=filled,color=&quot;grey&quot;,fontname=&quot;courier&quot;,fontsize=14];
goal -&gt; call_10 [label=&quot;calls&quot;];
call_1706 [label=&quot;int_of_bits\l(List.tl\l (List.tl\l  (List.tl\l   (List.tl (List.tl (List.tl (List.tl (List.tl (List.tl (List.tl a))))))))))&quot;,shape=box,style=filled,color=&quot;yellow&quot;,fontname=&quot;courier&quot;,fontsize=14];
expr_1709 -&gt; call_1706 [label=&quot;calls&quot;];
call_1057 [label=&quot;int_of_bits\l(List.tl (List.tl (List.tl (List.tl (List.tl (List.tl (List.tl a)))))))&quot;,shape=box,style=filled,color=&quot;green&quot;,fontname=&quot;courier&quot;,fontsize=14];
call_1057 -&gt; expr_1326 [label=&quot;=&quot;];
expr_1326 [label=&quot;if List.tl (List.tl (List.tl (List.tl (List.tl (List.tl (List.tl a)))))) = []\lthen 0\lelse\l  (if List.hd\l      (List.tl (List.tl (List.tl (List.tl (List.tl (List.tl (List.tl a)))))))\l   then 1 else 0)\l  + 2\l    * int_of_bits\l      (List.tl\l       (List.tl (List.tl (List.tl (List.tl (List.tl (List.tl (List.tl a))))))))&quot;,shape=box,style=filled,color=&quot;grey&quot;,fontname=&quot;courier&quot;,fontsize=14];
expr_1060 -&gt; call_1057 [label=&quot;calls&quot;];
}
</textarea><button class="btn btn-primary">Load graph</button><div class="imandra-graphviz-loading display-none">Loading..</div><div class="imandra-graphviz-target"></div><script>
require(['nbextensions/nbimandra/graphviz'], function (graphviz) {
  var target = '#graphviz-0f2042c9-b768-4fa3-ba39-5056e16ec9b5';
  graphviz.hydrate(target);
});
</script></div></div><div class="tab-pane"><div class="imandra-proof-top"><div class="imandra-fold panel panel-default" id="fold-3e862939-8809-4580-bb06-00312a95835b"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>proof attempt</span></div></div><div class="panel-body collapse"><div class="imandra-proof"><div class="imandra-alternatives" id="alt-adebf006-1985-4cca-b251-bdafa45dbb84"><ul class="nav nav-tabs"><li class="active" data-toggle="tab"><a>summary</a></li><li class="" data-toggle="tab"><a>full</a></li><li class="" data-toggle="tab"><a>graph</a></li></ul><div class="tab-content"><div class="tab-pane active"><div class="imandra-table" id="table-5890acae-892b-49ce-a022-d2a795a8716e"><table><tr><td><b>ground_instances</b></td><td>10</td></tr><tr><td><b>definitions</b></td><td>10</td></tr><tr><td><b>inductions</b></td><td>0</td></tr><tr><td><b>search_time</b></td><td><pre>0.049s</pre></td></tr><tr><td><b>details</b></td><td><div class="imandra-fold panel panel-default" id="fold-bc6e1e5f-2943-438c-ab69-cb611b9eed26"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>Expand</span></div></div><div class="panel-body collapse"><div class="imandra-table" id="table-25f36c83-bd54-4578-b658-21b42719b3e0"><table><tr><td><b>smt_stats</b></td><td><div class="imandra-table" id="table-3dd0d1e5-c829-4c4e-884f-8c6578498ef7"><table><tr><td><b>arith offset eqs</b></td><td>11</td></tr><tr><td><b>num checks</b></td><td>21</td></tr><tr><td><b>arith assert lower</b></td><td>185</td></tr><tr><td><b>arith pivots</b></td><td>50</td></tr><tr><td><b>rlimit count</b></td><td>8969</td></tr><tr><td><b>mk clause</b></td><td>375</td></tr><tr><td><b>datatype occurs check</b></td><td>690</td></tr><tr><td><b>mk bool var</b></td><td>752</td></tr><tr><td><b>arith gcd tests</b></td><td>9</td></tr><tr><td><b>arith assert upper</b></td><td>165</td></tr><tr><td><b>datatype splits</b></td><td>51</td></tr><tr><td><b>decisions</b></td><td>146</td></tr><tr><td><b>arith add rows</b></td><td>88</td></tr><tr><td><b>arith bound prop</b></td><td>10</td></tr><tr><td><b>propagations</b></td><td>473</td></tr><tr><td><b>conflicts</b></td><td>71</td></tr><tr><td><b>arith fixed eqs</b></td><td>44</td></tr><tr><td><b>datatype accessor ax</b></td><td>40</td></tr><tr><td><b>minimized lits</b></td><td>14</td></tr><tr><td><b>arith conflicts</b></td><td>11</td></tr><tr><td><b>arith assert diseq</b></td><td>79</td></tr><tr><td><b>datatype constructor ax</b></td><td>69</td></tr><tr><td><b>num allocs</b></td><td>1518886888</td></tr><tr><td><b>final checks</b></td><td>44</td></tr><tr><td><b>added eqs</b></td><td>792</td></tr><tr><td><b>del clause</b></td><td>320</td></tr><tr><td><b>arith eq adapter</b></td><td>194</td></tr><tr><td><b>memory</b></td><td>10.310000</td></tr><tr><td><b>max memory</b></td><td>22.720000</td></tr></table></div></td></tr></table></div></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-bc6e1e5f-2943-438c-ab69-cb611b9eed26';
  fold.hydrate(target);
});
</script></div></td></tr></table></div></div><div class="tab-pane"><div class="imandra-fold panel panel-default" id="fold-217284bb-f705-4e4c-95df-157fc47e1961"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>Expand</span></div></div><div class="panel-body collapse"><ul><li><pre>start[0.049s] int_of_bits :var_0: = 256</pre></li><li><div>unroll<div class="imandra-table" id="table-2ba09344-2498-4971-8e57-2f4fa657577b"><table><tr><td><b>expr</b></td><td><pre>(int_of_bits_2321 a_2338)</pre></td></tr><tr><td><b>expansions</b></td><td><pre>int_of_bit</pre></td></tr></table></div></div></li><li><div>unroll<div class="imandra-table" id="table-c8530ee0-5123-47f3-a20f-98eddd49b929"><table><tr><td><b>expr</b></td><td><pre>(int_of_bits_2321 (|\|get.::.1_2343\|| a_2338))</pre></td></tr><tr><td><b>expansions</b></td><td><pre>int_of_bit</pre></td></tr></table></div></div></li><li><div>unroll<div class="imandra-table" id="table-4364c948-a299-4277-9801-5a0b1a808dcf"><table><tr><td><b>expr</b></td><td><pre>(int_of_bits_2321 (|\|get.::.1_2343\|| (|\|get.::.1_2343\|| a_2338)))</pre></td></tr><tr><td><b>expansions</b></td><td><pre>int_of_bit</pre></td></tr></table></div></div></li><li><div>unroll<div class="imandra-table" id="table-fa6ce82b-1d3e-4349-91f5-272150540e53"><table><tr><td><b>expr</b></td><td><pre>(int_of_bits_2321 (|\|get.::.1_2343\||
                    (|\|get.::.1_2343\|| (|\|get.::.1_2343\||…</pre></td></tr><tr><td><b>expansions</b></td><td><pre>int_of_bit</pre></td></tr></table></div></div></li><li><div>unroll<div class="imandra-table" id="table-bc00a336-4815-426c-93c3-7b200441824b"><table><tr><td><b>expr</b></td><td><pre>(let ((a!1 (|\|get.::.1_2343\||
             (|\|get.::.1_2343\||
               (|\|get.::.1_2343\|…</pre></td></tr><tr><td><b>expansions</b></td><td><pre>int_of_bit</pre></td></tr></table></div></div></li><li><div>unroll<div class="imandra-table" id="table-aef4ec54-fa8d-4458-89fe-057409ab0820"><table><tr><td><b>expr</b></td><td><pre>(let ((a!1 (|\|get.::.1_2343\||
             (|\|get.::.1_2343\||
               (|\|get.::.1_2343\|…</pre></td></tr><tr><td><b>expansions</b></td><td><pre>int_of_bit</pre></td></tr></table></div></div></li><li><div>unroll<div class="imandra-table" id="table-cfcfc381-c9d6-43dd-a58d-63e072cd41cd"><table><tr><td><b>expr</b></td><td><pre>(let ((a!1 (|\|get.::.1_2343\||
             (|\|get.::.1_2343\||
               (|\|get.::.1_2343\|…</pre></td></tr><tr><td><b>expansions</b></td><td><pre>int_of_bit</pre></td></tr></table></div></div></li><li><div>unroll<div class="imandra-table" id="table-774befb3-1c38-462a-8fa1-af5f88e17dd5"><table><tr><td><b>expr</b></td><td><pre>(let ((a!1 (|\|get.::.1_2343\||
             (|\|get.::.1_2343\||
               (|\|get.::.1_2343\|…</pre></td></tr><tr><td><b>expansions</b></td><td><pre>int_of_bit</pre></td></tr></table></div></div></li><li><div>unroll<div class="imandra-table" id="table-eb1cf9c4-211e-4bab-98fa-ba2b2973b2fa"><table><tr><td><b>expr</b></td><td><pre>(let ((a!1 (|\|get.::.1_2343\||
             (|\|get.::.1_2343\||
               (|\|get.::.1_2343\|…</pre></td></tr><tr><td><b>expansions</b></td><td><pre>int_of_bit</pre></td></tr></table></div></div></li><li><div>unroll<div class="imandra-table" id="table-de5fa39c-f613-4d09-8440-10f08ad085be"><table><tr><td><b>expr</b></td><td><pre>(let ((a!1 (|\|get.::.1_2343\||
             (|\|get.::.1_2343\||
               (|\|get.::.1_2343\|…</pre></td></tr><tr><td><b>expansions</b></td><td><pre>int_of_bit</pre></td></tr></table></div></div></li><li>Sat (Some  let a = [false; false; false; false; false; false; false; false; true]
)</li></ul></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-217284bb-f705-4e4c-95df-157fc47e1961';
  fold.hydrate(target);
});
</script></div></div><div class="tab-pane"><div class="imandra-graphviz" id="graphviz-34c57878-f8a8-437c-9727-2bcd87fa2665"><textarea style="display: none">digraph &quot;proof&quot; {
p_276 [label=&quot;Start (int_of_bits :var_0: = 256 :time 0.049s)&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_276 -&gt; p_275 [label=&quot;&quot;];
p_275 [label=&quot;Unroll ([int_of_bits a], [[int_of_bit]])&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_275 -&gt; p_274 [label=&quot;&quot;];
p_274 [label=&quot;Unroll ([int_of_bits (List.tl a)], [[int_of_bit]])&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_274 -&gt; p_273 [label=&quot;&quot;];
p_273 [label=&quot;Unroll ([int_of_bits (List.tl (List.tl a))], [[int_of_bit]])&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_273 -&gt; p_272 [label=&quot;&quot;];
p_272 [label=&quot;Unroll ([int_of_bits (List.tl (List.tl (List.tl a)))], [[int_of_bit]])&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_272 -&gt; p_271 [label=&quot;&quot;];
p_271 [label=&quot;Unroll ([int_of_bits (List.tl (List.tl (List.tl (List.tl a))))],\l        [[int_of_bit]])&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_271 -&gt; p_270 [label=&quot;&quot;];
p_270 [label=&quot;Unroll ([int_of_bits (List.tl (List.tl (List.tl (List.tl (List.tl a)))))],\l        [[int_of_bit]])&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_270 -&gt; p_269 [label=&quot;&quot;];
p_269 [label=&quot;Unroll ([int_of_bits\l         (List.tl (List.tl (List.tl (List.tl (List.tl (List.tl a))))))],\l        [[int_of_bit]])&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_269 -&gt; p_268 [label=&quot;&quot;];
p_268 [label=&quot;Unroll ([int_of_bits\l         (List.tl\l          (List.tl (List.tl (List.tl (List.tl (List.tl (List.tl a)))))))],\l        [[int_of_bit]])&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_268 -&gt; p_267 [label=&quot;&quot;];
p_267 [label=&quot;Unroll ([int_of_bits\l         (List.tl\l          (List.tl\l           (List.tl (List.tl (List.tl (List.tl (List.tl (List.tl a))))))))],\l        [[int_of_bit]])&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_267 -&gt; p_266 [label=&quot;&quot;];
p_266 [label=&quot;Unroll ([int_of_bits\l         (List.tl\l          (List.tl\l           (List.tl\l            (List.tl (List.tl (List.tl (List.tl (List.tl (List.tl a)))))))))],\l        [[int_of_bit]])&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_266 -&gt; p_265 [label=&quot;&quot;];
p_265 [label=&quot;Sat (Some  let a = [false; false; false; false; false; false; false; false; true]\l)&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
}
</textarea><button class="btn btn-primary">Load graph</button><div class="imandra-graphviz-loading display-none">Loading..</div><div class="imandra-graphviz-target"></div><script>
require(['nbextensions/nbimandra/graphviz'], function (graphviz) {
  var target = '#graphviz-34c57878-f8a8-437c-9727-2bcd87fa2665';
  graphviz.hydrate(target);
});
</script></div></div></div><script>
require(['nbextensions/nbimandra/alternatives'], function (alternatives) {
  var target = '#alt-adebf006-1985-4cca-b251-bdafa45dbb84';
  alternatives.hydrate(target);
});
</script></div></div></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-3e862939-8809-4580-bb06-00312a95835b';
  fold.hydrate(target);
});
</script></div></div></div></div><script>
require(['nbextensions/nbimandra/alternatives'], function (alternatives) {
  var target = '#alt-dd73aab2-21e7-4b63-b6d9-6ed66bad809c';
  alternatives.hydrate(target);
});
</script></div></div></div>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="try-this-container">
  <a href="https://try.imandra.ai/launch/?next=/h/user-redirect/notebooks/Verifying%20a%20Ripple%20Carry%20Adder.ipynb%23try-cell-25" target="_blank">
    <div class="try-this">Try this!</div>
  </a>
</div>
<div class="input">
<div class="prompt input_prompt">In&nbsp;[15]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ocaml"><pre><span></span><span class="n">int_of_bits</span> <span class="o">(</span><span class="n">ripple_carry_adder</span> <span class="nn">CX</span><span class="p">.</span><span class="n">a</span> <span class="nn">CX</span><span class="p">.</span><span class="n">a</span> <span class="bp">false</span><span class="o">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt output_prompt">Out[15]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>- : Z.t = 512
</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="Verifying-our-circuit:-The-adder-is-correct-for-all-possible-inputs">Verifying our circuit: The adder is correct for all possible inputs<a class="anchor-link" href="#Verifying-our-circuit:-The-adder-is-correct-for-all-possible-inputs">&#182;</a></h1><p>Let's now prove our main theorem, namely that <code>ripple_carry_adder</code> is correct.</p>
<p>We'll prove this theorem by induction following the recursive definition of <code>ripple_carry_adder</code>.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="try-this-container">
  <a href="https://try.imandra.ai/launch/?next=/h/user-redirect/notebooks/Verifying%20a%20Ripple%20Carry%20Adder.ipynb%23try-cell-27" target="_blank">
    <div class="try-this">Try this!</div>
  </a>
</div>
<div class="input">
<div class="prompt input_prompt">In&nbsp;[16]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ocaml"><pre><span></span><span class="n">theorem</span> <span class="n">full_ripple_carry_adder_correct</span> <span class="n">a</span> <span class="n">b</span> <span class="n">cin</span> <span class="o">=</span>
  <span class="nn">List</span><span class="p">.</span><span class="n">length</span> <span class="n">a</span> <span class="o">=</span> <span class="nn">List</span><span class="p">.</span><span class="n">length</span> <span class="n">b</span> <span class="o">==&gt;</span>
  <span class="n">int_of_bits</span> <span class="o">(</span><span class="n">ripple_carry_adder</span> <span class="n">a</span> <span class="n">b</span> <span class="n">cin</span><span class="o">)</span> <span class="o">=</span>
  <span class="n">int_of_bits</span> <span class="n">a</span> <span class="o">+</span> <span class="n">int_of_bits</span> <span class="n">b</span> <span class="o">+</span> <span class="n">int_of_bit</span> <span class="n">cin</span>
<span class="o">[@@</span><span class="n">induct</span> <span class="n">functional</span> <span class="n">ripple_carry_adder</span><span class="o">]</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt output_prompt">Out[16]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>val full_ripple_carry_adder_correct : bool list -&gt; bool list -&gt; bool -&gt; bool =
  &lt;fun&gt;
<span class="ansi-white-intense-fg ansi-bold">Goal</span>:

List.length a = List.length b
==&gt; int_of_bits (ripple_carry_adder a b cin) =
    (int_of_bits a + int_of_bits b) + int_of_bit cin.

1 nontautological subgoal.

<span class="ansi-white-intense-fg ansi-bold">Subgoal 1</span>:

 H0. List.length a = List.length b
|---------------------------------------------------------------------------
 int_of_bits (ripple_carry_adder a b cin) =
 (int_of_bits a + int_of_bits b) + (if cin then 1 else 0)

This simplifies, using the forward-chaining rule <span class="ansi-yellow-intense-fg ansi-bold">List.len_nonnegative</span> to the
following 2 subgoals:

<span class="ansi-white-intense-fg ansi-bold">Subgoal 1.2</span>:

 H0. cin
 H1. List.length a = List.length b
|---------------------------------------------------------------------------
 int_of_bits (ripple_carry_adder a b cin) =
 (1 + int_of_bits a) + int_of_bits b

This further simplifies to:

<span class="ansi-white-intense-fg ansi-bold">Subgoal 1.2&#39;</span>:

 H0. cin
 H1. List.length a = List.length b
|---------------------------------------------------------------------------
 int_of_bits (ripple_carry_adder a b true) =
 (1 + int_of_bits a) + int_of_bits b

Verified up to bound 10 (after 0.060s).

<span class="ansi-green-intense-fg ansi-bold">Note:</span> We must proceed by induction, but our current subgoal is less
appropriate for induction than our original conjecture. Thus, we prefer to
abandon our work until now and return our focus to the original conjecture
which we shall attempt to prove by induction directly.

We shall induct according to a scheme derived from <span class="ansi-blue-intense-fg ansi-bold">ripple_carry_adder</span>.

<span class="ansi-cyan-intense-fg ansi-bold">Induction scheme</span>:

 (not (b &lt;&gt; [] &amp;&amp; a &lt;&gt; []) ==&gt; φ cin b a)
 &amp;&amp; ((b &lt;&gt; [] &amp;&amp; a &lt;&gt; [])
     &amp;&amp; φ (adder_carry_out (List.hd a) (List.hd b) cin) (List.tl b)
        (List.tl a)
     ==&gt; φ cin b a).

2 nontautological subgoals.

<span class="ansi-white-intense-fg ansi-bold">Subgoal 2</span>:

 H0. List.length a = List.length b
|---------------------------------------------------------------------------
 C0. b &lt;&gt; [] &amp;&amp; a &lt;&gt; []
 C1. int_of_bits (ripple_carry_adder a b cin) =
     (int_of_bits a + int_of_bits b) + (if cin then 1 else 0)

This simplifies, using the definitions of <span class="ansi-blue-intense-fg ansi-bold">int_of_bits </span>and<span class="ansi-blue-intense-fg ansi-bold"> ripple_carry_adder</span>
to the following 2 subgoals:

<span class="ansi-white-intense-fg ansi-bold">Subgoal 2.2</span>:

 H0. b &lt;&gt; []
 H1. List.length a = List.length b
|---------------------------------------------------------------------------
 C0. 0 = int_of_bits b
 C1. a &lt;&gt; []

This simplifies, using the definition of <span class="ansi-blue-intense-fg ansi-bold">List.length</span> to:

<span class="ansi-white-intense-fg ansi-bold">Subgoal 2.2&#39;</span>:

 H0. 0 = List.length b
 H1. b &lt;&gt; []
|---------------------------------------------------------------------------
 C0. a &lt;&gt; []
 C1. 0 = int_of_bits b

But simplification reduces this to true, using the rewrite rule
<span class="ansi-magenta-intense-fg ansi-bold">List.len_zero_is_empty</span>.

<span class="ansi-white-intense-fg ansi-bold">Subgoal 2.1</span>:

 H0. List.length a = List.length b
|---------------------------------------------------------------------------
 C0. 0 = int_of_bits a
 C1. b &lt;&gt; []

This simplifies, using the definition of <span class="ansi-blue-intense-fg ansi-bold">List.length</span> to:

<span class="ansi-white-intense-fg ansi-bold">Subgoal 2.1&#39;</span>:

 H0. List.length a = 0
|---------------------------------------------------------------------------
 C0. b &lt;&gt; []
 C1. 0 = int_of_bits a

But simplification reduces this to true, using the definition of <span class="ansi-blue-intense-fg ansi-bold">int_of_bits</span>,
and the rewrite rule <span class="ansi-magenta-intense-fg ansi-bold">List.len_zero_is_empty</span>.

<span class="ansi-white-intense-fg ansi-bold">Subgoal 1</span>:

 H0. b &lt;&gt; []
 H1. a &lt;&gt; []
 H2. List.length (List.tl a) = List.length (List.tl b)
     ==&gt; int_of_bits
         (ripple_carry_adder (List.tl a) (List.tl b)
          ((not (List.hd a) &lt;==&gt; List.hd b) &amp;&amp; cin || List.hd a &amp;&amp; List.hd b))
         =
         (int_of_bits (List.tl a) + int_of_bits (List.tl b))
         + (if (not (List.hd a) &lt;==&gt; List.hd b) &amp;&amp; cin
               || List.hd a &amp;&amp; List.hd b
            then 1 else 0)
 H3. List.length a = List.length b
|---------------------------------------------------------------------------
 int_of_bits (ripple_carry_adder a b cin) =
 (int_of_bits a + int_of_bits b) + (if cin then 1 else 0)

But simplification reduces this to true, using the definitions of
<span class="ansi-blue-intense-fg ansi-bold">List.length</span>,<span class="ansi-blue-intense-fg ansi-bold"> int_of_bits </span>and<span class="ansi-blue-intense-fg ansi-bold"> ripple_carry_adder</span>.

</pre>
</div>

</div>

<div class="output_area">

<div class="prompt"></div>



<div class="output_html rendered_html output_subarea ">
<div><div class="imandra-vr imandra-vr-proved"><i class="fa fa-check-circle"></i><span>Proved</span></div><div><div class="imandra-alternatives" id="alt-30b1d0d9-4397-42f0-9f5a-988c97eeeaa9"><ul class="nav nav-tabs"><li class="active" data-toggle="tab"><a>proof</a></li></ul><div class="tab-content"><div class="tab-pane active"><div class="imandra-proof-top"><div class="imandra-fold panel panel-default" id="fold-b18329a2-f389-4366-8c6a-ed45335379c3"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>proof</span></div></div><div class="panel-body collapse"><div class="imandra-proof"><div class="imandra-alternatives" id="alt-5b05620a-3573-4d1d-8706-1dd385084d37"><ul class="nav nav-tabs"><li class="active" data-toggle="tab"><a>summary</a></li><li class="" data-toggle="tab"><a>full</a></li><li class="" data-toggle="tab"><a>graph</a></li></ul><div class="tab-content"><div class="tab-pane active"><div class="imandra-table" id="table-20b194e4-5f34-4bf3-96f2-555bbe989878"><table><tr><td><b>ground_instances</b></td><td>0</td></tr><tr><td><b>definitions</b></td><td>70</td></tr><tr><td><b>inductions</b></td><td>1</td></tr><tr><td><b>search_time</b></td><td><pre>1.924s</pre></td></tr></table></div></div><div class="tab-pane"><div class="imandra-fold panel panel-default" id="fold-7dbc2bcd-00e7-4fa3-b3ea-db8800baa8e9"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>Expand</span></div></div><div class="panel-body collapse"><ul><li><pre>start[1.924s, &quot;Goal&quot;]
  List.length :var_0: = List.length :var_1:
  ==&gt; int_of_bits (ripple_carry_adder :var_0: :var_1: :var_2:) =
      (int_of_bits :var_0: + int_of_bits :var_1:)
      + (if :var_2: then 1 else 0)</pre></li><li><div><h4>subproof</h4><div class="imandra-fold panel panel-default" id="fold-64dee168-77e6-4629-b773-72fdd54e960d"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>not (List.length a = List.length b)
|| int_of_bits (ripple_carry_adder a b cin) =
   (int_of_bits a + int_of_bits b) + (if cin then 1 else 0)</span></div></div><div class="panel-body collapse"><ul><li><pre>start[1.924s, &quot;1&quot;]
  not (List.length a = List.length b)
  || int_of_bits (ripple_carry_adder a b cin) =
     (int_of_bits a + int_of_bits b) + (if cin then 1 else 0)</pre></li><li><div><div><h5>simplify</h5><div class="imandra-table" id="table-d885562a-ac23-4f74-8519-286af0860154"><table><tr><td><b>into</b></td><td><pre>((int_of_bits (ripple_carry_adder a b cin) =
  (1 + int_of_bits a) + int_of_bits b || not cin)
 || not (List.length a = List.length b))
&amp;&amp; ((int_of_bits (ripple_carry_adder a b cin) = int_of_bits a + int_of_bits b
     || cin)
    || not (List.length a = List.length b))</pre></td></tr><tr><td><b>expansions</b></td><td><pre>[]</pre></td></tr><tr><td><b>rewrite_steps</b></td><td><ul></ul></td></tr><tr><td><b>forward_chaining</b></td><td><ul><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li></ul></td></tr></table></div></div><ul><li><div><h5>subproof</h5><div class="imandra-fold panel panel-default" id="fold-b21a37d0-f64d-407e-9da6-841ff679ee33"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>(int_of_bits (ripple_carry_adder a b cin) = int_of_bits a + int_of_bits b
 || cin)
|| not (List.length a = List.length b)</span></div></div><div class="panel-body collapse"><pre>start[1.718s, &quot;1.1&quot;]
  (int_of_bits (ripple_carry_adder a b cin) = int_of_bits a + int_of_bits b
   || cin)
  || not (List.length a = List.length b)</pre></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-b21a37d0-f64d-407e-9da6-841ff679ee33';
  fold.hydrate(target);
});
</script></div></div></li><li><div><h5>subproof</h5><div class="imandra-fold panel panel-default" id="fold-5571a499-bcef-40d6-8b6d-d1480c04863c"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>(int_of_bits (ripple_carry_adder a b cin) =
 (1 + int_of_bits a) + int_of_bits b || not cin)
|| not (List.length a = List.length b)</span></div></div><div class="panel-body collapse"><ul><li><pre>start[1.719s, &quot;1.2&quot;]
  (int_of_bits (ripple_carry_adder a b cin) =
   (1 + int_of_bits a) + int_of_bits b || not cin)
  || not (List.length a = List.length b)</pre></li><li><div><h6>simplify</h6><div class="imandra-table" id="table-c9044de2-a4c1-4d80-9c2f-18ce34e0bf67"><table><tr><td><b>into</b></td><td><pre>(not cin || not (List.length a = List.length b))
|| int_of_bits (ripple_carry_adder a b true) =
   (1 + int_of_bits a) + int_of_bits b</pre></td></tr><tr><td><b>expansions</b></td><td><pre>int_of_bit</pre></td></tr><tr><td><b>rewrite_steps</b></td><td><ul></ul></td></tr><tr><td><b>forward_chaining</b></td><td><ul></ul></td></tr></table></div></div></li><li><pre>induction on (functional ripple_carry_adder)
:scheme (not (b &lt;&gt; [] &amp;&amp; a &lt;&gt; []) ==&gt; φ cin b a)
        &amp;&amp; ((b &lt;&gt; [] &amp;&amp; a &lt;&gt; [])
            &amp;&amp; φ (adder_carry_out (List.hd a) (List.hd b) cin) (List.tl b)
               (List.tl a)
            ==&gt; φ cin b a)</pre></li><li><div><pre>Split (((b &lt;&gt; [] &amp;&amp; a &lt;&gt; [] || not (List.length a = List.length b))
        || int_of_bits (ripple_carry_adder a b cin) =
           (int_of_bits a + int_of_bits b) + (if cin then 1 else 0))
       &amp;&amp; ((not
            ((b &lt;&gt; [] &amp;&amp; a &lt;&gt; [])
             &amp;&amp; (not (List.length (List.tl a) = List.length (List.tl b))
                 || int_of_bits
                    (ripple_carry_adder (List.tl a) (List.tl b)
                     ((not (List.hd a) &lt;==&gt; List.hd b) &amp;&amp; cin
                      || List.hd a &amp;&amp; List.hd b))
                    =
                    (int_of_bits (List.tl a) + int_of_bits (List.tl b))
                    + (if (not (List.hd a) &lt;==&gt; List.hd b) &amp;&amp; cin
                          || List.hd a &amp;&amp; List.hd b
                       then 1 else 0)))
            || not (List.length a = List.length b))
           || int_of_bits (ripple_carry_adder a b cin) =
              (int_of_bits a + int_of_bits b) + (if cin then 1 else 0))
       :cases [(not (List.length a = List.length b) || b &lt;&gt; [] &amp;&amp; a &lt;&gt; [])
               || int_of_bits (ripple_carry_adder a b cin) =
                  (int_of_bits a + int_of_bits b) + (if cin then 1 else 0);
               (((not (b &lt;&gt; []) || not (a &lt;&gt; []))
                 || not
                    (not (List.length (List.tl a) = List.length (List.tl b))
                     || int_of_bits
                        (ripple_carry_adder (List.tl a) (List.tl b)
                         ((not (List.hd a) &lt;==&gt; List.hd b) &amp;&amp; cin
                          || List.hd a &amp;&amp; List.hd b))
                        =
                        (int_of_bits (List.tl a) + int_of_bits (List.tl b))
                        + (if (not (List.hd a) &lt;==&gt; List.hd b) &amp;&amp; cin
                              || List.hd a &amp;&amp; List.hd b
                           then 1 else 0)))
                || not (List.length a = List.length b))
               || int_of_bits (ripple_carry_adder a b cin) =
                  (int_of_bits a + int_of_bits b) + (if cin then 1 else 0)])</pre><ul><li><pre>Subproof</pre></li><li><pre>Subproof</pre></li></ul></div></li></ul></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-5571a499-bcef-40d6-8b6d-d1480c04863c';
  fold.hydrate(target);
});
</script></div></div></li></ul></div></li></ul></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-64dee168-77e6-4629-b773-72fdd54e960d';
  fold.hydrate(target);
});
</script></div></div></li></ul></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-7dbc2bcd-00e7-4fa3-b3ea-db8800baa8e9';
  fold.hydrate(target);
});
</script></div></div><div class="tab-pane"><div class="imandra-graphviz" id="graphviz-c93a63db-88b5-4723-8712-ab2886e829b6"><textarea style="display: none">digraph &quot;proof&quot; {
p_314 [label=&quot;Start (List.length :var_0: = List.length :var_1:\l       ==\&gt; int_of_bits (ripple_carry_adder :var_0: :var_1: :var_2:) =\l           (int_of_bits :var_0: + int_of_bits :var_1:)\l           + (if :var_2: then 1 else 0)\l       :name \&quot;Goal\&quot; :time 1.924s)&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_314 -&gt; p_312 [label=&quot;&quot;];
subgraph cluster_313 {
  color=blue;
p_312 [label=&quot;Start (not (List.length a = List.length b)\l       \|\| int_of_bits (ripple_carry_adder a b cin) =\l          (int_of_bits a + int_of_bits b) + (if cin then 1 else 0)\l       :name \&quot;1\&quot; :time 1.924s)&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_312 -&gt; p_311 [label=&quot;&quot;];
p_311 [label=&quot;Simplify (((int_of_bits (ripple_carry_adder a b cin) =\l            (1 + int_of_bits a) + int_of_bits b \|\| not cin)\l           \|\| not (List.length a = List.length b))\l          &amp;&amp; ((int_of_bits (ripple_carry_adder a b cin) =\l               int_of_bits a + int_of_bits b \|\| cin)\l              \|\| not (List.length a = List.length b))\l          :expansions [] :rw []\l          :fc [List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative])&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_311 -&gt; p_290 [label=&quot;&quot;];
subgraph cluster_291 {
  color=blue;
p_290 [label=&quot;Start ((int_of_bits (ripple_carry_adder a b cin) =\l        int_of_bits a + int_of_bits b \|\| cin)\l       \|\| not (List.length a = List.length b) :name \&quot;1.1\&quot; :time 1.718s)&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
}
p_311 -&gt; p_309 [label=&quot;&quot;];
subgraph cluster_310 {
  color=blue;
p_309 [label=&quot;Start ((int_of_bits (ripple_carry_adder a b cin) =\l        (1 + int_of_bits a) + int_of_bits b \|\| not cin)\l       \|\| not (List.length a = List.length b) :name \&quot;1.2\&quot; :time 1.719s)&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_309 -&gt; p_308 [label=&quot;&quot;];
p_308 [label=&quot;Simplify ((not cin \|\| not (List.length a = List.length b))\l          \|\| int_of_bits (ripple_carry_adder a b true) =\l             (1 + int_of_bits a) + int_of_bits b\l          :expansions [int_of_bit] :rw [] :fc [])&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_308 -&gt; p_307 [label=&quot;&quot;];
p_307 [label=&quot;Induct ((functional ripple_carry_adder),\l        :scheme (not (b \&lt;\&gt; [] &amp;&amp; a \&lt;\&gt; []) ==\&gt; φ cin b a)\l                &amp;&amp; ((b \&lt;\&gt; [] &amp;&amp; a \&lt;\&gt; [])\l                    &amp;&amp; φ (adder_carry_out (List.hd a) (List.hd b) cin)\l                       (List.tl b) (List.tl a)\l                    ==\&gt; φ cin b a))&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_307 -&gt; p_306 [label=&quot;&quot;];
p_306 [label=&quot;Split (((b \&lt;\&gt; [] &amp;&amp; a \&lt;\&gt; [] \|\| not (List.length a = List.length b))\l        \|\| int_of_bits (ripple_carry_adder a b cin) =\l           (int_of_bits a + int_of_bits b) + (if cin then 1 else 0))\l       &amp;&amp; ((not\l            ((b \&lt;\&gt; [] &amp;&amp; a \&lt;\&gt; [])\l             &amp;&amp; (not (List.length (List.tl a) = List.length (List.tl b))\l                 \|\| int_of_bits\l                    (ripple_carry_adder (List.tl a) (List.tl b)\l                     ((not (List.hd a) \&lt;==\&gt; List.hd b) &amp;&amp; cin\l                      \|\| List.hd a &amp;&amp; List.hd b))\l                    =\l                    (int_of_bits (List.tl a) + int_of_bits (List.tl b))\l                    + (if (not (List.hd a) \&lt;==\&gt; List.hd b) &amp;&amp; cin\l                          \|\| List.hd a &amp;&amp; List.hd b\l                       then 1 else 0)))\l            \|\| not (List.length a = List.length b))\l           \|\| int_of_bits (ripple_carry_adder a b cin) =\l              (int_of_bits a + int_of_bits b) + (if cin then 1 else 0))\l       :cases [(not (List.length a = List.length b) \|\| b \&lt;\&gt; [] &amp;&amp; a \&lt;\&gt; [])\l               \|\| int_of_bits (ripple_carry_adder a b cin) =\l                  (int_of_bits a + int_of_bits b) + (if cin then 1 else 0);\l               (((not (b \&lt;\&gt; []) \|\| not (a \&lt;\&gt; []))\l                 \|\| not\l                    (not (List.length (List.tl a) = List.length (List.tl b))\l                     \|\| int_of_bits\l                        (ripple_carry_adder (List.tl a) (List.tl b)\l                         ((not (List.hd a) \&lt;==\&gt; List.hd b) &amp;&amp; cin\l                          \|\| List.hd a &amp;&amp; List.hd b))\l                        =\l                        (int_of_bits (List.tl a) + int_of_bits (List.tl b))\l                        + (if (not (List.hd a) \&lt;==\&gt; List.hd b) &amp;&amp; cin\l                              \|\| List.hd a &amp;&amp; List.hd b\l                           then 1 else 0)))\l                \|\| not (List.length a = List.length b))\l               \|\| int_of_bits (ripple_carry_adder a b cin) =\l                  (int_of_bits a + int_of_bits b) + (if cin then 1 else 0)])&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_306 -&gt; p_293 [label=&quot;&quot;];
subgraph cluster_294 {
  color=blue;
p_293 [label=&quot;Start ((((not (b \&lt;\&gt; []) \|\| not (a \&lt;\&gt; []))\l         \|\| not\l            (not (List.length (List.tl a) = List.length (List.tl b))\l             \|\| int_of_bits\l                (ripple_carry_adder (List.tl a) (List.tl b)\l                 ((not (List.hd a) \&lt;==\&gt; List.hd b) &amp;&amp; cin\l                  \|\| List.hd a &amp;&amp; List.hd b))\l                =\l                (int_of_bits (List.tl a) + int_of_bits (List.tl b))\l                + (if (not (List.hd a) \&lt;==\&gt; List.hd b) &amp;&amp; cin\l                      \|\| List.hd a &amp;&amp; List.hd b\l                   then 1 else 0)))\l        \|\| not (List.length a = List.length b))\l       \|\| int_of_bits (ripple_carry_adder a b cin) =\l          (int_of_bits a + int_of_bits b) + (if cin then 1 else 0)\l       :name \&quot;1\&quot; :time 1.281s)&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_293 -&gt; p_292 [label=&quot;&quot;];
p_292 [label=&quot;Simplify (true\l          :expansions [int_of_bits;\l                       int_of_bits;\l                       int_of_bits;\l                       ripple_carry_adder;\l                       List.length;\l                       List.length;\l                       List.length;\l                       List.length;\l                       List.length;\l                       List.length;\l                       List.length;\l                       List.length;\l                       int_of_bits;\l                       int_of_bits;\l                       int_of_bits;\l                       ripple_carry_adder;\l                       List.length;\l                       List.length;\l                       List.length;\l                       List.length;\l                       List.length;\l                       List.length;\l                       List.length;\l                       List.length;\l                       List.length;\l                       List.length;\l                       int_of_bits;\l                       int_of_bits;\l                       int_of_bits;\l                       ripple_carry_adder;\l                       List.length;\l                       List.length;\l                       List.length;\l                       List.length;\l                       List.length;\l                       List.length;\l                       int_of_bits;\l                       int_of_bits;\l                       int_of_bits;\l                       ripple_carry_adder;\l                       List.length;\l                       List.length;\l                       List.length;\l                       List.length;\l                       List.length;\l                       List.length;\l                       List.length;\l                       List.length;\l                       List.length;\l                       List.length;\l                       int_of_bits;\l                       int_of_bits;\l                       int_of_bits;\l                       ripple_carry_adder;\l                       List.length;\l                       List.length;\l                       List.length;\l                       List.length]\l          :rw []\l          :fc [List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative])&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
}
p_306 -&gt; p_304 [label=&quot;&quot;];
subgraph cluster_305 {
  color=blue;
p_304 [label=&quot;Start ((not (List.length a = List.length b) \|\| b \&lt;\&gt; [] &amp;&amp; a \&lt;\&gt; [])\l       \|\| int_of_bits (ripple_carry_adder a b cin) =\l          (int_of_bits a + int_of_bits b) + (if cin then 1 else 0)\l       :name \&quot;2\&quot; :time 1.281s)&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_304 -&gt; p_303 [label=&quot;&quot;];
p_303 [label=&quot;Simplify ((((0 = int_of_bits b \|\| a \&lt;\&gt; []) \|\| not (b \&lt;\&gt; []))\l           \|\| not (List.length a = List.length b))\l          &amp;&amp; ((0 = int_of_bits a \|\| b \&lt;\&gt; [])\l              \|\| not (List.length a = List.length b))\l          :expansions [int_of_bits;\l                       int_of_bits;\l                       int_of_bits;\l                       ripple_carry_adder;\l                       int_of_bits;\l                       int_of_bits;\l                       int_of_bits;\l                       ripple_carry_adder]\l          :rw []\l          :fc [List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative])&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_303 -&gt; p_297 [label=&quot;&quot;];
subgraph cluster_298 {
  color=blue;
p_297 [label=&quot;Start ((0 = int_of_bits a \|\| b \&lt;\&gt; []) \|\| not (List.length a = List.length b)\l       :name \&quot;2.1\&quot; :time 1.142s)&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_297 -&gt; p_296 [label=&quot;&quot;];
p_296 [label=&quot;Simplify ((b \&lt;\&gt; [] \|\| 0 = int_of_bits a) \|\| not (List.length a = 0)\l          :expansions [List.length] :rw []\l          :fc [List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative])&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_296 -&gt; p_295 [label=&quot;&quot;];
p_295 [label=&quot;Simplify (true :expansions [int_of_bits] :rw [List.len_zero_is_empty]\l          :fc [List.len_nonnegative; List.len_nonnegative])&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
}
p_303 -&gt; p_301 [label=&quot;&quot;];
subgraph cluster_302 {
  color=blue;
p_301 [label=&quot;Start (((0 = int_of_bits b \|\| a \&lt;\&gt; []) \|\| not (b \&lt;\&gt; []))\l       \|\| not (List.length a = List.length b) :name \&quot;2.2\&quot; :time 1.142s)&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_301 -&gt; p_300 [label=&quot;&quot;];
p_300 [label=&quot;Simplify (((a \&lt;\&gt; [] \|\| 0 = int_of_bits b) \|\| not (0 = List.length b))\l          \|\| not (b \&lt;\&gt; []) :expansions [List.length] :rw []\l          :fc [List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative])&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_300 -&gt; p_299 [label=&quot;&quot;];
p_299 [label=&quot;Simplify (true :expansions [] :rw [List.len_zero_is_empty]\l          :fc [List.len_nonnegative; List.len_nonnegative])&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
}
}
}
}
}
</textarea><button class="btn btn-primary">Load graph</button><div class="imandra-graphviz-loading display-none">Loading..</div><div class="imandra-graphviz-target"></div><script>
require(['nbextensions/nbimandra/graphviz'], function (graphviz) {
  var target = '#graphviz-c93a63db-88b5-4723-8712-ab2886e829b6';
  graphviz.hydrate(target);
});
</script></div></div></div><script>
require(['nbextensions/nbimandra/alternatives'], function (alternatives) {
  var target = '#alt-5b05620a-3573-4d1d-8706-1dd385084d37';
  alternatives.hydrate(target);
});
</script></div></div></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-b18329a2-f389-4366-8c6a-ed45335379c3';
  fold.hydrate(target);
});
</script></div></div></div></div><script>
require(['nbextensions/nbimandra/alternatives'], function (alternatives) {
  var target = '#alt-30b1d0d9-4397-42f0-9f5a-988c97eeeaa9';
  alternatives.hydrate(target);
});
</script></div></div></div>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Excellent!</p>
<p>Note that we were able to prove this main theorem without introducing any auxiliary lemmas.</p>
<p>Nevertheless, it's almost always useful to prove local lemmas about our functions.</p>
<p>For example, the following is a very useful property to know about our single-step adder, <code>adder_sum</code>. We'll introduce it as a <code>rewrite</code> rule so that we may use it for an alternative proof of our main theorem.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="try-this-container">
  <a href="https://try.imandra.ai/launch/?next=/h/user-redirect/notebooks/Verifying%20a%20Ripple%20Carry%20Adder.ipynb%23try-cell-29" target="_blank">
    <div class="try-this">Try this!</div>
  </a>
</div>
<div class="input">
<div class="prompt input_prompt">In&nbsp;[17]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ocaml"><pre><span></span><span class="n">theorem</span> <span class="n">single_adder_circuit_correct</span> <span class="n">a</span> <span class="n">b</span> <span class="n">cin</span> <span class="o">=</span>
  <span class="n">int_of_bit</span> <span class="o">(</span><span class="n">adder_sum</span> <span class="n">a</span> <span class="n">b</span> <span class="n">cin</span><span class="o">)</span>
    <span class="o">=</span> <span class="n">int_of_bit</span> <span class="n">a</span> <span class="o">+</span> <span class="n">int_of_bit</span> <span class="n">b</span> <span class="o">+</span> <span class="n">int_of_bit</span> <span class="n">cin</span> <span class="o">-</span> <span class="o">(</span><span class="mi">2</span> <span class="o">*</span> <span class="o">(</span><span class="n">int_of_bit</span> <span class="o">(</span><span class="n">adder_carry_out</span> <span class="n">a</span> <span class="n">b</span> <span class="n">cin</span><span class="o">)))</span>
<span class="o">[@@</span><span class="n">rewrite</span><span class="o">]</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt output_prompt">Out[17]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>val single_adder_circuit_correct : bool -&gt; bool -&gt; bool -&gt; bool = &lt;fun&gt;
</pre>
</div>

</div>

<div class="output_area">

<div class="prompt"></div>



<div class="output_html rendered_html output_subarea ">
<div><div class="imandra-vr imandra-vr-proved"><i class="fa fa-check-circle"></i><span>Proved</span></div><div><div class="imandra-alternatives" id="alt-5b7197e6-ec01-4e28-976a-62a65d308db1"><ul class="nav nav-tabs"><li class="active" data-toggle="tab"><a>proof</a></li><li class="" data-toggle="tab"><a>call graph</a></li></ul><div class="tab-content"><div class="tab-pane active"><div class="imandra-proof-top"><div class="imandra-fold panel panel-default" id="fold-401b5446-9426-4e28-8b7c-927d6d3f4216"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>proof</span></div></div><div class="panel-body collapse"><div class="imandra-proof"><div class="imandra-alternatives" id="alt-f4d9ecc2-71f5-4bc4-9d7d-83caffd871a9"><ul class="nav nav-tabs"><li class="active" data-toggle="tab"><a>summary</a></li><li class="" data-toggle="tab"><a>full</a></li><li class="" data-toggle="tab"><a>graph</a></li></ul><div class="tab-content"><div class="tab-pane active"><div class="imandra-table" id="table-d644e3d7-7f46-4787-9e0c-1e0ee68976a0"><table><tr><td><b>ground_instances</b></td><td>0</td></tr><tr><td><b>definitions</b></td><td>0</td></tr><tr><td><b>inductions</b></td><td>0</td></tr><tr><td><b>search_time</b></td><td><pre>0.011s</pre></td></tr><tr><td><b>details</b></td><td><div class="imandra-fold panel panel-default" id="fold-56be3305-8a2d-48dc-9d00-f166e425d193"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>Expand</span></div></div><div class="panel-body collapse"><div class="imandra-table" id="table-c3236348-7b25-4d4a-b0b8-66e581305d1f"><table><tr><td><b>smt_stats</b></td><td><div class="imandra-table" id="table-8abfabba-815b-4eb3-9417-dfd1158641e6"><table><tr><td><b>arith assert lower</b></td><td>60</td></tr><tr><td><b>arith pivots</b></td><td>2</td></tr><tr><td><b>rlimit count</b></td><td>1149</td></tr><tr><td><b>mk clause</b></td><td>160</td></tr><tr><td><b>mk bool var</b></td><td>133</td></tr><tr><td><b>arith assert upper</b></td><td>60</td></tr><tr><td><b>decisions</b></td><td>16</td></tr><tr><td><b>propagations</b></td><td>158</td></tr><tr><td><b>conflicts</b></td><td>17</td></tr><tr><td><b>minimized lits</b></td><td>12</td></tr><tr><td><b>arith conflicts</b></td><td>16</td></tr><tr><td><b>arith assert diseq</b></td><td>1</td></tr><tr><td><b>added eqs</b></td><td>98</td></tr><tr><td><b>del clause</b></td><td>136</td></tr><tr><td><b>arith eq adapter</b></td><td>59</td></tr><tr><td><b>memory</b></td><td>17.280000</td></tr><tr><td><b>max memory</b></td><td>22.720000</td></tr><tr><td><b>num allocs</b></td><td>11459582908.000000</td></tr></table></div></td></tr></table></div></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-56be3305-8a2d-48dc-9d00-f166e425d193';
  fold.hydrate(target);
});
</script></div></td></tr></table></div></div><div class="tab-pane"><div class="imandra-fold panel panel-default" id="fold-86b14c43-602b-4f46-8e09-5af3c3f37d0a"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>Expand</span></div></div><div class="panel-body collapse"><ul><li><pre>start[0.011s]
  (if not (not (:var_0: = :var_1:) = :var_2:) then 1 else 0) =
  (((if :var_0: then 1 else 0) + (if :var_1: then 1 else 0))
   + (if :var_2: then 1 else 0))
  -
  (2
   * (if not (:var_0: = :var_1:) &amp;&amp; :var_2: || :var_0: &amp;&amp; :var_1: then 1
      else 0))</pre></li><li><div><h4>simplify</h4><div class="imandra-table" id="table-afb0318e-ec2c-49e0-a543-6c3fa8fc47f2"><table><tr><td><b>into</b></td><td><pre>(if (:var_0: &lt;==&gt; :var_1:) &lt;==&gt; :var_2: then 1 else 0) =
(((if :var_0: then 1 else 0) + (if :var_1: then 1 else 0))
 + (if :var_2: then 1 else 0))
+ -2
  * (if (not :var_0: &lt;==&gt; :var_1:) &amp;&amp; :var_2: || :var_0: &amp;&amp; :var_1: then 1
     else 0)</pre></td></tr><tr><td><b>expansions</b></td><td><pre>[]</pre></td></tr><tr><td><b>rewrite_steps</b></td><td><ul></ul></td></tr><tr><td><b>forward_chaining</b></td><td><ul></ul></td></tr></table></div></div></li><li><div><h4>unsat</h4><pre>(let ((a!1 (= (ite (= (= a_2387 b_2388) cin_2389) 1 0) 1))
      (a!2 (&lt;= (ite (= (= a_2387 b_2388) …</pre></div></li></ul></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-86b14c43-602b-4f46-8e09-5af3c3f37d0a';
  fold.hydrate(target);
});
</script></div></div><div class="tab-pane"><div class="imandra-graphviz" id="graphviz-330ff8eb-c367-45a1-b919-cbf630c3d102"><textarea style="display: none">digraph &quot;proof&quot; {
p_317 [label=&quot;Start ((if not (not (:var_0: = :var_1:) = :var_2:) then 1 else 0) =\l       (((if :var_0: then 1 else 0) + (if :var_1: then 1 else 0))\l        + (if :var_2: then 1 else 0))\l       -\l       (2\l        * (if not (:var_0: = :var_1:) &amp;&amp; :var_2: \|\| :var_0: &amp;&amp; :var_1: \l           then 1 else 0))\l       :time 0.011s)&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_317 -&gt; p_316 [label=&quot;&quot;];
p_316 [label=&quot;Simplify ((if (:var_0: \&lt;==\&gt; :var_1:) \&lt;==\&gt; :var_2: then 1 else 0) =\l          (((if :var_0: then 1 else 0) + (if :var_1: then 1 else 0))\l           + (if :var_2: then 1 else 0))\l          + -2\l            * (if (not :var_0: \&lt;==\&gt; :var_1:) &amp;&amp; :var_2: \|\| :var_0: &amp;&amp; :var_1:\l               then 1 else 0)\l          :expansions [] :rw [] :fc [])&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_316 -&gt; p_315 [label=&quot;&quot;];
p_315 -&gt; p_z3_550 [label=&quot;&quot;,fontname=&quot;courier&quot;,fontsize=14];
p_z3_550 [label=&quot;(let ((a!1 (= (ite (= (= a_2387 b_2388) cin_2389) 1 0) 1))
      (a!2 (&lt;= (ite (= (= a_2387 b_2388) …&quot;,shape=box,fontname=&quot;courier&quot;,fontsize=14];p_315 [label=&quot;unsat&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
}
</textarea><button class="btn btn-primary">Load graph</button><div class="imandra-graphviz-loading display-none">Loading..</div><div class="imandra-graphviz-target"></div><script>
require(['nbextensions/nbimandra/graphviz'], function (graphviz) {
  var target = '#graphviz-330ff8eb-c367-45a1-b919-cbf630c3d102';
  graphviz.hydrate(target);
});
</script></div></div></div><script>
require(['nbextensions/nbimandra/alternatives'], function (alternatives) {
  var target = '#alt-f4d9ecc2-71f5-4bc4-9d7d-83caffd871a9';
  alternatives.hydrate(target);
});
</script></div></div></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-401b5446-9426-4e28-8b7c-927d6d3f4216';
  fold.hydrate(target);
});
</script></div></div></div><div class="tab-pane"><div class="imandra-graphviz" id="graphviz-4e22da5a-d5e8-46e1-bfc9-c0dfae0ab45b"><textarea style="display: none">digraph &quot;call graph&quot; {
goal [label=&quot;not\l((if (a \&lt;==\&gt; b) \&lt;==\&gt; cin then 1 else 0) =\l (((if a then 1 else 0) + (if b then 1 else 0)) + (if cin then 1 else 0))\l + -2 * (if (not a \&lt;==\&gt; b) &amp;&amp; cin \|\| a &amp;&amp; b then 1 else 0))&quot;,shape=box,style=filled,color=&quot;cyan&quot;,fontname=&quot;courier&quot;,fontsize=14];
}
</textarea><button class="btn btn-primary">Load graph</button><div class="imandra-graphviz-loading display-none">Loading..</div><div class="imandra-graphviz-target"></div><script>
require(['nbextensions/nbimandra/graphviz'], function (graphviz) {
  var target = '#graphviz-4e22da5a-d5e8-46e1-bfc9-c0dfae0ab45b';
  graphviz.hydrate(target);
});
</script></div></div></div><script>
require(['nbextensions/nbimandra/alternatives'], function (alternatives) {
  var target = '#alt-5b7197e6-ec01-4e28-976a-62a65d308db1';
  alternatives.hydrate(target);
});
</script></div></div></div>

</div>

</div>

<div class="output_area">

<div class="prompt"></div>



<div class="output_html rendered_html output_subarea ">
<div><div style="color:yellow" class="imandra-warn"><h4 style="color:yellow" class="imandra-warn">Warning</h4><pre>Pattern will match only if `int_of_bit` is disabled
(non-recursive function)</pre></div></div>

</div>

</div>

<div class="output_area">

<div class="prompt"></div>



<div class="output_html rendered_html output_subarea ">
<div><div style="color:yellow" class="imandra-warn"><h4 style="color:yellow" class="imandra-warn">Warning</h4><pre>Pattern will match only if `adder_sum` is disabled
(non-recursive function)</pre></div></div>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Notice the above <code>Warnings</code>, in particular about <code>int_of_bit</code> and <code>adder_sum</code>. These are printed because we've specified Imandra to install this theorem as a <code>rewrite</code> rule, and the LHS (left-hand-side) of the rule contains non-recursive functions which will, unless they are disabled, be expanded before rewriting can be applied.</p>
<p>Can you see an alternative proof of our main theorem which makes use of this rule? We just need to follow the advice of the warning!</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="try-this-container">
  <a href="https://try.imandra.ai/launch/?next=/h/user-redirect/notebooks/Verifying%20a%20Ripple%20Carry%20Adder.ipynb%23try-cell-31" target="_blank">
    <div class="try-this">Try this!</div>
  </a>
</div>
<div class="input">
<div class="prompt input_prompt">In&nbsp;[18]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ocaml"><pre><span></span><span class="n">theorem</span> <span class="n">full_ripple_carry_adder_correct</span> <span class="n">a</span> <span class="n">b</span> <span class="n">cin</span> <span class="o">=</span>
  <span class="nn">List</span><span class="p">.</span><span class="n">length</span> <span class="n">a</span> <span class="o">=</span> <span class="nn">List</span><span class="p">.</span><span class="n">length</span> <span class="n">b</span> <span class="o">==&gt;</span>
  <span class="n">int_of_bits</span> <span class="o">(</span><span class="n">ripple_carry_adder</span> <span class="n">a</span> <span class="n">b</span> <span class="n">cin</span><span class="o">)</span> <span class="o">=</span>
  <span class="n">int_of_bits</span> <span class="n">a</span> <span class="o">+</span> <span class="n">int_of_bits</span> <span class="n">b</span> <span class="o">+</span> <span class="n">int_of_bit</span> <span class="n">cin</span>
<span class="o">[@@</span><span class="n">induct</span> <span class="n">functional</span> <span class="n">ripple_carry_adder</span><span class="o">]</span>
<span class="o">[@@</span><span class="n">disable</span> <span class="n">adder_sum</span><span class="o">,</span> <span class="n">int_of_bit</span><span class="o">]</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt output_prompt">Out[18]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>val full_ripple_carry_adder_correct : bool list -&gt; bool list -&gt; bool -&gt; bool =
  &lt;fun&gt;
<span class="ansi-white-intense-fg ansi-bold">Goal</span>:

List.length a = List.length b
==&gt; int_of_bits (ripple_carry_adder a b cin) =
    (int_of_bits a + int_of_bits b) + int_of_bit cin.

1 nontautological subgoal.

<span class="ansi-white-intense-fg ansi-bold">Subgoal 1</span>:

 H0. List.length a = List.length b
|---------------------------------------------------------------------------
 int_of_bits (ripple_carry_adder a b cin) =
 (int_of_bits a + int_of_bits b) + int_of_bit cin

Verified up to bound 10 (after 0.065s).

Must try induction.

We shall induct according to a scheme derived from <span class="ansi-blue-intense-fg ansi-bold">ripple_carry_adder</span>.

<span class="ansi-cyan-intense-fg ansi-bold">Induction scheme</span>:

 (not (b &lt;&gt; [] &amp;&amp; a &lt;&gt; []) ==&gt; φ cin b a)
 &amp;&amp; ((b &lt;&gt; [] &amp;&amp; a &lt;&gt; [])
     &amp;&amp; φ (adder_carry_out (List.hd a) (List.hd b) cin) (List.tl b)
        (List.tl a)
     ==&gt; φ cin b a).

2 nontautological subgoals.

<span class="ansi-white-intense-fg ansi-bold">Subgoal 1.2</span>:

 H0. List.length a = List.length b
|---------------------------------------------------------------------------
 C0. b &lt;&gt; [] &amp;&amp; a &lt;&gt; []
 C1. int_of_bits (ripple_carry_adder a b cin) =
     (int_of_bits a + int_of_bits b) + int_of_bit cin

This simplifies, using the definitions of <span class="ansi-blue-intense-fg ansi-bold">int_of_bits </span>and<span class="ansi-blue-intense-fg ansi-bold"> ripple_carry_adder</span>
to the following 4 subgoals:

<span class="ansi-white-intense-fg ansi-bold">Subgoal 1.2.4</span>:

 H0. cin
 H1. b &lt;&gt; []
 H2. List.length a = List.length b
|---------------------------------------------------------------------------
 C0. 0 = int_of_bits b
 C1. a &lt;&gt; []

This simplifies, using the definition of <span class="ansi-blue-intense-fg ansi-bold">List.length</span> to:

<span class="ansi-white-intense-fg ansi-bold">Subgoal 1.2.4&#39;</span>:

 H0. 0 = List.length b
 H1. b &lt;&gt; []
 H2. cin
|---------------------------------------------------------------------------
 C0. a &lt;&gt; []
 C1. 0 = int_of_bits b

But simplification reduces this to true, using the rewrite rule
<span class="ansi-magenta-intense-fg ansi-bold">List.len_zero_is_empty</span>.

<span class="ansi-white-intense-fg ansi-bold">Subgoal 1.2.3</span>:

 H0. b &lt;&gt; []
 H1. List.length a = List.length b
|---------------------------------------------------------------------------
 C0. 0 = int_of_bits b + int_of_bit cin
 C1. cin
 C2. a &lt;&gt; []

This simplifies, using the definition of <span class="ansi-blue-intense-fg ansi-bold">List.length</span> to:

<span class="ansi-white-intense-fg ansi-bold">Subgoal 1.2.3&#39;</span>:

 H0. 0 = List.length b
 H1. b &lt;&gt; []
|---------------------------------------------------------------------------
 C0. a &lt;&gt; []
 C1. cin
 C2. 0 = int_of_bits b + int_of_bit cin

But simplification reduces this to true, using the rewrite rule
<span class="ansi-magenta-intense-fg ansi-bold">List.len_zero_is_empty</span>.

<span class="ansi-white-intense-fg ansi-bold">Subgoal 1.2.2</span>:

 H0. cin
 H1. List.length a = List.length b
|---------------------------------------------------------------------------
 C0. 0 = int_of_bits a
 C1. b &lt;&gt; []

This simplifies, using the definition of <span class="ansi-blue-intense-fg ansi-bold">List.length</span> to:

<span class="ansi-white-intense-fg ansi-bold">Subgoal 1.2.2&#39;</span>:

 H0. List.length a = 0
 H1. cin
|---------------------------------------------------------------------------
 C0. b &lt;&gt; []
 C1. 0 = int_of_bits a

But simplification reduces this to true, using the definition of <span class="ansi-blue-intense-fg ansi-bold">int_of_bits</span>,
and the rewrite rule <span class="ansi-magenta-intense-fg ansi-bold">List.len_zero_is_empty</span>.

<span class="ansi-white-intense-fg ansi-bold">Subgoal 1.2.1</span>:

 H0. List.length a = List.length b
|---------------------------------------------------------------------------
 C0. 0 = int_of_bits a + int_of_bit cin
 C1. cin
 C2. b &lt;&gt; []

This simplifies, using the definition of <span class="ansi-blue-intense-fg ansi-bold">List.length</span> to:

<span class="ansi-white-intense-fg ansi-bold">Subgoal 1.2.1&#39;</span>:

 H0. List.length a = 0
|---------------------------------------------------------------------------
 C0. b &lt;&gt; []
 C1. cin
 C2. 0 = int_of_bits a + int_of_bit cin

This simplifies, using the definition of <span class="ansi-blue-intense-fg ansi-bold">int_of_bits</span>, and the rewrite rule
<span class="ansi-magenta-intense-fg ansi-bold">List.len_zero_is_empty</span> to:

<span class="ansi-white-intense-fg ansi-bold">Subgoal 1.2.1&#39;&#39;</span>:

 H0. a = []
|---------------------------------------------------------------------------
 C0. 0 = int_of_bit cin
 C1. cin
 C2. b &lt;&gt; []

This simplifies to:

<span class="ansi-white-intense-fg ansi-bold">Subgoal 1.2.1&#39;&#39;&#39;</span>:

|---------------------------------------------------------------------------
 C0. b &lt;&gt; []
 C1. cin
 C2. 0 = int_of_bit cin

This further simplifies to:

<span class="ansi-white-intense-fg ansi-bold">Subgoal 1.2.1&#39;&#39;&#39;&#39;</span>:

|---------------------------------------------------------------------------
 C0. b &lt;&gt; []
 C1. cin
 C2. 0 = int_of_bit false

But we verify Subgoal 1.2.1&#39;&#39;&#39;&#39; by recursive unrolling.

<span class="ansi-white-intense-fg ansi-bold">Subgoal 1.1</span>:

 H0. b &lt;&gt; []
 H1. a &lt;&gt; []
 H2. List.length (List.tl a) = List.length (List.tl b)
     ==&gt; int_of_bits
         (ripple_carry_adder (List.tl a) (List.tl b)
          ((not (List.hd a) &lt;==&gt; List.hd b) &amp;&amp; cin || List.hd a &amp;&amp; List.hd b))
         =
         (int_of_bits (List.tl a) + int_of_bits (List.tl b))
         + int_of_bit
           ((not (List.hd a) &lt;==&gt; List.hd b) &amp;&amp; cin || List.hd a &amp;&amp; List.hd b)
 H3. List.length a = List.length b
|---------------------------------------------------------------------------
 int_of_bits (ripple_carry_adder a b cin) =
 (int_of_bits a + int_of_bits b) + int_of_bit cin

But simplification reduces this to true, using the definitions of
<span class="ansi-blue-intense-fg ansi-bold">List.length</span>,<span class="ansi-blue-intense-fg ansi-bold"> int_of_bits </span>and<span class="ansi-blue-intense-fg ansi-bold"> ripple_carry_adder</span>, and the rewrite rule
<span class="ansi-magenta-intense-fg ansi-bold">single_adder_circuit_correct</span>.

</pre>
</div>

</div>

<div class="output_area">

<div class="prompt"></div>



<div class="output_html rendered_html output_subarea ">
<div><div class="imandra-vr imandra-vr-proved"><i class="fa fa-check-circle"></i><span>Proved</span></div><div><div class="imandra-alternatives" id="alt-0c8bc353-a2e3-47e6-aae7-6b531db19130"><ul class="nav nav-tabs"><li class="active" data-toggle="tab"><a>proof</a></li></ul><div class="tab-content"><div class="tab-pane active"><div class="imandra-proof-top"><div class="imandra-fold panel panel-default" id="fold-f81524a9-2329-47ba-8f0e-d777db1fd5d8"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>proof</span></div></div><div class="panel-body collapse"><div class="imandra-proof"><div class="imandra-alternatives" id="alt-236f97cc-4db6-40b3-bb8a-09a026ecd969"><ul class="nav nav-tabs"><li class="active" data-toggle="tab"><a>summary</a></li><li class="" data-toggle="tab"><a>full</a></li><li class="" data-toggle="tab"><a>graph</a></li></ul><div class="tab-content"><div class="tab-pane active"><div class="imandra-table" id="table-ec305620-9de0-42ce-9a95-f211b271c4c0"><table><tr><td><b>ground_instances</b></td><td>0</td></tr><tr><td><b>definitions</b></td><td>68</td></tr><tr><td><b>inductions</b></td><td>1</td></tr><tr><td><b>search_time</b></td><td><pre>1.587s</pre></td></tr><tr><td><b>details</b></td><td><div class="imandra-fold panel panel-default" id="fold-9b39c8f1-fb72-4640-b91f-d3ead8666d5b"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>Expand</span></div></div><div class="panel-body collapse"><div class="imandra-table" id="table-320b0616-5306-4a1c-aaae-80db6cf56b08"><table><tr><td><b>smt_stats</b></td><td><div class="imandra-table" id="table-6a909d3a-db7d-4335-b60c-838f3f377f61"><table><tr><td><b>rlimit count</b></td><td>93604</td></tr><tr><td><b>mk bool var</b></td><td>5</td></tr><tr><td><b>memory</b></td><td>29.580000</td></tr><tr><td><b>max memory</b></td><td>34.640000</td></tr><tr><td><b>num allocs</b></td><td>15644135864.000000</td></tr></table></div></td></tr></table></div></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-9b39c8f1-fb72-4640-b91f-d3ead8666d5b';
  fold.hydrate(target);
});
</script></div></td></tr></table></div></div><div class="tab-pane"><div class="imandra-fold panel panel-default" id="fold-d91a5552-7a91-4c61-8a68-dbf0837b9235"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>Expand</span></div></div><div class="panel-body collapse"><ul><li><pre>start[1.587s, &quot;Goal&quot;]
  List.length :var_0: = List.length :var_1:
  ==&gt; int_of_bits (ripple_carry_adder :var_0: :var_1: :var_2:) =
      (int_of_bits :var_0: + int_of_bits :var_1:) + int_of_bit :var_2:</pre></li><li><div><h4>subproof</h4><div class="imandra-fold panel panel-default" id="fold-d2514357-6b36-41ab-a34d-85750e8b94fa"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>not (List.length a = List.length b)
|| int_of_bits (ripple_carry_adder a b cin) =
   (int_of_bits a + int_of_bits b) + int_of_bit cin</span></div></div><div class="panel-body collapse"><ul><li><pre>start[1.587s, &quot;1&quot;]
  not (List.length a = List.length b)
  || int_of_bits (ripple_carry_adder a b cin) =
     (int_of_bits a + int_of_bits b) + int_of_bit cin</pre></li><li><pre>induction on (functional ripple_carry_adder)
:scheme (not (b &lt;&gt; [] &amp;&amp; a &lt;&gt; []) ==&gt; φ cin b a)
        &amp;&amp; ((b &lt;&gt; [] &amp;&amp; a &lt;&gt; [])
            &amp;&amp; φ (adder_carry_out (List.hd a) (List.hd b) cin) (List.tl b)
               (List.tl a)
            ==&gt; φ cin b a)</pre></li><li><div><pre>Split (((b &lt;&gt; [] &amp;&amp; a &lt;&gt; [] || not (List.length a = List.length b))
        || int_of_bits (ripple_carry_adder a b cin) =
           (int_of_bits a + int_of_bits b) + int_of_bit cin)
       &amp;&amp; ((not
            ((b &lt;&gt; [] &amp;&amp; a &lt;&gt; [])
             &amp;&amp; (not (List.length (List.tl a) = List.length (List.tl b))
                 || int_of_bits
                    (ripple_carry_adder (List.tl a) (List.tl b)
                     ((not (List.hd a) &lt;==&gt; List.hd b) &amp;&amp; cin
                      || List.hd a &amp;&amp; List.hd b))
                    =
                    (int_of_bits (List.tl a) + int_of_bits (List.tl b))
                    + int_of_bit
                      ((not (List.hd a) &lt;==&gt; List.hd b) &amp;&amp; cin
                       || List.hd a &amp;&amp; List.hd b)))
            || not (List.length a = List.length b))
           || int_of_bits (ripple_carry_adder a b cin) =
              (int_of_bits a + int_of_bits b) + int_of_bit cin)
       :cases [(not (List.length a = List.length b) || b &lt;&gt; [] &amp;&amp; a &lt;&gt; [])
               || int_of_bits (ripple_carry_adder a b cin) =
                  (int_of_bits a + int_of_bits b) + int_of_bit cin;
               (((not (b &lt;&gt; []) || not (a &lt;&gt; []))
                 || not
                    (not (List.length (List.tl a) = List.length (List.tl b))
                     || int_of_bits
                        (ripple_carry_adder (List.tl a) (List.tl b)
                         ((not (List.hd a) &lt;==&gt; List.hd b) &amp;&amp; cin
                          || List.hd a &amp;&amp; List.hd b))
                        =
                        (int_of_bits (List.tl a) + int_of_bits (List.tl b))
                        + int_of_bit
                          ((not (List.hd a) &lt;==&gt; List.hd b) &amp;&amp; cin
                           || List.hd a &amp;&amp; List.hd b)))
                || not (List.length a = List.length b))
               || int_of_bits (ripple_carry_adder a b cin) =
                  (int_of_bits a + int_of_bits b) + int_of_bit cin])</pre><ul><li><div><h5>subproof</h5><div class="imandra-fold panel panel-default" id="fold-30c765b8-dbe8-43d1-9bdd-792fcf1d3728"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>(((not (b &lt;&gt; []) || not (a &lt;&gt; []))
  || not
     (not (List.length (List.tl a) = List.length (List.tl b))
      || int_of_bits
         (ripple_carry_adder (List.tl a) (List.tl b)
          ((not (List.hd a) &lt;==&gt; List.hd b) &amp;&amp; cin || List.hd a &amp;&amp; List.hd b))
         =
         (int_of_bits (List.tl a) + int_of_bits (List.tl b))
         + int_of_bit
           ((not (List.hd a) &lt;==&gt; List.hd b) &amp;&amp; cin || List.hd a &amp;&amp; List.hd b)))
 || not (List.length a = List.length b))
|| int_of_bits (ripple_carry_adder a b cin) =
   (int_of_bits a + int_of_bits b) + int_of_bit cin</span></div></div><div class="panel-body collapse"><ul><li><pre>start[1.343s, &quot;1.1&quot;]
  (((not (b &lt;&gt; []) || not (a &lt;&gt; []))
    || not
       (not (List.length (List.tl a) = List.length (List.tl b))
        || int_of_bits
           (ripple_carry_adder (List.tl a) (List.tl b)
            ((not (List.hd a) &lt;==&gt; List.hd b) &amp;&amp; cin
             || List.hd a &amp;&amp; List.hd b))
           =
           (int_of_bits (List.tl a) + int_of_bits (List.tl b))
           + int_of_bit
             ((not (List.hd a) &lt;==&gt; List.hd b) &amp;&amp; cin
              || List.hd a &amp;&amp; List.hd b)))
   || not (List.length a = List.length b))
  || int_of_bits (ripple_carry_adder a b cin) =
     (int_of_bits a + int_of_bits b) + int_of_bit cin</pre></li><li><div><h6>simplify</h6><div class="imandra-table" id="table-c0688d02-6260-445b-bfd1-d9743ad9bda7"><table><tr><td><b>into</b></td><td><pre>true</pre></td></tr><tr><td><b>expansions</b></td><td><pre>[int_of_bits, int_of_bits, int_of_bits, ripple_carry_adder, List.length,
 List.length, List.length, List.length, List.length, List.length,
 int_of_bits, int_of_bits, int_of_bits, ripple_carry_adder, List.length,
 List.length, List.length, List.length, List.length, List.length,
 List.length, List.length, int_of_bits, int_of_bits, int_of_bits,
 ripple_carry_adder, List.length, List.length, List.length, List.length,
 int_of_bits, int_of_bits, int_of_bits, ripple_carry_adder, List.length,
 List.length, List.length, List.length, List.length, List.length,
 int_of_bits, int_of_bits, int_of_bits, ripple_carry_adder, List.length,
 List.length, List.length, List.length]</pre></td></tr><tr><td><b>rewrite_steps</b></td><td><ul><li><pre>single_adder_circuit_correct</pre></li><li><pre>single_adder_circuit_correct</pre></li><li><pre>single_adder_circuit_correct</pre></li><li><pre>single_adder_circuit_correct</pre></li><li><pre>single_adder_circuit_correct</pre></li></ul></td></tr><tr><td><b>forward_chaining</b></td><td><ul><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li></ul></td></tr></table></div></div></li></ul></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-30c765b8-dbe8-43d1-9bdd-792fcf1d3728';
  fold.hydrate(target);
});
</script></div></div></li><li><div><h5>subproof</h5><div class="imandra-fold panel panel-default" id="fold-d8c31b94-b3da-44c3-b3dc-e5d6323be8d5"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>(not (List.length a = List.length b) || b &lt;&gt; [] &amp;&amp; a &lt;&gt; [])
|| int_of_bits (ripple_carry_adder a b cin) =
   (int_of_bits a + int_of_bits b) + int_of_bit cin</span></div></div><div class="panel-body collapse"><ul><li><pre>start[1.343s, &quot;1.2&quot;]
  (not (List.length a = List.length b) || b &lt;&gt; [] &amp;&amp; a &lt;&gt; [])
  || int_of_bits (ripple_carry_adder a b cin) =
     (int_of_bits a + int_of_bits b) + int_of_bit cin</pre></li><li><div><div><h6>simplify</h6><div class="imandra-table" id="table-e7f1d98c-bdea-44b6-89f1-0a10b4d31fdd"><table><tr><td><b>into</b></td><td><pre>((((((0 = int_of_bits b || not cin) || a &lt;&gt; []) || not (b &lt;&gt; []))
   || not (List.length a = List.length b))
  &amp;&amp; ((((0 = int_of_bits b + int_of_bit cin || cin) || a &lt;&gt; [])
       || not (b &lt;&gt; []))
      || not (List.length a = List.length b)))
 &amp;&amp; (((0 = int_of_bits a || not cin) || b &lt;&gt; [])
     || not (List.length a = List.length b)))
&amp;&amp; (((0 = int_of_bits a + int_of_bit cin || cin) || b &lt;&gt; [])
    || not (List.length a = List.length b))</pre></td></tr><tr><td><b>expansions</b></td><td><pre>[int_of_bits, int_of_bits, int_of_bits, ripple_carry_adder, int_of_bits,
 int_of_bits, int_of_bits, ripple_carry_adder]</pre></td></tr><tr><td><b>rewrite_steps</b></td><td><ul></ul></td></tr><tr><td><b>forward_chaining</b></td><td><ul><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li></ul></td></tr></table></div></div><ul><li><pre>Subproof</pre></li><li><pre>Subproof</pre></li><li><pre>Subproof</pre></li><li><pre>Subproof</pre></li></ul></div></li></ul></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-d8c31b94-b3da-44c3-b3dc-e5d6323be8d5';
  fold.hydrate(target);
});
</script></div></div></li></ul></div></li></ul></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-d2514357-6b36-41ab-a34d-85750e8b94fa';
  fold.hydrate(target);
});
</script></div></div></li></ul></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-d91a5552-7a91-4c61-8a68-dbf0837b9235';
  fold.hydrate(target);
});
</script></div></div><div class="tab-pane"><div class="imandra-graphviz" id="graphviz-bfd6158b-3e7e-410f-ac89-68da43fbca5c"><textarea style="display: none">digraph &quot;proof&quot; {
p_363 [label=&quot;Start (List.length :var_0: = List.length :var_1:\l       ==\&gt; int_of_bits (ripple_carry_adder :var_0: :var_1: :var_2:) =\l           (int_of_bits :var_0: + int_of_bits :var_1:) + int_of_bit :var_2:\l       :name \&quot;Goal\&quot; :time 1.587s)&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_363 -&gt; p_361 [label=&quot;&quot;];
subgraph cluster_362 {
  color=blue;
p_361 [label=&quot;Start (not (List.length a = List.length b)\l       \|\| int_of_bits (ripple_carry_adder a b cin) =\l          (int_of_bits a + int_of_bits b) + int_of_bit cin\l       :name \&quot;1\&quot; :time 1.587s)&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_361 -&gt; p_360 [label=&quot;&quot;];
p_360 [label=&quot;Induct ((functional ripple_carry_adder),\l        :scheme (not (b \&lt;\&gt; [] &amp;&amp; a \&lt;\&gt; []) ==\&gt; φ cin b a)\l                &amp;&amp; ((b \&lt;\&gt; [] &amp;&amp; a \&lt;\&gt; [])\l                    &amp;&amp; φ (adder_carry_out (List.hd a) (List.hd b) cin)\l                       (List.tl b) (List.tl a)\l                    ==\&gt; φ cin b a))&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_360 -&gt; p_359 [label=&quot;&quot;];
p_359 [label=&quot;Split (((b \&lt;\&gt; [] &amp;&amp; a \&lt;\&gt; [] \|\| not (List.length a = List.length b))\l        \|\| int_of_bits (ripple_carry_adder a b cin) =\l           (int_of_bits a + int_of_bits b) + int_of_bit cin)\l       &amp;&amp; ((not\l            ((b \&lt;\&gt; [] &amp;&amp; a \&lt;\&gt; [])\l             &amp;&amp; (not (List.length (List.tl a) = List.length (List.tl b))\l                 \|\| int_of_bits\l                    (ripple_carry_adder (List.tl a) (List.tl b)\l                     ((not (List.hd a) \&lt;==\&gt; List.hd b) &amp;&amp; cin\l                      \|\| List.hd a &amp;&amp; List.hd b))\l                    =\l                    (int_of_bits (List.tl a) + int_of_bits (List.tl b))\l                    + int_of_bit\l                      ((not (List.hd a) \&lt;==\&gt; List.hd b) &amp;&amp; cin\l                       \|\| List.hd a &amp;&amp; List.hd b)))\l            \|\| not (List.length a = List.length b))\l           \|\| int_of_bits (ripple_carry_adder a b cin) =\l              (int_of_bits a + int_of_bits b) + int_of_bit cin)\l       :cases [(not (List.length a = List.length b) \|\| b \&lt;\&gt; [] &amp;&amp; a \&lt;\&gt; [])\l               \|\| int_of_bits (ripple_carry_adder a b cin) =\l                  (int_of_bits a + int_of_bits b) + int_of_bit cin;\l               (((not (b \&lt;\&gt; []) \|\| not (a \&lt;\&gt; []))\l                 \|\| not\l                    (not (List.length (List.tl a) = List.length (List.tl b))\l                     \|\| int_of_bits\l                        (ripple_carry_adder (List.tl a) (List.tl b)\l                         ((not (List.hd a) \&lt;==\&gt; List.hd b) &amp;&amp; cin\l                          \|\| List.hd a &amp;&amp; List.hd b))\l                        =\l                        (int_of_bits (List.tl a) + int_of_bits (List.tl b))\l                        + int_of_bit\l                          ((not (List.hd a) \&lt;==\&gt; List.hd b) &amp;&amp; cin\l                           \|\| List.hd a &amp;&amp; List.hd b)))\l                \|\| not (List.length a = List.length b))\l               \|\| int_of_bits (ripple_carry_adder a b cin) =\l                  (int_of_bits a + int_of_bits b) + int_of_bit cin])&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_359 -&gt; p_335 [label=&quot;&quot;];
subgraph cluster_336 {
  color=blue;
p_335 [label=&quot;Start ((((not (b \&lt;\&gt; []) \|\| not (a \&lt;\&gt; []))\l         \|\| not\l            (not (List.length (List.tl a) = List.length (List.tl b))\l             \|\| int_of_bits\l                (ripple_carry_adder (List.tl a) (List.tl b)\l                 ((not (List.hd a) \&lt;==\&gt; List.hd b) &amp;&amp; cin\l                  \|\| List.hd a &amp;&amp; List.hd b))\l                =\l                (int_of_bits (List.tl a) + int_of_bits (List.tl b))\l                + int_of_bit\l                  ((not (List.hd a) \&lt;==\&gt; List.hd b) &amp;&amp; cin\l                   \|\| List.hd a &amp;&amp; List.hd b)))\l        \|\| not (List.length a = List.length b))\l       \|\| int_of_bits (ripple_carry_adder a b cin) =\l          (int_of_bits a + int_of_bits b) + int_of_bit cin\l       :name \&quot;1.1\&quot; :time 1.343s)&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_335 -&gt; p_334 [label=&quot;&quot;];
p_334 [label=&quot;Simplify (true\l          :expansions [int_of_bits;\l                       int_of_bits;\l                       int_of_bits;\l                       ripple_carry_adder;\l                       List.length;\l                       List.length;\l                       List.length;\l                       List.length;\l                       List.length;\l                       List.length;\l                       int_of_bits;\l                       int_of_bits;\l                       int_of_bits;\l                       ripple_carry_adder;\l                       List.length;\l                       List.length;\l                       List.length;\l                       List.length;\l                       List.length;\l                       List.length;\l                       List.length;\l                       List.length;\l                       int_of_bits;\l                       int_of_bits;\l                       int_of_bits;\l                       ripple_carry_adder;\l                       List.length;\l                       List.length;\l                       List.length;\l                       List.length;\l                       int_of_bits;\l                       int_of_bits;\l                       int_of_bits;\l                       ripple_carry_adder;\l                       List.length;\l                       List.length;\l                       List.length;\l                       List.length;\l                       List.length;\l                       List.length;\l                       int_of_bits;\l                       int_of_bits;\l                       int_of_bits;\l                       ripple_carry_adder;\l                       List.length;\l                       List.length;\l                       List.length;\l                       List.length]\l          :rw [single_adder_circuit_correct;\l               single_adder_circuit_correct;\l               single_adder_circuit_correct;\l               single_adder_circuit_correct;\l               single_adder_circuit_correct]\l          :fc [List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative])&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
}
p_359 -&gt; p_357 [label=&quot;&quot;];
subgraph cluster_358 {
  color=blue;
p_357 [label=&quot;Start ((not (List.length a = List.length b) \|\| b \&lt;\&gt; [] &amp;&amp; a \&lt;\&gt; [])\l       \|\| int_of_bits (ripple_carry_adder a b cin) =\l          (int_of_bits a + int_of_bits b) + int_of_bit cin\l       :name \&quot;1.2\&quot; :time 1.343s)&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_357 -&gt; p_356 [label=&quot;&quot;];
p_356 [label=&quot;Simplify (((((((0 = int_of_bits b \|\| not cin) \|\| a \&lt;\&gt; []) \|\| not (b \&lt;\&gt; []))\l             \|\| not (List.length a = List.length b))\l            &amp;&amp; ((((0 = int_of_bits b + int_of_bit cin \|\| cin) \|\| a \&lt;\&gt; [])\l                 \|\| not (b \&lt;\&gt; []))\l                \|\| not (List.length a = List.length b)))\l           &amp;&amp; (((0 = int_of_bits a \|\| not cin) \|\| b \&lt;\&gt; [])\l               \|\| not (List.length a = List.length b)))\l          &amp;&amp; (((0 = int_of_bits a + int_of_bit cin \|\| cin) \|\| b \&lt;\&gt; [])\l              \|\| not (List.length a = List.length b))\l          :expansions [int_of_bits;\l                       int_of_bits;\l                       int_of_bits;\l                       ripple_carry_adder;\l                       int_of_bits;\l                       int_of_bits;\l                       int_of_bits;\l                       ripple_carry_adder]\l          :rw []\l          :fc [List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative])&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_356 -&gt; p_342 [label=&quot;&quot;];
subgraph cluster_343 {
  color=blue;
p_342 [label=&quot;Start (((0 = int_of_bits a + int_of_bit cin \|\| cin) \|\| b \&lt;\&gt; [])\l       \|\| not (List.length a = List.length b) :name \&quot;1.2.1\&quot; :time 1.222s)&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_342 -&gt; p_341 [label=&quot;&quot;];
p_341 [label=&quot;Simplify (((b \&lt;\&gt; [] \|\| cin) \|\| 0 = int_of_bits a + int_of_bit cin)\l          \|\| not (List.length a = 0) :expansions [List.length] :rw []\l          :fc [List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative])&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_341 -&gt; p_340 [label=&quot;&quot;];
p_340 [label=&quot;Simplify (((0 = int_of_bit cin \|\| cin) \|\| b \&lt;\&gt; []) \|\| not (a = [])\l          :expansions [int_of_bits] :rw [List.len_zero_is_empty]\l          :fc [List.len_nonnegative; List.len_nonnegative])&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_340 -&gt; p_339 [label=&quot;&quot;];
p_339 [label=&quot;Simplify ((b \&lt;\&gt; [] \|\| cin) \|\| 0 = int_of_bit cin :expansions [] :rw [] :fc [])&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_339 -&gt; p_338 [label=&quot;&quot;];
p_338 [label=&quot;Simplify ((b \&lt;\&gt; [] \|\| cin) \|\| 0 = int_of_bit false\l          :expansions [induct; xor; adder_carry_out; induct; induct] \l          :rw [] :fc [])&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_338 -&gt; p_333 [label=&quot;&quot;];
subgraph cluster_337 {
  color=blue;
p_333 [label=&quot;Start ((:var_0: \&lt;\&gt; [] \|\| :var_1:) \|\| 0 = 0 :time 0.009s)&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_333 -&gt; p_332 [label=&quot;&quot;];
p_332 [label=&quot;Simplify (true :expansions [int_of_bit] :rw [] :fc [])&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_332 -&gt; p_331 [label=&quot;&quot;];
p_331 -&gt; p_z3_3773 [label=&quot;&quot;,fontname=&quot;courier&quot;,fontsize=14];
p_z3_3773 [label=&quot;(mp (asserted (not true)) (rewrite (= (not true) false)) false)&quot;,shape=box,fontname=&quot;courier&quot;,fontsize=14];p_331 [label=&quot;unsat&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
}
}
p_356 -&gt; p_346 [label=&quot;&quot;];
subgraph cluster_347 {
  color=blue;
p_346 [label=&quot;Start (((0 = int_of_bits a \|\| not cin) \|\| b \&lt;\&gt; [])\l       \|\| not (List.length a = List.length b) :name \&quot;1.2.2\&quot; :time 1.222s)&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_346 -&gt; p_345 [label=&quot;&quot;];
p_345 [label=&quot;Simplify (((b \&lt;\&gt; [] \|\| 0 = int_of_bits a) \|\| not (List.length a = 0))\l          \|\| not cin :expansions [List.length] :rw []\l          :fc [List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative])&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_345 -&gt; p_344 [label=&quot;&quot;];
p_344 [label=&quot;Simplify (true :expansions [int_of_bits] :rw [List.len_zero_is_empty]\l          :fc [List.len_nonnegative; List.len_nonnegative])&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
}
p_356 -&gt; p_350 [label=&quot;&quot;];
subgraph cluster_351 {
  color=blue;
p_350 [label=&quot;Start ((((0 = int_of_bits b + int_of_bit cin \|\| cin) \|\| a \&lt;\&gt; [])\l        \|\| not (b \&lt;\&gt; []))\l       \|\| not (List.length a = List.length b) :name \&quot;1.2.3\&quot; :time 1.222s)&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_350 -&gt; p_349 [label=&quot;&quot;];
p_349 [label=&quot;Simplify ((((a \&lt;\&gt; [] \|\| cin) \|\| 0 = int_of_bits b + int_of_bit cin)\l           \|\| not (0 = List.length b))\l          \|\| not (b \&lt;\&gt; []) :expansions [List.length] :rw []\l          :fc [List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative])&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_349 -&gt; p_348 [label=&quot;&quot;];
p_348 [label=&quot;Simplify (true :expansions [] :rw [List.len_zero_is_empty]\l          :fc [List.len_nonnegative; List.len_nonnegative])&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
}
p_356 -&gt; p_354 [label=&quot;&quot;];
subgraph cluster_355 {
  color=blue;
p_354 [label=&quot;Start ((((0 = int_of_bits b \|\| not cin) \|\| a \&lt;\&gt; []) \|\| not (b \&lt;\&gt; []))\l       \|\| not (List.length a = List.length b) :name \&quot;1.2.4\&quot; :time 1.222s)&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_354 -&gt; p_353 [label=&quot;&quot;];
p_353 [label=&quot;Simplify ((((a \&lt;\&gt; [] \|\| 0 = int_of_bits b) \|\| not (0 = List.length b))\l           \|\| not (b \&lt;\&gt; []))\l          \|\| not cin :expansions [List.length] :rw []\l          :fc [List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative])&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_353 -&gt; p_352 [label=&quot;&quot;];
p_352 [label=&quot;Simplify (true :expansions [] :rw [List.len_zero_is_empty]\l          :fc [List.len_nonnegative; List.len_nonnegative])&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
}
}
}
}
</textarea><button class="btn btn-primary">Load graph</button><div class="imandra-graphviz-loading display-none">Loading..</div><div class="imandra-graphviz-target"></div><script>
require(['nbextensions/nbimandra/graphviz'], function (graphviz) {
  var target = '#graphviz-bfd6158b-3e7e-410f-ac89-68da43fbca5c';
  graphviz.hydrate(target);
});
</script></div></div></div><script>
require(['nbextensions/nbimandra/alternatives'], function (alternatives) {
  var target = '#alt-236f97cc-4db6-40b3-bb8a-09a026ecd969';
  alternatives.hydrate(target);
});
</script></div></div></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-f81524a9-2329-47ba-8f0e-d777db1fd5d8';
  fold.hydrate(target);
});
</script></div></div></div></div><script>
require(['nbextensions/nbimandra/alternatives'], function (alternatives) {
  var target = '#alt-0c8bc353-a2e3-47e6-aae7-6b531db19130';
  alternatives.hydrate(target);
});
</script></div></div></div>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>If we inspect the proof, we'll find that our rewrite rule <code>single_adder_circuit_correct</code> was used to close our key subgoal under our induction. Beautiful!</p>
<h1 id="Examining-a-flawed-circuit-with-Imandra">Examining a flawed circuit with Imandra<a class="anchor-link" href="#Examining-a-flawed-circuit-with-Imandra">&#182;</a></h1><p>Now that we've verified our adder, let's imagine we'd instead designed a flawed version of our circut and use Imandra to analyse it.</p>
<p>Can you spot the error?</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="try-this-container">
  <a href="https://try.imandra.ai/launch/?next=/h/user-redirect/notebooks/Verifying%20a%20Ripple%20Carry%20Adder.ipynb%23try-cell-33" target="_blank">
    <div class="try-this">Try this!</div>
  </a>
</div>
<div class="input">
<div class="prompt input_prompt">In&nbsp;[19]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ocaml"><pre><span></span><span class="k">let</span> <span class="n">bad_adder_sum</span> <span class="n">a</span> <span class="n">b</span> <span class="n">cin</span> <span class="o">=</span>
  <span class="n">not</span> <span class="o">((</span><span class="n">xor</span> <span class="n">a</span> <span class="n">b</span><span class="o">)</span> <span class="o">||</span> <span class="n">cin</span><span class="o">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt output_prompt">Out[19]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>val bad_adder_sum : bool -&gt; bool -&gt; bool -&gt; bool = &lt;fun&gt;
</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="try-this-container">
  <a href="https://try.imandra.ai/launch/?next=/h/user-redirect/notebooks/Verifying%20a%20Ripple%20Carry%20Adder.ipynb%23try-cell-34" target="_blank">
    <div class="try-this">Try this!</div>
  </a>
</div>
<div class="input">
<div class="prompt input_prompt">In&nbsp;[20]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ocaml"><pre><span></span><span class="k">let</span> <span class="n">bad_adder_carry_out</span> <span class="n">a</span> <span class="n">b</span> <span class="n">cin</span> <span class="o">=</span>
  <span class="o">((</span><span class="n">xor</span> <span class="n">a</span> <span class="n">b</span><span class="o">)</span> <span class="o">&amp;&amp;</span> <span class="n">cin</span><span class="o">)</span> <span class="o">||</span> <span class="o">(</span><span class="n">a</span> <span class="o">&amp;&amp;</span> <span class="n">b</span><span class="o">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt output_prompt">Out[20]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>val bad_adder_carry_out : bool -&gt; bool -&gt; bool -&gt; bool = &lt;fun&gt;
</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="try-this-container">
  <a href="https://try.imandra.ai/launch/?next=/h/user-redirect/notebooks/Verifying%20a%20Ripple%20Carry%20Adder.ipynb%23try-cell-35" target="_blank">
    <div class="try-this">Try this!</div>
  </a>
</div>
<div class="input">
<div class="prompt input_prompt">In&nbsp;[21]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ocaml"><pre><span></span><span class="n">verify</span> <span class="o">(</span><span class="k">fun</span> <span class="n">a</span> <span class="n">b</span> <span class="n">cin</span> <span class="o">-&gt;</span> 
 <span class="n">int_of_bit</span> <span class="o">(</span><span class="n">bad_adder_sum</span> <span class="n">a</span> <span class="n">b</span> <span class="n">cin</span><span class="o">)</span>
    <span class="o">=</span> <span class="n">int_of_bit</span> <span class="n">a</span> <span class="o">+</span> <span class="n">int_of_bit</span> <span class="n">b</span> <span class="o">+</span> <span class="n">int_of_bit</span> <span class="n">cin</span> <span class="o">-</span> <span class="o">(</span><span class="mi">2</span> <span class="o">*</span> <span class="o">(</span><span class="n">int_of_bit</span> <span class="o">(</span><span class="n">bad_adder_carry_out</span> <span class="n">a</span> <span class="n">b</span> <span class="n">cin</span><span class="o">))))</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt output_prompt">Out[21]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>- : bool -&gt; bool -&gt; bool -&gt; bool = &lt;fun&gt;
module CX : sig val a : bool val b : bool val cin : bool end
</pre>
</div>

</div>

<div class="output_area">

<div class="prompt"></div>



<div class="output_html rendered_html output_subarea ">
<div><pre>Counterexample (after 0 steps, 0.011s):
 let a = true
 let b = true
 let cin = true
</pre></div>

</div>

</div>

<div class="output_area">

<div class="prompt"></div>



<div class="output_html rendered_html output_subarea ">
<div><div class="imandra-vr imandra-vr-refuted"><i class="fa fa-times-circle-o"></i><span>Refuted</span></div><div><div class="imandra-alternatives" id="alt-92913048-e338-44e6-8ebf-690800624270"><ul class="nav nav-tabs"><li class="active" data-toggle="tab"><a>call graph</a></li><li class="" data-toggle="tab"><a>proof-attempt</a></li></ul><div class="tab-content"><div class="tab-pane active"><div class="imandra-graphviz" id="graphviz-0fd48bb5-b608-49e8-9f39-6cfc5431df0d"><textarea style="display: none">digraph &quot;call graph&quot; {
goal [label=&quot;not\l((if (not a \&lt;==\&gt; b) \|\| cin then 0 else 1) =\l (((if a then 1 else 0) + (if b then 1 else 0)) + (if cin then 1 else 0))\l + -2 * (if (not a \&lt;==\&gt; b) &amp;&amp; cin \|\| a &amp;&amp; b then 1 else 0))&quot;,shape=box,style=filled,color=&quot;cyan&quot;,fontname=&quot;courier&quot;,fontsize=14];
}
</textarea><button class="btn btn-primary">Load graph</button><div class="imandra-graphviz-loading display-none">Loading..</div><div class="imandra-graphviz-target"></div><script>
require(['nbextensions/nbimandra/graphviz'], function (graphviz) {
  var target = '#graphviz-0fd48bb5-b608-49e8-9f39-6cfc5431df0d';
  graphviz.hydrate(target);
});
</script></div></div><div class="tab-pane"><div class="imandra-proof-top"><div class="imandra-fold panel panel-default" id="fold-cf7eb319-6922-4b0d-b827-201a402107c6"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>proof attempt</span></div></div><div class="panel-body collapse"><div class="imandra-proof"><div class="imandra-alternatives" id="alt-412e4450-0d1b-4aa8-b2ef-2964235605ce"><ul class="nav nav-tabs"><li class="active" data-toggle="tab"><a>summary</a></li><li class="" data-toggle="tab"><a>full</a></li><li class="" data-toggle="tab"><a>graph</a></li></ul><div class="tab-content"><div class="tab-pane active"><div class="imandra-table" id="table-be71c7ed-bc65-483c-b3d6-a651f1353fb1"><table><tr><td><b>ground_instances</b></td><td>0</td></tr><tr><td><b>definitions</b></td><td>0</td></tr><tr><td><b>inductions</b></td><td>0</td></tr><tr><td><b>search_time</b></td><td><pre>0.011s</pre></td></tr><tr><td><b>details</b></td><td><div class="imandra-fold panel panel-default" id="fold-fb9909f8-336a-4106-8ea8-d7802d147893"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>Expand</span></div></div><div class="panel-body collapse"><div class="imandra-table" id="table-ac3f7e8f-1715-4f2e-acd9-e49b6edd368e"><table><tr><td><b>smt_stats</b></td><td><div class="imandra-table" id="table-d5008c09-343c-4f80-a596-8ee22529fc9a"><table><tr><td><b>arith assert lower</b></td><td>5</td></tr><tr><td><b>arith pivots</b></td><td>2</td></tr><tr><td><b>rlimit count</b></td><td>649</td></tr><tr><td><b>mk clause</b></td><td>39</td></tr><tr><td><b>mk bool var</b></td><td>38</td></tr><tr><td><b>arith assert upper</b></td><td>7</td></tr><tr><td><b>decisions</b></td><td>4</td></tr><tr><td><b>propagations</b></td><td>14</td></tr><tr><td><b>arith fixed eqs</b></td><td>1</td></tr><tr><td><b>arith assert diseq</b></td><td>1</td></tr><tr><td><b>final checks</b></td><td>1</td></tr><tr><td><b>added eqs</b></td><td>9</td></tr><tr><td><b>del clause</b></td><td>2</td></tr><tr><td><b>arith eq adapter</b></td><td>6</td></tr><tr><td><b>memory</b></td><td>28.380000</td></tr><tr><td><b>max memory</b></td><td>34.640000</td></tr><tr><td><b>num allocs</b></td><td>26416270075.000000</td></tr></table></div></td></tr></table></div></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-fb9909f8-336a-4106-8ea8-d7802d147893';
  fold.hydrate(target);
});
</script></div></td></tr></table></div></div><div class="tab-pane"><div class="imandra-fold panel panel-default" id="fold-d7831d86-6232-47e9-a2b3-0db6ebf81cba"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>Expand</span></div></div><div class="panel-body collapse"><ul><li><pre>start[0.011s]
  (if not (not (:var_0: = :var_1:) || :var_2:) then 1 else 0) =
  (((if :var_0: then 1 else 0) + (if :var_1: then 1 else 0))
   + (if :var_2: then 1 else 0))
  -
  (2
   * (if not (:var_0: = :var_1:) &amp;&amp; :var_2: || :var_0: &amp;&amp; :var_1: then 1
      else 0))</pre></li><li><div><h4>simplify</h4><div class="imandra-table" id="table-8fabbb18-d483-494b-8699-95914ef19276"><table><tr><td><b>into</b></td><td><pre>(if (not :var_0: &lt;==&gt; :var_1:) || :var_2: then 0 else 1) =
(((if :var_0: then 1 else 0) + (if :var_1: then 1 else 0))
 + (if :var_2: then 1 else 0))
+ -2
  * (if (not :var_0: &lt;==&gt; :var_1:) &amp;&amp; :var_2: || :var_0: &amp;&amp; :var_1: then 1
     else 0)</pre></td></tr><tr><td><b>expansions</b></td><td><pre>[]</pre></td></tr><tr><td><b>rewrite_steps</b></td><td><ul></ul></td></tr><tr><td><b>forward_chaining</b></td><td><ul></ul></td></tr></table></div></div></li><li>Sat (Some  let a = true
 let b = true
 let cin = true
)</li></ul></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-d7831d86-6232-47e9-a2b3-0db6ebf81cba';
  fold.hydrate(target);
});
</script></div></div><div class="tab-pane"><div class="imandra-graphviz" id="graphviz-c7cac420-3bc4-484e-8ef0-d16670657e14"><textarea style="display: none">digraph &quot;proof&quot; {
p_366 [label=&quot;Start ((if not (not (:var_0: = :var_1:) \|\| :var_2:) then 1 else 0) =\l       (((if :var_0: then 1 else 0) + (if :var_1: then 1 else 0))\l        + (if :var_2: then 1 else 0))\l       -\l       (2\l        * (if not (:var_0: = :var_1:) &amp;&amp; :var_2: \|\| :var_0: &amp;&amp; :var_1: \l           then 1 else 0))\l       :time 0.011s)&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_366 -&gt; p_365 [label=&quot;&quot;];
p_365 [label=&quot;Simplify ((if (not :var_0: \&lt;==\&gt; :var_1:) \|\| :var_2: then 0 else 1) =\l          (((if :var_0: then 1 else 0) + (if :var_1: then 1 else 0))\l           + (if :var_2: then 1 else 0))\l          + -2\l            * (if (not :var_0: \&lt;==\&gt; :var_1:) &amp;&amp; :var_2: \|\| :var_0: &amp;&amp; :var_1:\l               then 1 else 0)\l          :expansions [] :rw [] :fc [])&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_365 -&gt; p_364 [label=&quot;&quot;];
p_364 [label=&quot;Sat (Some  let a = true\l let b = true\l let cin = true\l)&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
}
</textarea><button class="btn btn-primary">Load graph</button><div class="imandra-graphviz-loading display-none">Loading..</div><div class="imandra-graphviz-target"></div><script>
require(['nbextensions/nbimandra/graphviz'], function (graphviz) {
  var target = '#graphviz-c7cac420-3bc4-484e-8ef0-d16670657e14';
  graphviz.hydrate(target);
});
</script></div></div></div><script>
require(['nbextensions/nbimandra/alternatives'], function (alternatives) {
  var target = '#alt-412e4450-0d1b-4aa8-b2ef-2964235605ce';
  alternatives.hydrate(target);
});
</script></div></div></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-cf7eb319-6922-4b0d-b827-201a402107c6';
  fold.hydrate(target);
});
</script></div></div></div></div><script>
require(['nbextensions/nbimandra/alternatives'], function (alternatives) {
  var target = '#alt-92913048-e338-44e6-8ebf-690800624270';
  alternatives.hydrate(target);
});
</script></div></div></div>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="try-this-container">
  <a href="https://try.imandra.ai/launch/?next=/h/user-redirect/notebooks/Verifying%20a%20Ripple%20Carry%20Adder.ipynb%23try-cell-36" target="_blank">
    <div class="try-this">Try this!</div>
  </a>
</div>
<div class="input">
<div class="prompt input_prompt">In&nbsp;[22]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ocaml"><pre><span></span><span class="k">let</span> <span class="k">rec</span> <span class="n">bad_ripple_carry_adder</span> <span class="o">(</span><span class="n">a</span> <span class="o">:</span> <span class="kt">bool</span> <span class="kt">list</span><span class="o">)</span> <span class="o">(</span><span class="n">b</span> <span class="o">:</span> <span class="kt">bool</span> <span class="kt">list</span><span class="o">)</span> <span class="o">(</span><span class="n">cin</span> <span class="o">:</span> <span class="kt">bool</span><span class="o">)</span> <span class="o">:</span> <span class="kt">bool</span> <span class="kt">list</span> <span class="o">=</span>
  <span class="k">match</span> <span class="n">a</span><span class="o">,</span> <span class="n">b</span> <span class="k">with</span>
  <span class="o">|</span> <span class="n">a1</span> <span class="o">::</span> <span class="n">a&#39;</span><span class="o">,</span> <span class="n">b1</span> <span class="o">::</span> <span class="n">b&#39;</span> <span class="o">-&gt;</span>
    <span class="n">bad_adder_sum</span> <span class="n">a1</span> <span class="n">b1</span> <span class="n">cin</span> <span class="o">::</span>
    <span class="n">bad_ripple_carry_adder</span> <span class="n">a&#39;</span> <span class="n">b&#39;</span> <span class="o">(</span><span class="n">bad_adder_carry_out</span> <span class="n">a1</span> <span class="n">b1</span> <span class="n">cin</span><span class="o">)</span>
  <span class="o">|</span> <span class="o">_</span> <span class="o">-&gt;</span> <span class="k">if</span> <span class="n">cin</span> <span class="k">then</span> <span class="o">[</span><span class="n">cin</span><span class="o">]</span> <span class="k">else</span> <span class="bp">[]</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt output_prompt">Out[22]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>val bad_ripple_carry_adder : bool list -&gt; bool list -&gt; bool -&gt; bool list =
  &lt;fun&gt;
</pre>
</div>

</div>

<div class="output_area">

<div class="prompt"></div>



<div class="output_html rendered_html output_subarea ">
<div><div class="imandra-fold panel panel-default" id="fold-a1aae41f-0494-4d2b-b186-d535d8437d6a"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>termination proof</span></div></div><div class="panel-body collapse"><div><h3>Termination proof</h3><p></p><div class="imandra-fold panel panel-default" id="fold-957c303d-8fb9-46c0-b1cf-f787ecc03edb"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>call `bad_ripple_carry_adder (List.tl a) (List.tl b)
(bad_adder_carry_out (List.hd a) (List.hd b) cin)` from `bad_ripple_carry_adder a b cin`</span></div></div><div class="panel-body collapse"><div class="imandra-table" id="table-c5ca1180-66a1-4909-9c6a-5c0d56b540ca"><table><tr><td><b>original</b></td><td>bad_ripple_carry_adder a b cin</td></tr><tr><td><b>sub</b></td><td>bad_ripple_carry_adder (List.tl a) (List.tl b)
(bad_adder_carry_out (List.hd a) (List.hd b) cin)</td></tr><tr><td><b>original ordinal</b></td><td>Ordinal.Int (Ordinal.count a)</td></tr><tr><td><b>sub ordinal</b></td><td>Ordinal.Int (Ordinal.count (List.tl a))</td></tr><tr><td><b>path</b></td><td>[b &lt;&gt; [] &amp;&amp; a &lt;&gt; []]</td></tr><tr><td><b>proof</b></td><td><div class="imandra-fold panel panel-default" id="fold-601089ab-8411-4c96-b2ee-2a15f5a844e4"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>detailed proof</span></div></div><div class="panel-body collapse"><div class="imandra-proof"><div class="imandra-alternatives" id="alt-c0106762-c872-4bdf-8759-02a76cb03e28"><ul class="nav nav-tabs"><li class="active" data-toggle="tab"><a>summary</a></li><li class="" data-toggle="tab"><a>full</a></li></ul><div class="tab-content"><div class="tab-pane active"><div class="imandra-table" id="table-3c39b907-8a0a-4524-a580-ef034d7f4eba"><table><tr><td><b>ground_instances</b></td><td>3</td></tr><tr><td><b>definitions</b></td><td>0</td></tr><tr><td><b>inductions</b></td><td>0</td></tr><tr><td><b>search_time</b></td><td><pre>0.021s</pre></td></tr><tr><td><b>details</b></td><td><div class="imandra-fold panel panel-default" id="fold-eb9c0f7c-370f-42ba-ba05-c38fe6619dce"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>Expand</span></div></div><div class="panel-body collapse"><div class="imandra-table" id="table-52e1ce0f-e1db-4660-bc4e-5155d00c4094"><table><tr><td><b>smt_stats</b></td><td><div class="imandra-table" id="table-eb136301-68a3-4e42-8445-68a0e4b738b0"><table><tr><td><b>num checks</b></td><td>8</td></tr><tr><td><b>arith assert lower</b></td><td>7</td></tr><tr><td><b>arith pivots</b></td><td>6</td></tr><tr><td><b>rlimit count</b></td><td>2734</td></tr><tr><td><b>mk clause</b></td><td>30</td></tr><tr><td><b>datatype occurs check</b></td><td>67</td></tr><tr><td><b>mk bool var</b></td><td>86</td></tr><tr><td><b>arith assert upper</b></td><td>5</td></tr><tr><td><b>datatype splits</b></td><td>6</td></tr><tr><td><b>decisions</b></td><td>28</td></tr><tr><td><b>arith add rows</b></td><td>13</td></tr><tr><td><b>propagations</b></td><td>29</td></tr><tr><td><b>conflicts</b></td><td>9</td></tr><tr><td><b>arith fixed eqs</b></td><td>4</td></tr><tr><td><b>datatype accessor ax</b></td><td>10</td></tr><tr><td><b>arith conflicts</b></td><td>1</td></tr><tr><td><b>datatype constructor ax</b></td><td>14</td></tr><tr><td><b>final checks</b></td><td>6</td></tr><tr><td><b>added eqs</b></td><td>88</td></tr><tr><td><b>del clause</b></td><td>16</td></tr><tr><td><b>arith eq adapter</b></td><td>6</td></tr><tr><td><b>memory</b></td><td>30.800000</td></tr><tr><td><b>max memory</b></td><td>34.640000</td></tr><tr><td><b>num allocs</b></td><td>26505004452.000000</td></tr></table></div></td></tr></table></div></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-eb9c0f7c-370f-42ba-ba05-c38fe6619dce';
  fold.hydrate(target);
});
</script></div></td></tr></table></div></div><div class="tab-pane"><div class="imandra-fold panel panel-default" id="fold-dbe18f7a-7b31-4af2-8560-0ce7e5f2d0f7"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>Expand</span></div></div><div class="panel-body collapse"><ul><li><pre>start[0.021s]
  (b &lt;&gt; [] &amp;&amp; a &lt;&gt; [])
  &amp;&amp; Ordinal.count a &gt;= 0 &amp;&amp; Ordinal.count (List.tl a) &gt;= 0
  ==&gt; not ((List.tl b) &lt;&gt; [] &amp;&amp; (List.tl a) &lt;&gt; [])
      || Ordinal.Int (Ordinal.count (List.tl a)) Ordinal.&lt;&lt;
         Ordinal.Int (Ordinal.count a)</pre></li><li><div><h5>simplify</h5><div class="imandra-table" id="table-7a2fd82f-56e2-4a3e-936b-11ce4c32c2a6"><table><tr><td><b>into</b></td><td><pre>(not
 (((b &lt;&gt; [] &amp;&amp; a &lt;&gt; []) &amp;&amp; Ordinal.count a &gt;= 0)
  &amp;&amp; Ordinal.count (List.tl a) &gt;= 0)
 || not ((List.tl b) &lt;&gt; [] &amp;&amp; (List.tl a) &lt;&gt; []))
|| Ordinal.Int (Ordinal.count (List.tl a)) Ordinal.&lt;&lt;
   Ordinal.Int (Ordinal.count a)</pre></td></tr><tr><td><b>expansions</b></td><td><pre>[]</pre></td></tr><tr><td><b>rewrite_steps</b></td><td><ul></ul></td></tr><tr><td><b>forward_chaining</b></td><td><ul></ul></td></tr></table></div></div></li><li><div>unroll<div class="imandra-table" id="table-f823da60-eba5-45f2-99f0-eee8b662e397"><table><tr><td><b>expr</b></td><td><pre>(|\|Ordinal.&lt;&lt;_132\||
  (|\|Ordinal.Int_123\||
    (|\|count_`bool list`_2504\|| (|\|get.::.1_2490\|…</pre></td></tr><tr><td><b>expansions</b></td><td><ul></ul></td></tr></table></div></div></li><li><div>unroll<div class="imandra-table" id="table-a1c221b1-d861-424b-8944-81c02733cec9"><table><tr><td><b>expr</b></td><td><pre>(|\|count_`bool list`_2504\|| (|\|get.::.1_2490\|| a_2491))</pre></td></tr><tr><td><b>expansions</b></td><td><ul></ul></td></tr></table></div></div></li><li><div>unroll<div class="imandra-table" id="table-f15aad5b-e562-4d42-9867-b19a2695b53a"><table><tr><td><b>expr</b></td><td><pre>(|\|count_`bool list`_2504\|| a_2491)</pre></td></tr><tr><td><b>expansions</b></td><td><ul></ul></td></tr></table></div></div></li><li><div><h5>unsat</h5><pre>(let ((a!1 (ite (&gt;= (|\|count_`bool list`_2504\|| (|\|get.::.1_2490\|| a_2491))
                    …</pre></div></li></ul></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-dbe18f7a-7b31-4af2-8560-0ce7e5f2d0f7';
  fold.hydrate(target);
});
</script></div></div></div><script>
require(['nbextensions/nbimandra/alternatives'], function (alternatives) {
  var target = '#alt-c0106762-c872-4bdf-8759-02a76cb03e28';
  alternatives.hydrate(target);
});
</script></div></div></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-601089ab-8411-4c96-b2ee-2a15f5a844e4';
  fold.hydrate(target);
});
</script></div></td></tr></table></div></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-957c303d-8fb9-46c0-b1cf-f787ecc03edb';
  fold.hydrate(target);
});
</script></div><p></p></div></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-a1aae41f-0494-4d2b-b186-d535d8437d6a';
  fold.hydrate(target);
});
</script></div></div>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="try-this-container">
  <a href="https://try.imandra.ai/launch/?next=/h/user-redirect/notebooks/Verifying%20a%20Ripple%20Carry%20Adder.ipynb%23try-cell-37" target="_blank">
    <div class="try-this">Try this!</div>
  </a>
</div>
<div class="input">
<div class="prompt input_prompt">In&nbsp;[23]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ocaml"><pre><span></span><span class="n">instance</span> <span class="o">(</span><span class="k">fun</span> <span class="n">a</span> <span class="n">b</span> <span class="o">-&gt;</span> <span class="n">int_of_bits</span> <span class="o">(</span><span class="n">bad_ripple_carry_adder</span> <span class="n">a</span> <span class="n">b</span> <span class="bp">false</span><span class="o">)</span> <span class="o">&lt;&gt;</span> <span class="n">int_of_bits</span> <span class="n">a</span> <span class="o">+</span> <span class="n">int_of_bits</span> <span class="n">b</span><span class="o">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt output_prompt">Out[23]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>- : bool list -&gt; bool list -&gt; bool = &lt;fun&gt;
module CX : sig val a : &#39;a list val b : bool list end
</pre>
</div>

</div>

<div class="output_area">

<div class="prompt"></div>



<div class="output_html rendered_html output_subarea ">
<div><pre>Instance (after 5 steps, 0.027s):
 let a = []
 let b = [true]
</pre></div>

</div>

</div>

<div class="output_area">

<div class="prompt"></div>



<div class="output_html rendered_html output_subarea ">
<div><div class="imandra-vr imandra-vr-proved"><i class="fa fa-check-circle"></i><span>Instance</span></div><div><div class="imandra-alternatives" id="alt-54e17bfd-6dff-4992-85e5-4a6596a7d59b"><ul class="nav nav-tabs"><li class="active" data-toggle="tab"><a>call graph</a></li><li class="" data-toggle="tab"><a>proof-attempt</a></li></ul><div class="tab-content"><div class="tab-pane active"><div class="imandra-graphviz" id="graphviz-2feed331-8055-4de5-a357-d6cb1208a4e9"><textarea style="display: none">digraph &quot;call graph&quot; {
goal [label=&quot;not\l(int_of_bits (bad_ripple_carry_adder a b false) =\l int_of_bits a + int_of_bits b)&quot;,shape=box,style=filled,color=&quot;cyan&quot;,fontname=&quot;courier&quot;,fontsize=14];
call_16 [label=&quot;bad_ripple_carry_adder a b false&quot;,shape=box,style=filled,color=&quot;green&quot;,fontname=&quot;courier&quot;,fontsize=14];
call_16 -&gt; expr_280 [label=&quot;=&quot;];
expr_280 [label=&quot;if b \&lt;\&gt; [] &amp;&amp; a \&lt;\&gt; []\lthen\l  (not ((not (List.hd a) \&lt;==\&gt; List.hd b) \|\| false)) ::\l  (bad_ripple_carry_adder (List.tl a) (List.tl b)\l   ((not (List.hd a) \&lt;==\&gt; List.hd b) &amp;&amp; false \|\| List.hd a &amp;&amp; List.hd b))\lelse []&quot;,shape=box,style=filled,color=&quot;grey&quot;,fontname=&quot;courier&quot;,fontsize=14];
goal -&gt; call_16 [label=&quot;calls&quot;];
call_778 [label=&quot;int_of_bits (List.tl (List.tl b))&quot;,shape=box,style=filled,color=&quot;yellow&quot;,fontname=&quot;courier&quot;,fontsize=14];
expr_781 -&gt; call_778 [label=&quot;calls&quot;];
call_550 [label=&quot;int_of_bits (List.tl (bad_ripple_carry_adder a b false))&quot;,shape=box,style=filled,color=&quot;yellow&quot;,fontname=&quot;courier&quot;,fontsize=14];
expr_553 -&gt; call_550 [label=&quot;calls&quot;];
call_17 [label=&quot;int_of_bits (bad_ripple_carry_adder a b false)&quot;,shape=box,style=filled,color=&quot;green&quot;,fontname=&quot;courier&quot;,fontsize=14];
call_17 -&gt; expr_553 [label=&quot;=&quot;];
expr_553 [label=&quot;if bad_ripple_carry_adder a b false = [] then 0\lelse\l  (if List.hd (bad_ripple_carry_adder a b false) then 1 else 0)\l  + 2 * int_of_bits (List.tl (bad_ripple_carry_adder a b false))&quot;,shape=box,style=filled,color=&quot;grey&quot;,fontname=&quot;courier&quot;,fontsize=14];
goal -&gt; call_17 [label=&quot;calls&quot;];
call_110 [label=&quot;int_of_bits (List.tl b)&quot;,shape=box,style=filled,color=&quot;green&quot;,fontname=&quot;courier&quot;,fontsize=14];
call_110 -&gt; expr_781 [label=&quot;=&quot;];
expr_781 [label=&quot;if List.tl b = [] then 0\lelse\l  (if List.hd (List.tl b) then 1 else 0)\l  + 2 * int_of_bits (List.tl (List.tl b))&quot;,shape=box,style=filled,color=&quot;grey&quot;,fontname=&quot;courier&quot;,fontsize=14];
expr_113 -&gt; call_110 [label=&quot;calls&quot;];
call_278 [label=&quot;bad_ripple_carry_adder (List.tl a) (List.tl b)\l((not (List.hd a) \&lt;==\&gt; List.hd b) &amp;&amp; false \|\| List.hd a &amp;&amp; List.hd b)&quot;,shape=box,style=filled,color=&quot;yellow&quot;,fontname=&quot;courier&quot;,fontsize=14];
expr_280 -&gt; call_278 [label=&quot;calls&quot;];
call_167 [label=&quot;int_of_bits (List.tl a)&quot;,shape=box,style=filled,color=&quot;yellow&quot;,fontname=&quot;courier&quot;,fontsize=14];
expr_170 -&gt; call_167 [label=&quot;calls&quot;];
call_18 [label=&quot;int_of_bits a&quot;,shape=box,style=filled,color=&quot;green&quot;,fontname=&quot;courier&quot;,fontsize=14];
call_18 -&gt; expr_170 [label=&quot;=&quot;];
expr_170 [label=&quot;if a = [] then 0\lelse (if List.hd a then 1 else 0) + 2 * int_of_bits (List.tl a)&quot;,shape=box,style=filled,color=&quot;grey&quot;,fontname=&quot;courier&quot;,fontsize=14];
goal -&gt; call_18 [label=&quot;calls&quot;];
call_19 [label=&quot;int_of_bits b&quot;,shape=box,style=filled,color=&quot;green&quot;,fontname=&quot;courier&quot;,fontsize=14];
call_19 -&gt; expr_113 [label=&quot;=&quot;];
expr_113 [label=&quot;if b = [] then 0\lelse (if List.hd b then 1 else 0) + 2 * int_of_bits (List.tl b)&quot;,shape=box,style=filled,color=&quot;grey&quot;,fontname=&quot;courier&quot;,fontsize=14];
goal -&gt; call_19 [label=&quot;calls&quot;];
}
</textarea><button class="btn btn-primary">Load graph</button><div class="imandra-graphviz-loading display-none">Loading..</div><div class="imandra-graphviz-target"></div><script>
require(['nbextensions/nbimandra/graphviz'], function (graphviz) {
  var target = '#graphviz-2feed331-8055-4de5-a357-d6cb1208a4e9';
  graphviz.hydrate(target);
});
</script></div></div><div class="tab-pane"><div class="imandra-proof-top"><div class="imandra-fold panel panel-default" id="fold-0aded95b-9304-454d-87d0-fe6b58417c9f"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>proof attempt</span></div></div><div class="panel-body collapse"><div class="imandra-proof"><div class="imandra-alternatives" id="alt-d83b0c4e-c1d5-4cbc-ba8c-865608005234"><ul class="nav nav-tabs"><li class="active" data-toggle="tab"><a>summary</a></li><li class="" data-toggle="tab"><a>full</a></li><li class="" data-toggle="tab"><a>graph</a></li></ul><div class="tab-content"><div class="tab-pane active"><div class="imandra-table" id="table-32f9ff8a-be40-4bc3-af7c-998d23263ed2"><table><tr><td><b>ground_instances</b></td><td>5</td></tr><tr><td><b>definitions</b></td><td>7</td></tr><tr><td><b>inductions</b></td><td>0</td></tr><tr><td><b>search_time</b></td><td><pre>0.027s</pre></td></tr><tr><td><b>details</b></td><td><div class="imandra-fold panel panel-default" id="fold-e8c1d87d-5e52-4f0b-830b-afc64d48554f"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>Expand</span></div></div><div class="panel-body collapse"><div class="imandra-table" id="table-baab2f26-83d7-4936-9bf6-f46e7f34230a"><table><tr><td><b>smt_stats</b></td><td><div class="imandra-table" id="table-dfccd06b-cba7-44da-be3e-ba41d20278dc"><table><tr><td><b>arith offset eqs</b></td><td>5</td></tr><tr><td><b>num checks</b></td><td>11</td></tr><tr><td><b>arith assert lower</b></td><td>54</td></tr><tr><td><b>arith pivots</b></td><td>32</td></tr><tr><td><b>rlimit count</b></td><td>5075</td></tr><tr><td><b>mk clause</b></td><td>185</td></tr><tr><td><b>datatype occurs check</b></td><td>172</td></tr><tr><td><b>mk bool var</b></td><td>331</td></tr><tr><td><b>arith gcd tests</b></td><td>7</td></tr><tr><td><b>arith assert upper</b></td><td>64</td></tr><tr><td><b>datatype splits</b></td><td>29</td></tr><tr><td><b>decisions</b></td><td>145</td></tr><tr><td><b>arith add rows</b></td><td>83</td></tr><tr><td><b>arith bound prop</b></td><td>8</td></tr><tr><td><b>propagations</b></td><td>201</td></tr><tr><td><b>conflicts</b></td><td>22</td></tr><tr><td><b>arith fixed eqs</b></td><td>19</td></tr><tr><td><b>datatype accessor ax</b></td><td>19</td></tr><tr><td><b>minimized lits</b></td><td>1</td></tr><tr><td><b>arith conflicts</b></td><td>1</td></tr><tr><td><b>arith assert diseq</b></td><td>24</td></tr><tr><td><b>datatype constructor ax</b></td><td>38</td></tr><tr><td><b>final checks</b></td><td>23</td></tr><tr><td><b>added eqs</b></td><td>373</td></tr><tr><td><b>del clause</b></td><td>85</td></tr><tr><td><b>arith ineq splits</b></td><td>2</td></tr><tr><td><b>arith eq adapter</b></td><td>54</td></tr><tr><td><b>memory</b></td><td>31.330000</td></tr><tr><td><b>max memory</b></td><td>34.640000</td></tr><tr><td><b>num allocs</b></td><td>26693664752.000000</td></tr></table></div></td></tr></table></div></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-e8c1d87d-5e52-4f0b-830b-afc64d48554f';
  fold.hydrate(target);
});
</script></div></td></tr></table></div></div><div class="tab-pane"><div class="imandra-fold panel panel-default" id="fold-93b79710-7a51-4ee6-97b0-63a02d7de979"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>Expand</span></div></div><div class="panel-body collapse"><ul><li><pre>start[0.027s]
  not
  (int_of_bits (bad_ripple_carry_adder :var_0: :var_1: false) =
   int_of_bits :var_0: + int_of_bits :var_1:)</pre></li><li><div>unroll<div class="imandra-table" id="table-d46283b2-81d7-4683-b3ba-b7f6e48c8014"><table><tr><td><b>expr</b></td><td><pre>(int_of_bits_2321 b_2508)</pre></td></tr><tr><td><b>expansions</b></td><td><pre>int_of_bit</pre></td></tr></table></div></div></li><li><div>unroll<div class="imandra-table" id="table-94a257cd-a690-460d-92c4-a45dbfdfbc2e"><table><tr><td><b>expr</b></td><td><pre>(int_of_bits_2321 a_2507)</pre></td></tr><tr><td><b>expansions</b></td><td><pre>int_of_bit</pre></td></tr></table></div></div></li><li><div>unroll<div class="imandra-table" id="table-ef6b6a0f-5969-46c5-95f4-269c7eafa236"><table><tr><td><b>expr</b></td><td><pre>(bad_ripple_carry_adder_2477 a_2507 b_2508 false)</pre></td></tr><tr><td><b>expansions</b></td><td><ul><li><pre>xor</pre></li><li><pre>xorbad_adder_sum</pre></li><li><pre>xorbad_adder_sumbad_adder_carry_out</pre></li></ul></td></tr></table></div></div></li><li><div>unroll<div class="imandra-table" id="table-1f340ba5-cc23-45cf-b654-8a0dad83547c"><table><tr><td><b>expr</b></td><td><pre>(int_of_bits_2321 (bad_ripple_carry_adder_2477 a_2507 b_2508 false))</pre></td></tr><tr><td><b>expansions</b></td><td><pre>int_of_bit</pre></td></tr></table></div></div></li><li><div>unroll<div class="imandra-table" id="table-4bf8c259-7955-437e-af16-17868fa13e0d"><table><tr><td><b>expr</b></td><td><pre>(int_of_bits_2321 (|\|get.::.1_2514\|| b_2508))</pre></td></tr><tr><td><b>expansions</b></td><td><pre>int_of_bit</pre></td></tr></table></div></div></li><li>Sat (Some  let a = []
 let b = [true]
)</li></ul></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-93b79710-7a51-4ee6-97b0-63a02d7de979';
  fold.hydrate(target);
});
</script></div></div><div class="tab-pane"><div class="imandra-graphviz" id="graphviz-4db020dc-4a9c-475e-964a-505109a512cd"><textarea style="display: none">digraph &quot;proof&quot; {
p_379 [label=&quot;Start (not\l       (int_of_bits (bad_ripple_carry_adder :var_0: :var_1: false) =\l        int_of_bits :var_0: + int_of_bits :var_1:)\l       :time 0.027s)&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_379 -&gt; p_378 [label=&quot;&quot;];
p_378 [label=&quot;Unroll ([int_of_bits b], [[int_of_bit]])&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_378 -&gt; p_377 [label=&quot;&quot;];
p_377 [label=&quot;Unroll ([int_of_bits a], [[int_of_bit]])&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_377 -&gt; p_376 [label=&quot;&quot;];
p_376 [label=&quot;Unroll ([bad_ripple_carry_adder a b false],\l        [[xor; bad_adder_sum; bad_adder_carry_out]])&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_376 -&gt; p_375 [label=&quot;&quot;];
p_375 [label=&quot;Unroll ([int_of_bits (bad_ripple_carry_adder a b false)], [[int_of_bit]])&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_375 -&gt; p_374 [label=&quot;&quot;];
p_374 [label=&quot;Unroll ([int_of_bits (List.tl b)], [[int_of_bit]])&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_374 -&gt; p_373 [label=&quot;&quot;];
p_373 [label=&quot;Sat (Some  let a = []\l let b = [true]\l)&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
}
</textarea><button class="btn btn-primary">Load graph</button><div class="imandra-graphviz-loading display-none">Loading..</div><div class="imandra-graphviz-target"></div><script>
require(['nbextensions/nbimandra/graphviz'], function (graphviz) {
  var target = '#graphviz-4db020dc-4a9c-475e-964a-505109a512cd';
  graphviz.hydrate(target);
});
</script></div></div></div><script>
require(['nbextensions/nbimandra/alternatives'], function (alternatives) {
  var target = '#alt-d83b0c4e-c1d5-4cbc-ba8c-865608005234';
  alternatives.hydrate(target);
});
</script></div></div></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-0aded95b-9304-454d-87d0-fe6b58417c9f';
  fold.hydrate(target);
});
</script></div></div></div></div><script>
require(['nbextensions/nbimandra/alternatives'], function (alternatives) {
  var target = '#alt-54e17bfd-6dff-4992-85e5-4a6596a7d59b';
  alternatives.hydrate(target);
});
</script></div></div></div>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Happy verifying!</p>

</div>
</div>
</div>
  
 


      </div><div class="content-nav">
          <ul>
          
            <li class="content-nav__item content-nav__item--h1"><a href="#Verifying-a-Ripple-Carry-Adder-in-Imandra">Verifying a Ripple-Carry Adder in Imandra</a></li>
          
            <li class="content-nav__item content-nav__item--h1"><a href="#Building-the-circuit-in-Imandra">Building the circuit in Imandra</a></li>
          
            <li class="content-nav__item content-nav__item--h1"><a href="#Relating-bit-sequences-to-natural-numbers">Relating bit sequences to natural numbers</a></li>
          
            <li class="content-nav__item content-nav__item--h1"><a href="#Verifying-our-circuit:-The-adder-is-correct-for-all-possible-inputs">Verifying our circuit: The adder is correct for all possible inputs</a></li>
          
            <li class="content-nav__item content-nav__item--h1"><a href="#Examining-a-flawed-circuit-with-Imandra">Examining a flawed circuit with Imandra</a></li>
          
          </ul>
        </div></div>
  </div>
</body>
</html>
