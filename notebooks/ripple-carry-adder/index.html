<!DOCTYPE html>
<html>
<head><meta charset="utf-8" />
<meta content="width=device-width, initial-scale=1.0" name="viewport">
<title>Imandra Documentation - Verifying a Ripple Carry Adder</title>
<meta property="og:url" content="https://docs.imandra.ai/imandra-docs/notebooks/ripple-carry-adder/">
<meta property="og:type" content="website">
<meta property="og:title" content="Imandra Documentation - Verifying a Ripple Carry Adder">
<meta property="og:description" content="In this notebook, we'll verify a simple hardware design in Imandra, that of a full (arbitrary width) ripple-carry adder. We'll express this simple piece of hardware at the gate level. The theorem we'll prove expresses that our (arbitrary width) adder circuit is correct for all possible bit sequences.">
<meta property="og:image" content="https://storage.googleapis.com/imandra-assets/images/og_image_default_i78.jpg">



<script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.1.10/require.min.js"></script>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Merriweather" type="text/css" />

<link rel="stylesheet" href="/imandra-docs/static/style/style.min.910c246e.css" type="text/css">
<link rel="stylesheet" href="/imandra-docs/static/custom/custom.43522872.css" type="text/css">
<link rel="stylesheet" href="/imandra-docs/static/nbextensions/nbimandra/styles.c7ed3d1a.css" type="text/css">
<link rel="stylesheet" href="/imandra-docs/static/docs-styles.f1666efd.css" type="text/css">

<script src="/imandra-docs/static/nbimandra-rjs-bundle.26eac81a.js"></script>

<style type="text/css">
.highlight .hll { background-color: #ffffcc }
.highlight  { background: #f8f8f8; }
.highlight .c { color: #408080; font-style: italic } /* Comment */
.highlight .err { border: 1px solid #FF0000 } /* Error */
.highlight .k { color: #008000; font-weight: bold } /* Keyword */
.highlight .o { color: #666666 } /* Operator */
.highlight .ch { color: #408080; font-style: italic } /* Comment.Hashbang */
.highlight .cm { color: #408080; font-style: italic } /* Comment.Multiline */
.highlight .cp { color: #BC7A00 } /* Comment.Preproc */
.highlight .cpf { color: #408080; font-style: italic } /* Comment.PreprocFile */
.highlight .c1 { color: #408080; font-style: italic } /* Comment.Single */
.highlight .cs { color: #408080; font-style: italic } /* Comment.Special */
.highlight .gd { color: #A00000 } /* Generic.Deleted */
.highlight .ge { font-style: italic } /* Generic.Emph */
.highlight .gr { color: #FF0000 } /* Generic.Error */
.highlight .gh { color: #000080; font-weight: bold } /* Generic.Heading */
.highlight .gi { color: #00A000 } /* Generic.Inserted */
.highlight .go { color: #888888 } /* Generic.Output */
.highlight .gp { color: #000080; font-weight: bold } /* Generic.Prompt */
.highlight .gs { font-weight: bold } /* Generic.Strong */
.highlight .gu { color: #800080; font-weight: bold } /* Generic.Subheading */
.highlight .gt { color: #0044DD } /* Generic.Traceback */
.highlight .kc { color: #008000; font-weight: bold } /* Keyword.Constant */
.highlight .kd { color: #008000; font-weight: bold } /* Keyword.Declaration */
.highlight .kn { color: #008000; font-weight: bold } /* Keyword.Namespace */
.highlight .kp { color: #008000 } /* Keyword.Pseudo */
.highlight .kr { color: #008000; font-weight: bold } /* Keyword.Reserved */
.highlight .kt { color: #B00040 } /* Keyword.Type */
.highlight .m { color: #666666 } /* Literal.Number */
.highlight .s { color: #BA2121 } /* Literal.String */
.highlight .na { color: #7D9029 } /* Name.Attribute */
.highlight .nb { color: #008000 } /* Name.Builtin */
.highlight .nc { color: #0000FF; font-weight: bold } /* Name.Class */
.highlight .no { color: #880000 } /* Name.Constant */
.highlight .nd { color: #AA22FF } /* Name.Decorator */
.highlight .ni { color: #999999; font-weight: bold } /* Name.Entity */
.highlight .ne { color: #D2413A; font-weight: bold } /* Name.Exception */
.highlight .nf { color: #0000FF } /* Name.Function */
.highlight .nl { color: #A0A000 } /* Name.Label */
.highlight .nn { color: #0000FF; font-weight: bold } /* Name.Namespace */
.highlight .nt { color: #008000; font-weight: bold } /* Name.Tag */
.highlight .nv { color: #19177C } /* Name.Variable */
.highlight .ow { color: #AA22FF; font-weight: bold } /* Operator.Word */
.highlight .w { color: #bbbbbb } /* Text.Whitespace */
.highlight .mb { color: #666666 } /* Literal.Number.Bin */
.highlight .mf { color: #666666 } /* Literal.Number.Float */
.highlight .mh { color: #666666 } /* Literal.Number.Hex */
.highlight .mi { color: #666666 } /* Literal.Number.Integer */
.highlight .mo { color: #666666 } /* Literal.Number.Oct */
.highlight .sa { color: #BA2121 } /* Literal.String.Affix */
.highlight .sb { color: #BA2121 } /* Literal.String.Backtick */
.highlight .sc { color: #BA2121 } /* Literal.String.Char */
.highlight .dl { color: #BA2121 } /* Literal.String.Delimiter */
.highlight .sd { color: #BA2121; font-style: italic } /* Literal.String.Doc */
.highlight .s2 { color: #BA2121 } /* Literal.String.Double */
.highlight .se { color: #BB6622; font-weight: bold } /* Literal.String.Escape */
.highlight .sh { color: #BA2121 } /* Literal.String.Heredoc */
.highlight .si { color: #BB6688; font-weight: bold } /* Literal.String.Interpol */
.highlight .sx { color: #008000 } /* Literal.String.Other */
.highlight .sr { color: #BB6688 } /* Literal.String.Regex */
.highlight .s1 { color: #BA2121 } /* Literal.String.Single */
.highlight .ss { color: #19177C } /* Literal.String.Symbol */
.highlight .bp { color: #008000 } /* Name.Builtin.Pseudo */
.highlight .fm { color: #0000FF } /* Name.Function.Magic */
.highlight .vc { color: #19177C } /* Name.Variable.Class */
.highlight .vg { color: #19177C } /* Name.Variable.Global */
.highlight .vi { color: #19177C } /* Name.Variable.Instance */
.highlight .vm { color: #19177C } /* Name.Variable.Magic */
.highlight .il { color: #666666 } /* Literal.Number.Integer.Long */
</style>
    
<!-- Loading mathjax macro -->
<!-- Load mathjax -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS_HTML"></script>
    <!-- MathJax configuration -->
    <script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        tex2jax: {
            inlineMath: [ ['$','$'], ["\\(","\\)"] ],
            displayMath: [ ['$$','$$'], ["\\[","\\]"] ],
            processEscapes: true,
            processEnvironments: true
        },
        // Center justify equations in code and markdown cells. Elsewhere
        // we use CSS to left justify single line equations in code cells.
        displayAlign: 'center',
        "HTML-CSS": {
            styles: {'.MathJax_Display': {"margin": 0}},
            linebreaks: { automatic: true }
        }
    });
    </script>
    <!-- End of mathjax configuration --></head>
<body>
  <div class="header-nav">
    <a href="/imandra-docs/">&lt; Back</a>
  </div>
  <div class="bg-container">
    <div class="bg-container__bg"></div>
    <div class="container">
      <header class="header">
        <a href="/imandra-docs/">
          <img src="/imandra-docs/static/img/site_specific_image_v_2.svg">
        </a>
      </header>
      <div class="content content--with-cells">
  
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="Verifying-a-Ripple-Carry-Adder-in-Imandra">Verifying a Ripple-Carry Adder in Imandra<a class="anchor-link" href="#Verifying-a-Ripple-Carry-Adder-in-Imandra">&#182;</a></h1><p><img src="https://upload.wikimedia.org/wikipedia/commons/5/57/Fulladder.gif"></p>
<p>In this notebook, we'll verify a simple hardware design in Imandra, that of a full (arbitrary width) <em>ripple-carry adder</em>.</p>
<p>We'll express this simple piece of hardware at the <em>gate</em> level.</p>
<p>The correctness theorem we'll prove is as follows:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<div class="highlight"><pre><span></span><span class="n">theorem</span> <span class="n">full_ripple_carry_adder_correct</span> <span class="n">a</span> <span class="n">b</span> <span class="n">cin</span> <span class="o">=</span>
  <span class="nn">List</span><span class="p">.</span><span class="n">length</span> <span class="n">a</span> <span class="o">=</span> <span class="nn">List</span><span class="p">.</span><span class="n">length</span> <span class="n">b</span> <span class="o">==&gt;</span>
  <span class="n">int_of_bits</span> <span class="o">(</span><span class="n">ripple_carry_adder</span> <span class="n">a</span> <span class="n">b</span> <span class="n">cin</span><span class="o">)</span> <span class="o">=</span>
  <span class="n">int_of_bits</span> <span class="n">a</span> <span class="o">+</span> <span class="n">int_of_bits</span> <span class="n">b</span> <span class="o">+</span> <span class="n">int_of_bit</span> <span class="n">cin</span>
</pre></div>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>This theorem expresses that our (arbitrary width) adder circuit is correct for all possible bit sequences.</p>
<h1 id="Building-the-circuit-in-Imandra">Building the circuit in Imandra<a class="anchor-link" href="#Building-the-circuit-in-Imandra">&#182;</a></h1><p>We begin by defining <code>xor</code> and our basic building blocks <code>adder_sum</code> and <code>adder_carry_out</code>.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="try-this-container">
  <div class="try-this"><a href="https://try.imandra.ai/launch/?next=/h/user-redirect/notebooks/Verifying%20a%20Ripple%20Carry%20Adder.ipynb%23try-cell-4" target="_blank">Try this!</a></div>
</div>
<div class="input">
<div class="prompt input_prompt">In&nbsp;[1]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ocaml"><pre><span></span><span class="k">let</span> <span class="n">xor</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="kt">bool</span><span class="o">)</span> <span class="o">(</span><span class="n">y</span> <span class="o">:</span> <span class="kt">bool</span><span class="o">)</span> <span class="o">:</span> <span class="kt">bool</span> <span class="o">=</span> <span class="n">x</span> <span class="o">&lt;&gt;</span> <span class="n">y</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt output_prompt">Out[1]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>val xor : bool -&gt; bool -&gt; bool = &lt;fun&gt;
</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>We now define the basic sum and carry circuits for our adder.</p>
<table border="0">
    <tr><td><img src="https://upload.wikimedia.org/wikipedia/commons/thumb/4/48/1-bit_full-adder.svg/215px-1-bit_full-adder.svg.png"></td><td>&nbsp;</td><td><img src="https://upload.wikimedia.org/wikipedia/commons/thumb/6/69/Full-adder_logic_diagram.svg/400px-Full-adder_logic_diagram.svg.png"></td></tr>
</table><p>We'll define two functions: <code>adder_sum</code> and <code>adder_carry_out</code>. Notice these are purely logical (<em>"combinational"</em>), i.e., they're defined using combinations of logic gates like <code>xor</code>, <code>and</code> (<code>&amp;&amp;</code>), and <code>or</code> (<code>||</code>) operating on <code>bool</code> values.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="try-this-container">
  <div class="try-this"><a href="https://try.imandra.ai/launch/?next=/h/user-redirect/notebooks/Verifying%20a%20Ripple%20Carry%20Adder.ipynb%23try-cell-6" target="_blank">Try this!</a></div>
</div>
<div class="input">
<div class="prompt input_prompt">In&nbsp;[2]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ocaml"><pre><span></span><span class="k">let</span> <span class="n">adder_sum</span> <span class="n">a</span> <span class="n">b</span> <span class="n">cin</span> <span class="o">=</span>
  <span class="n">xor</span> <span class="o">(</span><span class="n">xor</span> <span class="n">a</span> <span class="n">b</span><span class="o">)</span> <span class="n">cin</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt output_prompt">Out[2]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>val adder_sum : bool -&gt; bool -&gt; bool -&gt; bool = &lt;fun&gt;
</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="try-this-container">
  <div class="try-this"><a href="https://try.imandra.ai/launch/?next=/h/user-redirect/notebooks/Verifying%20a%20Ripple%20Carry%20Adder.ipynb%23try-cell-7" target="_blank">Try this!</a></div>
</div>
<div class="input">
<div class="prompt input_prompt">In&nbsp;[3]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ocaml"><pre><span></span><span class="k">let</span> <span class="n">adder_carry_out</span> <span class="n">a</span> <span class="n">b</span> <span class="n">cin</span> <span class="o">=</span>
  <span class="o">((</span><span class="n">xor</span> <span class="n">a</span> <span class="n">b</span><span class="o">)</span> <span class="o">&amp;&amp;</span> <span class="n">cin</span><span class="o">)</span> <span class="o">||</span> <span class="o">(</span><span class="n">a</span> <span class="o">&amp;&amp;</span> <span class="n">b</span><span class="o">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt output_prompt">Out[3]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>val adder_carry_out : bool -&gt; bool -&gt; bool -&gt; bool = &lt;fun&gt;
</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>To help us understand and document how it works, we can use Imandra's <code>Document</code> machinery to produce a truth-table for our one-bit full adder circuit:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="try-this-container">
  <div class="try-this"><a href="https://try.imandra.ai/launch/?next=/h/user-redirect/notebooks/Verifying%20a%20Ripple%20Carry%20Adder.ipynb%23try-cell-9" target="_blank">Try this!</a></div>
</div>
<div class="input">
<div class="prompt input_prompt">In&nbsp;[4]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ocaml"><pre><span></span><span class="k">let</span> <span class="n">args</span> <span class="o">=</span> <span class="nn">CCList</span><span class="p">.</span><span class="n">cartesian_product</span> <span class="o">[[</span><span class="bp">true</span><span class="o">;</span> <span class="bp">false</span><span class="o">];</span> <span class="o">[</span><span class="bp">true</span><span class="o">;</span> <span class="bp">false</span><span class="o">];</span> <span class="o">[</span><span class="bp">true</span><span class="o">;</span> <span class="bp">false</span><span class="o">]]</span> <span class="k">in</span>
<span class="k">let</span> <span class="n">pb</span> <span class="n">b</span> <span class="o">=</span> <span class="nn">Document</span><span class="p">.</span><span class="n">s</span> <span class="o">(</span><span class="n">string_of_bool</span> <span class="n">b</span><span class="o">)</span> <span class="k">in</span>
<span class="nn">Imandra</span><span class="p">.</span><span class="n">display</span> <span class="o">@@</span> 
 <span class="nn">Document</span><span class="p">.</span><span class="o">(</span><span class="n">tbl</span> <span class="o">~</span><span class="n">headers</span><span class="o">:[</span><span class="s2">&quot;a&quot;</span><span class="o">;</span><span class="s2">&quot;b&quot;</span><span class="o">;</span><span class="s2">&quot;cin&quot;</span><span class="o">;</span><span class="s2">&quot;sum&quot;</span><span class="o">;</span><span class="s2">&quot;cout&quot;</span><span class="o">]</span> <span class="o">@@</span>
  <span class="nn">List</span><span class="p">.</span><span class="n">map</span> <span class="o">(</span><span class="k">function</span> <span class="o">[</span><span class="n">a</span><span class="o">;</span><span class="n">b</span><span class="o">;</span><span class="n">cin</span><span class="o">]</span> <span class="o">-&gt;</span> 
   <span class="o">[</span><span class="n">pb</span> <span class="n">a</span><span class="o">;</span> <span class="n">pb</span> <span class="n">b</span><span class="o">;</span> <span class="n">pb</span> <span class="n">cin</span><span class="o">;</span> <span class="n">pb</span> <span class="o">(</span><span class="n">adder_sum</span> <span class="n">a</span> <span class="n">b</span> <span class="n">cin</span><span class="o">);</span> <span class="n">pb</span> <span class="o">(</span><span class="n">adder_carry_out</span> <span class="n">a</span> <span class="n">b</span> <span class="n">cin</span><span class="o">)]</span>
   <span class="o">|</span> <span class="o">_</span> <span class="o">-&gt;</span> <span class="bp">[]</span><span class="o">)</span>
   <span class="n">args</span><span class="o">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt output_prompt">Out[4]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>- : unit = ()
</pre>
</div>

</div>

<div class="output_area">

<div class="prompt"></div>



<div class="output_html rendered_html output_subarea ">
<div><div class="imandra-table" id="table-41f5b185-9ea1-44f7-9e8e-78e60bc0207f"><table><thead><tr><th>a</th><th>b</th><th>cin</th><th>sum</th><th>cout</th></tr></thead><tr><td>false</td><td>false</td><td>false</td><td>false</td><td>false</td></tr><tr><td>false</td><td>false</td><td>true</td><td>true</td><td>false</td></tr><tr><td>false</td><td>true</td><td>false</td><td>true</td><td>false</td></tr><tr><td>false</td><td>true</td><td>true</td><td>false</td><td>true</td></tr><tr><td>true</td><td>false</td><td>false</td><td>true</td><td>false</td></tr><tr><td>true</td><td>false</td><td>true</td><td>false</td><td>true</td></tr><tr><td>true</td><td>true</td><td>false</td><td>false</td><td>true</td></tr><tr><td>true</td><td>true</td><td>true</td><td>true</td><td>true</td></tr></table></div></div>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>We can now define our ripple-carry adder, for arbitrary length bitvector inputs.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="try-this-container">
  <div class="try-this"><a href="https://try.imandra.ai/launch/?next=/h/user-redirect/notebooks/Verifying%20a%20Ripple%20Carry%20Adder.ipynb%23try-cell-11" target="_blank">Try this!</a></div>
</div>
<div class="input">
<div class="prompt input_prompt">In&nbsp;[5]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ocaml"><pre><span></span><span class="k">let</span> <span class="k">rec</span> <span class="n">ripple_carry_adder</span> <span class="o">(</span><span class="n">a</span> <span class="o">:</span> <span class="kt">bool</span> <span class="kt">list</span><span class="o">)</span> <span class="o">(</span><span class="n">b</span> <span class="o">:</span> <span class="kt">bool</span> <span class="kt">list</span><span class="o">)</span> <span class="o">(</span><span class="n">cin</span> <span class="o">:</span> <span class="kt">bool</span><span class="o">)</span> <span class="o">:</span> <span class="kt">bool</span> <span class="kt">list</span> <span class="o">=</span>
  <span class="k">match</span> <span class="n">a</span><span class="o">,</span> <span class="n">b</span> <span class="k">with</span>
  <span class="o">|</span> <span class="n">a1</span> <span class="o">::</span> <span class="n">a&#39;</span><span class="o">,</span> <span class="n">b1</span> <span class="o">::</span> <span class="n">b&#39;</span> <span class="o">-&gt;</span>
    <span class="n">adder_sum</span> <span class="n">a1</span> <span class="n">b1</span> <span class="n">cin</span> <span class="o">::</span>
    <span class="n">ripple_carry_adder</span> <span class="n">a&#39;</span> <span class="n">b&#39;</span> <span class="o">(</span><span class="n">adder_carry_out</span> <span class="n">a1</span> <span class="n">b1</span> <span class="n">cin</span><span class="o">)</span>
  <span class="o">|</span> <span class="o">_</span> <span class="o">-&gt;</span> <span class="k">if</span> <span class="n">cin</span> <span class="k">then</span> <span class="o">[</span><span class="n">cin</span><span class="o">]</span> <span class="k">else</span> <span class="bp">[]</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt output_prompt">Out[5]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>val ripple_carry_adder : bool list -&gt; bool list -&gt; bool -&gt; bool list = &lt;fun&gt;
</pre>
</div>

</div>

<div class="output_area">

<div class="prompt"></div>



<div class="output_html rendered_html output_subarea ">
<div><div class="imandra-fold panel panel-default" id="fold-6900336b-b59f-4df9-baa1-e9462c9e5985"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>termination proof</span></div></div><div class="panel-body collapse"><div><h3>Termination proof</h3><p></p><div class="imandra-fold panel panel-default" id="fold-bdc1dd9c-a1b9-4e8d-b7eb-4f284c176b6f"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>call `ripple_carry_adder (List.tl a) (List.tl b)
(adder_carry_out (List.hd a) (List.hd b) cin)` from `ripple_carry_adder a b cin`</span></div></div><div class="panel-body collapse"><div class="imandra-table" id="table-3906af93-11e7-415c-9a3b-996f9e9ebf92"><table><tr><td><b>original</b></td><td>ripple_carry_adder a b cin</td></tr><tr><td><b>sub</b></td><td>ripple_carry_adder (List.tl a) (List.tl b)
(adder_carry_out (List.hd a) (List.hd b) cin)</td></tr><tr><td><b>original ordinal</b></td><td>Ordinal.Int (Ordinal.count a)</td></tr><tr><td><b>sub ordinal</b></td><td>Ordinal.Int (Ordinal.count (List.tl a))</td></tr><tr><td><b>path</b></td><td>[b &lt;&gt; [] &amp;&amp; a &lt;&gt; []]</td></tr><tr><td><b>proof</b></td><td><div class="imandra-fold panel panel-default" id="fold-a5ccdaac-b961-4124-8b86-418db2e29f46"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>detailed proof</span></div></div><div class="panel-body collapse"><div class="imandra-proof"><div class="imandra-alternatives" id="alt-73ecee9a-9cda-4c5c-8f84-fed57b0928c8"><ul class="nav nav-tabs"><li class="active" data-toggle="tab"><a>summary</a></li><li class="" data-toggle="tab"><a>full</a></li></ul><div class="tab-content"><div class="tab-pane active"><div class="imandra-table" id="table-07fb20c6-98ae-48a2-af2f-f2ad58829039"><table><tr><td><b>ground_instances</b></td><td>3</td></tr><tr><td><b>definitions</b></td><td>0</td></tr><tr><td><b>inductions</b></td><td>0</td></tr><tr><td><b>search_time</b></td><td><pre>0.023s</pre></td></tr><tr><td><b>details</b></td><td><div class="imandra-fold panel panel-default" id="fold-7e13dc83-007a-44a5-90e0-fd43d99354f7"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>Expand</span></div></div><div class="panel-body collapse"><div class="imandra-table" id="table-996288a8-952b-416f-b9e1-420df61cc22a"><table><tr><td><b>smt_stats</b></td><td><div class="imandra-table" id="table-591ce49b-bf6f-4de3-acdc-111909c063a1"><table><tr><td><b>num checks</b></td><td>8</td></tr><tr><td><b>arith assert lower</b></td><td>7</td></tr><tr><td><b>arith pivots</b></td><td>6</td></tr><tr><td><b>rlimit count</b></td><td>2090</td></tr><tr><td><b>mk clause</b></td><td>30</td></tr><tr><td><b>datatype occurs check</b></td><td>67</td></tr><tr><td><b>mk bool var</b></td><td>86</td></tr><tr><td><b>arith assert upper</b></td><td>5</td></tr><tr><td><b>datatype splits</b></td><td>6</td></tr><tr><td><b>decisions</b></td><td>28</td></tr><tr><td><b>arith add rows</b></td><td>13</td></tr><tr><td><b>propagations</b></td><td>29</td></tr><tr><td><b>conflicts</b></td><td>9</td></tr><tr><td><b>arith fixed eqs</b></td><td>4</td></tr><tr><td><b>datatype accessor ax</b></td><td>10</td></tr><tr><td><b>arith conflicts</b></td><td>1</td></tr><tr><td><b>datatype constructor ax</b></td><td>14</td></tr><tr><td><b>num allocs</b></td><td>1302075604</td></tr><tr><td><b>final checks</b></td><td>6</td></tr><tr><td><b>added eqs</b></td><td>88</td></tr><tr><td><b>del clause</b></td><td>16</td></tr><tr><td><b>arith eq adapter</b></td><td>6</td></tr><tr><td><b>memory</b></td><td>6.010000</td></tr><tr><td><b>max memory</b></td><td>20.060000</td></tr></table></div></td></tr></table></div></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-7e13dc83-007a-44a5-90e0-fd43d99354f7';
  fold.hydrate(target);
});
</script></div></td></tr></table></div></div><div class="tab-pane"><div class="imandra-fold panel panel-default" id="fold-e757853b-b557-4fd8-9deb-bb354cd833e1"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>Expand</span></div></div><div class="panel-body collapse"><ul><li><pre>start[0.023s]
  (b &lt;&gt; [] &amp;&amp; a &lt;&gt; [])
  &amp;&amp; Ordinal.count a &gt;= 0 &amp;&amp; Ordinal.count (List.tl a) &gt;= 0
  ==&gt; not ((List.tl b) &lt;&gt; [] &amp;&amp; (List.tl a) &lt;&gt; [])
      || Ordinal.Int (Ordinal.count (List.tl a)) Ordinal.&lt;&lt;
         Ordinal.Int (Ordinal.count a)</pre></li><li><div><h5>simplify</h5><div class="imandra-table" id="table-0dc9a3df-f7e9-4b3e-9b79-3f346d816fd9"><table><tr><td><b>into</b></td><td><pre>(not
 (((b &lt;&gt; [] &amp;&amp; a &lt;&gt; []) &amp;&amp; Ordinal.count a &gt;= 0)
  &amp;&amp; Ordinal.count (List.tl a) &gt;= 0)
 || not ((List.tl b) &lt;&gt; [] &amp;&amp; (List.tl a) &lt;&gt; []))
|| Ordinal.Int (Ordinal.count (List.tl a)) Ordinal.&lt;&lt;
   Ordinal.Int (Ordinal.count a)</pre></td></tr><tr><td><b>expansions</b></td><td><pre>[]</pre></td></tr><tr><td><b>rewrite_steps</b></td><td><ul></ul></td></tr><tr><td><b>forward_chaining</b></td><td><ul></ul></td></tr></table></div></div></li><li><div>unroll<div class="imandra-table" id="table-a7678f6b-6175-45ba-9dfd-79c602a17cbe"><table><tr><td><b>expr</b></td><td><pre>(Ordinal.&lt;&lt;_131 (Ordinal.Int_122 (|count_`bool list`_2342|
                                   (|get.…</pre></td></tr><tr><td><b>expansions</b></td><td><ul></ul></td></tr></table></div></div></li><li><div>unroll<div class="imandra-table" id="table-7b1afc1b-a237-4c87-9d84-e40c82ae591a"><table><tr><td><b>expr</b></td><td><pre>(|count_`bool list`_2342| (|get.::.1_2328| a_2329))</pre></td></tr><tr><td><b>expansions</b></td><td><ul></ul></td></tr></table></div></div></li><li><div>unroll<div class="imandra-table" id="table-d9a13516-1828-478c-ac37-15b40de16a7b"><table><tr><td><b>expr</b></td><td><pre>(|count_`bool list`_2342| a_2329)</pre></td></tr><tr><td><b>expansions</b></td><td><ul></ul></td></tr></table></div></div></li><li><div><h5>unsat</h5><pre>(let ((a!1 (ite (&gt;= (|count_`bool list`_2342| (|get.::.1_2328| a_2329)) 0)
                (|count_`…</pre></div></li></ul></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-e757853b-b557-4fd8-9deb-bb354cd833e1';
  fold.hydrate(target);
});
</script></div></div></div><script>
require(['nbextensions/nbimandra/alternatives'], function (alternatives) {
  var target = '#alt-73ecee9a-9cda-4c5c-8f84-fed57b0928c8';
  alternatives.hydrate(target);
});
</script></div></div></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-a5ccdaac-b961-4124-8b86-418db2e29f46';
  fold.hydrate(target);
});
</script></div></td></tr></table></div></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-bdc1dd9c-a1b9-4e8d-b7eb-4f284c176b6f';
  fold.hydrate(target);
});
</script></div><p></p></div></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-6900336b-b59f-4df9-baa1-e9462c9e5985';
  fold.hydrate(target);
});
</script></div></div>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Let's now compute with our adder to get a feel for it.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="try-this-container">
  <div class="try-this"><a href="https://try.imandra.ai/launch/?next=/h/user-redirect/notebooks/Verifying%20a%20Ripple%20Carry%20Adder.ipynb%23try-cell-13" target="_blank">Try this!</a></div>
</div>
<div class="input">
<div class="prompt input_prompt">In&nbsp;[6]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ocaml"><pre><span></span><span class="k">let</span> <span class="n">zero</span> <span class="o">=</span> <span class="bp">[]</span>
<span class="k">let</span> <span class="n">one</span> <span class="o">=</span> <span class="o">[</span><span class="bp">true</span><span class="o">]</span>
<span class="k">let</span> <span class="n">two</span> <span class="o">=</span> <span class="o">[</span><span class="bp">false</span><span class="o">;</span> <span class="bp">true</span><span class="o">]</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt output_prompt">Out[6]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>val zero : &#39;a list = []
val one : bool list = [true]
val two : bool list = [false; true]
</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="try-this-container">
  <div class="try-this"><a href="https://try.imandra.ai/launch/?next=/h/user-redirect/notebooks/Verifying%20a%20Ripple%20Carry%20Adder.ipynb%23try-cell-14" target="_blank">Try this!</a></div>
</div>
<div class="input">
<div class="prompt input_prompt">In&nbsp;[7]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ocaml"><pre><span></span><span class="n">ripple_carry_adder</span> <span class="n">zero</span> <span class="n">zero</span> <span class="bp">false</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt output_prompt">Out[7]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>- : bool list = []
</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="try-this-container">
  <div class="try-this"><a href="https://try.imandra.ai/launch/?next=/h/user-redirect/notebooks/Verifying%20a%20Ripple%20Carry%20Adder.ipynb%23try-cell-15" target="_blank">Try this!</a></div>
</div>
<div class="input">
<div class="prompt input_prompt">In&nbsp;[8]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ocaml"><pre><span></span><span class="n">ripple_carry_adder</span> <span class="n">one</span> <span class="n">one</span> <span class="bp">false</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt output_prompt">Out[8]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>- : bool list = [false; true]
</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="try-this-container">
  <div class="try-this"><a href="https://try.imandra.ai/launch/?next=/h/user-redirect/notebooks/Verifying%20a%20Ripple%20Carry%20Adder.ipynb%23try-cell-16" target="_blank">Try this!</a></div>
</div>
<div class="input">
<div class="prompt input_prompt">In&nbsp;[9]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ocaml"><pre><span></span><span class="n">instance</span> <span class="o">(</span><span class="k">fun</span> <span class="n">a</span> <span class="n">b</span> <span class="o">-&gt;</span> <span class="n">ripple_carry_adder</span> <span class="n">a</span> <span class="n">b</span> <span class="bp">false</span> <span class="o">=</span> <span class="o">[</span><span class="bp">false</span><span class="o">;</span> <span class="bp">false</span><span class="o">;</span> <span class="bp">false</span><span class="o">;</span> <span class="bp">true</span><span class="o">])</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt output_prompt">Out[9]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>- : bool list -&gt; bool list -&gt; bool = &lt;fun&gt;
<span class="ansi-green-intense-fg ansi-bold">[✔]</span> Instance found.
module CX : sig val a : bool list val b : bool list end
</pre>
</div>

</div>

<div class="output_area">

<div class="prompt"></div>



<div class="output_html rendered_html output_subarea ">
<div><pre>Instance (after 4 steps, 0.024s):
 let a = [true; true; false]
 let b = [true; false; true]
</pre></div>

</div>

</div>

<div class="output_area">

<div class="prompt"></div>



<div class="output_html rendered_html output_subarea ">
<div><div class="imandra-vr imandra-vr-refuted"><i class="fa fa-times-circle-o"></i><span>Refuted</span></div><div><div class="imandra-alternatives" id="alt-550c62ed-cf84-4a19-9556-3680563e3e05"><ul class="nav nav-tabs"><li class="active" data-toggle="tab"><a>call graph</a></li><li class="" data-toggle="tab"><a>proof-attempt</a></li></ul><div class="tab-content"><div class="tab-pane active"><div class="imandra-graphviz" id="graphviz-b6257574-ae5e-4e0d-9f18-d54361e4d0f2"><textarea style="display: none">digraph &quot;call graph&quot; {
goal [label=&quot;ripple_carry_adder a b false = false :: (false :: (false :: (true :: …)))&quot;,shape=box,style=filled,color=&quot;cyan&quot;,fontname=&quot;courier&quot;,fontsize=14];
call_170 [label=&quot;ripple_carry_adder (List.tl a) (List.tl b)\l((not (List.hd a) \&lt;==\&gt; List.hd b) &amp;&amp; false \|\| List.hd a &amp;&amp; List.hd b)&quot;,shape=box,style=filled,color=&quot;green&quot;,fontname=&quot;courier&quot;,fontsize=14];
call_170 -&gt; expr_365 [label=&quot;=&quot;];
expr_365 [label=&quot;if (List.tl b) \&lt;\&gt; [] &amp;&amp; (List.tl a) \&lt;\&gt; []\lthen\l  ((List.hd (List.tl a) \&lt;==\&gt; List.hd (List.tl b)) \&lt;==\&gt;\l   (not (List.hd a) \&lt;==\&gt; List.hd b) &amp;&amp; false \|\| List.hd a &amp;&amp; List.hd b)\l  ::\l  (ripple_carry_adder (List.tl (List.tl a)) (List.tl (List.tl b))\l   ((not (List.hd (List.tl a)) \&lt;==\&gt; List.hd (List.tl b))\l    &amp;&amp; ((not (List.hd a) \&lt;==\&gt; List.hd b) &amp;&amp; false \|\| List.hd a &amp;&amp; List.hd b)\l    \|\| List.hd (List.tl a) &amp;&amp; List.hd (List.tl b)))\lelse\lif (not (List.hd a) \&lt;==\&gt; List.hd b) &amp;&amp; false \|\| List.hd a &amp;&amp; List.hd b\lthen\l  ((not (List.hd a) \&lt;==\&gt; List.hd b) &amp;&amp; false \|\| List.hd a &amp;&amp; List.hd b) :: []\lelse []&quot;,shape=box,style=filled,color=&quot;grey&quot;,fontname=&quot;courier&quot;,fontsize=14];
expr_172 -&gt; call_170 [label=&quot;calls&quot;];
call_1036 [label=&quot;ripple_carry_adder (List.tl (List.tl (List.tl (List.tl a))))\l(List.tl (List.tl (List.tl (List.tl b))))\l((not (List.hd (List.tl (List.tl (List.tl a)))) \&lt;==\&gt;\l  List.hd (List.tl (List.tl (List.tl b))))\l &amp;&amp; ((not (List.hd (List.tl (List.tl a))) \&lt;==\&gt; List.hd (List.tl (List.tl b)))\l     &amp;&amp; ((not (List.hd (List.tl a)) \&lt;==\&gt; List.hd (List.tl b))\l         &amp;&amp; ((not (List.hd a) \&lt;==\&gt; List.hd b) &amp;&amp; false\l             \|\| List.hd a &amp;&amp; List.hd b)\l         \|\| List.hd (List.tl a) &amp;&amp; List.hd (List.tl b))\l     \|\| List.hd (List.tl (List.tl a)) &amp;&amp; List.hd (List.tl (List.tl b)))\l \|\| List.hd (List.tl (List.tl (List.tl a)))\l    &amp;&amp; List.hd (List.tl (List.tl (List.tl b))))&quot;,shape=box,style=filled,color=&quot;yellow&quot;,fontname=&quot;courier&quot;,fontsize=14];
expr_1040 -&gt; call_1036 [label=&quot;calls&quot;];
call_16 [label=&quot;ripple_carry_adder a b false&quot;,shape=box,style=filled,color=&quot;green&quot;,fontname=&quot;courier&quot;,fontsize=14];
call_16 -&gt; expr_172 [label=&quot;=&quot;];
expr_172 [label=&quot;if b \&lt;\&gt; [] &amp;&amp; a \&lt;\&gt; []\lthen\l  ((List.hd a \&lt;==\&gt; List.hd b) \&lt;==\&gt; false) ::\l  (ripple_carry_adder (List.tl a) (List.tl b)\l   ((not (List.hd a) \&lt;==\&gt; List.hd b) &amp;&amp; false \|\| List.hd a &amp;&amp; List.hd b))\lelse []&quot;,shape=box,style=filled,color=&quot;grey&quot;,fontname=&quot;courier&quot;,fontsize=14];
goal -&gt; call_16 [label=&quot;calls&quot;];
call_699 [label=&quot;ripple_carry_adder (List.tl (List.tl (List.tl a)))\l(List.tl (List.tl (List.tl b)))\l((not (List.hd (List.tl (List.tl a))) \&lt;==\&gt; List.hd (List.tl (List.tl b)))\l &amp;&amp; ((not (List.hd (List.tl a)) \&lt;==\&gt; List.hd (List.tl b))\l     &amp;&amp; ((not (List.hd a) \&lt;==\&gt; List.hd b) &amp;&amp; false \|\| List.hd a &amp;&amp; List.hd b)\l     \|\| List.hd (List.tl a) &amp;&amp; List.hd (List.tl b))\l \|\| List.hd (List.tl (List.tl a)) &amp;&amp; List.hd (List.tl (List.tl b)))&quot;,shape=box,style=filled,color=&quot;green&quot;,fontname=&quot;courier&quot;,fontsize=14];
call_699 -&gt; expr_1040 [label=&quot;=&quot;];
expr_1040 [label=&quot;if (List.tl (List.tl (List.tl b))) \&lt;\&gt; []\l   &amp;&amp; (List.tl (List.tl (List.tl a))) \&lt;\&gt; []\lthen\l  ((List.hd (List.tl (List.tl (List.tl a))) \&lt;==\&gt;\l    List.hd (List.tl (List.tl (List.tl b))))\l   \&lt;==\&gt;\l   (not (List.hd (List.tl (List.tl a))) \&lt;==\&gt; List.hd (List.tl (List.tl b)))\l   &amp;&amp; ((not (List.hd (List.tl a)) \&lt;==\&gt; List.hd (List.tl b))\l       &amp;&amp; ((not (List.hd a) \&lt;==\&gt; List.hd b) &amp;&amp; false\l           \|\| List.hd a &amp;&amp; List.hd b)\l       \|\| List.hd (List.tl a) &amp;&amp; List.hd (List.tl b))\l   \|\| List.hd (List.tl (List.tl a)) &amp;&amp; List.hd (List.tl (List.tl b)))\l  ::\l  (ripple_carry_adder (List.tl (List.tl (List.tl (List.tl a))))\l   (List.tl (List.tl (List.tl (List.tl b))))\l   ((not (List.hd (List.tl (List.tl (List.tl a)))) \&lt;==\&gt;\l     List.hd (List.tl (List.tl (List.tl b))))\l    &amp;&amp; ((not (List.hd (List.tl (List.tl a))) \&lt;==\&gt;\l         List.hd (List.tl (List.tl b)))\l        &amp;&amp; ((not (List.hd (List.tl a)) \&lt;==\&gt; List.hd (List.tl b))\l            &amp;&amp; ((not (List.hd a) \&lt;==\&gt; List.hd b) &amp;&amp; false\l                \|\| List.hd a &amp;&amp; List.hd b)\l            \|\| List.hd (List.tl a) &amp;&amp; List.hd (List.tl b))\l        \|\| List.hd (List.tl (List.tl a)) &amp;&amp; List.hd (List.tl (List.tl b)))\l    \|\| List.hd (List.tl (List.tl (List.tl a)))\l       &amp;&amp; List.hd (List.tl (List.tl (List.tl b)))))\lelse\lif (not (List.hd (List.tl (List.tl a))) \&lt;==\&gt; List.hd (List.tl (List.tl b)))\l   &amp;&amp; ((not (List.hd (List.tl a)) \&lt;==\&gt; List.hd (List.tl b))\l       &amp;&amp; ((not (List.hd a) \&lt;==\&gt; List.hd b) &amp;&amp; false\l           \|\| List.hd a &amp;&amp; List.hd b)\l       \|\| List.hd (List.tl a) &amp;&amp; List.hd (List.tl b))\l   \|\| List.hd (List.tl (List.tl a)) &amp;&amp; List.hd (List.tl (List.tl b))\lthen\l  ((not (List.hd (List.tl (List.tl a))) \&lt;==\&gt; List.hd (List.tl (List.tl b)))\l   &amp;&amp; ((not (List.hd (List.tl a)) \&lt;==\&gt; List.hd (List.tl b))\l       &amp;&amp; ((not (List.hd a) \&lt;==\&gt; List.hd b) &amp;&amp; false\l           \|\| List.hd a &amp;&amp; List.hd b)\l       \|\| List.hd (List.tl a) &amp;&amp; List.hd (List.tl b))\l   \|\| List.hd (List.tl (List.tl a)) &amp;&amp; List.hd (List.tl (List.tl b)))\l  :: []\lelse []&quot;,shape=box,style=filled,color=&quot;grey&quot;,fontname=&quot;courier&quot;,fontsize=14];
expr_703 -&gt; call_699 [label=&quot;calls&quot;];
call_361 [label=&quot;ripple_carry_adder (List.tl (List.tl a)) (List.tl (List.tl b))\l((not (List.hd (List.tl a)) \&lt;==\&gt; List.hd (List.tl b))\l &amp;&amp; ((not (List.hd a) \&lt;==\&gt; List.hd b) &amp;&amp; false \|\| List.hd a &amp;&amp; List.hd b)\l \|\| List.hd (List.tl a) &amp;&amp; List.hd (List.tl b))&quot;,shape=box,style=filled,color=&quot;green&quot;,fontname=&quot;courier&quot;,fontsize=14];
call_361 -&gt; expr_703 [label=&quot;=&quot;];
expr_703 [label=&quot;if (List.tl (List.tl b)) \&lt;\&gt; [] &amp;&amp; (List.tl (List.tl a)) \&lt;\&gt; []\lthen\l  ((List.hd (List.tl (List.tl a)) \&lt;==\&gt; List.hd (List.tl (List.tl b))) \&lt;==\&gt;\l   (not (List.hd (List.tl a)) \&lt;==\&gt; List.hd (List.tl b))\l   &amp;&amp; ((not (List.hd a) \&lt;==\&gt; List.hd b) &amp;&amp; false \|\| List.hd a &amp;&amp; List.hd b)\l   \|\| List.hd (List.tl a) &amp;&amp; List.hd (List.tl b))\l  ::\l  (ripple_carry_adder (List.tl (List.tl (List.tl a)))\l   (List.tl (List.tl (List.tl b)))\l   ((not (List.hd (List.tl (List.tl a))) \&lt;==\&gt; List.hd (List.tl (List.tl b)))\l    &amp;&amp; ((not (List.hd (List.tl a)) \&lt;==\&gt; List.hd (List.tl b))\l        &amp;&amp; ((not (List.hd a) \&lt;==\&gt; List.hd b) &amp;&amp; false\l            \|\| List.hd a &amp;&amp; List.hd b)\l        \|\| List.hd (List.tl a) &amp;&amp; List.hd (List.tl b))\l    \|\| List.hd (List.tl (List.tl a)) &amp;&amp; List.hd (List.tl (List.tl b))))\lelse\lif (not (List.hd (List.tl a)) \&lt;==\&gt; List.hd (List.tl b))\l   &amp;&amp; ((not (List.hd a) \&lt;==\&gt; List.hd b) &amp;&amp; false \|\| List.hd a &amp;&amp; List.hd b)\l   \|\| List.hd (List.tl a) &amp;&amp; List.hd (List.tl b)\lthen\l  ((not (List.hd (List.tl a)) \&lt;==\&gt; List.hd (List.tl b))\l   &amp;&amp; ((not (List.hd a) \&lt;==\&gt; List.hd b) &amp;&amp; false \|\| List.hd a &amp;&amp; List.hd b)\l   \|\| List.hd (List.tl a) &amp;&amp; List.hd (List.tl b))\l  :: []\lelse []&quot;,shape=box,style=filled,color=&quot;grey&quot;,fontname=&quot;courier&quot;,fontsize=14];
expr_365 -&gt; call_361 [label=&quot;calls&quot;];
}
</textarea><button class="btn btn-primary">Load graph</button><div class="imandra-graphviz-loading display-none">Loading..</div><div class="imandra-graphviz-target"></div><script>
require(['nbextensions/nbimandra/graphviz'], function (graphviz) {
  var target = '#graphviz-b6257574-ae5e-4e0d-9f18-d54361e4d0f2';
  graphviz.hydrate(target);
});
</script></div></div><div class="tab-pane"><div class="imandra-proof-top"><div class="imandra-fold panel panel-default" id="fold-4e72bb50-446e-46c9-a221-7e2f4d5b9b92"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>proof attempt</span></div></div><div class="panel-body collapse"><div class="imandra-proof"><div class="imandra-alternatives" id="alt-58d71839-fe86-49dc-bb92-f0576b1b3b30"><ul class="nav nav-tabs"><li class="active" data-toggle="tab"><a>summary</a></li><li class="" data-toggle="tab"><a>full</a></li><li class="" data-toggle="tab"><a>graph</a></li></ul><div class="tab-content"><div class="tab-pane active"><div class="imandra-table" id="table-f0e5d886-4199-4433-b323-5d27cf590e65"><table><tr><td><b>ground_instances</b></td><td>4</td></tr><tr><td><b>definitions</b></td><td>12</td></tr><tr><td><b>inductions</b></td><td>0</td></tr><tr><td><b>search_time</b></td><td><pre>0.024s</pre></td></tr><tr><td><b>details</b></td><td><div class="imandra-fold panel panel-default" id="fold-460c956e-7fc1-4331-a93c-9b15f0508831"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>Expand</span></div></div><div class="panel-body collapse"><div class="imandra-table" id="table-f425be51-46c3-44df-89eb-51dc8e481385"><table><tr><td><b>smt_stats</b></td><td><div class="imandra-table" id="table-58204517-bb74-42ba-8a20-88f3f3f02ac2"><table><tr><td><b>num checks</b></td><td>9</td></tr><tr><td><b>rlimit count</b></td><td>3499</td></tr><tr><td><b>mk clause</b></td><td>200</td></tr><tr><td><b>datatype occurs check</b></td><td>333</td></tr><tr><td><b>mk bool var</b></td><td>189</td></tr><tr><td><b>datatype splits</b></td><td>12</td></tr><tr><td><b>decisions</b></td><td>62</td></tr><tr><td><b>propagations</b></td><td>216</td></tr><tr><td><b>conflicts</b></td><td>19</td></tr><tr><td><b>datatype accessor ax</b></td><td>27</td></tr><tr><td><b>minimized lits</b></td><td>1</td></tr><tr><td><b>datatype constructor ax</b></td><td>30</td></tr><tr><td><b>num allocs</b></td><td>1354376398</td></tr><tr><td><b>final checks</b></td><td>12</td></tr><tr><td><b>added eqs</b></td><td>296</td></tr><tr><td><b>del clause</b></td><td>46</td></tr><tr><td><b>memory</b></td><td>6.630000</td></tr><tr><td><b>max memory</b></td><td>20.060000</td></tr></table></div></td></tr></table></div></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-460c956e-7fc1-4331-a93c-9b15f0508831';
  fold.hydrate(target);
});
</script></div></td></tr></table></div></div><div class="tab-pane"><div class="imandra-fold panel panel-default" id="fold-eeb91804-7172-491a-831e-c0ac9dcff7ff"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>Expand</span></div></div><div class="panel-body collapse"><ul><li><pre>start[0.024s]
  ripple_carry_adder :var_0: :var_1: false =
  false :: (false :: (false :: (true :: …)))</pre></li><li><div>unroll<div class="imandra-table" id="table-8650c3f4-199b-4b6b-8866-edb2d387753b"><table><tr><td><b>expr</b></td><td><pre>(ripple_carry_adder_2315 a_2354 b_2355 false)</pre></td></tr><tr><td><b>expansions</b></td><td><ul><li><pre>xor</pre></li><li><pre>xoradder_sum</pre></li><li><pre>xoradder_sumadder_carry_out</pre></li></ul></td></tr></table></div></div></li><li><div>unroll<div class="imandra-table" id="table-9b1e66ba-1172-4cf1-944c-cd20918c49df"><table><tr><td><b>expr</b></td><td><pre>(let ((a!1 (and (= (not (|get.::.0_2360| a_2354)) (|get.::.0_2360| b_2355))
                false)))…</pre></td></tr><tr><td><b>expansions</b></td><td><ul><li><pre>xor</pre></li><li><pre>xoradder_sum</pre></li><li><pre>xoradder_sumadder_carry_out</pre></li></ul></td></tr></table></div></div></li><li><div>unroll<div class="imandra-table" id="table-35f73b75-8b6d-400a-a1d2-e866cd8e5810"><table><tr><td><b>expr</b></td><td><pre>(let ((a!1 (= (not (|get.::.0_2360| (|get.::.1_2361| a_2354)))
              (|get.::.0_2360| (|get.…</pre></td></tr><tr><td><b>expansions</b></td><td><ul><li><pre>xor</pre></li><li><pre>xoradder_sum</pre></li><li><pre>xoradder_sumadder_carry_out</pre></li></ul></td></tr></table></div></div></li><li><div>unroll<div class="imandra-table" id="table-e2c88ab0-0e6c-49fd-9185-6335309f1d5f"><table><tr><td><b>expr</b></td><td><pre>(let ((a!1 (not (|get.::.0_2360| (|get.::.1_2361| (|get.::.1_2361| a_2354)))))
      (a!3 (= (not (|…</pre></td></tr><tr><td><b>expansions</b></td><td><ul><li><pre>xor</pre></li><li><pre>xoradder_sum</pre></li><li><pre>xoradder_sumadder_carry_out</pre></li></ul></td></tr></table></div></div></li><li>Sat (Some  let a = [true; true; false]
 let b = [true; false; true]
)</li></ul></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-eeb91804-7172-491a-831e-c0ac9dcff7ff';
  fold.hydrate(target);
});
</script></div></div><div class="tab-pane"><div class="imandra-graphviz" id="graphviz-bbaa8c63-9437-4d88-8459-6e898441e9c1"><textarea style="display: none">digraph &quot;proof&quot; {
p_243 [label=&quot;Start (ripple_carry_adder :var_0: :var_1: false =\l       false :: (false :: (false :: (true :: …))) :time 0.024s)&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_243 -&gt; p_242 [label=&quot;&quot;];
p_242 [label=&quot;Unroll ([ripple_carry_adder a b false], [[xor; adder_sum; adder_carry_out]])&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_242 -&gt; p_241 [label=&quot;&quot;];
p_241 [label=&quot;Unroll ([ripple_carry_adder (List.tl a) (List.tl b)\l         ((not (List.hd a) \&lt;==\&gt; List.hd b) &amp;&amp; false \|\| List.hd a &amp;&amp; List.hd b)],\l        [[xor; adder_sum; adder_carry_out]])&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_241 -&gt; p_240 [label=&quot;&quot;];
p_240 [label=&quot;Unroll ([ripple_carry_adder (List.tl (List.tl a)) (List.tl (List.tl b))\l         ((not (List.hd (List.tl a)) \&lt;==\&gt; List.hd (List.tl b))\l          &amp;&amp; ((not (List.hd a) \&lt;==\&gt; List.hd b) &amp;&amp; false\l              \|\| List.hd a &amp;&amp; List.hd b)\l          \|\| List.hd (List.tl a) &amp;&amp; List.hd (List.tl b))],\l        [[xor; adder_sum; adder_carry_out]])&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_240 -&gt; p_239 [label=&quot;&quot;];
p_239 [label=&quot;Unroll ([ripple_carry_adder (List.tl (List.tl (List.tl a)))\l         (List.tl (List.tl (List.tl b)))\l         ((not (List.hd (List.tl (List.tl a))) \&lt;==\&gt;\l           List.hd (List.tl (List.tl b)))\l          &amp;&amp; ((not (List.hd (List.tl a)) \&lt;==\&gt; List.hd (List.tl b))\l              &amp;&amp; ((not (List.hd a) \&lt;==\&gt; List.hd b) &amp;&amp; false\l                  \|\| List.hd a &amp;&amp; List.hd b)\l              \|\| List.hd (List.tl a) &amp;&amp; List.hd (List.tl b))\l          \|\| List.hd (List.tl (List.tl a)) &amp;&amp; List.hd (List.tl (List.tl b)))],\l        [[xor; adder_sum; adder_carry_out]])&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_239 -&gt; p_238 [label=&quot;&quot;];
p_238 [label=&quot;Sat (Some  let a = [true; true; false]\l let b = [true; false; true]\l)&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
}
</textarea><button class="btn btn-primary">Load graph</button><div class="imandra-graphviz-loading display-none">Loading..</div><div class="imandra-graphviz-target"></div><script>
require(['nbextensions/nbimandra/graphviz'], function (graphviz) {
  var target = '#graphviz-bbaa8c63-9437-4d88-8459-6e898441e9c1';
  graphviz.hydrate(target);
});
</script></div></div></div><script>
require(['nbextensions/nbimandra/alternatives'], function (alternatives) {
  var target = '#alt-58d71839-fe86-49dc-bb92-f0576b1b3b30';
  alternatives.hydrate(target);
});
</script></div></div></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-4e72bb50-446e-46c9-a221-7e2f4d5b9b92';
  fold.hydrate(target);
});
</script></div></div></div></div><script>
require(['nbextensions/nbimandra/alternatives'], function (alternatives) {
  var target = '#alt-550c62ed-cf84-4a19-9556-3680563e3e05';
  alternatives.hydrate(target);
});
</script></div></div></div>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="Relating-bit-sequences-to-natural-numbers">Relating bit sequences to natural numbers<a class="anchor-link" href="#Relating-bit-sequences-to-natural-numbers">&#182;</a></h1><p>Let's now define some functions to relate our bit sequences to natural numbers. These will be useful both in our computations and in our expression of our correctness criteria for the circut.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="try-this-container">
  <div class="try-this"><a href="https://try.imandra.ai/launch/?next=/h/user-redirect/notebooks/Verifying%20a%20Ripple%20Carry%20Adder.ipynb%23try-cell-18" target="_blank">Try this!</a></div>
</div>
<div class="input">
<div class="prompt input_prompt">In&nbsp;[10]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ocaml"><pre><span></span><span class="k">let</span> <span class="n">int_of_bit</span> <span class="o">(</span><span class="n">a</span> <span class="o">:</span> <span class="kt">bool</span><span class="o">)</span> <span class="o">:</span> <span class="nn">Z</span><span class="p">.</span><span class="n">t</span> <span class="o">=</span>
 <span class="k">if</span> <span class="n">a</span> <span class="k">then</span> <span class="mi">1</span> <span class="k">else</span> <span class="mi">0</span>

<span class="k">let</span> <span class="k">rec</span> <span class="n">int_of_bits</span> <span class="o">(</span><span class="n">a</span> <span class="o">:</span> <span class="kt">bool</span> <span class="kt">list</span><span class="o">)</span> <span class="o">:</span> <span class="nn">Z</span><span class="p">.</span><span class="n">t</span> <span class="o">=</span>
  <span class="k">match</span> <span class="n">a</span> <span class="k">with</span>
   <span class="o">|</span> <span class="bp">[]</span> <span class="o">-&gt;</span> <span class="mi">0</span>
   <span class="o">|</span> <span class="n">a</span> <span class="o">::</span> <span class="n">a&#39;</span> <span class="o">-&gt;</span> <span class="n">int_of_bit</span> <span class="n">a</span> <span class="o">+</span> <span class="mi">2</span> <span class="o">*</span> <span class="o">(</span><span class="n">int_of_bits</span> <span class="n">a&#39;</span><span class="o">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt output_prompt">Out[10]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>val int_of_bit : bool -&gt; Z.t = &lt;fun&gt;
val int_of_bits : bool list -&gt; Z.t = &lt;fun&gt;
</pre>
</div>

</div>

<div class="output_area">

<div class="prompt"></div>



<div class="output_html rendered_html output_subarea ">
<div><div class="imandra-fold panel panel-default" id="fold-461cfeea-13a4-4b75-99c3-6282a75eefbf"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>termination proof</span></div></div><div class="panel-body collapse"><div><h3>Termination proof</h3><p></p><div class="imandra-fold panel panel-default" id="fold-1dfd32bc-8ab6-4e00-9764-9260b60a1e17"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>call `int_of_bits (List.tl a)` from `int_of_bits a`</span></div></div><div class="panel-body collapse"><div class="imandra-table" id="table-7aa9704b-f078-4c92-bcc7-21ef5ac18982"><table><tr><td><b>original</b></td><td>int_of_bits a</td></tr><tr><td><b>sub</b></td><td>int_of_bits (List.tl a)</td></tr><tr><td><b>original ordinal</b></td><td>Ordinal.Int (Ordinal.count a)</td></tr><tr><td><b>sub ordinal</b></td><td>Ordinal.Int (Ordinal.count (List.tl a))</td></tr><tr><td><b>path</b></td><td>[not (a = [])]</td></tr><tr><td><b>proof</b></td><td><div class="imandra-fold panel panel-default" id="fold-a06c1541-177a-4584-b3ae-efc11d135227"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>detailed proof</span></div></div><div class="panel-body collapse"><div class="imandra-proof"><div class="imandra-alternatives" id="alt-6d4f6223-d299-41d0-928a-b43bfc77a42f"><ul class="nav nav-tabs"><li class="active" data-toggle="tab"><a>summary</a></li><li class="" data-toggle="tab"><a>full</a></li></ul><div class="tab-content"><div class="tab-pane active"><div class="imandra-table" id="table-7047e3c5-2622-4bbe-b845-6da21820cd3c"><table><tr><td><b>ground_instances</b></td><td>3</td></tr><tr><td><b>definitions</b></td><td>0</td></tr><tr><td><b>inductions</b></td><td>0</td></tr><tr><td><b>search_time</b></td><td><pre>0.020s</pre></td></tr><tr><td><b>details</b></td><td><div class="imandra-fold panel panel-default" id="fold-b690706e-e2cb-474c-8a47-ea2dbbb2aa6b"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>Expand</span></div></div><div class="panel-body collapse"><div class="imandra-table" id="table-253bf0fd-39f9-4e96-a05e-f9c20cf55852"><table><tr><td><b>smt_stats</b></td><td><div class="imandra-table" id="table-9b026f88-2839-4e63-9050-cecf5d10863a"><table><tr><td><b>num checks</b></td><td>7</td></tr><tr><td><b>arith assert lower</b></td><td>8</td></tr><tr><td><b>arith pivots</b></td><td>6</td></tr><tr><td><b>rlimit count</b></td><td>5474</td></tr><tr><td><b>mk clause</b></td><td>11</td></tr><tr><td><b>datatype occurs check</b></td><td>67</td></tr><tr><td><b>mk bool var</b></td><td>64</td></tr><tr><td><b>arith assert upper</b></td><td>4</td></tr><tr><td><b>datatype splits</b></td><td>6</td></tr><tr><td><b>decisions</b></td><td>17</td></tr><tr><td><b>arith add rows</b></td><td>13</td></tr><tr><td><b>propagations</b></td><td>10</td></tr><tr><td><b>conflicts</b></td><td>8</td></tr><tr><td><b>arith fixed eqs</b></td><td>4</td></tr><tr><td><b>datatype accessor ax</b></td><td>5</td></tr><tr><td><b>arith conflicts</b></td><td>1</td></tr><tr><td><b>datatype constructor ax</b></td><td>9</td></tr><tr><td><b>num allocs</b></td><td>1379314052</td></tr><tr><td><b>final checks</b></td><td>9</td></tr><tr><td><b>added eqs</b></td><td>52</td></tr><tr><td><b>del clause</b></td><td>5</td></tr><tr><td><b>arith eq adapter</b></td><td>4</td></tr><tr><td><b>memory</b></td><td>9.140000</td></tr><tr><td><b>max memory</b></td><td>20.060000</td></tr></table></div></td></tr></table></div></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-b690706e-e2cb-474c-8a47-ea2dbbb2aa6b';
  fold.hydrate(target);
});
</script></div></td></tr></table></div></div><div class="tab-pane"><div class="imandra-fold panel panel-default" id="fold-08d9fef5-1832-482a-bf3d-ae395bd0de3a"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>Expand</span></div></div><div class="panel-body collapse"><ul><li><pre>start[0.020s]
  not (a = []) &amp;&amp; Ordinal.count a &gt;= 0 &amp;&amp; Ordinal.count (List.tl a) &gt;= 0
  ==&gt; List.tl a = []
      || Ordinal.Int (Ordinal.count (List.tl a)) Ordinal.&lt;&lt;
         Ordinal.Int (Ordinal.count a)</pre></li><li><div><h5>simplify</h5><div class="imandra-table" id="table-962988c3-5dc9-40e2-977b-ee1415688bc4"><table><tr><td><b>into</b></td><td><pre>(not
 ((not (a = []) &amp;&amp; Ordinal.count a &gt;= 0) &amp;&amp; Ordinal.count (List.tl a) &gt;= 0)
 || List.tl a = [])
|| Ordinal.Int (Ordinal.count (List.tl a)) Ordinal.&lt;&lt;
   Ordinal.Int (Ordinal.count a)</pre></td></tr><tr><td><b>expansions</b></td><td><pre>[]</pre></td></tr><tr><td><b>rewrite_steps</b></td><td><ul></ul></td></tr><tr><td><b>forward_chaining</b></td><td><ul></ul></td></tr></table></div></div></li><li><div>unroll<div class="imandra-table" id="table-1b7694c3-ae44-415d-97ff-1d7e2eadfff0"><table><tr><td><b>expr</b></td><td><pre>(Ordinal.&lt;&lt;_131 (Ordinal.Int_122 (|count_`bool list`_2388|
                                   (|get.…</pre></td></tr><tr><td><b>expansions</b></td><td><ul></ul></td></tr></table></div></div></li><li><div>unroll<div class="imandra-table" id="table-236830e4-e9a8-4c60-a5d4-fc475057f0ae"><table><tr><td><b>expr</b></td><td><pre>(|count_`bool list`_2388| (|get.::.1_2361| a_2379))</pre></td></tr><tr><td><b>expansions</b></td><td><ul></ul></td></tr></table></div></div></li><li><div>unroll<div class="imandra-table" id="table-db56340c-4f94-4776-a8fd-5b240658accc"><table><tr><td><b>expr</b></td><td><pre>(|count_`bool list`_2388| a_2379)</pre></td></tr><tr><td><b>expansions</b></td><td><ul></ul></td></tr></table></div></div></li><li><div><h5>unsat</h5><pre>(let ((a!1 (ite (&gt;= (|count_`bool list`_2388| (|get.::.1_2361| a_2379)) 0)
                (|count_`…</pre></div></li></ul></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-08d9fef5-1832-482a-bf3d-ae395bd0de3a';
  fold.hydrate(target);
});
</script></div></div></div><script>
require(['nbextensions/nbimandra/alternatives'], function (alternatives) {
  var target = '#alt-6d4f6223-d299-41d0-928a-b43bfc77a42f';
  alternatives.hydrate(target);
});
</script></div></div></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-a06c1541-177a-4584-b3ae-efc11d135227';
  fold.hydrate(target);
});
</script></div></td></tr></table></div></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-1dfd32bc-8ab6-4e00-9764-9260b60a1e17';
  fold.hydrate(target);
});
</script></div><p></p></div></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-461cfeea-13a4-4b75-99c3-6282a75eefbf';
  fold.hydrate(target);
});
</script></div></div>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Let's experiment with these a bit, to ensure we understand their endianness (among other things).</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="try-this-container">
  <div class="try-this"><a href="https://try.imandra.ai/launch/?next=/h/user-redirect/notebooks/Verifying%20a%20Ripple%20Carry%20Adder.ipynb%23try-cell-20" target="_blank">Try this!</a></div>
</div>
<div class="input">
<div class="prompt input_prompt">In&nbsp;[11]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ocaml"><pre><span></span><span class="n">int_of_bits</span> <span class="o">[</span><span class="bp">true</span><span class="o">;</span> <span class="bp">false</span><span class="o">]</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt output_prompt">Out[11]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>- : Z.t = 1
</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="try-this-container">
  <div class="try-this"><a href="https://try.imandra.ai/launch/?next=/h/user-redirect/notebooks/Verifying%20a%20Ripple%20Carry%20Adder.ipynb%23try-cell-21" target="_blank">Try this!</a></div>
</div>
<div class="input">
<div class="prompt input_prompt">In&nbsp;[12]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ocaml"><pre><span></span><span class="n">int_of_bits</span> <span class="o">[</span><span class="bp">false</span><span class="o">;</span> <span class="bp">true</span><span class="o">]</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt output_prompt">Out[12]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>- : Z.t = 2
</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="try-this-container">
  <div class="try-this"><a href="https://try.imandra.ai/launch/?next=/h/user-redirect/notebooks/Verifying%20a%20Ripple%20Carry%20Adder.ipynb%23try-cell-22" target="_blank">Try this!</a></div>
</div>
<div class="input">
<div class="prompt input_prompt">In&nbsp;[13]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ocaml"><pre><span></span><span class="n">int_of_bits</span> <span class="o">[</span><span class="bp">true</span><span class="o">;</span> <span class="bp">true</span><span class="o">;</span> <span class="bp">true</span><span class="o">;</span> <span class="bp">true</span><span class="o">;]</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt output_prompt">Out[13]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>- : Z.t = 15
</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>We can of course use Imandra to obtain some interesting examples by querying for interesting inputs to our functions via <code>instance</code>:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="try-this-container">
  <div class="try-this"><a href="https://try.imandra.ai/launch/?next=/h/user-redirect/notebooks/Verifying%20a%20Ripple%20Carry%20Adder.ipynb%23try-cell-24" target="_blank">Try this!</a></div>
</div>
<div class="input">
<div class="prompt input_prompt">In&nbsp;[14]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ocaml"><pre><span></span><span class="n">instance</span> <span class="o">(</span><span class="k">fun</span> <span class="n">a</span> <span class="o">-&gt;</span> <span class="n">int_of_bits</span> <span class="n">a</span> <span class="o">=</span> <span class="mi">256</span><span class="o">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt output_prompt">Out[14]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>- : bool list -&gt; bool = &lt;fun&gt;
<span class="ansi-green-intense-fg ansi-bold">[✔]</span> Instance found.
module CX : sig val a : bool list end
</pre>
</div>

</div>

<div class="output_area">

<div class="prompt"></div>



<div class="output_html rendered_html output_subarea ">
<div><pre>Instance (after 10 steps, 0.048s):
 let a = [false; false; false; false; false; false; false; false; true]
</pre></div>

</div>

</div>

<div class="output_area">

<div class="prompt"></div>



<div class="output_html rendered_html output_subarea ">
<div><div class="imandra-vr imandra-vr-refuted"><i class="fa fa-times-circle-o"></i><span>Refuted</span></div><div><div class="imandra-alternatives" id="alt-8db03b6c-4466-418f-b3b3-9229fef0dd9a"><ul class="nav nav-tabs"><li class="active" data-toggle="tab"><a>call graph</a></li><li class="" data-toggle="tab"><a>proof-attempt</a></li></ul><div class="tab-content"><div class="tab-pane active"><div class="imandra-graphviz" id="graphviz-f27dd196-e96a-4936-ba8a-33324243fd56"><textarea style="display: none">digraph &quot;call graph&quot; {
goal [label=&quot;int_of_bits a = 256&quot;,shape=box,style=filled,color=&quot;cyan&quot;,fontname=&quot;courier&quot;,fontsize=14];
call_1323 [label=&quot;int_of_bits\l(List.tl\l (List.tl (List.tl (List.tl (List.tl (List.tl (List.tl (List.tl a))))))))&quot;,shape=box,style=filled,color=&quot;green&quot;,fontname=&quot;courier&quot;,fontsize=14];
call_1323 -&gt; expr_1464 [label=&quot;=&quot;];
expr_1464 [label=&quot;if List.tl\l   (List.tl (List.tl (List.tl (List.tl (List.tl (List.tl (List.tl a))))))) =\l   []\lthen 0\lelse\l  (if List.hd\l      (List.tl\l       (List.tl (List.tl (List.tl (List.tl (List.tl (List.tl (List.tl a))))))))\l   then 1 else 0)\l  + 2\l    * int_of_bits\l      (List.tl\l       (List.tl\l        (List.tl\l         (List.tl (List.tl (List.tl (List.tl (List.tl (List.tl a)))))))))&quot;,shape=box,style=filled,color=&quot;grey&quot;,fontname=&quot;courier&quot;,fontsize=14];
expr_1326 -&gt; call_1323 [label=&quot;calls&quot;];
call_62 [label=&quot;int_of_bits (List.tl a)&quot;,shape=box,style=filled,color=&quot;green&quot;,fontname=&quot;courier&quot;,fontsize=14];
call_62 -&gt; expr_179 [label=&quot;=&quot;];
expr_179 [label=&quot;if List.tl a = [] then 0\lelse\l  (if List.hd (List.tl a) then 1 else 0)\l  + 2 * int_of_bits (List.tl (List.tl a))&quot;,shape=box,style=filled,color=&quot;grey&quot;,fontname=&quot;courier&quot;,fontsize=14];
expr_65 -&gt; call_62 [label=&quot;calls&quot;];
call_910 [label=&quot;int_of_bits (List.tl (List.tl (List.tl (List.tl (List.tl (List.tl a))))))&quot;,shape=box,style=filled,color=&quot;green&quot;,fontname=&quot;courier&quot;,fontsize=14];
call_910 -&gt; expr_1060 [label=&quot;=&quot;];
expr_1060 [label=&quot;if List.tl (List.tl (List.tl (List.tl (List.tl (List.tl a))))) = [] then 0\lelse\l  (if List.hd (List.tl (List.tl (List.tl (List.tl (List.tl (List.tl a))))))\l   then 1 else 0)\l  + 2\l    * int_of_bits\l      (List.tl (List.tl (List.tl (List.tl (List.tl (List.tl (List.tl a)))))))&quot;,shape=box,style=filled,color=&quot;grey&quot;,fontname=&quot;courier&quot;,fontsize=14];
expr_913 -&gt; call_910 [label=&quot;calls&quot;];
call_10 [label=&quot;int_of_bits a&quot;,shape=box,style=filled,color=&quot;green&quot;,fontname=&quot;courier&quot;,fontsize=14];
call_10 -&gt; expr_65 [label=&quot;=&quot;];
expr_65 [label=&quot;if a = [] then 0\lelse (if List.hd a then 1 else 0) + 2 * int_of_bits (List.tl a)&quot;,shape=box,style=filled,color=&quot;grey&quot;,fontname=&quot;courier&quot;,fontsize=14];
goal -&gt; call_10 [label=&quot;calls&quot;];
call_1706 [label=&quot;int_of_bits\l(List.tl\l (List.tl\l  (List.tl\l   (List.tl (List.tl (List.tl (List.tl (List.tl (List.tl (List.tl a))))))))))&quot;,shape=box,style=filled,color=&quot;yellow&quot;,fontname=&quot;courier&quot;,fontsize=14];
expr_1709 -&gt; call_1706 [label=&quot;calls&quot;];
call_1057 [label=&quot;int_of_bits\l(List.tl (List.tl (List.tl (List.tl (List.tl (List.tl (List.tl a)))))))&quot;,shape=box,style=filled,color=&quot;green&quot;,fontname=&quot;courier&quot;,fontsize=14];
call_1057 -&gt; expr_1326 [label=&quot;=&quot;];
expr_1326 [label=&quot;if List.tl (List.tl (List.tl (List.tl (List.tl (List.tl (List.tl a)))))) = []\lthen 0\lelse\l  (if List.hd\l      (List.tl (List.tl (List.tl (List.tl (List.tl (List.tl (List.tl a)))))))\l   then 1 else 0)\l  + 2\l    * int_of_bits\l      (List.tl\l       (List.tl (List.tl (List.tl (List.tl (List.tl (List.tl (List.tl a))))))))&quot;,shape=box,style=filled,color=&quot;grey&quot;,fontname=&quot;courier&quot;,fontsize=14];
expr_1060 -&gt; call_1057 [label=&quot;calls&quot;];
call_600 [label=&quot;int_of_bits (List.tl (List.tl (List.tl (List.tl a))))&quot;,shape=box,style=filled,color=&quot;green&quot;,fontname=&quot;courier&quot;,fontsize=14];
call_600 -&gt; expr_704 [label=&quot;=&quot;];
expr_704 [label=&quot;if List.tl (List.tl (List.tl (List.tl a))) = [] then 0\lelse\l  (if List.hd (List.tl (List.tl (List.tl (List.tl a)))) then 1 else 0)\l  + 2 * int_of_bits (List.tl (List.tl (List.tl (List.tl (List.tl a)))))&quot;,shape=box,style=filled,color=&quot;grey&quot;,fontname=&quot;courier&quot;,fontsize=14];
expr_603 -&gt; call_600 [label=&quot;calls&quot;];
call_176 [label=&quot;int_of_bits (List.tl (List.tl a))&quot;,shape=box,style=filled,color=&quot;green&quot;,fontname=&quot;courier&quot;,fontsize=14];
call_176 -&gt; expr_318 [label=&quot;=&quot;];
expr_318 [label=&quot;if List.tl (List.tl a) = [] then 0\lelse\l  (if List.hd (List.tl (List.tl a)) then 1 else 0)\l  + 2 * int_of_bits (List.tl (List.tl (List.tl a)))&quot;,shape=box,style=filled,color=&quot;grey&quot;,fontname=&quot;courier&quot;,fontsize=14];
expr_179 -&gt; call_176 [label=&quot;calls&quot;];
call_315 [label=&quot;int_of_bits (List.tl (List.tl (List.tl a)))&quot;,shape=box,style=filled,color=&quot;green&quot;,fontname=&quot;courier&quot;,fontsize=14];
call_315 -&gt; expr_603 [label=&quot;=&quot;];
expr_603 [label=&quot;if List.tl (List.tl (List.tl a)) = [] then 0\lelse\l  (if List.hd (List.tl (List.tl (List.tl a))) then 1 else 0)\l  + 2 * int_of_bits (List.tl (List.tl (List.tl (List.tl a))))&quot;,shape=box,style=filled,color=&quot;grey&quot;,fontname=&quot;courier&quot;,fontsize=14];
expr_318 -&gt; call_315 [label=&quot;calls&quot;];
call_1461 [label=&quot;int_of_bits\l(List.tl\l (List.tl\l  (List.tl (List.tl (List.tl (List.tl (List.tl (List.tl (List.tl a)))))))))&quot;,shape=box,style=filled,color=&quot;green&quot;,fontname=&quot;courier&quot;,fontsize=14];
call_1461 -&gt; expr_1709 [label=&quot;=&quot;];
expr_1709 [label=&quot;if List.tl\l   (List.tl\l    (List.tl (List.tl (List.tl (List.tl (List.tl (List.tl (List.tl a))))))))\l   = []\lthen 0\lelse\l  (if List.hd\l      (List.tl\l       (List.tl\l        (List.tl\l         (List.tl (List.tl (List.tl (List.tl (List.tl (List.tl a)))))))))\l   then 1 else 0)\l  + 2\l    * int_of_bits\l      (List.tl\l       (List.tl\l        (List.tl\l         (List.tl\l          (List.tl (List.tl (List.tl (List.tl (List.tl (List.tl a))))))))))&quot;,shape=box,style=filled,color=&quot;grey&quot;,fontname=&quot;courier&quot;,fontsize=14];
expr_1464 -&gt; call_1461 [label=&quot;calls&quot;];
call_701 [label=&quot;int_of_bits (List.tl (List.tl (List.tl (List.tl (List.tl a)))))&quot;,shape=box,style=filled,color=&quot;green&quot;,fontname=&quot;courier&quot;,fontsize=14];
call_701 -&gt; expr_913 [label=&quot;=&quot;];
expr_913 [label=&quot;if List.tl (List.tl (List.tl (List.tl (List.tl a)))) = [] then 0\lelse\l  (if List.hd (List.tl (List.tl (List.tl (List.tl (List.tl a))))) then 1\l   else 0)\l  + 2\l    * int_of_bits\l      (List.tl (List.tl (List.tl (List.tl (List.tl (List.tl a))))))&quot;,shape=box,style=filled,color=&quot;grey&quot;,fontname=&quot;courier&quot;,fontsize=14];
expr_704 -&gt; call_701 [label=&quot;calls&quot;];
}
</textarea><button class="btn btn-primary">Load graph</button><div class="imandra-graphviz-loading display-none">Loading..</div><div class="imandra-graphviz-target"></div><script>
require(['nbextensions/nbimandra/graphviz'], function (graphviz) {
  var target = '#graphviz-f27dd196-e96a-4936-ba8a-33324243fd56';
  graphviz.hydrate(target);
});
</script></div></div><div class="tab-pane"><div class="imandra-proof-top"><div class="imandra-fold panel panel-default" id="fold-99ca252c-0404-4020-b2a0-4b89a5e8d369"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>proof attempt</span></div></div><div class="panel-body collapse"><div class="imandra-proof"><div class="imandra-alternatives" id="alt-8f4366e7-7aaa-4ea1-ac13-5dba31154f02"><ul class="nav nav-tabs"><li class="active" data-toggle="tab"><a>summary</a></li><li class="" data-toggle="tab"><a>full</a></li><li class="" data-toggle="tab"><a>graph</a></li></ul><div class="tab-content"><div class="tab-pane active"><div class="imandra-table" id="table-b955a151-3e57-43ef-a0a2-267f34098268"><table><tr><td><b>ground_instances</b></td><td>10</td></tr><tr><td><b>definitions</b></td><td>10</td></tr><tr><td><b>inductions</b></td><td>0</td></tr><tr><td><b>search_time</b></td><td><pre>0.048s</pre></td></tr><tr><td><b>details</b></td><td><div class="imandra-fold panel panel-default" id="fold-61701c62-f88e-48ae-92f6-caf5d84f43bc"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>Expand</span></div></div><div class="panel-body collapse"><div class="imandra-table" id="table-0d773ec7-39ca-4659-81df-47efdf7fa1d9"><table><tr><td><b>smt_stats</b></td><td><div class="imandra-table" id="table-a81f7c21-d1ef-4604-8e91-d9ce5eef0abb"><table><tr><td><b>arith offset eqs</b></td><td>11</td></tr><tr><td><b>num checks</b></td><td>21</td></tr><tr><td><b>arith assert lower</b></td><td>185</td></tr><tr><td><b>arith pivots</b></td><td>50</td></tr><tr><td><b>rlimit count</b></td><td>8969</td></tr><tr><td><b>mk clause</b></td><td>375</td></tr><tr><td><b>datatype occurs check</b></td><td>690</td></tr><tr><td><b>mk bool var</b></td><td>752</td></tr><tr><td><b>arith gcd tests</b></td><td>9</td></tr><tr><td><b>arith assert upper</b></td><td>165</td></tr><tr><td><b>datatype splits</b></td><td>51</td></tr><tr><td><b>decisions</b></td><td>146</td></tr><tr><td><b>arith add rows</b></td><td>88</td></tr><tr><td><b>arith bound prop</b></td><td>10</td></tr><tr><td><b>propagations</b></td><td>473</td></tr><tr><td><b>conflicts</b></td><td>71</td></tr><tr><td><b>arith fixed eqs</b></td><td>44</td></tr><tr><td><b>datatype accessor ax</b></td><td>40</td></tr><tr><td><b>minimized lits</b></td><td>14</td></tr><tr><td><b>arith conflicts</b></td><td>11</td></tr><tr><td><b>arith assert diseq</b></td><td>79</td></tr><tr><td><b>datatype constructor ax</b></td><td>69</td></tr><tr><td><b>num allocs</b></td><td>1434791837</td></tr><tr><td><b>final checks</b></td><td>44</td></tr><tr><td><b>added eqs</b></td><td>792</td></tr><tr><td><b>del clause</b></td><td>320</td></tr><tr><td><b>arith eq adapter</b></td><td>194</td></tr><tr><td><b>memory</b></td><td>9.930000</td></tr><tr><td><b>max memory</b></td><td>20.060000</td></tr></table></div></td></tr></table></div></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-61701c62-f88e-48ae-92f6-caf5d84f43bc';
  fold.hydrate(target);
});
</script></div></td></tr></table></div></div><div class="tab-pane"><div class="imandra-fold panel panel-default" id="fold-b99aa5b4-712f-47c2-96eb-4ace967311cc"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>Expand</span></div></div><div class="panel-body collapse"><ul><li><pre>start[0.048s] int_of_bits :var_0: = 256</pre></li><li><div>unroll<div class="imandra-table" id="table-3ab841ce-470f-44b3-bf74-b3dd1f9aee70"><table><tr><td><b>expr</b></td><td><pre>(int_of_bits_2374 a_2391)</pre></td></tr><tr><td><b>expansions</b></td><td><pre>int_of_bit</pre></td></tr></table></div></div></li><li><div>unroll<div class="imandra-table" id="table-f3af5fe9-0786-4fd7-8002-c2b2bf16564d"><table><tr><td><b>expr</b></td><td><pre>(int_of_bits_2374 (|get.::.1_2396| a_2391))</pre></td></tr><tr><td><b>expansions</b></td><td><pre>int_of_bit</pre></td></tr></table></div></div></li><li><div>unroll<div class="imandra-table" id="table-9bb8ee1a-efd2-488a-85fb-6d19d943f660"><table><tr><td><b>expr</b></td><td><pre>(int_of_bits_2374 (|get.::.1_2396| (|get.::.1_2396| a_2391)))</pre></td></tr><tr><td><b>expansions</b></td><td><pre>int_of_bit</pre></td></tr></table></div></div></li><li><div>unroll<div class="imandra-table" id="table-f89e1649-422b-41e4-9a7f-43fc7fb277db"><table><tr><td><b>expr</b></td><td><pre>(int_of_bits_2374 (|get.::.1_2396| (|get.::.1_2396| (|get.::.1_2396| a_2391))))</pre></td></tr><tr><td><b>expansions</b></td><td><pre>int_of_bit</pre></td></tr></table></div></div></li><li><div>unroll<div class="imandra-table" id="table-9a57e94b-3f0c-417c-9dc8-8a24e569688b"><table><tr><td><b>expr</b></td><td><pre>(let ((a!1 (|get.::.1_2396| (|get.::.1_2396| (|get.::.1_2396| (|get.::.1_2396| a_2391))))))
  (int_o…</pre></td></tr><tr><td><b>expansions</b></td><td><pre>int_of_bit</pre></td></tr></table></div></div></li><li><div>unroll<div class="imandra-table" id="table-13339bf5-9ea9-4ced-8911-7b5d91339200"><table><tr><td><b>expr</b></td><td><pre>(let ((a!1 (|get.::.1_2396| (|get.::.1_2396| (|get.::.1_2396| (|get.::.1_2396| a_2391))))))
  (int_o…</pre></td></tr><tr><td><b>expansions</b></td><td><pre>int_of_bit</pre></td></tr></table></div></div></li><li><div>unroll<div class="imandra-table" id="table-863ce0b8-b0d0-4275-863e-da9b4d0329dc"><table><tr><td><b>expr</b></td><td><pre>(let ((a!1 (|get.::.1_2396| (|get.::.1_2396| (|get.::.1_2396| (|get.::.1_2396| a_2391))))))
  (int_o…</pre></td></tr><tr><td><b>expansions</b></td><td><pre>int_of_bit</pre></td></tr></table></div></div></li><li><div>unroll<div class="imandra-table" id="table-9e907925-814f-47ec-ae98-5f9961b1b37a"><table><tr><td><b>expr</b></td><td><pre>(let ((a!1 (|get.::.1_2396| (|get.::.1_2396| (|get.::.1_2396| (|get.::.1_2396| a_2391))))))
  (int_o…</pre></td></tr><tr><td><b>expansions</b></td><td><pre>int_of_bit</pre></td></tr></table></div></div></li><li><div>unroll<div class="imandra-table" id="table-74c4d177-f2b8-4e73-aace-1a74dbedc0b2"><table><tr><td><b>expr</b></td><td><pre>(let ((a!1 (|get.::.1_2396| (|get.::.1_2396| (|get.::.1_2396| (|get.::.1_2396| a_2391))))))
(let ((a…</pre></td></tr><tr><td><b>expansions</b></td><td><pre>int_of_bit</pre></td></tr></table></div></div></li><li><div>unroll<div class="imandra-table" id="table-98b63f38-dd6d-4048-81e5-5151b44c8ae8"><table><tr><td><b>expr</b></td><td><pre>(let ((a!1 (|get.::.1_2396| (|get.::.1_2396| (|get.::.1_2396| (|get.::.1_2396| a_2391))))))
(let ((a…</pre></td></tr><tr><td><b>expansions</b></td><td><pre>int_of_bit</pre></td></tr></table></div></div></li><li>Sat (Some  let a = [false; false; false; false; false; false; false; false; true]
)</li></ul></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-b99aa5b4-712f-47c2-96eb-4ace967311cc';
  fold.hydrate(target);
});
</script></div></div><div class="tab-pane"><div class="imandra-graphviz" id="graphviz-36760459-c918-4a14-972b-573d5ffe39b1"><textarea style="display: none">digraph &quot;proof&quot; {
p_261 [label=&quot;Start (int_of_bits :var_0: = 256 :time 0.048s)&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_261 -&gt; p_260 [label=&quot;&quot;];
p_260 [label=&quot;Unroll ([int_of_bits a], [[int_of_bit]])&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_260 -&gt; p_259 [label=&quot;&quot;];
p_259 [label=&quot;Unroll ([int_of_bits (List.tl a)], [[int_of_bit]])&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_259 -&gt; p_258 [label=&quot;&quot;];
p_258 [label=&quot;Unroll ([int_of_bits (List.tl (List.tl a))], [[int_of_bit]])&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_258 -&gt; p_257 [label=&quot;&quot;];
p_257 [label=&quot;Unroll ([int_of_bits (List.tl (List.tl (List.tl a)))], [[int_of_bit]])&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_257 -&gt; p_256 [label=&quot;&quot;];
p_256 [label=&quot;Unroll ([int_of_bits (List.tl (List.tl (List.tl (List.tl a))))],\l        [[int_of_bit]])&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_256 -&gt; p_255 [label=&quot;&quot;];
p_255 [label=&quot;Unroll ([int_of_bits (List.tl (List.tl (List.tl (List.tl (List.tl a)))))],\l        [[int_of_bit]])&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_255 -&gt; p_254 [label=&quot;&quot;];
p_254 [label=&quot;Unroll ([int_of_bits\l         (List.tl (List.tl (List.tl (List.tl (List.tl (List.tl a))))))],\l        [[int_of_bit]])&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_254 -&gt; p_253 [label=&quot;&quot;];
p_253 [label=&quot;Unroll ([int_of_bits\l         (List.tl\l          (List.tl (List.tl (List.tl (List.tl (List.tl (List.tl a)))))))],\l        [[int_of_bit]])&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_253 -&gt; p_252 [label=&quot;&quot;];
p_252 [label=&quot;Unroll ([int_of_bits\l         (List.tl\l          (List.tl\l           (List.tl (List.tl (List.tl (List.tl (List.tl (List.tl a))))))))],\l        [[int_of_bit]])&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_252 -&gt; p_251 [label=&quot;&quot;];
p_251 [label=&quot;Unroll ([int_of_bits\l         (List.tl\l          (List.tl\l           (List.tl\l            (List.tl (List.tl (List.tl (List.tl (List.tl (List.tl a)))))))))],\l        [[int_of_bit]])&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_251 -&gt; p_250 [label=&quot;&quot;];
p_250 [label=&quot;Sat (Some  let a = [false; false; false; false; false; false; false; false; true]\l)&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
}
</textarea><button class="btn btn-primary">Load graph</button><div class="imandra-graphviz-loading display-none">Loading..</div><div class="imandra-graphviz-target"></div><script>
require(['nbextensions/nbimandra/graphviz'], function (graphviz) {
  var target = '#graphviz-36760459-c918-4a14-972b-573d5ffe39b1';
  graphviz.hydrate(target);
});
</script></div></div></div><script>
require(['nbextensions/nbimandra/alternatives'], function (alternatives) {
  var target = '#alt-8f4366e7-7aaa-4ea1-ac13-5dba31154f02';
  alternatives.hydrate(target);
});
</script></div></div></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-99ca252c-0404-4020-b2a0-4b89a5e8d369';
  fold.hydrate(target);
});
</script></div></div></div></div><script>
require(['nbextensions/nbimandra/alternatives'], function (alternatives) {
  var target = '#alt-8db03b6c-4466-418f-b3b3-9229fef0dd9a';
  alternatives.hydrate(target);
});
</script></div></div></div>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="try-this-container">
  <div class="try-this"><a href="https://try.imandra.ai/launch/?next=/h/user-redirect/notebooks/Verifying%20a%20Ripple%20Carry%20Adder.ipynb%23try-cell-25" target="_blank">Try this!</a></div>
</div>
<div class="input">
<div class="prompt input_prompt">In&nbsp;[15]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ocaml"><pre><span></span><span class="n">int_of_bits</span> <span class="o">(</span><span class="n">ripple_carry_adder</span> <span class="nn">CX</span><span class="p">.</span><span class="n">a</span> <span class="nn">CX</span><span class="p">.</span><span class="n">a</span> <span class="bp">false</span><span class="o">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt output_prompt">Out[15]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>- : Z.t = 512
</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="Verifying-our-circuit:-The-adder-is-correct-for-all-possible-inputs">Verifying our circuit: The adder is correct for all possible inputs<a class="anchor-link" href="#Verifying-our-circuit:-The-adder-is-correct-for-all-possible-inputs">&#182;</a></h1><p>Let's now prove our main theorem, namely that <code>ripple_carry_adder</code> is correct.</p>
<p>We'll prove this theorem by induction following the recursive definition of <code>ripple_carry_adder</code>. To obtain a strong induction hypothesis, we'll disable the non-recursive <code>int_of_bit</code> (it's a useful exercise to experiment with this proof without doing so!).</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="try-this-container">
  <div class="try-this"><a href="https://try.imandra.ai/launch/?next=/h/user-redirect/notebooks/Verifying%20a%20Ripple%20Carry%20Adder.ipynb%23try-cell-27" target="_blank">Try this!</a></div>
</div>
<div class="input">
<div class="prompt input_prompt">In&nbsp;[16]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ocaml"><pre><span></span><span class="o">#</span><span class="n">disable</span> <span class="n">int_of_bit</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt output_prompt">Out[16]:</div>




<div class="output_text output_subarea output_execute_result">
<pre></pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="try-this-container">
  <div class="try-this"><a href="https://try.imandra.ai/launch/?next=/h/user-redirect/notebooks/Verifying%20a%20Ripple%20Carry%20Adder.ipynb%23try-cell-28" target="_blank">Try this!</a></div>
</div>
<div class="input">
<div class="prompt input_prompt">In&nbsp;[17]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ocaml"><pre><span></span><span class="n">theorem</span> <span class="n">full_ripple_carry_adder_correct</span> <span class="n">a</span> <span class="n">b</span> <span class="n">cin</span> <span class="o">=</span>
  <span class="nn">List</span><span class="p">.</span><span class="n">length</span> <span class="n">a</span> <span class="o">=</span> <span class="nn">List</span><span class="p">.</span><span class="n">length</span> <span class="n">b</span> <span class="o">==&gt;</span>
  <span class="n">int_of_bits</span> <span class="o">(</span><span class="n">ripple_carry_adder</span> <span class="n">a</span> <span class="n">b</span> <span class="n">cin</span><span class="o">)</span> <span class="o">=</span>
  <span class="n">int_of_bits</span> <span class="n">a</span> <span class="o">+</span> <span class="n">int_of_bits</span> <span class="n">b</span> <span class="o">+</span> <span class="n">int_of_bit</span> <span class="n">cin</span>
<span class="o">[@@</span><span class="n">induct</span> <span class="n">functional</span> <span class="n">ripple_carry_adder</span><span class="o">]</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt output_prompt">Out[17]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>val full_ripple_carry_adder_correct : bool list -&gt; bool list -&gt; bool -&gt; bool =
  &lt;fun&gt;
<span class="ansi-white-intense-fg ansi-bold">Goal</span>:

List.length a = List.length b
==&gt; int_of_bits (ripple_carry_adder a b cin) =
    (int_of_bits a + int_of_bits b) + int_of_bit cin.

1 nontautological subgoal.

<span class="ansi-white-intense-fg ansi-bold">Subgoal 1</span>:

 H0. List.length a = List.length b
|---------------------------------------------------------------------------
 int_of_bits (ripple_carry_adder a b cin) =
 (int_of_bits a + int_of_bits b) + int_of_bit cin

Verified up to bound 5 (after 0.032s).

Must try induction.

<span class="ansi-cyan-intense-fg ansi-bold">Induction scheme</span>:

 (not (b &lt;&gt; [] &amp;&amp; a &lt;&gt; []) ==&gt; φ cin b a)
 &amp;&amp; ((b &lt;&gt; [] &amp;&amp; a &lt;&gt; [])
     &amp;&amp; φ (adder_carry_out (List.hd a) (List.hd b) cin) (List.tl b)
        (List.tl a)
     ==&gt; φ cin b a).

2 nontautological subgoals.

<span class="ansi-white-intense-fg ansi-bold">Subgoal 1.2</span>:

 H0. List.length a = List.length b
|---------------------------------------------------------------------------
 C0. b &lt;&gt; [] &amp;&amp; a &lt;&gt; []
 C1. int_of_bits (ripple_carry_adder a b cin) =
     (int_of_bits a + int_of_bits b) + int_of_bit cin

This simplifies, using the definitions of <span class="ansi-blue-intense-fg ansi-bold">int_of_bits </span>and<span class="ansi-blue-intense-fg ansi-bold"> ripple_carry_adder</span>
to the following 4 subgoals:

<span class="ansi-white-intense-fg ansi-bold">Subgoal 1.2.4</span>:

 H0. cin
 H1. b &lt;&gt; []
 H2. List.length a = List.length b
|---------------------------------------------------------------------------
 C0. 0 = int_of_bits b
 C1. a &lt;&gt; []

This simplifies, using the definition of <span class="ansi-blue-intense-fg ansi-bold">List.length</span> to:

<span class="ansi-white-intense-fg ansi-bold">Subgoal 1.2.4&#39;</span>:

 H0. 0 = List.length b
 H1. b &lt;&gt; []
 H2. cin
|---------------------------------------------------------------------------
 C0. a &lt;&gt; []
 C1. 0 = int_of_bits b

But simplification reduces this to true, using the rewrite rule
<span class="ansi-magenta-intense-fg ansi-bold">List.len_zero_is_empty</span>.

<span class="ansi-white-intense-fg ansi-bold">Subgoal 1.2.3</span>:

 H0. b &lt;&gt; []
 H1. List.length a = List.length b
|---------------------------------------------------------------------------
 C0. 0 = int_of_bits b + int_of_bit cin
 C1. cin
 C2. a &lt;&gt; []

This simplifies, using the definition of <span class="ansi-blue-intense-fg ansi-bold">List.length</span> to:

<span class="ansi-white-intense-fg ansi-bold">Subgoal 1.2.3&#39;</span>:

 H0. 0 = List.length b
 H1. b &lt;&gt; []
|---------------------------------------------------------------------------
 C0. a &lt;&gt; []
 C1. cin
 C2. 0 = int_of_bits b + int_of_bit cin

But simplification reduces this to true, using the rewrite rule
<span class="ansi-magenta-intense-fg ansi-bold">List.len_zero_is_empty</span>.

<span class="ansi-white-intense-fg ansi-bold">Subgoal 1.2.2</span>:

 H0. cin
 H1. List.length a = List.length b
|---------------------------------------------------------------------------
 C0. 0 = int_of_bits a
 C1. b &lt;&gt; []

This simplifies, using the definition of <span class="ansi-blue-intense-fg ansi-bold">List.length</span> to:

<span class="ansi-white-intense-fg ansi-bold">Subgoal 1.2.2&#39;</span>:

 H0. List.length a = 0
 H1. cin
|---------------------------------------------------------------------------
 C0. b &lt;&gt; []
 C1. 0 = int_of_bits a

But simplification reduces this to true, using the definition of <span class="ansi-blue-intense-fg ansi-bold">int_of_bits</span>,
and the rewrite rule <span class="ansi-magenta-intense-fg ansi-bold">List.len_zero_is_empty</span>.

<span class="ansi-white-intense-fg ansi-bold">Subgoal 1.2.1</span>:

 H0. List.length a = List.length b
|---------------------------------------------------------------------------
 C0. 0 = int_of_bits a + int_of_bit cin
 C1. cin
 C2. b &lt;&gt; []

This simplifies, using the definition of <span class="ansi-blue-intense-fg ansi-bold">List.length</span> to:

<span class="ansi-white-intense-fg ansi-bold">Subgoal 1.2.1&#39;</span>:

 H0. List.length a = 0
|---------------------------------------------------------------------------
 C0. b &lt;&gt; []
 C1. cin
 C2. 0 = int_of_bits a + int_of_bit cin

This simplifies, using the definition of <span class="ansi-blue-intense-fg ansi-bold">int_of_bits</span>, and the rewrite rule
<span class="ansi-magenta-intense-fg ansi-bold">List.len_zero_is_empty</span> to:

<span class="ansi-white-intense-fg ansi-bold">Subgoal 1.2.1&#39;&#39;</span>:

 H0. a = []
|---------------------------------------------------------------------------
 C0. 0 = int_of_bit cin
 C1. cin
 C2. b &lt;&gt; []

This simplifies to:

<span class="ansi-white-intense-fg ansi-bold">Subgoal 1.2.1&#39;&#39;&#39;</span>:

|---------------------------------------------------------------------------
 C0. b &lt;&gt; []
 C1. cin
 C2. 0 = int_of_bit cin

This further simplifies to:

<span class="ansi-white-intense-fg ansi-bold">Subgoal 1.2.1&#39;&#39;&#39;&#39;</span>:

|---------------------------------------------------------------------------
 C0. b &lt;&gt; []
 C1. cin
 C2. 0 = int_of_bit false

But we verify Subgoal 1.2.1&#39;&#39;&#39;&#39; by recursive unrolling.

<span class="ansi-white-intense-fg ansi-bold">Subgoal 1.1</span>:

 H0. b &lt;&gt; []
 H1. a &lt;&gt; []
 H2. List.length (List.tl a) = List.length (List.tl b)
     ==&gt; int_of_bits
         (ripple_carry_adder (List.tl a) (List.tl b)
          ((not (List.hd a) &lt;==&gt; List.hd b) &amp;&amp; cin || List.hd a &amp;&amp; List.hd b))
         =
         (int_of_bits (List.tl a) + int_of_bits (List.tl b))
         + int_of_bit
           ((not (List.hd a) &lt;==&gt; List.hd b) &amp;&amp; cin || List.hd a &amp;&amp; List.hd b)
 H3. List.length a = List.length b
|---------------------------------------------------------------------------
 int_of_bits (ripple_carry_adder a b cin) =
 (int_of_bits a + int_of_bits b) + int_of_bit cin

But simplification reduces this to true, using the definitions of
<span class="ansi-blue-intense-fg ansi-bold">List.length</span>,<span class="ansi-blue-intense-fg ansi-bold"> int_of_bits </span>and<span class="ansi-blue-intense-fg ansi-bold"> ripple_carry_adder</span>.

</pre>
</div>

</div>

<div class="output_area">

<div class="prompt"></div>



<div class="output_html rendered_html output_subarea ">
<div><div class="imandra-vr imandra-vr-proved"><i class="fa fa-check-circle"></i><span>Proved</span></div><div><div class="imandra-alternatives" id="alt-d05135e2-a54e-43b5-874f-7df6c61ec43a"><ul class="nav nav-tabs"><li class="active" data-toggle="tab"><a>proof</a></li></ul><div class="tab-content"><div class="tab-pane active"><div class="imandra-proof-top"><div class="imandra-fold panel panel-default" id="fold-3c5b5fb2-2932-4a8d-b460-5ead06f43774"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>proof</span></div></div><div class="panel-body collapse"><div class="imandra-proof"><div class="imandra-alternatives" id="alt-3ce5c4e5-4bef-40ad-b813-792d431d78d0"><ul class="nav nav-tabs"><li class="active" data-toggle="tab"><a>summary</a></li><li class="" data-toggle="tab"><a>full</a></li><li class="" data-toggle="tab"><a>graph</a></li></ul><div class="tab-content"><div class="tab-pane active"><div class="imandra-table" id="table-e674e787-9b6b-4147-b61f-d8280768fb85"><table><tr><td><b>ground_instances</b></td><td>0</td></tr><tr><td><b>definitions</b></td><td>68</td></tr><tr><td><b>inductions</b></td><td>1</td></tr><tr><td><b>search_time</b></td><td><pre>1.595s</pre></td></tr><tr><td><b>details</b></td><td><div class="imandra-fold panel panel-default" id="fold-af502335-8986-4831-9652-b41a201a60d3"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>Expand</span></div></div><div class="panel-body collapse"><div class="imandra-table" id="table-abe991e5-e825-45f3-866a-0ab8bb9a0f9c"><table><tr><td><b>smt_stats</b></td><td><div class="imandra-table" id="table-163c49a0-02a2-4b0c-9d90-7e4ba1c72c32"><table><tr><td><b>rlimit count</b></td><td>45991</td></tr><tr><td><b>mk bool var</b></td><td>5</td></tr><tr><td><b>num allocs</b></td><td>3152345418</td></tr><tr><td><b>memory</b></td><td>29.070000</td></tr><tr><td><b>max memory</b></td><td>29.250000</td></tr></table></div></td></tr></table></div></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-af502335-8986-4831-9652-b41a201a60d3';
  fold.hydrate(target);
});
</script></div></td></tr></table></div></div><div class="tab-pane"><div class="imandra-fold panel panel-default" id="fold-70bd480f-645d-418b-8ff0-e9085fa39394"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>Expand</span></div></div><div class="panel-body collapse"><ul><li><pre>start[1.595s, &quot;Goal&quot;]
  List.length :var_0: = List.length :var_1:
  ==&gt; int_of_bits (ripple_carry_adder :var_0: :var_1: :var_2:) =
      (int_of_bits :var_0: + int_of_bits :var_1:) + int_of_bit :var_2:</pre></li><li><div><h4>subproof</h4><div class="imandra-fold panel panel-default" id="fold-b4c26873-c1c4-412c-ba23-03fcfc92b115"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>not (List.length a = List.length b)
|| int_of_bits (ripple_carry_adder a b cin) =
   (int_of_bits a + int_of_bits b) + int_of_bit cin</span></div></div><div class="panel-body collapse"><ul><li><pre>start[1.595s, &quot;1&quot;]
  not (List.length a = List.length b)
  || int_of_bits (ripple_carry_adder a b cin) =
     (int_of_bits a + int_of_bits b) + int_of_bit cin</pre></li><li><pre>induction on (functional ripple_carry_adder)
:scheme (not (b &lt;&gt; [] &amp;&amp; a &lt;&gt; []) ==&gt; φ cin b a)
        &amp;&amp; ((b &lt;&gt; [] &amp;&amp; a &lt;&gt; [])
            &amp;&amp; φ (adder_carry_out (List.hd a) (List.hd b) cin) (List.tl b)
               (List.tl a)
            ==&gt; φ cin b a)</pre></li><li><div><pre>Split (((b &lt;&gt; [] &amp;&amp; a &lt;&gt; [] || not (List.length a = List.length b))
        || int_of_bits (ripple_carry_adder a b cin) =
           (int_of_bits a + int_of_bits b) + int_of_bit cin)
       &amp;&amp; ((not
            ((b &lt;&gt; [] &amp;&amp; a &lt;&gt; [])
             &amp;&amp; (not (List.length (List.tl a) = List.length (List.tl b))
                 || int_of_bits
                    (ripple_carry_adder (List.tl a) (List.tl b)
                     ((not (List.hd a) &lt;==&gt; List.hd b) &amp;&amp; cin
                      || List.hd a &amp;&amp; List.hd b))
                    =
                    (int_of_bits (List.tl a) + int_of_bits (List.tl b))
                    + int_of_bit
                      ((not (List.hd a) &lt;==&gt; List.hd b) &amp;&amp; cin
                       || List.hd a &amp;&amp; List.hd b)))
            || not (List.length a = List.length b))
           || int_of_bits (ripple_carry_adder a b cin) =
              (int_of_bits a + int_of_bits b) + int_of_bit cin)
       :cases [(not (List.length a = List.length b) || b &lt;&gt; [] &amp;&amp; a &lt;&gt; [])
               || int_of_bits (ripple_carry_adder a b cin) =
                  (int_of_bits a + int_of_bits b) + int_of_bit cin;
               (((not (b &lt;&gt; []) || not (a &lt;&gt; []))
                 || not
                    (not (List.length (List.tl a) = List.length (List.tl b))
                     || int_of_bits
                        (ripple_carry_adder (List.tl a) (List.tl b)
                         ((not (List.hd a) &lt;==&gt; List.hd b) &amp;&amp; cin
                          || List.hd a &amp;&amp; List.hd b))
                        =
                        (int_of_bits (List.tl a) + int_of_bits (List.tl b))
                        + int_of_bit
                          ((not (List.hd a) &lt;==&gt; List.hd b) &amp;&amp; cin
                           || List.hd a &amp;&amp; List.hd b)))
                || not (List.length a = List.length b))
               || int_of_bits (ripple_carry_adder a b cin) =
                  (int_of_bits a + int_of_bits b) + int_of_bit cin])</pre><ul><li><div><h5>subproof</h5><div class="imandra-fold panel panel-default" id="fold-3da3acb3-bffe-499f-b725-579a08bf7a86"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>(((not (b &lt;&gt; []) || not (a &lt;&gt; []))
  || not
     (not (List.length (List.tl a) = List.length (List.tl b))
      || int_of_bits
         (ripple_carry_adder (List.tl a) (List.tl b)
          ((not (List.hd a) &lt;==&gt; List.hd b) &amp;&amp; cin || List.hd a &amp;&amp; List.hd b))
         =
         (int_of_bits (List.tl a) + int_of_bits (List.tl b))
         + int_of_bit
           ((not (List.hd a) &lt;==&gt; List.hd b) &amp;&amp; cin || List.hd a &amp;&amp; List.hd b)))
 || not (List.length a = List.length b))
|| int_of_bits (ripple_carry_adder a b cin) =
   (int_of_bits a + int_of_bits b) + int_of_bit cin</span></div></div><div class="panel-body collapse"><ul><li><pre>start[1.374s, &quot;1.1&quot;]
  (((not (b &lt;&gt; []) || not (a &lt;&gt; []))
    || not
       (not (List.length (List.tl a) = List.length (List.tl b))
        || int_of_bits
           (ripple_carry_adder (List.tl a) (List.tl b)
            ((not (List.hd a) &lt;==&gt; List.hd b) &amp;&amp; cin
             || List.hd a &amp;&amp; List.hd b))
           =
           (int_of_bits (List.tl a) + int_of_bits (List.tl b))
           + int_of_bit
             ((not (List.hd a) &lt;==&gt; List.hd b) &amp;&amp; cin
              || List.hd a &amp;&amp; List.hd b)))
   || not (List.length a = List.length b))
  || int_of_bits (ripple_carry_adder a b cin) =
     (int_of_bits a + int_of_bits b) + int_of_bit cin</pre></li><li><div><h6>simplify</h6><div class="imandra-table" id="table-dc25e217-7e48-417f-a6b1-93766dace105"><table><tr><td><b>into</b></td><td><pre>true</pre></td></tr><tr><td><b>expansions</b></td><td><pre>[int_of_bits, int_of_bits, int_of_bits, ripple_carry_adder, List.length,
 List.length, List.length, List.length, List.length, List.length,
 int_of_bits, int_of_bits, int_of_bits, ripple_carry_adder, List.length,
 List.length, List.length, List.length, List.length, List.length,
 List.length, List.length, int_of_bits, int_of_bits, int_of_bits,
 ripple_carry_adder, List.length, List.length, List.length, List.length,
 int_of_bits, int_of_bits, int_of_bits, ripple_carry_adder, List.length,
 List.length, List.length, List.length, List.length, List.length,
 int_of_bits, int_of_bits, int_of_bits, ripple_carry_adder, List.length,
 List.length, List.length, List.length]</pre></td></tr><tr><td><b>rewrite_steps</b></td><td><ul></ul></td></tr><tr><td><b>forward_chaining</b></td><td><ul><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li></ul></td></tr></table></div></div></li></ul></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-3da3acb3-bffe-499f-b725-579a08bf7a86';
  fold.hydrate(target);
});
</script></div></div></li><li><div><h5>subproof</h5><div class="imandra-fold panel panel-default" id="fold-949beb1d-61a0-4cc1-9c38-180ef575a3d6"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>(not (List.length a = List.length b) || b &lt;&gt; [] &amp;&amp; a &lt;&gt; [])
|| int_of_bits (ripple_carry_adder a b cin) =
   (int_of_bits a + int_of_bits b) + int_of_bit cin</span></div></div><div class="panel-body collapse"><ul><li><pre>start[1.374s, &quot;1.2&quot;]
  (not (List.length a = List.length b) || b &lt;&gt; [] &amp;&amp; a &lt;&gt; [])
  || int_of_bits (ripple_carry_adder a b cin) =
     (int_of_bits a + int_of_bits b) + int_of_bit cin</pre></li><li><div><div><h6>simplify</h6><div class="imandra-table" id="table-6fed4ff0-b688-4934-8dab-a53edce57d37"><table><tr><td><b>into</b></td><td><pre>((((((0 = int_of_bits b || not cin) || a &lt;&gt; []) || not (b &lt;&gt; []))
   || not (List.length a = List.length b))
  &amp;&amp; ((((0 = int_of_bits b + int_of_bit cin || cin) || a &lt;&gt; [])
       || not (b &lt;&gt; []))
      || not (List.length a = List.length b)))
 &amp;&amp; (((0 = int_of_bits a || not cin) || b &lt;&gt; [])
     || not (List.length a = List.length b)))
&amp;&amp; (((0 = int_of_bits a + int_of_bit cin || cin) || b &lt;&gt; [])
    || not (List.length a = List.length b))</pre></td></tr><tr><td><b>expansions</b></td><td><pre>[int_of_bits, int_of_bits, int_of_bits, ripple_carry_adder, int_of_bits,
 int_of_bits, int_of_bits, ripple_carry_adder]</pre></td></tr><tr><td><b>rewrite_steps</b></td><td><ul></ul></td></tr><tr><td><b>forward_chaining</b></td><td><ul><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li></ul></td></tr></table></div></div><ul><li><pre>Subproof</pre></li><li><pre>Subproof</pre></li><li><pre>Subproof</pre></li><li><pre>Subproof</pre></li></ul></div></li></ul></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-949beb1d-61a0-4cc1-9c38-180ef575a3d6';
  fold.hydrate(target);
});
</script></div></div></li></ul></div></li></ul></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-b4c26873-c1c4-412c-ba23-03fcfc92b115';
  fold.hydrate(target);
});
</script></div></div></li></ul></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-70bd480f-645d-418b-8ff0-e9085fa39394';
  fold.hydrate(target);
});
</script></div></div><div class="tab-pane"><div class="imandra-graphviz" id="graphviz-1de1c127-e77a-47a6-95c4-bb2df7dd36d3"><textarea style="display: none">digraph &quot;proof&quot; {
p_302 [label=&quot;Start (List.length :var_0: = List.length :var_1:\l       ==\&gt; int_of_bits (ripple_carry_adder :var_0: :var_1: :var_2:) =\l           (int_of_bits :var_0: + int_of_bits :var_1:) + int_of_bit :var_2:\l       :name \&quot;Goal\&quot; :time 1.595s)&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_302 -&gt; p_300 [label=&quot;&quot;];
subgraph cluster_301 {
  color=blue;
p_300 [label=&quot;Start (not (List.length a = List.length b)\l       \|\| int_of_bits (ripple_carry_adder a b cin) =\l          (int_of_bits a + int_of_bits b) + int_of_bit cin\l       :name \&quot;1\&quot; :time 1.595s)&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_300 -&gt; p_299 [label=&quot;&quot;];
p_299 [label=&quot;Induct ((functional ripple_carry_adder),\l        :scheme (not (b \&lt;\&gt; [] &amp;&amp; a \&lt;\&gt; []) ==\&gt; φ cin b a)\l                &amp;&amp; ((b \&lt;\&gt; [] &amp;&amp; a \&lt;\&gt; [])\l                    &amp;&amp; φ (adder_carry_out (List.hd a) (List.hd b) cin)\l                       (List.tl b) (List.tl a)\l                    ==\&gt; φ cin b a))&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_299 -&gt; p_298 [label=&quot;&quot;];
p_298 [label=&quot;Split (((b \&lt;\&gt; [] &amp;&amp; a \&lt;\&gt; [] \|\| not (List.length a = List.length b))\l        \|\| int_of_bits (ripple_carry_adder a b cin) =\l           (int_of_bits a + int_of_bits b) + int_of_bit cin)\l       &amp;&amp; ((not\l            ((b \&lt;\&gt; [] &amp;&amp; a \&lt;\&gt; [])\l             &amp;&amp; (not (List.length (List.tl a) = List.length (List.tl b))\l                 \|\| int_of_bits\l                    (ripple_carry_adder (List.tl a) (List.tl b)\l                     ((not (List.hd a) \&lt;==\&gt; List.hd b) &amp;&amp; cin\l                      \|\| List.hd a &amp;&amp; List.hd b))\l                    =\l                    (int_of_bits (List.tl a) + int_of_bits (List.tl b))\l                    + int_of_bit\l                      ((not (List.hd a) \&lt;==\&gt; List.hd b) &amp;&amp; cin\l                       \|\| List.hd a &amp;&amp; List.hd b)))\l            \|\| not (List.length a = List.length b))\l           \|\| int_of_bits (ripple_carry_adder a b cin) =\l              (int_of_bits a + int_of_bits b) + int_of_bit cin)\l       :cases [(not (List.length a = List.length b) \|\| b \&lt;\&gt; [] &amp;&amp; a \&lt;\&gt; [])\l               \|\| int_of_bits (ripple_carry_adder a b cin) =\l                  (int_of_bits a + int_of_bits b) + int_of_bit cin;\l               (((not (b \&lt;\&gt; []) \|\| not (a \&lt;\&gt; []))\l                 \|\| not\l                    (not (List.length (List.tl a) = List.length (List.tl b))\l                     \|\| int_of_bits\l                        (ripple_carry_adder (List.tl a) (List.tl b)\l                         ((not (List.hd a) \&lt;==\&gt; List.hd b) &amp;&amp; cin\l                          \|\| List.hd a &amp;&amp; List.hd b))\l                        =\l                        (int_of_bits (List.tl a) + int_of_bits (List.tl b))\l                        + int_of_bit\l                          ((not (List.hd a) \&lt;==\&gt; List.hd b) &amp;&amp; cin\l                           \|\| List.hd a &amp;&amp; List.hd b)))\l                \|\| not (List.length a = List.length b))\l               \|\| int_of_bits (ripple_carry_adder a b cin) =\l                  (int_of_bits a + int_of_bits b) + int_of_bit cin])&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_298 -&gt; p_274 [label=&quot;&quot;];
subgraph cluster_275 {
  color=blue;
p_274 [label=&quot;Start ((((not (b \&lt;\&gt; []) \|\| not (a \&lt;\&gt; []))\l         \|\| not\l            (not (List.length (List.tl a) = List.length (List.tl b))\l             \|\| int_of_bits\l                (ripple_carry_adder (List.tl a) (List.tl b)\l                 ((not (List.hd a) \&lt;==\&gt; List.hd b) &amp;&amp; cin\l                  \|\| List.hd a &amp;&amp; List.hd b))\l                =\l                (int_of_bits (List.tl a) + int_of_bits (List.tl b))\l                + int_of_bit\l                  ((not (List.hd a) \&lt;==\&gt; List.hd b) &amp;&amp; cin\l                   \|\| List.hd a &amp;&amp; List.hd b)))\l        \|\| not (List.length a = List.length b))\l       \|\| int_of_bits (ripple_carry_adder a b cin) =\l          (int_of_bits a + int_of_bits b) + int_of_bit cin\l       :name \&quot;1.1\&quot; :time 1.374s)&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_274 -&gt; p_273 [label=&quot;&quot;];
p_273 [label=&quot;Simplify (true\l          :expansions [int_of_bits;\l                       int_of_bits;\l                       int_of_bits;\l                       ripple_carry_adder;\l                       List.length;\l                       List.length;\l                       List.length;\l                       List.length;\l                       List.length;\l                       List.length;\l                       int_of_bits;\l                       int_of_bits;\l                       int_of_bits;\l                       ripple_carry_adder;\l                       List.length;\l                       List.length;\l                       List.length;\l                       List.length;\l                       List.length;\l                       List.length;\l                       List.length;\l                       List.length;\l                       int_of_bits;\l                       int_of_bits;\l                       int_of_bits;\l                       ripple_carry_adder;\l                       List.length;\l                       List.length;\l                       List.length;\l                       List.length;\l                       int_of_bits;\l                       int_of_bits;\l                       int_of_bits;\l                       ripple_carry_adder;\l                       List.length;\l                       List.length;\l                       List.length;\l                       List.length;\l                       List.length;\l                       List.length;\l                       int_of_bits;\l                       int_of_bits;\l                       int_of_bits;\l                       ripple_carry_adder;\l                       List.length;\l                       List.length;\l                       List.length;\l                       List.length]\l          :rw []\l          :fc [List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative])&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
}
p_298 -&gt; p_296 [label=&quot;&quot;];
subgraph cluster_297 {
  color=blue;
p_296 [label=&quot;Start ((not (List.length a = List.length b) \|\| b \&lt;\&gt; [] &amp;&amp; a \&lt;\&gt; [])\l       \|\| int_of_bits (ripple_carry_adder a b cin) =\l          (int_of_bits a + int_of_bits b) + int_of_bit cin\l       :name \&quot;1.2\&quot; :time 1.374s)&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_296 -&gt; p_295 [label=&quot;&quot;];
p_295 [label=&quot;Simplify (((((((0 = int_of_bits b \|\| not cin) \|\| a \&lt;\&gt; []) \|\| not (b \&lt;\&gt; []))\l             \|\| not (List.length a = List.length b))\l            &amp;&amp; ((((0 = int_of_bits b + int_of_bit cin \|\| cin) \|\| a \&lt;\&gt; [])\l                 \|\| not (b \&lt;\&gt; []))\l                \|\| not (List.length a = List.length b)))\l           &amp;&amp; (((0 = int_of_bits a \|\| not cin) \|\| b \&lt;\&gt; [])\l               \|\| not (List.length a = List.length b)))\l          &amp;&amp; (((0 = int_of_bits a + int_of_bit cin \|\| cin) \|\| b \&lt;\&gt; [])\l              \|\| not (List.length a = List.length b))\l          :expansions [int_of_bits;\l                       int_of_bits;\l                       int_of_bits;\l                       ripple_carry_adder;\l                       int_of_bits;\l                       int_of_bits;\l                       int_of_bits;\l                       ripple_carry_adder]\l          :rw []\l          :fc [List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative])&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_295 -&gt; p_281 [label=&quot;&quot;];
subgraph cluster_282 {
  color=blue;
p_281 [label=&quot;Start (((0 = int_of_bits a + int_of_bit cin \|\| cin) \|\| b \&lt;\&gt; [])\l       \|\| not (List.length a = List.length b) :name \&quot;1.2.1\&quot; :time 1.253s)&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_281 -&gt; p_280 [label=&quot;&quot;];
p_280 [label=&quot;Simplify (((b \&lt;\&gt; [] \|\| cin) \|\| 0 = int_of_bits a + int_of_bit cin)\l          \|\| not (List.length a = 0) :expansions [List.length] :rw []\l          :fc [List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative])&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_280 -&gt; p_279 [label=&quot;&quot;];
p_279 [label=&quot;Simplify (((0 = int_of_bit cin \|\| cin) \|\| b \&lt;\&gt; []) \|\| not (a = [])\l          :expansions [int_of_bits] :rw [List.len_zero_is_empty]\l          :fc [List.len_nonnegative])&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_279 -&gt; p_278 [label=&quot;&quot;];
p_278 [label=&quot;Simplify ((b \&lt;\&gt; [] \|\| cin) \|\| 0 = int_of_bit cin :expansions [] :rw [] :fc [])&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_278 -&gt; p_277 [label=&quot;&quot;];
p_277 [label=&quot;Simplify ((b \&lt;\&gt; [] \|\| cin) \|\| 0 = int_of_bit false\l          :expansions [induct; xor; adder_carry_out; induct; induct] \l          :rw [] :fc [])&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_277 -&gt; p_272 [label=&quot;&quot;];
subgraph cluster_276 {
  color=blue;
p_272 [label=&quot;Start ((:var_0: \&lt;\&gt; [] \|\| :var_1:) \|\| 0 = 0 :time 0.012s)&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_272 -&gt; p_271 [label=&quot;&quot;];
p_271 [label=&quot;Simplify (true :expansions [int_of_bit] :rw [] :fc [])&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_271 -&gt; p_270 [label=&quot;&quot;];
p_270 -&gt; p_z3_1293 [label=&quot;&quot;,fontname=&quot;courier&quot;,fontsize=14];
p_z3_1293 [label=&quot;(mp (asserted (not true)) (rewrite (= (not true) false)) false)&quot;,shape=box,fontname=&quot;courier&quot;,fontsize=14];p_270 [label=&quot;unsat&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
}
}
p_295 -&gt; p_285 [label=&quot;&quot;];
subgraph cluster_286 {
  color=blue;
p_285 [label=&quot;Start (((0 = int_of_bits a \|\| not cin) \|\| b \&lt;\&gt; [])\l       \|\| not (List.length a = List.length b) :name \&quot;1.2.2\&quot; :time 1.253s)&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_285 -&gt; p_284 [label=&quot;&quot;];
p_284 [label=&quot;Simplify (((b \&lt;\&gt; [] \|\| 0 = int_of_bits a) \|\| not (List.length a = 0))\l          \|\| not cin :expansions [List.length] :rw []\l          :fc [List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative])&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_284 -&gt; p_283 [label=&quot;&quot;];
p_283 [label=&quot;Simplify (true :expansions [int_of_bits] :rw [List.len_zero_is_empty]\l          :fc [List.len_nonnegative])&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
}
p_295 -&gt; p_289 [label=&quot;&quot;];
subgraph cluster_290 {
  color=blue;
p_289 [label=&quot;Start ((((0 = int_of_bits b + int_of_bit cin \|\| cin) \|\| a \&lt;\&gt; [])\l        \|\| not (b \&lt;\&gt; []))\l       \|\| not (List.length a = List.length b) :name \&quot;1.2.3\&quot; :time 1.254s)&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_289 -&gt; p_288 [label=&quot;&quot;];
p_288 [label=&quot;Simplify ((((a \&lt;\&gt; [] \|\| cin) \|\| 0 = int_of_bits b + int_of_bit cin)\l           \|\| not (0 = List.length b))\l          \|\| not (b \&lt;\&gt; []) :expansions [List.length] :rw []\l          :fc [List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative])&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_288 -&gt; p_287 [label=&quot;&quot;];
p_287 [label=&quot;Simplify (true :expansions [] :rw [List.len_zero_is_empty]\l          :fc [List.len_nonnegative])&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
}
p_295 -&gt; p_293 [label=&quot;&quot;];
subgraph cluster_294 {
  color=blue;
p_293 [label=&quot;Start ((((0 = int_of_bits b \|\| not cin) \|\| a \&lt;\&gt; []) \|\| not (b \&lt;\&gt; []))\l       \|\| not (List.length a = List.length b) :name \&quot;1.2.4\&quot; :time 1.254s)&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_293 -&gt; p_292 [label=&quot;&quot;];
p_292 [label=&quot;Simplify ((((a \&lt;\&gt; [] \|\| 0 = int_of_bits b) \|\| not (0 = List.length b))\l           \|\| not (b \&lt;\&gt; []))\l          \|\| not cin :expansions [List.length] :rw []\l          :fc [List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative])&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_292 -&gt; p_291 [label=&quot;&quot;];
p_291 [label=&quot;Simplify (true :expansions [] :rw [List.len_zero_is_empty]\l          :fc [List.len_nonnegative])&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
}
}
}
}
</textarea><button class="btn btn-primary">Load graph</button><div class="imandra-graphviz-loading display-none">Loading..</div><div class="imandra-graphviz-target"></div><script>
require(['nbextensions/nbimandra/graphviz'], function (graphviz) {
  var target = '#graphviz-1de1c127-e77a-47a6-95c4-bb2df7dd36d3';
  graphviz.hydrate(target);
});
</script></div></div></div><script>
require(['nbextensions/nbimandra/alternatives'], function (alternatives) {
  var target = '#alt-3ce5c4e5-4bef-40ad-b813-792d431d78d0';
  alternatives.hydrate(target);
});
</script></div></div></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-3c5b5fb2-2932-4a8d-b460-5ead06f43774';
  fold.hydrate(target);
});
</script></div></div></div></div><script>
require(['nbextensions/nbimandra/alternatives'], function (alternatives) {
  var target = '#alt-d05135e2-a54e-43b5-874f-7df6c61ec43a';
  alternatives.hydrate(target);
});
</script></div></div></div>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Excellent!</p>
<p>Note that we were able to prove this main theorem without introducing any auxiliary lemmas.</p>
<p>Nevertheless, it's almost always useful to prove local lemmas about our functions.</p>
<p>For example, the following is a very useful property to know about our single-step adder, <code>adder_sum</code>. We'll introduce it as a <code>rewrite</code> rule so that we may use it for an alternative proof of our main theorem.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="try-this-container">
  <div class="try-this"><a href="https://try.imandra.ai/launch/?next=/h/user-redirect/notebooks/Verifying%20a%20Ripple%20Carry%20Adder.ipynb%23try-cell-30" target="_blank">Try this!</a></div>
</div>
<div class="input">
<div class="prompt input_prompt">In&nbsp;[18]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ocaml"><pre><span></span><span class="n">theorem</span> <span class="n">single_adder_circuit_correct</span> <span class="n">a</span> <span class="n">b</span> <span class="n">cin</span> <span class="o">=</span>
  <span class="n">int_of_bit</span> <span class="o">(</span><span class="n">adder_sum</span> <span class="n">a</span> <span class="n">b</span> <span class="n">cin</span><span class="o">)</span>
    <span class="o">=</span> <span class="n">int_of_bit</span> <span class="n">a</span> <span class="o">+</span> <span class="n">int_of_bit</span> <span class="n">b</span> <span class="o">+</span> <span class="n">int_of_bit</span> <span class="n">cin</span> <span class="o">-</span> <span class="o">(</span><span class="mi">2</span> <span class="o">*</span> <span class="o">(</span><span class="n">int_of_bit</span> <span class="o">(</span><span class="n">adder_carry_out</span> <span class="n">a</span> <span class="n">b</span> <span class="n">cin</span><span class="o">)))</span>
<span class="o">[@@</span><span class="n">rewrite</span><span class="o">]</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt output_prompt">Out[18]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>val single_adder_circuit_correct : bool -&gt; bool -&gt; bool -&gt; bool = &lt;fun&gt;
</pre>
</div>

</div>

<div class="output_area">

<div class="prompt"></div>



<div class="output_html rendered_html output_subarea ">
<div><div class="imandra-vr imandra-vr-proved"><i class="fa fa-check-circle"></i><span>Proved</span></div><div><div class="imandra-alternatives" id="alt-6e88aa8d-2e7d-4aa1-8073-e9d8b16a1a05"><ul class="nav nav-tabs"><li class="active" data-toggle="tab"><a>proof</a></li><li class="" data-toggle="tab"><a>call graph</a></li></ul><div class="tab-content"><div class="tab-pane active"><div class="imandra-proof-top"><div class="imandra-fold panel panel-default" id="fold-48d69e3f-d106-48a2-8d47-2013dec8ed43"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>proof</span></div></div><div class="panel-body collapse"><div class="imandra-proof"><div class="imandra-alternatives" id="alt-87712dbf-fe20-4a8d-a985-c7c9d7b77cab"><ul class="nav nav-tabs"><li class="active" data-toggle="tab"><a>summary</a></li><li class="" data-toggle="tab"><a>full</a></li><li class="" data-toggle="tab"><a>graph</a></li></ul><div class="tab-content"><div class="tab-pane active"><div class="imandra-table" id="table-a85eff5f-1c07-4799-93f4-40573865fa56"><table><tr><td><b>ground_instances</b></td><td>0</td></tr><tr><td><b>definitions</b></td><td>0</td></tr><tr><td><b>inductions</b></td><td>0</td></tr><tr><td><b>search_time</b></td><td><pre>0.014s</pre></td></tr><tr><td><b>details</b></td><td><div class="imandra-fold panel panel-default" id="fold-e2f6e5c8-3109-4255-80e2-fc9f5c5e5e77"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>Expand</span></div></div><div class="panel-body collapse"><div class="imandra-table" id="table-03564c2a-467a-4a31-9fb6-ff8d4d9b1892"><table><tr><td><b>smt_stats</b></td><td><div class="imandra-table" id="table-2c5c9a35-7b49-483a-8016-69b69e5068dd"><table><tr><td><b>arith assert lower</b></td><td>60</td></tr><tr><td><b>arith pivots</b></td><td>2</td></tr><tr><td><b>rlimit count</b></td><td>1149</td></tr><tr><td><b>mk clause</b></td><td>160</td></tr><tr><td><b>mk bool var</b></td><td>133</td></tr><tr><td><b>arith assert upper</b></td><td>60</td></tr><tr><td><b>decisions</b></td><td>16</td></tr><tr><td><b>propagations</b></td><td>158</td></tr><tr><td><b>conflicts</b></td><td>17</td></tr><tr><td><b>minimized lits</b></td><td>12</td></tr><tr><td><b>arith conflicts</b></td><td>16</td></tr><tr><td><b>arith assert diseq</b></td><td>1</td></tr><tr><td><b>added eqs</b></td><td>98</td></tr><tr><td><b>del clause</b></td><td>136</td></tr><tr><td><b>arith eq adapter</b></td><td>59</td></tr><tr><td><b>memory</b></td><td>20.610000</td></tr><tr><td><b>max memory</b></td><td>29.250000</td></tr><tr><td><b>num allocs</b></td><td>8586964059.000000</td></tr></table></div></td></tr></table></div></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-e2f6e5c8-3109-4255-80e2-fc9f5c5e5e77';
  fold.hydrate(target);
});
</script></div></td></tr></table></div></div><div class="tab-pane"><div class="imandra-fold panel panel-default" id="fold-cc39581c-05a7-40eb-8cb8-d071c41093c6"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>Expand</span></div></div><div class="panel-body collapse"><ul><li><pre>start[0.014s]
  (if not (not (:var_0: = :var_1:) = :var_2:) then 1 else 0) =
  (((if :var_0: then 1 else 0) + (if :var_1: then 1 else 0))
   + (if :var_2: then 1 else 0))
  -
  (2
   * (if not (:var_0: = :var_1:) &amp;&amp; :var_2: || :var_0: &amp;&amp; :var_1: then 1
      else 0))</pre></li><li><div><h4>simplify</h4><div class="imandra-table" id="table-b5473882-0df6-4ba7-bb51-7f9987a01e59"><table><tr><td><b>into</b></td><td><pre>(if (:var_0: &lt;==&gt; :var_1:) &lt;==&gt; :var_2: then 1 else 0) =
(((if :var_0: then 1 else 0) + (if :var_1: then 1 else 0))
 + (if :var_2: then 1 else 0))
+ -2
  * (if (not :var_0: &lt;==&gt; :var_1:) &amp;&amp; :var_2: || :var_0: &amp;&amp; :var_1: then 1
     else 0)</pre></td></tr><tr><td><b>expansions</b></td><td><pre>[]</pre></td></tr><tr><td><b>rewrite_steps</b></td><td><ul></ul></td></tr><tr><td><b>forward_chaining</b></td><td><ul></ul></td></tr></table></div></div></li><li><div><h4>unsat</h4><pre>(let ((a!1 (= (ite (= (= a_2443 b_2444) cin_2445) 1 0) 1))
      (a!2 (&lt;= (ite (= (= a_2443 b_2444) …</pre></div></li></ul></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-cc39581c-05a7-40eb-8cb8-d071c41093c6';
  fold.hydrate(target);
});
</script></div></div><div class="tab-pane"><div class="imandra-graphviz" id="graphviz-eed7827d-4893-4340-8bd9-7b80ec4573cd"><textarea style="display: none">digraph &quot;proof&quot; {
p_305 [label=&quot;Start ((if not (not (:var_0: = :var_1:) = :var_2:) then 1 else 0) =\l       (((if :var_0: then 1 else 0) + (if :var_1: then 1 else 0))\l        + (if :var_2: then 1 else 0))\l       -\l       (2\l        * (if not (:var_0: = :var_1:) &amp;&amp; :var_2: \|\| :var_0: &amp;&amp; :var_1: \l           then 1 else 0))\l       :time 0.014s)&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_305 -&gt; p_304 [label=&quot;&quot;];
p_304 [label=&quot;Simplify ((if (:var_0: \&lt;==\&gt; :var_1:) \&lt;==\&gt; :var_2: then 1 else 0) =\l          (((if :var_0: then 1 else 0) + (if :var_1: then 1 else 0))\l           + (if :var_2: then 1 else 0))\l          + -2\l            * (if (not :var_0: \&lt;==\&gt; :var_1:) &amp;&amp; :var_2: \|\| :var_0: &amp;&amp; :var_1:\l               then 1 else 0)\l          :expansions [] :rw [] :fc [])&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_304 -&gt; p_303 [label=&quot;&quot;];
p_303 -&gt; p_z3_550 [label=&quot;&quot;,fontname=&quot;courier&quot;,fontsize=14];
p_z3_550 [label=&quot;(let ((a!1 (= (ite (= (= a_2443 b_2444) cin_2445) 1 0) 1))
      (a!2 (&lt;= (ite (= (= a_2443 b_2444) …&quot;,shape=box,fontname=&quot;courier&quot;,fontsize=14];p_303 [label=&quot;unsat&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
}
</textarea><button class="btn btn-primary">Load graph</button><div class="imandra-graphviz-loading display-none">Loading..</div><div class="imandra-graphviz-target"></div><script>
require(['nbextensions/nbimandra/graphviz'], function (graphviz) {
  var target = '#graphviz-eed7827d-4893-4340-8bd9-7b80ec4573cd';
  graphviz.hydrate(target);
});
</script></div></div></div><script>
require(['nbextensions/nbimandra/alternatives'], function (alternatives) {
  var target = '#alt-87712dbf-fe20-4a8d-a985-c7c9d7b77cab';
  alternatives.hydrate(target);
});
</script></div></div></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-48d69e3f-d106-48a2-8d47-2013dec8ed43';
  fold.hydrate(target);
});
</script></div></div></div><div class="tab-pane"><div class="imandra-graphviz" id="graphviz-e5530de9-fa0f-448f-b2b7-c05bd2374417"><textarea style="display: none">digraph &quot;call graph&quot; {
goal [label=&quot;not\l((if (a \&lt;==\&gt; b) \&lt;==\&gt; cin then 1 else 0) =\l (((if a then 1 else 0) + (if b then 1 else 0)) + (if cin then 1 else 0))\l + -2 * (if (not a \&lt;==\&gt; b) &amp;&amp; cin \|\| a &amp;&amp; b then 1 else 0))&quot;,shape=box,style=filled,color=&quot;cyan&quot;,fontname=&quot;courier&quot;,fontsize=14];
}
</textarea><button class="btn btn-primary">Load graph</button><div class="imandra-graphviz-loading display-none">Loading..</div><div class="imandra-graphviz-target"></div><script>
require(['nbextensions/nbimandra/graphviz'], function (graphviz) {
  var target = '#graphviz-e5530de9-fa0f-448f-b2b7-c05bd2374417';
  graphviz.hydrate(target);
});
</script></div></div></div><script>
require(['nbextensions/nbimandra/alternatives'], function (alternatives) {
  var target = '#alt-6e88aa8d-2e7d-4aa1-8073-e9d8b16a1a05';
  alternatives.hydrate(target);
});
</script></div></div></div>

</div>

</div>

<div class="output_area">

<div class="prompt"></div>



<div class="output_html rendered_html output_subarea ">
<div><div style="color:yellow" class="imandra-warn"><h4 style="color:yellow" class="imandra-warn">Warning</h4><pre>Pattern will match only if `int_of_bit` is disabled
(non-recursive function)</pre></div></div>

</div>

</div>

<div class="output_area">

<div class="prompt"></div>



<div class="output_html rendered_html output_subarea ">
<div><div style="color:yellow" class="imandra-warn"><h4 style="color:yellow" class="imandra-warn">Warning</h4><pre>Pattern will match only if `adder_sum` is disabled
(non-recursive function)</pre></div></div>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Notice the above <code>Warnings</code>, in particular about <code>adder_sum</code>. These are printed because we've specified Imandra to install this theorem as a <code>rewrite</code> rule, and the LHS (left-hand-side) of the rule contains non-recursive functions which will, unless they are disabled, be expanded before rewriting can be applied.</p>
<p>Can you see an alternative proof of our main theorem which makes use of this rule? We just need to follow the advice of the warning (note that <code>int_of_bit</code> is already disabled)!</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="try-this-container">
  <div class="try-this"><a href="https://try.imandra.ai/launch/?next=/h/user-redirect/notebooks/Verifying%20a%20Ripple%20Carry%20Adder.ipynb%23try-cell-32" target="_blank">Try this!</a></div>
</div>
<div class="input">
<div class="prompt input_prompt">In&nbsp;[19]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ocaml"><pre><span></span><span class="o">#</span><span class="n">disable</span> <span class="n">adder_sum</span>

<span class="n">theorem</span> <span class="n">full_ripple_carry_adder_correct</span> <span class="n">a</span> <span class="n">b</span> <span class="n">cin</span> <span class="o">=</span>
  <span class="nn">List</span><span class="p">.</span><span class="n">length</span> <span class="n">a</span> <span class="o">=</span> <span class="nn">List</span><span class="p">.</span><span class="n">length</span> <span class="n">b</span> <span class="o">==&gt;</span>
  <span class="n">int_of_bits</span> <span class="o">(</span><span class="n">ripple_carry_adder</span> <span class="n">a</span> <span class="n">b</span> <span class="n">cin</span><span class="o">)</span> <span class="o">=</span>
  <span class="n">int_of_bits</span> <span class="n">a</span> <span class="o">+</span> <span class="n">int_of_bits</span> <span class="n">b</span> <span class="o">+</span> <span class="n">int_of_bit</span> <span class="n">cin</span>
<span class="o">[@@</span><span class="n">induct</span> <span class="n">functional</span> <span class="n">ripple_carry_adder</span><span class="o">]</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt output_prompt">Out[19]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>val full_ripple_carry_adder_correct : bool list -&gt; bool list -&gt; bool -&gt; bool =
  &lt;fun&gt;
<span class="ansi-white-intense-fg ansi-bold">Goal</span>:

List.length a = List.length b
==&gt; int_of_bits (ripple_carry_adder a b cin) =
    (int_of_bits a + int_of_bits b) + int_of_bit cin.

1 nontautological subgoal.

<span class="ansi-white-intense-fg ansi-bold">Subgoal 1</span>:

 H0. List.length a = List.length b
|---------------------------------------------------------------------------
 int_of_bits (ripple_carry_adder a b cin) =
 (int_of_bits a + int_of_bits b) + int_of_bit cin

Verified up to bound 5 (after 0.031s).

Must try induction.

<span class="ansi-cyan-intense-fg ansi-bold">Induction scheme</span>:

 (not (b &lt;&gt; [] &amp;&amp; a &lt;&gt; []) ==&gt; φ b a cin)
 &amp;&amp; ((b &lt;&gt; [] &amp;&amp; a &lt;&gt; [])
     &amp;&amp; φ (List.tl b) (List.tl a)
        (adder_carry_out (List.hd a) (List.hd b) cin)
     ==&gt; φ b a cin).

2 nontautological subgoals.

<span class="ansi-white-intense-fg ansi-bold">Subgoal 1.2</span>:

 H0. List.length a = List.length b
|---------------------------------------------------------------------------
 C0. b &lt;&gt; [] &amp;&amp; a &lt;&gt; []
 C1. int_of_bits (ripple_carry_adder a b cin) =
     (int_of_bits a + int_of_bits b) + int_of_bit cin

This simplifies, using the definitions of <span class="ansi-blue-intense-fg ansi-bold">int_of_bits </span>and<span class="ansi-blue-intense-fg ansi-bold"> ripple_carry_adder</span>
to the following 4 subgoals:

<span class="ansi-white-intense-fg ansi-bold">Subgoal 1.2.4</span>:

 H0. cin
 H1. b &lt;&gt; []
 H2. List.length a = List.length b
|---------------------------------------------------------------------------
 C0. 0 = int_of_bits b
 C1. a &lt;&gt; []

This simplifies, using the definition of <span class="ansi-blue-intense-fg ansi-bold">List.length</span> to:

<span class="ansi-white-intense-fg ansi-bold">Subgoal 1.2.4&#39;</span>:

 H0. 0 = List.length b
 H1. b &lt;&gt; []
 H2. cin
|---------------------------------------------------------------------------
 C0. a &lt;&gt; []
 C1. 0 = int_of_bits b

But simplification reduces this to true, using the rewrite rule
<span class="ansi-magenta-intense-fg ansi-bold">List.len_zero_is_empty</span>.

<span class="ansi-white-intense-fg ansi-bold">Subgoal 1.2.3</span>:

 H0. b &lt;&gt; []
 H1. List.length a = List.length b
|---------------------------------------------------------------------------
 C0. 0 = int_of_bits b + int_of_bit cin
 C1. cin
 C2. a &lt;&gt; []

This simplifies, using the definition of <span class="ansi-blue-intense-fg ansi-bold">List.length</span> to:

<span class="ansi-white-intense-fg ansi-bold">Subgoal 1.2.3&#39;</span>:

 H0. 0 = List.length b
 H1. b &lt;&gt; []
|---------------------------------------------------------------------------
 C0. a &lt;&gt; []
 C1. cin
 C2. 0 = int_of_bits b + int_of_bit cin

But simplification reduces this to true, using the rewrite rule
<span class="ansi-magenta-intense-fg ansi-bold">List.len_zero_is_empty</span>.

<span class="ansi-white-intense-fg ansi-bold">Subgoal 1.2.2</span>:

 H0. cin
 H1. List.length a = List.length b
|---------------------------------------------------------------------------
 C0. 0 = int_of_bits a
 C1. b &lt;&gt; []

This simplifies, using the definition of <span class="ansi-blue-intense-fg ansi-bold">List.length</span> to:

<span class="ansi-white-intense-fg ansi-bold">Subgoal 1.2.2&#39;</span>:

 H0. List.length a = 0
 H1. cin
|---------------------------------------------------------------------------
 C0. b &lt;&gt; []
 C1. 0 = int_of_bits a

But simplification reduces this to true, using the definition of <span class="ansi-blue-intense-fg ansi-bold">int_of_bits</span>,
and the rewrite rule <span class="ansi-magenta-intense-fg ansi-bold">List.len_zero_is_empty</span>.

<span class="ansi-white-intense-fg ansi-bold">Subgoal 1.2.1</span>:

 H0. List.length a = List.length b
|---------------------------------------------------------------------------
 C0. 0 = int_of_bits a + int_of_bit cin
 C1. cin
 C2. b &lt;&gt; []

This simplifies, using the definition of <span class="ansi-blue-intense-fg ansi-bold">List.length</span> to:

<span class="ansi-white-intense-fg ansi-bold">Subgoal 1.2.1&#39;</span>:

 H0. List.length a = 0
|---------------------------------------------------------------------------
 C0. b &lt;&gt; []
 C1. cin
 C2. 0 = int_of_bits a + int_of_bit cin

This simplifies, using the definition of <span class="ansi-blue-intense-fg ansi-bold">int_of_bits</span>, and the rewrite rule
<span class="ansi-magenta-intense-fg ansi-bold">List.len_zero_is_empty</span> to:

<span class="ansi-white-intense-fg ansi-bold">Subgoal 1.2.1&#39;&#39;</span>:

 H0. a = []
|---------------------------------------------------------------------------
 C0. 0 = int_of_bit cin
 C1. cin
 C2. b &lt;&gt; []

This simplifies to:

<span class="ansi-white-intense-fg ansi-bold">Subgoal 1.2.1&#39;&#39;&#39;</span>:

|---------------------------------------------------------------------------
 C0. b &lt;&gt; []
 C1. cin
 C2. 0 = int_of_bit cin

This further simplifies to:

<span class="ansi-white-intense-fg ansi-bold">Subgoal 1.2.1&#39;&#39;&#39;&#39;</span>:

|---------------------------------------------------------------------------
 C0. b &lt;&gt; []
 C1. cin
 C2. 0 = int_of_bit false

But we verify Subgoal 1.2.1&#39;&#39;&#39;&#39; by recursive unrolling.

<span class="ansi-white-intense-fg ansi-bold">Subgoal 1.1</span>:

 H0. b &lt;&gt; []
 H1. a &lt;&gt; []
 H2. List.length (List.tl a) = List.length (List.tl b)
     ==&gt; int_of_bits
         (ripple_carry_adder (List.tl a) (List.tl b)
          ((not (List.hd a) &lt;==&gt; List.hd b) &amp;&amp; cin || List.hd a &amp;&amp; List.hd b))
         =
         (int_of_bits (List.tl a) + int_of_bits (List.tl b))
         + int_of_bit
           ((not (List.hd a) &lt;==&gt; List.hd b) &amp;&amp; cin || List.hd a &amp;&amp; List.hd b)
 H3. List.length a = List.length b
|---------------------------------------------------------------------------
 int_of_bits (ripple_carry_adder a b cin) =
 (int_of_bits a + int_of_bits b) + int_of_bit cin

But simplification reduces this to true, using the definitions of
<span class="ansi-blue-intense-fg ansi-bold">List.length</span>,<span class="ansi-blue-intense-fg ansi-bold"> int_of_bits </span>and<span class="ansi-blue-intense-fg ansi-bold"> ripple_carry_adder</span>, and the rewrite rule
<span class="ansi-magenta-intense-fg ansi-bold">single_adder_circuit_correct</span>.

</pre>
</div>

</div>

<div class="output_area">

<div class="prompt"></div>



<div class="output_html rendered_html output_subarea ">
<div><div class="imandra-vr imandra-vr-proved"><i class="fa fa-check-circle"></i><span>Proved</span></div><div><div class="imandra-alternatives" id="alt-ba92e55e-6698-47f2-9a71-ba55af4e3d54"><ul class="nav nav-tabs"><li class="active" data-toggle="tab"><a>proof</a></li></ul><div class="tab-content"><div class="tab-pane active"><div class="imandra-proof-top"><div class="imandra-fold panel panel-default" id="fold-757070e5-b35c-45a8-86d8-939036b45b23"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>proof</span></div></div><div class="panel-body collapse"><div class="imandra-proof"><div class="imandra-alternatives" id="alt-5fc47ba3-bd37-4981-a497-802ef0d54e96"><ul class="nav nav-tabs"><li class="active" data-toggle="tab"><a>summary</a></li><li class="" data-toggle="tab"><a>full</a></li><li class="" data-toggle="tab"><a>graph</a></li></ul><div class="tab-content"><div class="tab-pane active"><div class="imandra-table" id="table-0036d04e-c696-41be-9a2a-73ed0abc37d3"><table><tr><td><b>ground_instances</b></td><td>0</td></tr><tr><td><b>definitions</b></td><td>68</td></tr><tr><td><b>inductions</b></td><td>1</td></tr><tr><td><b>search_time</b></td><td><pre>1.552s</pre></td></tr><tr><td><b>details</b></td><td><div class="imandra-fold panel panel-default" id="fold-e71da87d-1e42-4844-b46f-684f875873ea"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>Expand</span></div></div><div class="panel-body collapse"><div class="imandra-table" id="table-8756ad03-5c44-4f50-83da-18877ee77040"><table><tr><td><b>smt_stats</b></td><td><div class="imandra-table" id="table-47f26dce-3897-49d2-8de3-fd57a1bbfaf4"><table><tr><td><b>rlimit count</b></td><td>45232</td></tr><tr><td><b>mk bool var</b></td><td>5</td></tr><tr><td><b>memory</b></td><td>38.670000</td></tr><tr><td><b>max memory</b></td><td>38.850000</td></tr><tr><td><b>num allocs</b></td><td>11980681977.000000</td></tr></table></div></td></tr></table></div></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-e71da87d-1e42-4844-b46f-684f875873ea';
  fold.hydrate(target);
});
</script></div></td></tr></table></div></div><div class="tab-pane"><div class="imandra-fold panel panel-default" id="fold-69a5764a-3314-4fb3-a964-35abca8967a6"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>Expand</span></div></div><div class="panel-body collapse"><ul><li><pre>start[1.552s, &quot;Goal&quot;]
  List.length :var_0: = List.length :var_1:
  ==&gt; int_of_bits (ripple_carry_adder :var_0: :var_1: :var_2:) =
      (int_of_bits :var_0: + int_of_bits :var_1:) + int_of_bit :var_2:</pre></li><li><div><h4>subproof</h4><div class="imandra-fold panel panel-default" id="fold-429ff523-2818-40d5-bf68-7dd7abf660a0"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>not (List.length a = List.length b)
|| int_of_bits (ripple_carry_adder a b cin) =
   (int_of_bits a + int_of_bits b) + int_of_bit cin</span></div></div><div class="panel-body collapse"><ul><li><pre>start[1.552s, &quot;1&quot;]
  not (List.length a = List.length b)
  || int_of_bits (ripple_carry_adder a b cin) =
     (int_of_bits a + int_of_bits b) + int_of_bit cin</pre></li><li><pre>induction on (functional ripple_carry_adder)
:scheme (not (b &lt;&gt; [] &amp;&amp; a &lt;&gt; []) ==&gt; φ b a cin)
        &amp;&amp; ((b &lt;&gt; [] &amp;&amp; a &lt;&gt; [])
            &amp;&amp; φ (List.tl b) (List.tl a)
               (adder_carry_out (List.hd a) (List.hd b) cin)
            ==&gt; φ b a cin)</pre></li><li><div><pre>Split (((b &lt;&gt; [] &amp;&amp; a &lt;&gt; [] || not (List.length a = List.length b))
        || int_of_bits (ripple_carry_adder a b cin) =
           (int_of_bits a + int_of_bits b) + int_of_bit cin)
       &amp;&amp; ((not
            ((b &lt;&gt; [] &amp;&amp; a &lt;&gt; [])
             &amp;&amp; (not (List.length (List.tl a) = List.length (List.tl b))
                 || int_of_bits
                    (ripple_carry_adder (List.tl a) (List.tl b)
                     ((not (List.hd a) &lt;==&gt; List.hd b) &amp;&amp; cin
                      || List.hd a &amp;&amp; List.hd b))
                    =
                    (int_of_bits (List.tl a) + int_of_bits (List.tl b))
                    + int_of_bit
                      ((not (List.hd a) &lt;==&gt; List.hd b) &amp;&amp; cin
                       || List.hd a &amp;&amp; List.hd b)))
            || not (List.length a = List.length b))
           || int_of_bits (ripple_carry_adder a b cin) =
              (int_of_bits a + int_of_bits b) + int_of_bit cin)
       :cases [(not (List.length a = List.length b) || b &lt;&gt; [] &amp;&amp; a &lt;&gt; [])
               || int_of_bits (ripple_carry_adder a b cin) =
                  (int_of_bits a + int_of_bits b) + int_of_bit cin;
               (((not (b &lt;&gt; []) || not (a &lt;&gt; []))
                 || not
                    (not (List.length (List.tl a) = List.length (List.tl b))
                     || int_of_bits
                        (ripple_carry_adder (List.tl a) (List.tl b)
                         ((not (List.hd a) &lt;==&gt; List.hd b) &amp;&amp; cin
                          || List.hd a &amp;&amp; List.hd b))
                        =
                        (int_of_bits (List.tl a) + int_of_bits (List.tl b))
                        + int_of_bit
                          ((not (List.hd a) &lt;==&gt; List.hd b) &amp;&amp; cin
                           || List.hd a &amp;&amp; List.hd b)))
                || not (List.length a = List.length b))
               || int_of_bits (ripple_carry_adder a b cin) =
                  (int_of_bits a + int_of_bits b) + int_of_bit cin])</pre><ul><li><div><h5>subproof</h5><div class="imandra-fold panel panel-default" id="fold-842d011e-8ebc-4cf7-bf0d-93435f8e93b0"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>(((not (b &lt;&gt; []) || not (a &lt;&gt; []))
  || not
     (not (List.length (List.tl a) = List.length (List.tl b))
      || int_of_bits
         (ripple_carry_adder (List.tl a) (List.tl b)
          ((not (List.hd a) &lt;==&gt; List.hd b) &amp;&amp; cin || List.hd a &amp;&amp; List.hd b))
         =
         (int_of_bits (List.tl a) + int_of_bits (List.tl b))
         + int_of_bit
           ((not (List.hd a) &lt;==&gt; List.hd b) &amp;&amp; cin || List.hd a &amp;&amp; List.hd b)))
 || not (List.length a = List.length b))
|| int_of_bits (ripple_carry_adder a b cin) =
   (int_of_bits a + int_of_bits b) + int_of_bit cin</span></div></div><div class="panel-body collapse"><ul><li><pre>start[1.342s, &quot;1.1&quot;]
  (((not (b &lt;&gt; []) || not (a &lt;&gt; []))
    || not
       (not (List.length (List.tl a) = List.length (List.tl b))
        || int_of_bits
           (ripple_carry_adder (List.tl a) (List.tl b)
            ((not (List.hd a) &lt;==&gt; List.hd b) &amp;&amp; cin
             || List.hd a &amp;&amp; List.hd b))
           =
           (int_of_bits (List.tl a) + int_of_bits (List.tl b))
           + int_of_bit
             ((not (List.hd a) &lt;==&gt; List.hd b) &amp;&amp; cin
              || List.hd a &amp;&amp; List.hd b)))
   || not (List.length a = List.length b))
  || int_of_bits (ripple_carry_adder a b cin) =
     (int_of_bits a + int_of_bits b) + int_of_bit cin</pre></li><li><div><h6>simplify</h6><div class="imandra-table" id="table-9d3bd5d7-7fbf-402f-a020-e5e21bf8bc19"><table><tr><td><b>into</b></td><td><pre>true</pre></td></tr><tr><td><b>expansions</b></td><td><pre>[int_of_bits, int_of_bits, int_of_bits, ripple_carry_adder, List.length,
 List.length, List.length, List.length, List.length, List.length,
 int_of_bits, int_of_bits, int_of_bits, ripple_carry_adder, List.length,
 List.length, List.length, List.length, List.length, List.length,
 List.length, List.length, int_of_bits, int_of_bits, int_of_bits,
 ripple_carry_adder, List.length, List.length, List.length, List.length,
 int_of_bits, int_of_bits, int_of_bits, ripple_carry_adder, List.length,
 List.length, List.length, List.length, List.length, List.length,
 int_of_bits, int_of_bits, int_of_bits, ripple_carry_adder, List.length,
 List.length, List.length, List.length]</pre></td></tr><tr><td><b>rewrite_steps</b></td><td><ul><li><pre>single_adder_circuit_correct</pre></li><li><pre>single_adder_circuit_correct</pre></li><li><pre>single_adder_circuit_correct</pre></li><li><pre>single_adder_circuit_correct</pre></li><li><pre>single_adder_circuit_correct</pre></li></ul></td></tr><tr><td><b>forward_chaining</b></td><td><ul><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li></ul></td></tr></table></div></div></li></ul></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-842d011e-8ebc-4cf7-bf0d-93435f8e93b0';
  fold.hydrate(target);
});
</script></div></div></li><li><div><h5>subproof</h5><div class="imandra-fold panel panel-default" id="fold-ce419882-912d-4aa8-88b8-2296ae80926e"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>(not (List.length a = List.length b) || b &lt;&gt; [] &amp;&amp; a &lt;&gt; [])
|| int_of_bits (ripple_carry_adder a b cin) =
   (int_of_bits a + int_of_bits b) + int_of_bit cin</span></div></div><div class="panel-body collapse"><ul><li><pre>start[1.342s, &quot;1.2&quot;]
  (not (List.length a = List.length b) || b &lt;&gt; [] &amp;&amp; a &lt;&gt; [])
  || int_of_bits (ripple_carry_adder a b cin) =
     (int_of_bits a + int_of_bits b) + int_of_bit cin</pre></li><li><div><div><h6>simplify</h6><div class="imandra-table" id="table-b02007ef-3b09-4c18-a419-542607ac9986"><table><tr><td><b>into</b></td><td><pre>((((((0 = int_of_bits b || not cin) || a &lt;&gt; []) || not (b &lt;&gt; []))
   || not (List.length a = List.length b))
  &amp;&amp; ((((0 = int_of_bits b + int_of_bit cin || cin) || a &lt;&gt; [])
       || not (b &lt;&gt; []))
      || not (List.length a = List.length b)))
 &amp;&amp; (((0 = int_of_bits a || not cin) || b &lt;&gt; [])
     || not (List.length a = List.length b)))
&amp;&amp; (((0 = int_of_bits a + int_of_bit cin || cin) || b &lt;&gt; [])
    || not (List.length a = List.length b))</pre></td></tr><tr><td><b>expansions</b></td><td><pre>[int_of_bits, int_of_bits, int_of_bits, ripple_carry_adder, int_of_bits,
 int_of_bits, int_of_bits, ripple_carry_adder]</pre></td></tr><tr><td><b>rewrite_steps</b></td><td><ul></ul></td></tr><tr><td><b>forward_chaining</b></td><td><ul><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li></ul></td></tr></table></div></div><ul><li><pre>Subproof</pre></li><li><pre>Subproof</pre></li><li><pre>Subproof</pre></li><li><pre>Subproof</pre></li></ul></div></li></ul></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-ce419882-912d-4aa8-88b8-2296ae80926e';
  fold.hydrate(target);
});
</script></div></div></li></ul></div></li></ul></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-429ff523-2818-40d5-bf68-7dd7abf660a0';
  fold.hydrate(target);
});
</script></div></div></li></ul></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-69a5764a-3314-4fb3-a964-35abca8967a6';
  fold.hydrate(target);
});
</script></div></div><div class="tab-pane"><div class="imandra-graphviz" id="graphviz-99431b60-59d3-41f5-b50b-a8359be9ffed"><textarea style="display: none">digraph &quot;proof&quot; {
p_346 [label=&quot;Start (List.length :var_0: = List.length :var_1:\l       ==\&gt; int_of_bits (ripple_carry_adder :var_0: :var_1: :var_2:) =\l           (int_of_bits :var_0: + int_of_bits :var_1:) + int_of_bit :var_2:\l       :name \&quot;Goal\&quot; :time 1.552s)&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_346 -&gt; p_344 [label=&quot;&quot;];
subgraph cluster_345 {
  color=blue;
p_344 [label=&quot;Start (not (List.length a = List.length b)\l       \|\| int_of_bits (ripple_carry_adder a b cin) =\l          (int_of_bits a + int_of_bits b) + int_of_bit cin\l       :name \&quot;1\&quot; :time 1.552s)&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_344 -&gt; p_343 [label=&quot;&quot;];
p_343 [label=&quot;Induct ((functional ripple_carry_adder),\l        :scheme (not (b \&lt;\&gt; [] &amp;&amp; a \&lt;\&gt; []) ==\&gt; φ b a cin)\l                &amp;&amp; ((b \&lt;\&gt; [] &amp;&amp; a \&lt;\&gt; [])\l                    &amp;&amp; φ (List.tl b) (List.tl a)\l                       (adder_carry_out (List.hd a) (List.hd b) cin)\l                    ==\&gt; φ b a cin))&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_343 -&gt; p_342 [label=&quot;&quot;];
p_342 [label=&quot;Split (((b \&lt;\&gt; [] &amp;&amp; a \&lt;\&gt; [] \|\| not (List.length a = List.length b))\l        \|\| int_of_bits (ripple_carry_adder a b cin) =\l           (int_of_bits a + int_of_bits b) + int_of_bit cin)\l       &amp;&amp; ((not\l            ((b \&lt;\&gt; [] &amp;&amp; a \&lt;\&gt; [])\l             &amp;&amp; (not (List.length (List.tl a) = List.length (List.tl b))\l                 \|\| int_of_bits\l                    (ripple_carry_adder (List.tl a) (List.tl b)\l                     ((not (List.hd a) \&lt;==\&gt; List.hd b) &amp;&amp; cin\l                      \|\| List.hd a &amp;&amp; List.hd b))\l                    =\l                    (int_of_bits (List.tl a) + int_of_bits (List.tl b))\l                    + int_of_bit\l                      ((not (List.hd a) \&lt;==\&gt; List.hd b) &amp;&amp; cin\l                       \|\| List.hd a &amp;&amp; List.hd b)))\l            \|\| not (List.length a = List.length b))\l           \|\| int_of_bits (ripple_carry_adder a b cin) =\l              (int_of_bits a + int_of_bits b) + int_of_bit cin)\l       :cases [(not (List.length a = List.length b) \|\| b \&lt;\&gt; [] &amp;&amp; a \&lt;\&gt; [])\l               \|\| int_of_bits (ripple_carry_adder a b cin) =\l                  (int_of_bits a + int_of_bits b) + int_of_bit cin;\l               (((not (b \&lt;\&gt; []) \|\| not (a \&lt;\&gt; []))\l                 \|\| not\l                    (not (List.length (List.tl a) = List.length (List.tl b))\l                     \|\| int_of_bits\l                        (ripple_carry_adder (List.tl a) (List.tl b)\l                         ((not (List.hd a) \&lt;==\&gt; List.hd b) &amp;&amp; cin\l                          \|\| List.hd a &amp;&amp; List.hd b))\l                        =\l                        (int_of_bits (List.tl a) + int_of_bits (List.tl b))\l                        + int_of_bit\l                          ((not (List.hd a) \&lt;==\&gt; List.hd b) &amp;&amp; cin\l                           \|\| List.hd a &amp;&amp; List.hd b)))\l                \|\| not (List.length a = List.length b))\l               \|\| int_of_bits (ripple_carry_adder a b cin) =\l                  (int_of_bits a + int_of_bits b) + int_of_bit cin])&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_342 -&gt; p_318 [label=&quot;&quot;];
subgraph cluster_319 {
  color=blue;
p_318 [label=&quot;Start ((((not (b \&lt;\&gt; []) \|\| not (a \&lt;\&gt; []))\l         \|\| not\l            (not (List.length (List.tl a) = List.length (List.tl b))\l             \|\| int_of_bits\l                (ripple_carry_adder (List.tl a) (List.tl b)\l                 ((not (List.hd a) \&lt;==\&gt; List.hd b) &amp;&amp; cin\l                  \|\| List.hd a &amp;&amp; List.hd b))\l                =\l                (int_of_bits (List.tl a) + int_of_bits (List.tl b))\l                + int_of_bit\l                  ((not (List.hd a) \&lt;==\&gt; List.hd b) &amp;&amp; cin\l                   \|\| List.hd a &amp;&amp; List.hd b)))\l        \|\| not (List.length a = List.length b))\l       \|\| int_of_bits (ripple_carry_adder a b cin) =\l          (int_of_bits a + int_of_bits b) + int_of_bit cin\l       :name \&quot;1.1\&quot; :time 1.342s)&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_318 -&gt; p_317 [label=&quot;&quot;];
p_317 [label=&quot;Simplify (true\l          :expansions [int_of_bits;\l                       int_of_bits;\l                       int_of_bits;\l                       ripple_carry_adder;\l                       List.length;\l                       List.length;\l                       List.length;\l                       List.length;\l                       List.length;\l                       List.length;\l                       int_of_bits;\l                       int_of_bits;\l                       int_of_bits;\l                       ripple_carry_adder;\l                       List.length;\l                       List.length;\l                       List.length;\l                       List.length;\l                       List.length;\l                       List.length;\l                       List.length;\l                       List.length;\l                       int_of_bits;\l                       int_of_bits;\l                       int_of_bits;\l                       ripple_carry_adder;\l                       List.length;\l                       List.length;\l                       List.length;\l                       List.length;\l                       int_of_bits;\l                       int_of_bits;\l                       int_of_bits;\l                       ripple_carry_adder;\l                       List.length;\l                       List.length;\l                       List.length;\l                       List.length;\l                       List.length;\l                       List.length;\l                       int_of_bits;\l                       int_of_bits;\l                       int_of_bits;\l                       ripple_carry_adder;\l                       List.length;\l                       List.length;\l                       List.length;\l                       List.length]\l          :rw [single_adder_circuit_correct;\l               single_adder_circuit_correct;\l               single_adder_circuit_correct;\l               single_adder_circuit_correct;\l               single_adder_circuit_correct]\l          :fc [List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative])&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
}
p_342 -&gt; p_340 [label=&quot;&quot;];
subgraph cluster_341 {
  color=blue;
p_340 [label=&quot;Start ((not (List.length a = List.length b) \|\| b \&lt;\&gt; [] &amp;&amp; a \&lt;\&gt; [])\l       \|\| int_of_bits (ripple_carry_adder a b cin) =\l          (int_of_bits a + int_of_bits b) + int_of_bit cin\l       :name \&quot;1.2\&quot; :time 1.342s)&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_340 -&gt; p_339 [label=&quot;&quot;];
p_339 [label=&quot;Simplify (((((((0 = int_of_bits b \|\| not cin) \|\| a \&lt;\&gt; []) \|\| not (b \&lt;\&gt; []))\l             \|\| not (List.length a = List.length b))\l            &amp;&amp; ((((0 = int_of_bits b + int_of_bit cin \|\| cin) \|\| a \&lt;\&gt; [])\l                 \|\| not (b \&lt;\&gt; []))\l                \|\| not (List.length a = List.length b)))\l           &amp;&amp; (((0 = int_of_bits a \|\| not cin) \|\| b \&lt;\&gt; [])\l               \|\| not (List.length a = List.length b)))\l          &amp;&amp; (((0 = int_of_bits a + int_of_bit cin \|\| cin) \|\| b \&lt;\&gt; [])\l              \|\| not (List.length a = List.length b))\l          :expansions [int_of_bits;\l                       int_of_bits;\l                       int_of_bits;\l                       ripple_carry_adder;\l                       int_of_bits;\l                       int_of_bits;\l                       int_of_bits;\l                       ripple_carry_adder]\l          :rw []\l          :fc [List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative])&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_339 -&gt; p_325 [label=&quot;&quot;];
subgraph cluster_326 {
  color=blue;
p_325 [label=&quot;Start (((0 = int_of_bits a + int_of_bit cin \|\| cin) \|\| b \&lt;\&gt; [])\l       \|\| not (List.length a = List.length b) :name \&quot;1.2.1\&quot; :time 1.222s)&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_325 -&gt; p_324 [label=&quot;&quot;];
p_324 [label=&quot;Simplify (((b \&lt;\&gt; [] \|\| cin) \|\| 0 = int_of_bits a + int_of_bit cin)\l          \|\| not (List.length a = 0) :expansions [List.length] :rw []\l          :fc [List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative])&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_324 -&gt; p_323 [label=&quot;&quot;];
p_323 [label=&quot;Simplify (((0 = int_of_bit cin \|\| cin) \|\| b \&lt;\&gt; []) \|\| not (a = [])\l          :expansions [int_of_bits] :rw [List.len_zero_is_empty]\l          :fc [List.len_nonnegative])&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_323 -&gt; p_322 [label=&quot;&quot;];
p_322 [label=&quot;Simplify ((b \&lt;\&gt; [] \|\| cin) \|\| 0 = int_of_bit cin :expansions [] :rw [] :fc [])&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_322 -&gt; p_321 [label=&quot;&quot;];
p_321 [label=&quot;Simplify ((b \&lt;\&gt; [] \|\| cin) \|\| 0 = int_of_bit false\l          :expansions [induct; xor; adder_carry_out; induct; induct] \l          :rw [] :fc [])&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_321 -&gt; p_316 [label=&quot;&quot;];
subgraph cluster_320 {
  color=blue;
p_316 [label=&quot;Start ((:var_0: \&lt;\&gt; [] \|\| :var_1:) \|\| 0 = 0 :time 0.011s)&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_316 -&gt; p_315 [label=&quot;&quot;];
p_315 [label=&quot;Simplify (true :expansions [int_of_bit] :rw [] :fc [])&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_315 -&gt; p_314 [label=&quot;&quot;];
p_314 -&gt; p_z3_1254 [label=&quot;&quot;,fontname=&quot;courier&quot;,fontsize=14];
p_z3_1254 [label=&quot;(mp (asserted (not true)) (rewrite (= (not true) false)) false)&quot;,shape=box,fontname=&quot;courier&quot;,fontsize=14];p_314 [label=&quot;unsat&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
}
}
p_339 -&gt; p_329 [label=&quot;&quot;];
subgraph cluster_330 {
  color=blue;
p_329 [label=&quot;Start (((0 = int_of_bits a \|\| not cin) \|\| b \&lt;\&gt; [])\l       \|\| not (List.length a = List.length b) :name \&quot;1.2.2\&quot; :time 1.222s)&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_329 -&gt; p_328 [label=&quot;&quot;];
p_328 [label=&quot;Simplify (((b \&lt;\&gt; [] \|\| 0 = int_of_bits a) \|\| not (List.length a = 0))\l          \|\| not cin :expansions [List.length] :rw []\l          :fc [List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative])&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_328 -&gt; p_327 [label=&quot;&quot;];
p_327 [label=&quot;Simplify (true :expansions [int_of_bits] :rw [List.len_zero_is_empty]\l          :fc [List.len_nonnegative])&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
}
p_339 -&gt; p_333 [label=&quot;&quot;];
subgraph cluster_334 {
  color=blue;
p_333 [label=&quot;Start ((((0 = int_of_bits b + int_of_bit cin \|\| cin) \|\| a \&lt;\&gt; [])\l        \|\| not (b \&lt;\&gt; []))\l       \|\| not (List.length a = List.length b) :name \&quot;1.2.3\&quot; :time 1.222s)&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_333 -&gt; p_332 [label=&quot;&quot;];
p_332 [label=&quot;Simplify ((((a \&lt;\&gt; [] \|\| cin) \|\| 0 = int_of_bits b + int_of_bit cin)\l           \|\| not (0 = List.length b))\l          \|\| not (b \&lt;\&gt; []) :expansions [List.length] :rw []\l          :fc [List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative])&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_332 -&gt; p_331 [label=&quot;&quot;];
p_331 [label=&quot;Simplify (true :expansions [] :rw [List.len_zero_is_empty]\l          :fc [List.len_nonnegative])&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
}
p_339 -&gt; p_337 [label=&quot;&quot;];
subgraph cluster_338 {
  color=blue;
p_337 [label=&quot;Start ((((0 = int_of_bits b \|\| not cin) \|\| a \&lt;\&gt; []) \|\| not (b \&lt;\&gt; []))\l       \|\| not (List.length a = List.length b) :name \&quot;1.2.4\&quot; :time 1.222s)&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_337 -&gt; p_336 [label=&quot;&quot;];
p_336 [label=&quot;Simplify ((((a \&lt;\&gt; [] \|\| 0 = int_of_bits b) \|\| not (0 = List.length b))\l           \|\| not (b \&lt;\&gt; []))\l          \|\| not cin :expansions [List.length] :rw []\l          :fc [List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative])&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_336 -&gt; p_335 [label=&quot;&quot;];
p_335 [label=&quot;Simplify (true :expansions [] :rw [List.len_zero_is_empty]\l          :fc [List.len_nonnegative])&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
}
}
}
}
</textarea><button class="btn btn-primary">Load graph</button><div class="imandra-graphviz-loading display-none">Loading..</div><div class="imandra-graphviz-target"></div><script>
require(['nbextensions/nbimandra/graphviz'], function (graphviz) {
  var target = '#graphviz-99431b60-59d3-41f5-b50b-a8359be9ffed';
  graphviz.hydrate(target);
});
</script></div></div></div><script>
require(['nbextensions/nbimandra/alternatives'], function (alternatives) {
  var target = '#alt-5fc47ba3-bd37-4981-a497-802ef0d54e96';
  alternatives.hydrate(target);
});
</script></div></div></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-757070e5-b35c-45a8-86d8-939036b45b23';
  fold.hydrate(target);
});
</script></div></div></div></div><script>
require(['nbextensions/nbimandra/alternatives'], function (alternatives) {
  var target = '#alt-ba92e55e-6698-47f2-9a71-ba55af4e3d54';
  alternatives.hydrate(target);
});
</script></div></div></div>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>If we inspect the proof, we'll find that our rewrite rule <code>single_adder_circuit_correct</code> was used to close our key subgoal under our induction. Beautiful!</p>
<h1 id="Examining-a-flawed-circuit-with-Imandra">Examining a flawed circuit with Imandra<a class="anchor-link" href="#Examining-a-flawed-circuit-with-Imandra">&#182;</a></h1><p>Now that we've verified our adder, let's imagine we'd instead designed a flawed version of our circut and use Imandra to analyse it.</p>
<p>Can you spot the error?</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="try-this-container">
  <div class="try-this"><a href="https://try.imandra.ai/launch/?next=/h/user-redirect/notebooks/Verifying%20a%20Ripple%20Carry%20Adder.ipynb%23try-cell-34" target="_blank">Try this!</a></div>
</div>
<div class="input">
<div class="prompt input_prompt">In&nbsp;[20]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ocaml"><pre><span></span><span class="k">let</span> <span class="n">bad_adder_sum</span> <span class="n">a</span> <span class="n">b</span> <span class="n">cin</span> <span class="o">=</span>
  <span class="n">not</span> <span class="o">((</span><span class="n">xor</span> <span class="n">a</span> <span class="n">b</span><span class="o">)</span> <span class="o">||</span> <span class="n">cin</span><span class="o">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt output_prompt">Out[20]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>val bad_adder_sum : bool -&gt; bool -&gt; bool -&gt; bool = &lt;fun&gt;
</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="try-this-container">
  <div class="try-this"><a href="https://try.imandra.ai/launch/?next=/h/user-redirect/notebooks/Verifying%20a%20Ripple%20Carry%20Adder.ipynb%23try-cell-35" target="_blank">Try this!</a></div>
</div>
<div class="input">
<div class="prompt input_prompt">In&nbsp;[21]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ocaml"><pre><span></span><span class="k">let</span> <span class="n">bad_adder_carry_out</span> <span class="n">a</span> <span class="n">b</span> <span class="n">cin</span> <span class="o">=</span>
  <span class="o">((</span><span class="n">xor</span> <span class="n">a</span> <span class="n">b</span><span class="o">)</span> <span class="o">&amp;&amp;</span> <span class="n">cin</span><span class="o">)</span> <span class="o">||</span> <span class="o">(</span><span class="n">a</span> <span class="o">&amp;&amp;</span> <span class="n">b</span><span class="o">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt output_prompt">Out[21]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>val bad_adder_carry_out : bool -&gt; bool -&gt; bool -&gt; bool = &lt;fun&gt;
</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="try-this-container">
  <div class="try-this"><a href="https://try.imandra.ai/launch/?next=/h/user-redirect/notebooks/Verifying%20a%20Ripple%20Carry%20Adder.ipynb%23try-cell-36" target="_blank">Try this!</a></div>
</div>
<div class="input">
<div class="prompt input_prompt">In&nbsp;[22]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ocaml"><pre><span></span><span class="n">verify</span> <span class="o">(</span><span class="k">fun</span> <span class="n">a</span> <span class="n">b</span> <span class="n">cin</span> <span class="o">-&gt;</span> 
 <span class="n">int_of_bit</span> <span class="o">(</span><span class="n">bad_adder_sum</span> <span class="n">a</span> <span class="n">b</span> <span class="n">cin</span><span class="o">)</span>
    <span class="o">=</span> <span class="n">int_of_bit</span> <span class="n">a</span> <span class="o">+</span> <span class="n">int_of_bit</span> <span class="n">b</span> <span class="o">+</span> <span class="n">int_of_bit</span> <span class="n">cin</span> <span class="o">-</span> <span class="o">(</span><span class="mi">2</span> <span class="o">*</span> <span class="o">(</span><span class="n">int_of_bit</span> <span class="o">(</span><span class="n">bad_adder_carry_out</span> <span class="n">a</span> <span class="n">b</span> <span class="n">cin</span><span class="o">))))</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt output_prompt">Out[22]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>- : bool -&gt; bool -&gt; bool -&gt; bool = &lt;fun&gt;
module CX : sig val a : bool val b : bool val cin : bool end
</pre>
</div>

</div>

<div class="output_area">

<div class="prompt"></div>



<div class="output_html rendered_html output_subarea ">
<div><pre>Counterexample (after 0 steps, 0.011s):
 let a = true
 let b = true
 let cin = true
</pre></div>

</div>

</div>

<div class="output_area">

<div class="prompt"></div>



<div class="output_html rendered_html output_subarea ">
<div><div class="imandra-vr imandra-vr-refuted"><i class="fa fa-times-circle-o"></i><span>Refuted</span></div><div><div class="imandra-alternatives" id="alt-67c3701b-a7fb-4dea-b902-f8e22ef1fa34"><ul class="nav nav-tabs"><li class="active" data-toggle="tab"><a>call graph</a></li><li class="" data-toggle="tab"><a>proof-attempt</a></li></ul><div class="tab-content"><div class="tab-pane active"><div class="imandra-graphviz" id="graphviz-f31f41d9-e0eb-4b70-8408-886f52a5ca43"><textarea style="display: none">digraph &quot;call graph&quot; {
goal [label=&quot;not\l((if (not a \&lt;==\&gt; b) \|\| cin then 0 else 1) =\l (((if a then 1 else 0) + (if b then 1 else 0)) + (if cin then 1 else 0))\l + -2 * (if (not a \&lt;==\&gt; b) &amp;&amp; cin \|\| a &amp;&amp; b then 1 else 0))&quot;,shape=box,style=filled,color=&quot;cyan&quot;,fontname=&quot;courier&quot;,fontsize=14];
}
</textarea><button class="btn btn-primary">Load graph</button><div class="imandra-graphviz-loading display-none">Loading..</div><div class="imandra-graphviz-target"></div><script>
require(['nbextensions/nbimandra/graphviz'], function (graphviz) {
  var target = '#graphviz-f31f41d9-e0eb-4b70-8408-886f52a5ca43';
  graphviz.hydrate(target);
});
</script></div></div><div class="tab-pane"><div class="imandra-proof-top"><div class="imandra-fold panel panel-default" id="fold-14e149a8-40d1-45e6-a3b9-115e75d6ad32"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>proof attempt</span></div></div><div class="panel-body collapse"><div class="imandra-proof"><div class="imandra-alternatives" id="alt-e1cd4cd9-8045-4121-8fbe-b1ad48ff87df"><ul class="nav nav-tabs"><li class="active" data-toggle="tab"><a>summary</a></li><li class="" data-toggle="tab"><a>full</a></li><li class="" data-toggle="tab"><a>graph</a></li></ul><div class="tab-content"><div class="tab-pane active"><div class="imandra-table" id="table-c345d005-6fcb-42b6-8988-26422a914445"><table><tr><td><b>ground_instances</b></td><td>0</td></tr><tr><td><b>definitions</b></td><td>0</td></tr><tr><td><b>inductions</b></td><td>0</td></tr><tr><td><b>search_time</b></td><td><pre>0.011s</pre></td></tr><tr><td><b>details</b></td><td><div class="imandra-fold panel panel-default" id="fold-1367287a-a4aa-4740-97bf-1b411844fd5d"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>Expand</span></div></div><div class="panel-body collapse"><div class="imandra-table" id="table-dbe2c795-5380-409e-b534-2ef6e1e3c765"><table><tr><td><b>smt_stats</b></td><td><div class="imandra-table" id="table-bb4fcb8e-8ef4-4efe-8630-9d0e682648d6"><table><tr><td><b>arith assert lower</b></td><td>5</td></tr><tr><td><b>arith pivots</b></td><td>2</td></tr><tr><td><b>rlimit count</b></td><td>649</td></tr><tr><td><b>mk clause</b></td><td>39</td></tr><tr><td><b>mk bool var</b></td><td>38</td></tr><tr><td><b>arith assert upper</b></td><td>7</td></tr><tr><td><b>decisions</b></td><td>4</td></tr><tr><td><b>propagations</b></td><td>14</td></tr><tr><td><b>arith fixed eqs</b></td><td>1</td></tr><tr><td><b>arith assert diseq</b></td><td>1</td></tr><tr><td><b>final checks</b></td><td>1</td></tr><tr><td><b>added eqs</b></td><td>9</td></tr><tr><td><b>del clause</b></td><td>2</td></tr><tr><td><b>arith eq adapter</b></td><td>6</td></tr><tr><td><b>memory</b></td><td>30.920000</td></tr><tr><td><b>max memory</b></td><td>40.230000</td></tr><tr><td><b>num allocs</b></td><td>21030697471.000000</td></tr></table></div></td></tr></table></div></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-1367287a-a4aa-4740-97bf-1b411844fd5d';
  fold.hydrate(target);
});
</script></div></td></tr></table></div></div><div class="tab-pane"><div class="imandra-fold panel panel-default" id="fold-fbfaf27d-8916-4c95-884d-69c82dd2ab3c"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>Expand</span></div></div><div class="panel-body collapse"><ul><li><pre>start[0.011s]
  (if not (not (:var_0: = :var_1:) || :var_2:) then 1 else 0) =
  (((if :var_0: then 1 else 0) + (if :var_1: then 1 else 0))
   + (if :var_2: then 1 else 0))
  -
  (2
   * (if not (:var_0: = :var_1:) &amp;&amp; :var_2: || :var_0: &amp;&amp; :var_1: then 1
      else 0))</pre></li><li><div><h4>simplify</h4><div class="imandra-table" id="table-a25c393d-7fe2-44a3-a895-c8cacd2cdcff"><table><tr><td><b>into</b></td><td><pre>(if (not :var_0: &lt;==&gt; :var_1:) || :var_2: then 0 else 1) =
(((if :var_0: then 1 else 0) + (if :var_1: then 1 else 0))
 + (if :var_2: then 1 else 0))
+ -2
  * (if (not :var_0: &lt;==&gt; :var_1:) &amp;&amp; :var_2: || :var_0: &amp;&amp; :var_1: then 1
     else 0)</pre></td></tr><tr><td><b>expansions</b></td><td><pre>[]</pre></td></tr><tr><td><b>rewrite_steps</b></td><td><ul></ul></td></tr><tr><td><b>forward_chaining</b></td><td><ul></ul></td></tr></table></div></div></li><li>Sat (Some  let a = true
 let b = true
 let cin = true
)</li></ul></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-fbfaf27d-8916-4c95-884d-69c82dd2ab3c';
  fold.hydrate(target);
});
</script></div></div><div class="tab-pane"><div class="imandra-graphviz" id="graphviz-ec53c12b-3802-49c6-98d0-a81dc47c2189"><textarea style="display: none">digraph &quot;proof&quot; {
p_349 [label=&quot;Start ((if not (not (:var_0: = :var_1:) \|\| :var_2:) then 1 else 0) =\l       (((if :var_0: then 1 else 0) + (if :var_1: then 1 else 0))\l        + (if :var_2: then 1 else 0))\l       -\l       (2\l        * (if not (:var_0: = :var_1:) &amp;&amp; :var_2: \|\| :var_0: &amp;&amp; :var_1: \l           then 1 else 0))\l       :time 0.011s)&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_349 -&gt; p_348 [label=&quot;&quot;];
p_348 [label=&quot;Simplify ((if (not :var_0: \&lt;==\&gt; :var_1:) \|\| :var_2: then 0 else 1) =\l          (((if :var_0: then 1 else 0) + (if :var_1: then 1 else 0))\l           + (if :var_2: then 1 else 0))\l          + -2\l            * (if (not :var_0: \&lt;==\&gt; :var_1:) &amp;&amp; :var_2: \|\| :var_0: &amp;&amp; :var_1:\l               then 1 else 0)\l          :expansions [] :rw [] :fc [])&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_348 -&gt; p_347 [label=&quot;&quot;];
p_347 [label=&quot;Sat (Some  let a = true\l let b = true\l let cin = true\l)&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
}
</textarea><button class="btn btn-primary">Load graph</button><div class="imandra-graphviz-loading display-none">Loading..</div><div class="imandra-graphviz-target"></div><script>
require(['nbextensions/nbimandra/graphviz'], function (graphviz) {
  var target = '#graphviz-ec53c12b-3802-49c6-98d0-a81dc47c2189';
  graphviz.hydrate(target);
});
</script></div></div></div><script>
require(['nbextensions/nbimandra/alternatives'], function (alternatives) {
  var target = '#alt-e1cd4cd9-8045-4121-8fbe-b1ad48ff87df';
  alternatives.hydrate(target);
});
</script></div></div></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-14e149a8-40d1-45e6-a3b9-115e75d6ad32';
  fold.hydrate(target);
});
</script></div></div></div></div><script>
require(['nbextensions/nbimandra/alternatives'], function (alternatives) {
  var target = '#alt-67c3701b-a7fb-4dea-b902-f8e22ef1fa34';
  alternatives.hydrate(target);
});
</script></div></div></div>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="try-this-container">
  <div class="try-this"><a href="https://try.imandra.ai/launch/?next=/h/user-redirect/notebooks/Verifying%20a%20Ripple%20Carry%20Adder.ipynb%23try-cell-37" target="_blank">Try this!</a></div>
</div>
<div class="input">
<div class="prompt input_prompt">In&nbsp;[23]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ocaml"><pre><span></span><span class="k">let</span> <span class="k">rec</span> <span class="n">bad_ripple_carry_adder</span> <span class="o">(</span><span class="n">a</span> <span class="o">:</span> <span class="kt">bool</span> <span class="kt">list</span><span class="o">)</span> <span class="o">(</span><span class="n">b</span> <span class="o">:</span> <span class="kt">bool</span> <span class="kt">list</span><span class="o">)</span> <span class="o">(</span><span class="n">cin</span> <span class="o">:</span> <span class="kt">bool</span><span class="o">)</span> <span class="o">:</span> <span class="kt">bool</span> <span class="kt">list</span> <span class="o">=</span>
  <span class="k">match</span> <span class="n">a</span><span class="o">,</span> <span class="n">b</span> <span class="k">with</span>
  <span class="o">|</span> <span class="n">a1</span> <span class="o">::</span> <span class="n">a&#39;</span><span class="o">,</span> <span class="n">b1</span> <span class="o">::</span> <span class="n">b&#39;</span> <span class="o">-&gt;</span>
    <span class="n">bad_adder_sum</span> <span class="n">a1</span> <span class="n">b1</span> <span class="n">cin</span> <span class="o">::</span>
    <span class="n">bad_ripple_carry_adder</span> <span class="n">a&#39;</span> <span class="n">b&#39;</span> <span class="o">(</span><span class="n">bad_adder_carry_out</span> <span class="n">a1</span> <span class="n">b1</span> <span class="n">cin</span><span class="o">)</span>
  <span class="o">|</span> <span class="o">_</span> <span class="o">-&gt;</span> <span class="k">if</span> <span class="n">cin</span> <span class="k">then</span> <span class="o">[</span><span class="n">cin</span><span class="o">]</span> <span class="k">else</span> <span class="bp">[]</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt output_prompt">Out[23]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>val bad_ripple_carry_adder : bool list -&gt; bool list -&gt; bool -&gt; bool list =
  &lt;fun&gt;
</pre>
</div>

</div>

<div class="output_area">

<div class="prompt"></div>



<div class="output_html rendered_html output_subarea ">
<div><div class="imandra-fold panel panel-default" id="fold-c0ca1886-a5cf-4c54-96d1-8c4d1155adc2"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>termination proof</span></div></div><div class="panel-body collapse"><div><h3>Termination proof</h3><p></p><div class="imandra-fold panel panel-default" id="fold-51b4ccdc-db39-49dd-84d1-8c9c027b2737"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>call `bad_ripple_carry_adder (List.tl a) (List.tl b)
(bad_adder_carry_out (List.hd a) (List.hd b) cin)` from `bad_ripple_carry_adder a b cin`</span></div></div><div class="panel-body collapse"><div class="imandra-table" id="table-fc36ee78-e22c-4779-a637-ead8f6770f23"><table><tr><td><b>original</b></td><td>bad_ripple_carry_adder a b cin</td></tr><tr><td><b>sub</b></td><td>bad_ripple_carry_adder (List.tl a) (List.tl b)
(bad_adder_carry_out (List.hd a) (List.hd b) cin)</td></tr><tr><td><b>original ordinal</b></td><td>Ordinal.Int (Ordinal.count a)</td></tr><tr><td><b>sub ordinal</b></td><td>Ordinal.Int (Ordinal.count (List.tl a))</td></tr><tr><td><b>path</b></td><td>[b &lt;&gt; [] &amp;&amp; a &lt;&gt; []]</td></tr><tr><td><b>proof</b></td><td><div class="imandra-fold panel panel-default" id="fold-c4f9f24a-d06b-41ab-99a0-67dab19e5f18"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>detailed proof</span></div></div><div class="panel-body collapse"><div class="imandra-proof"><div class="imandra-alternatives" id="alt-f1b9fd4a-974c-49a5-b29d-89a6e64883b6"><ul class="nav nav-tabs"><li class="active" data-toggle="tab"><a>summary</a></li><li class="" data-toggle="tab"><a>full</a></li></ul><div class="tab-content"><div class="tab-pane active"><div class="imandra-table" id="table-8abb12c6-cbfc-4d23-88e4-cd467f99293d"><table><tr><td><b>ground_instances</b></td><td>3</td></tr><tr><td><b>definitions</b></td><td>0</td></tr><tr><td><b>inductions</b></td><td>0</td></tr><tr><td><b>search_time</b></td><td><pre>0.021s</pre></td></tr><tr><td><b>details</b></td><td><div class="imandra-fold panel panel-default" id="fold-f95d9ded-12d4-4d6c-b624-c55ce46406d5"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>Expand</span></div></div><div class="panel-body collapse"><div class="imandra-table" id="table-6e9a8175-6b13-449b-a352-67113765a105"><table><tr><td><b>smt_stats</b></td><td><div class="imandra-table" id="table-3f340ff1-4b3c-46df-bfa9-8ff60aee509b"><table><tr><td><b>num checks</b></td><td>8</td></tr><tr><td><b>arith assert lower</b></td><td>8</td></tr><tr><td><b>arith pivots</b></td><td>6</td></tr><tr><td><b>rlimit count</b></td><td>2734</td></tr><tr><td><b>mk clause</b></td><td>30</td></tr><tr><td><b>datatype occurs check</b></td><td>67</td></tr><tr><td><b>mk bool var</b></td><td>86</td></tr><tr><td><b>arith assert upper</b></td><td>4</td></tr><tr><td><b>datatype splits</b></td><td>6</td></tr><tr><td><b>decisions</b></td><td>28</td></tr><tr><td><b>arith add rows</b></td><td>13</td></tr><tr><td><b>propagations</b></td><td>29</td></tr><tr><td><b>conflicts</b></td><td>9</td></tr><tr><td><b>arith fixed eqs</b></td><td>4</td></tr><tr><td><b>datatype accessor ax</b></td><td>10</td></tr><tr><td><b>arith conflicts</b></td><td>1</td></tr><tr><td><b>datatype constructor ax</b></td><td>14</td></tr><tr><td><b>final checks</b></td><td>6</td></tr><tr><td><b>added eqs</b></td><td>88</td></tr><tr><td><b>del clause</b></td><td>16</td></tr><tr><td><b>arith eq adapter</b></td><td>6</td></tr><tr><td><b>memory</b></td><td>31.370000</td></tr><tr><td><b>max memory</b></td><td>40.230000</td></tr><tr><td><b>num allocs</b></td><td>21188235914.000000</td></tr></table></div></td></tr></table></div></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-f95d9ded-12d4-4d6c-b624-c55ce46406d5';
  fold.hydrate(target);
});
</script></div></td></tr></table></div></div><div class="tab-pane"><div class="imandra-fold panel panel-default" id="fold-2e12c1d2-9682-4d03-9845-d9b90a5c199d"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>Expand</span></div></div><div class="panel-body collapse"><ul><li><pre>start[0.021s]
  (b &lt;&gt; [] &amp;&amp; a &lt;&gt; [])
  &amp;&amp; Ordinal.count a &gt;= 0 &amp;&amp; Ordinal.count (List.tl a) &gt;= 0
  ==&gt; not ((List.tl b) &lt;&gt; [] &amp;&amp; (List.tl a) &lt;&gt; [])
      || Ordinal.Int (Ordinal.count (List.tl a)) Ordinal.&lt;&lt;
         Ordinal.Int (Ordinal.count a)</pre></li><li><div><h5>simplify</h5><div class="imandra-table" id="table-16a3f52c-1bc0-4c98-a785-dfca40fd7560"><table><tr><td><b>into</b></td><td><pre>(not
 (((b &lt;&gt; [] &amp;&amp; a &lt;&gt; []) &amp;&amp; Ordinal.count a &gt;= 0)
  &amp;&amp; Ordinal.count (List.tl a) &gt;= 0)
 || not ((List.tl b) &lt;&gt; [] &amp;&amp; (List.tl a) &lt;&gt; []))
|| Ordinal.Int (Ordinal.count (List.tl a)) Ordinal.&lt;&lt;
   Ordinal.Int (Ordinal.count a)</pre></td></tr><tr><td><b>expansions</b></td><td><pre>[]</pre></td></tr><tr><td><b>rewrite_steps</b></td><td><ul></ul></td></tr><tr><td><b>forward_chaining</b></td><td><ul></ul></td></tr></table></div></div></li><li><div>unroll<div class="imandra-table" id="table-c93dff70-90d9-4fbb-9442-f6c1514e7c58"><table><tr><td><b>expr</b></td><td><pre>(Ordinal.&lt;&lt;_131 (Ordinal.Int_122 (|count_`bool list`_2563|
                                   (|get.…</pre></td></tr><tr><td><b>expansions</b></td><td><ul></ul></td></tr></table></div></div></li><li><div>unroll<div class="imandra-table" id="table-f7044161-434e-48f4-bdbf-611e4fb5e822"><table><tr><td><b>expr</b></td><td><pre>(|count_`bool list`_2563| (|get.::.1_2549| a_2550))</pre></td></tr><tr><td><b>expansions</b></td><td><ul></ul></td></tr></table></div></div></li><li><div>unroll<div class="imandra-table" id="table-116681f6-3f51-49d4-ba3c-a0e963bcb8f9"><table><tr><td><b>expr</b></td><td><pre>(|count_`bool list`_2563| a_2550)</pre></td></tr><tr><td><b>expansions</b></td><td><ul></ul></td></tr></table></div></div></li><li><div><h5>unsat</h5><pre>(let ((a!1 (ite (&gt;= (|count_`bool list`_2563| (|get.::.1_2549| a_2550)) 0)
                (|count_`…</pre></div></li></ul></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-2e12c1d2-9682-4d03-9845-d9b90a5c199d';
  fold.hydrate(target);
});
</script></div></div></div><script>
require(['nbextensions/nbimandra/alternatives'], function (alternatives) {
  var target = '#alt-f1b9fd4a-974c-49a5-b29d-89a6e64883b6';
  alternatives.hydrate(target);
});
</script></div></div></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-c4f9f24a-d06b-41ab-99a0-67dab19e5f18';
  fold.hydrate(target);
});
</script></div></td></tr></table></div></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-51b4ccdc-db39-49dd-84d1-8c9c027b2737';
  fold.hydrate(target);
});
</script></div><p></p></div></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-c0ca1886-a5cf-4c54-96d1-8c4d1155adc2';
  fold.hydrate(target);
});
</script></div></div>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="try-this-container">
  <div class="try-this"><a href="https://try.imandra.ai/launch/?next=/h/user-redirect/notebooks/Verifying%20a%20Ripple%20Carry%20Adder.ipynb%23try-cell-38" target="_blank">Try this!</a></div>
</div>
<div class="input">
<div class="prompt input_prompt">In&nbsp;[24]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ocaml"><pre><span></span><span class="n">instance</span> <span class="o">(</span><span class="k">fun</span> <span class="n">a</span> <span class="n">b</span> <span class="o">-&gt;</span> <span class="n">int_of_bits</span> <span class="o">(</span><span class="n">bad_ripple_carry_adder</span> <span class="n">a</span> <span class="n">b</span> <span class="bp">false</span><span class="o">)</span> <span class="o">&lt;&gt;</span> <span class="n">int_of_bits</span> <span class="n">a</span> <span class="o">+</span> <span class="n">int_of_bits</span> <span class="n">b</span><span class="o">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt output_prompt">Out[24]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>- : bool list -&gt; bool list -&gt; bool = &lt;fun&gt;
<span class="ansi-green-intense-fg ansi-bold">[✔]</span> Instance found.
module CX : sig val a : &#39;a list val b : bool list end
</pre>
</div>

</div>

<div class="output_area">

<div class="prompt"></div>



<div class="output_html rendered_html output_subarea ">
<div><pre>Instance (after 5 steps, 0.027s):
 let a = []
 let b = [true]
</pre></div>

</div>

</div>

<div class="output_area">

<div class="prompt"></div>



<div class="output_html rendered_html output_subarea ">
<div><div class="imandra-vr imandra-vr-refuted"><i class="fa fa-times-circle-o"></i><span>Refuted</span></div><div><div class="imandra-alternatives" id="alt-c8ece8c0-c4b1-41c1-b054-be6c61531adc"><ul class="nav nav-tabs"><li class="active" data-toggle="tab"><a>call graph</a></li><li class="" data-toggle="tab"><a>proof-attempt</a></li></ul><div class="tab-content"><div class="tab-pane active"><div class="imandra-graphviz" id="graphviz-ec60da72-8b1e-49b2-a7f8-bf7591d352c2"><textarea style="display: none">digraph &quot;call graph&quot; {
goal [label=&quot;not\l(int_of_bits (bad_ripple_carry_adder a b false) =\l int_of_bits a + int_of_bits b)&quot;,shape=box,style=filled,color=&quot;cyan&quot;,fontname=&quot;courier&quot;,fontsize=14];
call_110 [label=&quot;int_of_bits (List.tl b)&quot;,shape=box,style=filled,color=&quot;green&quot;,fontname=&quot;courier&quot;,fontsize=14];
call_110 -&gt; expr_781 [label=&quot;=&quot;];
expr_781 [label=&quot;if List.tl b = [] then 0\lelse\l  (if List.hd (List.tl b) then 1 else 0)\l  + 2 * int_of_bits (List.tl (List.tl b))&quot;,shape=box,style=filled,color=&quot;grey&quot;,fontname=&quot;courier&quot;,fontsize=14];
expr_113 -&gt; call_110 [label=&quot;calls&quot;];
call_17 [label=&quot;int_of_bits (bad_ripple_carry_adder a b false)&quot;,shape=box,style=filled,color=&quot;green&quot;,fontname=&quot;courier&quot;,fontsize=14];
call_17 -&gt; expr_553 [label=&quot;=&quot;];
expr_553 [label=&quot;if bad_ripple_carry_adder a b false = [] then 0\lelse\l  (if List.hd (bad_ripple_carry_adder a b false) then 1 else 0)\l  + 2 * int_of_bits (List.tl (bad_ripple_carry_adder a b false))&quot;,shape=box,style=filled,color=&quot;grey&quot;,fontname=&quot;courier&quot;,fontsize=14];
goal -&gt; call_17 [label=&quot;calls&quot;];
call_16 [label=&quot;bad_ripple_carry_adder a b false&quot;,shape=box,style=filled,color=&quot;green&quot;,fontname=&quot;courier&quot;,fontsize=14];
call_16 -&gt; expr_280 [label=&quot;=&quot;];
expr_280 [label=&quot;if b \&lt;\&gt; [] &amp;&amp; a \&lt;\&gt; []\lthen\l  (not ((not (List.hd a) \&lt;==\&gt; List.hd b) \|\| false)) ::\l  (bad_ripple_carry_adder (List.tl a) (List.tl b)\l   ((not (List.hd a) \&lt;==\&gt; List.hd b) &amp;&amp; false \|\| List.hd a &amp;&amp; List.hd b))\lelse []&quot;,shape=box,style=filled,color=&quot;grey&quot;,fontname=&quot;courier&quot;,fontsize=14];
goal -&gt; call_16 [label=&quot;calls&quot;];
call_778 [label=&quot;int_of_bits (List.tl (List.tl b))&quot;,shape=box,style=filled,color=&quot;yellow&quot;,fontname=&quot;courier&quot;,fontsize=14];
expr_781 -&gt; call_778 [label=&quot;calls&quot;];
call_167 [label=&quot;int_of_bits (List.tl a)&quot;,shape=box,style=filled,color=&quot;yellow&quot;,fontname=&quot;courier&quot;,fontsize=14];
expr_170 -&gt; call_167 [label=&quot;calls&quot;];
call_278 [label=&quot;bad_ripple_carry_adder (List.tl a) (List.tl b)\l((not (List.hd a) \&lt;==\&gt; List.hd b) &amp;&amp; false \|\| List.hd a &amp;&amp; List.hd b)&quot;,shape=box,style=filled,color=&quot;yellow&quot;,fontname=&quot;courier&quot;,fontsize=14];
expr_280 -&gt; call_278 [label=&quot;calls&quot;];
call_19 [label=&quot;int_of_bits b&quot;,shape=box,style=filled,color=&quot;green&quot;,fontname=&quot;courier&quot;,fontsize=14];
call_19 -&gt; expr_113 [label=&quot;=&quot;];
expr_113 [label=&quot;if b = [] then 0\lelse (if List.hd b then 1 else 0) + 2 * int_of_bits (List.tl b)&quot;,shape=box,style=filled,color=&quot;grey&quot;,fontname=&quot;courier&quot;,fontsize=14];
goal -&gt; call_19 [label=&quot;calls&quot;];
call_18 [label=&quot;int_of_bits a&quot;,shape=box,style=filled,color=&quot;green&quot;,fontname=&quot;courier&quot;,fontsize=14];
call_18 -&gt; expr_170 [label=&quot;=&quot;];
expr_170 [label=&quot;if a = [] then 0\lelse (if List.hd a then 1 else 0) + 2 * int_of_bits (List.tl a)&quot;,shape=box,style=filled,color=&quot;grey&quot;,fontname=&quot;courier&quot;,fontsize=14];
goal -&gt; call_18 [label=&quot;calls&quot;];
call_550 [label=&quot;int_of_bits (List.tl (bad_ripple_carry_adder a b false))&quot;,shape=box,style=filled,color=&quot;yellow&quot;,fontname=&quot;courier&quot;,fontsize=14];
expr_553 -&gt; call_550 [label=&quot;calls&quot;];
}
</textarea><button class="btn btn-primary">Load graph</button><div class="imandra-graphviz-loading display-none">Loading..</div><div class="imandra-graphviz-target"></div><script>
require(['nbextensions/nbimandra/graphviz'], function (graphviz) {
  var target = '#graphviz-ec60da72-8b1e-49b2-a7f8-bf7591d352c2';
  graphviz.hydrate(target);
});
</script></div></div><div class="tab-pane"><div class="imandra-proof-top"><div class="imandra-fold panel panel-default" id="fold-d31a3017-d8e2-46a5-ad49-9d4c891ea170"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>proof attempt</span></div></div><div class="panel-body collapse"><div class="imandra-proof"><div class="imandra-alternatives" id="alt-bfd1c21a-e884-4d57-8c38-79f7670a1c31"><ul class="nav nav-tabs"><li class="active" data-toggle="tab"><a>summary</a></li><li class="" data-toggle="tab"><a>full</a></li><li class="" data-toggle="tab"><a>graph</a></li></ul><div class="tab-content"><div class="tab-pane active"><div class="imandra-table" id="table-a67e359f-0f76-42e8-ba91-33e3d150468e"><table><tr><td><b>ground_instances</b></td><td>5</td></tr><tr><td><b>definitions</b></td><td>7</td></tr><tr><td><b>inductions</b></td><td>0</td></tr><tr><td><b>search_time</b></td><td><pre>0.027s</pre></td></tr><tr><td><b>details</b></td><td><div class="imandra-fold panel panel-default" id="fold-3d5338c6-32cc-4b27-90ad-f4e8f9719ff0"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>Expand</span></div></div><div class="panel-body collapse"><div class="imandra-table" id="table-06d8a55f-eeed-4c2f-a688-6a1cd39d52cb"><table><tr><td><b>smt_stats</b></td><td><div class="imandra-table" id="table-bd0ee4b8-7528-429d-80cf-07bf0a68c672"><table><tr><td><b>arith offset eqs</b></td><td>5</td></tr><tr><td><b>num checks</b></td><td>11</td></tr><tr><td><b>arith assert lower</b></td><td>54</td></tr><tr><td><b>arith pivots</b></td><td>32</td></tr><tr><td><b>rlimit count</b></td><td>5075</td></tr><tr><td><b>mk clause</b></td><td>185</td></tr><tr><td><b>datatype occurs check</b></td><td>172</td></tr><tr><td><b>mk bool var</b></td><td>331</td></tr><tr><td><b>arith gcd tests</b></td><td>7</td></tr><tr><td><b>arith assert upper</b></td><td>64</td></tr><tr><td><b>datatype splits</b></td><td>29</td></tr><tr><td><b>decisions</b></td><td>145</td></tr><tr><td><b>arith add rows</b></td><td>83</td></tr><tr><td><b>arith bound prop</b></td><td>8</td></tr><tr><td><b>propagations</b></td><td>201</td></tr><tr><td><b>conflicts</b></td><td>22</td></tr><tr><td><b>arith fixed eqs</b></td><td>19</td></tr><tr><td><b>datatype accessor ax</b></td><td>19</td></tr><tr><td><b>minimized lits</b></td><td>1</td></tr><tr><td><b>arith conflicts</b></td><td>1</td></tr><tr><td><b>arith assert diseq</b></td><td>24</td></tr><tr><td><b>datatype constructor ax</b></td><td>38</td></tr><tr><td><b>final checks</b></td><td>23</td></tr><tr><td><b>added eqs</b></td><td>373</td></tr><tr><td><b>del clause</b></td><td>85</td></tr><tr><td><b>arith ineq splits</b></td><td>2</td></tr><tr><td><b>arith eq adapter</b></td><td>54</td></tr><tr><td><b>memory</b></td><td>31.870000</td></tr><tr><td><b>max memory</b></td><td>40.230000</td></tr><tr><td><b>num allocs</b></td><td>21368809491.000000</td></tr></table></div></td></tr></table></div></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-3d5338c6-32cc-4b27-90ad-f4e8f9719ff0';
  fold.hydrate(target);
});
</script></div></td></tr></table></div></div><div class="tab-pane"><div class="imandra-fold panel panel-default" id="fold-0dec918f-ea15-4fa9-98c5-875546a4937e"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>Expand</span></div></div><div class="panel-body collapse"><ul><li><pre>start[0.027s]
  not
  (int_of_bits (bad_ripple_carry_adder :var_0: :var_1: false) =
   int_of_bits :var_0: + int_of_bits :var_1:)</pre></li><li><div>unroll<div class="imandra-table" id="table-4fb5b828-8b84-4b15-926e-9890406419de"><table><tr><td><b>expr</b></td><td><pre>(int_of_bits_2374 b_2567)</pre></td></tr><tr><td><b>expansions</b></td><td><pre>int_of_bit</pre></td></tr></table></div></div></li><li><div>unroll<div class="imandra-table" id="table-0f4f8924-85b6-40ca-8d56-eb4f692ef79a"><table><tr><td><b>expr</b></td><td><pre>(int_of_bits_2374 a_2566)</pre></td></tr><tr><td><b>expansions</b></td><td><pre>int_of_bit</pre></td></tr></table></div></div></li><li><div>unroll<div class="imandra-table" id="table-85fc8797-5f64-4400-b452-4ef477ed7a8e"><table><tr><td><b>expr</b></td><td><pre>(bad_ripple_carry_adder_2536 a_2566 b_2567 false)</pre></td></tr><tr><td><b>expansions</b></td><td><ul><li><pre>xor</pre></li><li><pre>xorbad_adder_sum</pre></li><li><pre>xorbad_adder_sumbad_adder_carry_out</pre></li></ul></td></tr></table></div></div></li><li><div>unroll<div class="imandra-table" id="table-46cc9c43-2a54-4463-9b56-fa730052742a"><table><tr><td><b>expr</b></td><td><pre>(int_of_bits_2374 (bad_ripple_carry_adder_2536 a_2566 b_2567 false))</pre></td></tr><tr><td><b>expansions</b></td><td><pre>int_of_bit</pre></td></tr></table></div></div></li><li><div>unroll<div class="imandra-table" id="table-4d2c9b1c-0a54-4c40-aa08-365923072894"><table><tr><td><b>expr</b></td><td><pre>(int_of_bits_2374 (|get.::.1_2573| b_2567))</pre></td></tr><tr><td><b>expansions</b></td><td><pre>int_of_bit</pre></td></tr></table></div></div></li><li>Sat (Some  let a = []
 let b = [true]
)</li></ul></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-0dec918f-ea15-4fa9-98c5-875546a4937e';
  fold.hydrate(target);
});
</script></div></div><div class="tab-pane"><div class="imandra-graphviz" id="graphviz-07a90611-c474-4742-8c34-b3ef4ea6ffb6"><textarea style="display: none">digraph &quot;proof&quot; {
p_362 [label=&quot;Start (not\l       (int_of_bits (bad_ripple_carry_adder :var_0: :var_1: false) =\l        int_of_bits :var_0: + int_of_bits :var_1:)\l       :time 0.027s)&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_362 -&gt; p_361 [label=&quot;&quot;];
p_361 [label=&quot;Unroll ([int_of_bits b], [[int_of_bit]])&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_361 -&gt; p_360 [label=&quot;&quot;];
p_360 [label=&quot;Unroll ([int_of_bits a], [[int_of_bit]])&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_360 -&gt; p_359 [label=&quot;&quot;];
p_359 [label=&quot;Unroll ([bad_ripple_carry_adder a b false],\l        [[xor; bad_adder_sum; bad_adder_carry_out]])&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_359 -&gt; p_358 [label=&quot;&quot;];
p_358 [label=&quot;Unroll ([int_of_bits (bad_ripple_carry_adder a b false)], [[int_of_bit]])&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_358 -&gt; p_357 [label=&quot;&quot;];
p_357 [label=&quot;Unroll ([int_of_bits (List.tl b)], [[int_of_bit]])&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_357 -&gt; p_356 [label=&quot;&quot;];
p_356 [label=&quot;Sat (Some  let a = []\l let b = [true]\l)&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
}
</textarea><button class="btn btn-primary">Load graph</button><div class="imandra-graphviz-loading display-none">Loading..</div><div class="imandra-graphviz-target"></div><script>
require(['nbextensions/nbimandra/graphviz'], function (graphviz) {
  var target = '#graphviz-07a90611-c474-4742-8c34-b3ef4ea6ffb6';
  graphviz.hydrate(target);
});
</script></div></div></div><script>
require(['nbextensions/nbimandra/alternatives'], function (alternatives) {
  var target = '#alt-bfd1c21a-e884-4d57-8c38-79f7670a1c31';
  alternatives.hydrate(target);
});
</script></div></div></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-d31a3017-d8e2-46a5-ad49-9d4c891ea170';
  fold.hydrate(target);
});
</script></div></div></div></div><script>
require(['nbextensions/nbimandra/alternatives'], function (alternatives) {
  var target = '#alt-c8ece8c0-c4b1-41c1-b054-be6c61531adc';
  alternatives.hydrate(target);
});
</script></div></div></div>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Happy verifying!</p>

</div>
</div>
</div>
  
 


      </div><div class="content-nav">
          <ul>
          
            <li class="content-nav__item content-nav__item--h1"><a href="#Verifying-a-Ripple-Carry-Adder-in-Imandra">Verifying a Ripple-Carry Adder in Imandra</a></li>
          
            <li class="content-nav__item content-nav__item--h1"><a href="#Building-the-circuit-in-Imandra">Building the circuit in Imandra</a></li>
          
            <li class="content-nav__item content-nav__item--h1"><a href="#Relating-bit-sequences-to-natural-numbers">Relating bit sequences to natural numbers</a></li>
          
            <li class="content-nav__item content-nav__item--h1"><a href="#Verifying-our-circuit:-The-adder-is-correct-for-all-possible-inputs">Verifying our circuit: The adder is correct for all possible inputs</a></li>
          
            <li class="content-nav__item content-nav__item--h1"><a href="#Examining-a-flawed-circuit-with-Imandra">Examining a flawed circuit with Imandra</a></li>
          
          </ul>
        </div></div>
  </div>
</body>
</html>
