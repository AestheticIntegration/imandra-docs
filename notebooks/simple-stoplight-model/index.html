<!DOCTYPE html>
<html>
    <head><meta charset="utf-8" />
        <meta content="width=device-width, initial-scale=1.0" name="viewport">
        <title>Imandra Documentation - Decomposing a Simple car intersection model</title>
        <meta property="og:url" content="https://docs.imandra.ai/imandra-docs/notebooks/simple-stoplight-model/">
        <meta property="og:type" content="website">
        <meta property="og:title" content="Imandra Documentation - Decomposing a Simple car intersection model">
        <meta property="og:description" content="In this notebook, we'll implement a simple model of a road interseciton with a car approaching, we'll then use Imandra's Principal Region Decomposition to explore its state space and define custom printers in order to explore the behavior of the car approaching the intersaction using english prose.">
        <meta property="og:image" content="https://storage.googleapis.com/imandra-assets/images/og_image_default_i78.jpg">


        
        <!-- Global site tag (gtag.js) - Google Analytics -->
        <script async src="https://www.googletagmanager.com/gtag/js?id=UA-116937440-6"></script>
        <script>
         window.dataLayer = window.dataLayer || [];
         function gtag(){dataLayer.push(arguments);}
         gtag('js', new Date());

         gtag('config', 'UA-116937440-1');
        </script>
        <script type="text/javascript"> var sc_project=11767520; var sc_invisible=1; var sc_security="fa7e88d1"; </script>
        <script type="text/javascript" src="https://www.statcounter.com/counter/counter.js" async></script>
        <noscript><div class="statcounter">
            <a title="Web Analytics" href="http://statcounter.com/" target="_blank">
                <img class="statcounter" src="//c.statcounter.com/11767520/0/fa7e88d1/1/" alt="Web Analytics"></a>
        </div></noscript>
        

        <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.1.10/require.min.js"></script>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Merriweather+Sans:300,300i,400,400i%7CMerriweather:300,300i,400,400i%7CRoboto+Slab:300,300i,400,400i">

        <link rel="stylesheet" href="/imandra-docs/static/style/style.min.9ef6027e.css" type="text/css">
        <link rel="stylesheet" href="/imandra-docs/static/nbextensions/nbimandra/styles.b466ce6f.css" type="text/css">
        <link rel="stylesheet" href="/imandra-docs/static/docs-styles.86fc0481.css" type="text/css">
        
        <link rel="stylesheet" href="/imandra-docs/static/jekyll-styles.8c9c0088.css" type="text/css">
        

        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
        <script src="/imandra-docs/static/nbimandra-rjs-bundle.2469bcb7.js"></script>

        <style type="text/css">
         .highlight .hll { background-color: #ffffcc }
         .highlight  { background: #f8f8f8; }
         .highlight .c { color: #408080; font-style: italic } /* Comment */
         .highlight .err { border: 1px solid #FF0000 } /* Error */
         .highlight .k { color: #008000; font-weight: bold } /* Keyword */
         .highlight .o { color: #666666 } /* Operator */
         .highlight .ch { color: #408080; font-style: italic } /* Comment.Hashbang */
         .highlight .cm { color: #408080; font-style: italic } /* Comment.Multiline */
         .highlight .cp { color: #BC7A00 } /* Comment.Preproc */
         .highlight .cpf { color: #408080; font-style: italic } /* Comment.PreprocFile */
         .highlight .c1 { color: #408080; font-style: italic } /* Comment.Single */
         .highlight .cs { color: #408080; font-style: italic } /* Comment.Special */
         .highlight .gd { color: #A00000 } /* Generic.Deleted */
         .highlight .ge { font-style: italic } /* Generic.Emph */
         .highlight .gr { color: #FF0000 } /* Generic.Error */
         .highlight .gh { color: #000080; font-weight: bold } /* Generic.Heading */
         .highlight .gi { color: #00A000 } /* Generic.Inserted */
         .highlight .go { color: #888888 } /* Generic.Output */
         .highlight .gp { color: #000080; font-weight: bold } /* Generic.Prompt */
         .highlight .gs { font-weight: bold } /* Generic.Strong */
         .highlight .gu { color: #800080; font-weight: bold } /* Generic.Subheading */
         .highlight .gt { color: #0044DD } /* Generic.Traceback */
         .highlight .kc { color: #008000; font-weight: bold } /* Keyword.Constant */
         .highlight .kd { color: #008000; font-weight: bold } /* Keyword.Declaration */
         .highlight .kn { color: #008000; font-weight: bold } /* Keyword.Namespace */
         .highlight .kp { color: #008000 } /* Keyword.Pseudo */
         .highlight .kr { color: #008000; font-weight: bold } /* Keyword.Reserved */
         .highlight .kt { color: #B00040 } /* Keyword.Type */
         .highlight .m { color: #666666 } /* Literal.Number */
         .highlight .s { color: #BA2121 } /* Literal.String */
         .highlight .na { color: #7D9029 } /* Name.Attribute */
         .highlight .nb { color: #008000 } /* Name.Builtin */
         .highlight .nc { color: #0000FF; font-weight: bold } /* Name.Class */
         .highlight .no { color: #880000 } /* Name.Constant */
         .highlight .nd { color: #AA22FF } /* Name.Decorator */
         .highlight .ni { color: #999999; font-weight: bold } /* Name.Entity */
         .highlight .ne { color: #D2413A; font-weight: bold } /* Name.Exception */
         .highlight .nf { color: #0000FF } /* Name.Function */
         .highlight .nl { color: #A0A000 } /* Name.Label */
         .highlight .nn { color: #0000FF; font-weight: bold } /* Name.Namespace */
         .highlight .nt { color: #008000; font-weight: bold } /* Name.Tag */
         .highlight .nv { color: #19177C } /* Name.Variable */
         .highlight .ow { color: #AA22FF; font-weight: bold } /* Operator.Word */
         .highlight .w { color: #bbbbbb } /* Text.Whitespace */
         .highlight .mb { color: #666666 } /* Literal.Number.Bin */
         .highlight .mf { color: #666666 } /* Literal.Number.Float */
         .highlight .mh { color: #666666 } /* Literal.Number.Hex */
         .highlight .mi { color: #666666 } /* Literal.Number.Integer */
         .highlight .mo { color: #666666 } /* Literal.Number.Oct */
         .highlight .sa { color: #BA2121 } /* Literal.String.Affix */
         .highlight .sb { color: #BA2121 } /* Literal.String.Backtick */
         .highlight .sc { color: #BA2121 } /* Literal.String.Char */
         .highlight .dl { color: #BA2121 } /* Literal.String.Delimiter */
         .highlight .sd { color: #BA2121; font-style: italic } /* Literal.String.Doc */
         .highlight .s2 { color: #BA2121 } /* Literal.String.Double */
         .highlight .se { color: #BB6622; font-weight: bold } /* Literal.String.Escape */
         .highlight .sh { color: #BA2121 } /* Literal.String.Heredoc */
         .highlight .si { color: #BB6688; font-weight: bold } /* Literal.String.Interpol */
         .highlight .sx { color: #008000 } /* Literal.String.Other */
         .highlight .sr { color: #BB6688 } /* Literal.String.Regex */
         .highlight .s1 { color: #BA2121 } /* Literal.String.Single */
         .highlight .ss { color: #19177C } /* Literal.String.Symbol */
         .highlight .bp { color: #008000 } /* Name.Builtin.Pseudo */
         .highlight .fm { color: #0000FF } /* Name.Function.Magic */
         .highlight .vc { color: #19177C } /* Name.Variable.Class */
         .highlight .vg { color: #19177C } /* Name.Variable.Global */
         .highlight .vi { color: #19177C } /* Name.Variable.Instance */
         .highlight .vm { color: #19177C } /* Name.Variable.Magic */
         .highlight .il { color: #666666 } /* Literal.Number.Integer.Long */
        </style>

        <!-- Loading mathjax macro -->
        <!-- Load mathjax -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS_HTML"></script>
    <!-- MathJax configuration -->
    <script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        tex2jax: {
            inlineMath: [ ['$','$'], ["\\(","\\)"] ],
            displayMath: [ ['$$','$$'], ["\\[","\\]"] ],
            processEscapes: true,
            processEnvironments: true
        },
        // Center justify equations in code and markdown cells. Elsewhere
        // we use CSS to left justify single line equations in code cells.
        displayAlign: 'center',
        "HTML-CSS": {
            styles: {'.MathJax_Display': {"margin": 0}},
            linebreaks: { automatic: true }
        }
    });
    </script>
    <!-- End of mathjax configuration --><script>
  function handleCopyClick() {
      var el = this;
      var terminal = el.closest('.terminal');
      var highlight = terminal.getElementsByClassName('highlight')[0];
      copyToClipboardMsg(highlight);

      terminal.classList.add('terminal--hide');
      setTimeout(function () {
          terminal.classList.remove('terminal--hide');
      }, 2000);


      function copyToClipboardMsg(elem) {
          var succeed = copyToClipboard(elem);
          var msg;
          if (!succeed) {
              msg = 'Error!';
          } else {
              msg = 'Copied!';
          }

          var msgElem = terminal.querySelector('.terminal__copy-msg');
          msgElem.innerHTML = msg;
          setTimeout(function () {
              msgElem.innerHTML = 'You rock!';
          }, 1000);
      }

      function copyToClipboard(elem) {
          // create hidden text element, if it doesn't already exist
          var targetId = '_hiddenCopyText_';
          var isInput = elem.tagName === 'INPUT' || elem.tagName === 'TEXTAREA';
          var origSelectionStart, origSelectionEnd;
          if (isInput) {
              // can just use the original source element for the selection and copy
              target = elem;
              origSelectionStart = elem.selectionStart;
              origSelectionEnd = elem.selectionEnd;
          } else {
              // must use a temporary form element for the selection and copy
              target = terminal.querySelector('#' + targetId);
              if (!target) {
                  var target = document.createElement('textarea');
                  // target.style.display = 'flex';
                  // target.style.position = 'absolute';
                  // target.style.left = '-1000%';
                  target.id = targetId;
                 elem.appendChild(target);
              }
              target.textContent = elem.textContent.trim();
          }

          // select the content
          var currentFocus = document.activeElement;
          target.focus();
          target.setSelectionRange(0, target.value.length);

          // copy the selection
          var succeed;
          try {
              succeed = document.execCommand('copy');
          } catch (e) {
              succeed = false;
          }
          // restore original focus
          if (currentFocus && typeof currentFocus.focus === 'function') {
              currentFocus.focus();
          }

          if (isInput) {
              // restore prior selection
              elem.setSelectionRange(origSelectionStart, origSelectionEnd);
          } else {
              // clear temporary content
              elem.removeChild(target);
          }
          return succeed;
      }
  }
</script>
    </head>
    <body>
        <div class="background">
        </div>
        <div class="page-container">
            <main class="main-content-column">
                <!-- Jupyter (Imandra core docs) version -->
<header class="header">
    <div class="top-row-container">
        <div class="top-row">

            <div id="toggler--left" class="side__left-menu-toggler">
                <div class="side__toggle">
                    <span></span>
                    <span></span>
                    <span></span>
                </div>
                <p class="side__toggle-text">Docs</p>
            </div>

            <div class="side__logo-container">
                <a class="side__logo-link" href="/">
                    <img class="side__logo " src = "/imandra-docs/jekyll-resources/assets/img/imandra-gradient-logo-docs.svg">
                </a>
            </div>

            <div id="toggler--right" class="side__right-menu-toggler">
                <p class="side__toggle-text">Pages</p>
                <div class="side__toggle">
                    <span></span>
                    <span></span>
                    <span></span>
                </div>
            </div>

            <nav class="side__nav-container side__nav-container--hidden">

                <ul class="side__nav-list">
                    
                    <li class="side__nav-list-item TopNavListItem">
                        <a class="side__nav-link" href="/">Documentation Home</a>
                        
                    </li>
                    
                    <li class="side__nav-list-item TopNavListItem">
                        <a class="side__nav-link side__nav-link--active" href="/imandra-docs">Imandra</a>
                        
                        <ul class="side__nav-list--sub-level-1">
                            
                            <li class="side__nav-list-item--sub-level-1">
                                
                                <a class="side__nav-link" href="/imandra-docs/odoc/">API Docs</a>
                                
                                <ul class="side__nav-list--sub-level-2">
                                    
                                </ul>
                            </li>
                            
                            <li class="side__nav-list-item--sub-level-1">
                                
                                <a class="side__nav-link" href="/imandra-docs/notebooks/welcome">A Quick Tour</a>
                                
                                <ul class="side__nav-list--sub-level-2">
                                    
                                </ul>
                            </li>
                            
                            <li class="side__nav-list-item--sub-level-1">
                                
                                <a class="side__nav-link" href="/imandra-docs/notebooks/installation">Installation</a>
                                
                                <ul class="side__nav-list--sub-level-2">
                                    
                                    <li class="side__nav-list-item--sub-level-2">
                                        <a class="side__nav-link" href="/imandra-docs/notebooks/installation-simple">Installer</a>
                                        
                                    </li>
                                    
                                    <li class="side__nav-list-item--sub-level-2">
                                        <a class="side__nav-link" href="/imandra-docs/notebooks/installation-docker">Docker Image</a>
                                        
                                    </li>
                                    
                                    <li class="side__nav-list-item--sub-level-2">
                                        <a class="side__nav-link" href="/imandra-docs/notebooks/installation-vscode">VSCode</a>
                                        
                                    </li>
                                    
                                    <li class="side__nav-list-item--sub-level-2">
                                        <a class="side__nav-link" href="/imandra-docs/notebooks/installation-jupyter">Jupyter</a>
                                        
                                    </li>
                                    
                                </ul>
                            </li>
                            
                            <li class="side__nav-list-item--sub-level-1">
                                
                                <a class="side__nav-link" href="/imandra-docs/notebooks/logic-and-program-modes">Logic and Program Modes</a>
                                
                                <ul class="side__nav-list--sub-level-2">
                                    
                                </ul>
                            </li>
                            
                            <li class="side__nav-list-item--sub-level-1">
                                
                                <a class="side__nav-link" href="/imandra-docs/notebooks/verification-commands">Verification</a>
                                
                                <ul class="side__nav-list--sub-level-2">
                                    
                                    <li class="side__nav-list-item--sub-level-2">
                                        <a class="side__nav-link" href="/imandra-docs/notebooks/verification-commands">Commands</a>
                                        
                                    </li>
                                    
                                    <li class="side__nav-list-item--sub-level-2">
                                        <a class="side__nav-link" href="/imandra-docs/notebooks/verification-attributes">Attributes</a>
                                        
                                        <ul class="side__nav-list--sub-level-3">
                                            
                                            <li class="side__nav-list-item--sub-level-3">
                                              <a class="side__nav-link" href="/imandra-docs/notebooks/verification-attributes/#Verification-Hints">Verification Hints</a>
                                            </li>
                                            
                                            <li class="side__nav-list-item--sub-level-3">
                                              <a class="side__nav-link" href="/imandra-docs/notebooks/verification-attributes/#Rule-Classes">Rule Classes</a>
                                            </li>
                                            
                                        </ul>
                                        
                                    </li>
                                    
                                    <li class="side__nav-list-item--sub-level-2">
                                        <a class="side__nav-link" href="/imandra-docs/notebooks/verification-unrolling">Unrolling</a>
                                        
                                    </li>
                                    
                                    <li class="side__nav-list-item--sub-level-2">
                                        <a class="side__nav-link" href="/imandra-docs/notebooks/verification-simplification">Simplification</a>
                                        
                                        <ul class="side__nav-list--sub-level-3">
                                            
                                            <li class="side__nav-list-item--sub-level-3">
                                              <a class="side__nav-link" href="/imandra-docs/notebooks/verification-simplification/#Rewrite-Rules">Rewrite Rules</a>
                                            </li>
                                            
                                            <li class="side__nav-list-item--sub-level-3">
                                              <a class="side__nav-link" href="/imandra-docs/notebooks/verification-simplification/#Forward-chaining-Rules">Forward-chaining Rules</a>
                                            </li>
                                            
                                        </ul>
                                        
                                    </li>
                                    
                                    <li class="side__nav-list-item--sub-level-2">
                                        <a class="side__nav-link" href="/imandra-docs/notebooks/verification-blast">Blast</a>
                                        
                                    </li>
                                    
                                    <li class="side__nav-list-item--sub-level-2">
                                        <a class="side__nav-link" href="/imandra-docs/notebooks/verification-induction">Induction</a>
                                        
                                        <ul class="side__nav-list--sub-level-3">
                                            
                                            <li class="side__nav-list-item--sub-level-3">
                                              <a class="side__nav-link" href="/imandra-docs/notebooks/verification-induction/#Functional-Induction">Functional Induction</a>
                                            </li>
                                            
                                            <li class="side__nav-list-item--sub-level-3">
                                              <a class="side__nav-link" href="/imandra-docs/notebooks/verification-induction/#Structural-Induction">Structural Induction</a>
                                            </li>
                                            
                                        </ul>
                                        
                                    </li>
                                    
                                    <li class="side__nav-list-item--sub-level-2">
                                        <a class="side__nav-link" href="/imandra-docs/notebooks/verification-waterfall">Waterfall</a>
                                        
                                        <ul class="side__nav-list--sub-level-3">
                                            
                                            <li class="side__nav-list-item--sub-level-3">
                                              <a class="side__nav-link" href="/imandra-docs/notebooks/verification-waterfall/#Simplification">Simplification</a>
                                            </li>
                                            
                                            <li class="side__nav-list-item--sub-level-3">
                                              <a class="side__nav-link" href="/imandra-docs/notebooks/verification-waterfall/#Unrolling-check">Unrolling check</a>
                                            </li>
                                            
                                            <li class="side__nav-list-item--sub-level-3">
                                              <a class="side__nav-link" href="/imandra-docs/notebooks/verification-waterfall/#Destructor-Elimination">Destructor Elimination</a>
                                            </li>
                                            
                                            <li class="side__nav-list-item--sub-level-3">
                                              <a class="side__nav-link" href="/imandra-docs/notebooks/verification-waterfall/#Fertilization">Fertilization</a>
                                            </li>
                                            
                                            <li class="side__nav-list-item--sub-level-3">
                                              <a class="side__nav-link" href="/imandra-docs/notebooks/verification-waterfall/#Generalization">Generalization</a>
                                            </li>
                                            
                                            <li class="side__nav-list-item--sub-level-3">
                                              <a class="side__nav-link" href="/imandra-docs/notebooks/verification-waterfall/#Induction">Induction</a>
                                            </li>
                                            
                                        </ul>
                                        
                                    </li>
                                    
                                </ul>
                            </li>
                            
                            <li class="side__nav-list-item--sub-level-1">
                                
                                <a class="side__nav-link" href="/imandra-docs/notebooks/proving-program-termination">Proving Program Termination</a>
                                
                                <ul class="side__nav-list--sub-level-2">
                                    
                                </ul>
                            </li>
                            
                            <li class="side__nav-list-item--sub-level-1">
                                
                                Region Decomposition
                                
                                <ul class="side__nav-list--sub-level-2">
                                    
                                    <li class="side__nav-list-item--sub-level-2">
                                        <a class="side__nav-link" href="/imandra-docs/notebooks/decomposition-flags">Decomposition Flags</a>
                                        
                                    </li>
                                    
                                    <li class="side__nav-list-item--sub-level-2">
                                        <a class="side__nav-link" href="/imandra-docs/notebooks/imandra-tools-intro">Imandra Tools Introduction</a>
                                        
                                    </li>
                                    
                                    <li class="side__nav-list-item--sub-level-2">
                                        <a class="side__nav-link" href="/imandra-docs/notebooks/idf">Iterative Decomposition Framework</a>
                                        
                                    </li>
                                    
                                </ul>
                            </li>
                            
                            <li class="side__nav-list-item--sub-level-1">
                                
                                <a class="side__nav-link" href="/imandra-docs/notebooks/extracting-ocaml-modules-with-imandra-extract">Extracting OCaml modules with imandra-extract</a>
                                
                                <ul class="side__nav-list--sub-level-2">
                                    
                                </ul>
                            </li>
                            
                            <li class="side__nav-list-item--sub-level-1">
                                
                                <a class="side__nav-link" href="/imandra-docs/notebooks/examples">Examples</a>
                                
                                <ul class="side__nav-list--sub-level-2">
                                    
                                    <li class="side__nav-list-item--sub-level-2">
                                        <a class="side__nav-link" href="/imandra-docs/notebooks/recursion-induction-and-rewriting">Recursion, Induction and Rewriting</a>
                                        
                                    </li>
                                    
                                    <li class="side__nav-list-item--sub-level-2">
                                        <a class="side__nav-link" href="/imandra-docs/notebooks/verifying-merge-sort">Verifying Merge Sort in Imandra</a>
                                        
                                    </li>
                                    
                                    <li class="side__nav-list-item--sub-level-2">
                                        <a class="side__nav-link" href="/imandra-docs/notebooks/ubs-case-study">Analysing the UBS ATS Dark Pool</a>
                                        
                                    </li>
                                    
                                    <li class="side__nav-list-item--sub-level-2">
                                        <a class="side__nav-link" href="/imandra-docs/notebooks/six-swiss-exchange-pricing">Region Decomposition - Exchange Pricing</a>
                                        
                                    </li>
                                    
                                    <li class="side__nav-list-item--sub-level-2">
                                        <a class="side__nav-link" href="/imandra-docs/notebooks/webservice-auth-logic">Analysing Web-app Authentication Logic</a>
                                        
                                    </li>
                                    
                                    <li class="side__nav-list-item--sub-level-2">
                                        <a class="side__nav-link" href="/imandra-docs/notebooks/simple-vehicle-controller">Simple Vehicle Controller</a>
                                        
                                    </li>
                                    
                                    <li class="side__nav-list-item--sub-level-2">
                                        <a class="side__nav-link side__nav-link--active" href="/imandra-docs/notebooks/simple-stoplight-model">Simple Car Intersection model</a>
                                        
                                    </li>
                                    
                                    <li class="side__nav-list-item--sub-level-2">
                                        <a class="side__nav-link" href="/imandra-docs/notebooks/ripple-carry-adder">Verifying a Ripple Carry Adder</a>
                                        
                                    </li>
                                    
                                    <li class="side__nav-list-item--sub-level-2">
                                        <a class="side__nav-link" href="/imandra-docs/notebooks/verifying-an-ros-node">Creating and Verifying a ROS Node</a>
                                        
                                    </li>
                                    
                                    <li class="side__nav-list-item--sub-level-2">
                                        <a class="side__nav-link" href="/imandra-docs/notebooks/reasonml-tic-tac-toe">Tic Tac Toe with ReasonML</a>
                                        
                                    </li>
                                    
                                    <li class="side__nav-list-item--sub-level-2">
                                        <a class="side__nav-link" href="/imandra-docs/notebooks/probabilistic-reasoning-in-reasonml">Probabilistic Reasoning in ReasonML</a>
                                        
                                    </li>
                                    
                                    <li class="side__nav-list-item--sub-level-2">
                                        <a class="side__nav-link" href="/imandra-docs/notebooks/sudoku">Solving Sudoku with Imandra</a>
                                        
                                    </li>
                                    
                                    <li class="side__nav-list-item--sub-level-2">
                                        <a class="side__nav-link" href="/imandra-docs/notebooks/crossing-river-safely">Crossing the River Safely</a>
                                        
                                    </li>
                                    
                                    <li class="side__nav-list-item--sub-level-2">
                                        <a class="side__nav-link" href="/imandra-docs/notebooks/reasonml-facetime-state-machines">Exploring The Apple FaceTime Bug with ReasonML State Machines</a>
                                        
                                    </li>
                                    
                                    <li class="side__nav-list-item--sub-level-2">
                                        <a class="side__nav-link" href="/imandra-docs/notebooks/key-pair-security">Key Pair Security in Imandra</a>
                                        
                                    </li>
                                    
                                    <li class="side__nav-list-item--sub-level-2">
                                        <a class="side__nav-link" href="/imandra-docs/notebooks/a-comparison-with-tla-plus">A comparison with TLA+</a>
                                        
                                    </li>
                                    
                                </ul>
                            </li>
                            
                        </ul>
                        
                    </li>
                    
                    <li class="side__nav-list-item TopNavListItem">
                        <a class="side__nav-link" href="/ipl">Imandra Protocol Language</a>
                        
                    </li>
                    
                    <li class="side__nav-list-item TopNavListItem">
                        <a class="side__nav-link" href="/fix-engine">FIX Engine</a>
                        
                    </li>
                    
                </ul>
            </nav>
        </div>
    </div>

    <div class="background">
    </div>

    <div class="template-header">
        <div class="top-bar">
            <nav class="top-bar__nav-container">
                <a href="#" class="top-bar__toggle">≡</a>
                <ul class="top-bar__nav-list top-bar__nav-list--hidden">
                    <li class="top-bar__nav-list-item"><a class="top-bar__nav-link" href="https://www.imandra.ai/">Home</a></li>
                    <li class="top-bar__nav-list-item"><a class="top-bar__nav-link" href="https://try.imandra.ai/">Try</a></li>
                    <li class="top-bar__nav-list-item"><a class="top-bar__nav-link" href="https://medium.com/imandra">Blog</a></li>
                    <li class="top-bar__nav-list-item"><a class="top-bar__nav-link" href="https://www.imandra.ai/research">Research</a></li>
                    <li class="top-bar__nav-list-item"><a class="top-bar__nav-link" href="https://docs.imandra.ai/">Docs</a></li>
                    <li class="top-bar__nav-list-item"><a class="top-bar__nav-link" href="https://www.imandra.ai/media">Media</a></li>
                    <li class="top-bar__nav-list-item"><a class="top-bar__nav-link" href="https://www.imandra.ai/about">About AI</a></li>
                    <li class="top-bar__nav-list-item"><a class="top-bar__nav-link" href="https://www.imandra.ai/careers">CAREERS</a></li>
                    <li class="top-bar__nav-list-item"><a class="top-bar__nav-link" href="https://www.imandra.ai/contact">CONTACT</a></li>
                </ul>
            </nav>
        </div>

        <div class="template-header__image-container template-header__image-container--jupyter">
            <div class="template-header__image" href ="/imandra-docs">
                <img class="site-specific-image" src="/imandra-docs/static/img/site_specific_image_v_2.svg">
            </div>
        </div>
        
    </div>

    <script>
        document.getElementById('toggler--left').addEventListener('click', function () {
            document.querySelector('.side__right-menu-toggler .side__toggle').classList.remove('side__toggle--active');
            document.querySelector('.side__left-menu-toggler .side__toggle').classList.toggle('side__toggle--active');
            document.getElementsByClassName('side__nav-container')[0].classList.toggle('side__nav-container--hidden');
            document.getElementsByClassName('top-bar__nav-list')[0].classList.add('top-bar__nav-list--hidden');
        });

        document.getElementById('toggler--right').addEventListener('click', function () {
            document.querySelector('.side__left-menu-toggler .side__toggle').classList.remove('side__toggle--active');
            document.querySelector('.side__right-menu-toggler .side__toggle').classList.toggle('side__toggle--active');
            document.getElementsByClassName('side__nav-container')[0].classList.add('side__nav-container--hidden');
            document.getElementsByClassName('top-bar__nav-list')[0].classList.toggle('top-bar__nav-list--hidden');
        });

    </script>
</header>
                <article class="article__container article__container--notebooks">
                    <div class="main-content main-content--jupyter">
                        
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h1 id="The-stoplight-model">The stoplight model<a class="anchor-link" href="#The-stoplight-model">&#182;</a></h1><p>In this notebook we want to explore a simple model of a car approaching an intersection. The model is not supposed to be representative of a real world simulation, but rather a first stage high level abstraction of one such.</p>
<p>We start by defining datatypes representing the state of the stoplight in the intersection:</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="try-this-container">
  <a href="https://try.imandra.ai/launch/?next=/h/user-redirect/notebooks/Simple%20Stoplight%20Model.ipynb%23try-cell-2" target="_blank" rel="nofollow">
    <div class="try-this">Try this!</div>
  </a>
</div>
<div class="input">
<div class="prompt input_prompt">In&nbsp;[1]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ocaml"><pre><span></span><span class="c">(* Street light color *)</span>
<span class="k">type</span> <span class="n">color</span> <span class="o">=</span> <span class="nc">Green</span> <span class="o">|</span> <span class="nc">Yellow</span> <span class="o">|</span> <span class="nc">Red</span> <span class="o">;;</span>

<span class="c">(* State representation of an intersection. *)</span>
<span class="k">type</span> <span class="n">light_state</span> <span class="o">=</span> <span class="o">{</span>
    <span class="n">blinking</span> <span class="o">:</span> <span class="kt">bool</span><span class="o">;</span>
    <span class="n">current_time</span> <span class="o">:</span> <span class="kt">int</span><span class="o">;</span>
    <span class="c">(* Transition every X seconds *)</span>
    <span class="n">blink_time</span> <span class="o">:</span> <span class="kt">int</span><span class="o">;</span>
    <span class="c">(* Transition period *)</span>
    <span class="n">light_change_time</span> <span class="o">:</span> <span class="kt">int</span><span class="o">;</span>
    <span class="c">(* Intersection light *)</span>
    <span class="n">light_state</span> <span class="o">:</span> <span class="n">color</span><span class="o">;</span>
  <span class="o">};;</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt output_prompt">Out[1]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>type color = Green | Yellow | Red
type light_state = {
  blinking : bool;
  current_time : int;
  blink_time : int;
  light_change_time : int;
  light_state : color;
}
</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>Next we define a transition function for the stoplight:</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="try-this-container">
  <a href="https://try.imandra.ai/launch/?next=/h/user-redirect/notebooks/Simple%20Stoplight%20Model.ipynb%23try-cell-4" target="_blank" rel="nofollow">
    <div class="try-this">Try this!</div>
  </a>
</div>
<div class="input">
<div class="prompt input_prompt">In&nbsp;[2]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ocaml"><pre><span></span><span class="c">(* Update the light *)</span>
<span class="k">let</span> <span class="n">light_step</span> <span class="o">(</span><span class="n">l</span> <span class="o">:</span> <span class="n">light_state</span><span class="o">)</span> <span class="o">=</span>
  <span class="k">let</span> <span class="n">l</span> <span class="o">=</span> <span class="o">{</span> <span class="n">l</span> <span class="k">with</span> <span class="n">current_time</span> <span class="o">=</span> <span class="n">l</span><span class="o">.</span><span class="n">current_time</span> <span class="o">+</span> <span class="mi">1</span> <span class="o">}</span> <span class="k">in</span>
  <span class="k">if</span> <span class="n">l</span><span class="o">.</span><span class="n">current_time</span> <span class="o">&gt;</span> <span class="n">l</span><span class="o">.</span><span class="n">light_change_time</span> <span class="k">then</span>
    <span class="k">begin</span>
      <span class="k">let</span> <span class="n">l</span> <span class="o">=</span> <span class="o">{</span> <span class="n">l</span> <span class="k">with</span> <span class="n">blinking</span> <span class="o">=</span> <span class="bp">false</span> <span class="o">}</span> <span class="k">in</span>
      <span class="k">match</span> <span class="n">l</span><span class="o">.</span><span class="n">light_state</span> <span class="k">with</span>
      <span class="o">|</span> <span class="nc">Green</span> <span class="o">-&gt;</span> <span class="o">{</span> <span class="n">l</span> <span class="k">with</span> <span class="n">light_state</span> <span class="o">=</span> <span class="nc">Yellow</span> <span class="o">}</span>
      <span class="o">|</span> <span class="nc">Yellow</span> <span class="o">-&gt;</span> <span class="o">{</span> <span class="n">l</span> <span class="k">with</span> <span class="n">light_state</span> <span class="o">=</span> <span class="nc">Red</span> <span class="o">}</span>
      <span class="o">|</span> <span class="nc">Red</span> <span class="o">-&gt;</span> <span class="o">{</span> <span class="n">l</span> <span class="k">with</span> <span class="n">light_state</span> <span class="o">=</span> <span class="nc">Green</span> <span class="o">}</span>
    <span class="k">end</span>
  <span class="k">else</span> <span class="k">if</span> <span class="n">l</span><span class="o">.</span><span class="n">current_time</span> <span class="o">&gt;</span> <span class="n">l</span><span class="o">.</span><span class="n">blink_time</span> <span class="k">then</span>
    <span class="k">begin</span> <span class="k">match</span> <span class="n">l</span><span class="o">.</span><span class="n">light_state</span> <span class="k">with</span>
    <span class="o">|</span> <span class="nc">Green</span> <span class="o">|</span> <span class="nc">Yellow</span> <span class="o">-&gt;</span> <span class="o">{</span> <span class="n">l</span> <span class="k">with</span> <span class="n">blinking</span> <span class="o">=</span> <span class="bp">true</span> <span class="o">}</span>
    <span class="o">|</span> <span class="nc">Red</span> <span class="o">-&gt;</span> <span class="n">l</span>
    <span class="k">end</span>
  <span class="k">else</span>
    <span class="n">l</span>
<span class="o">;;</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt output_prompt">Out[2]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>val light_step : light_state -&gt; light_state = &lt;fun&gt;
</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>We do the same for the state of the car approaching said stoplight:</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="try-this-container">
  <a href="https://try.imandra.ai/launch/?next=/h/user-redirect/notebooks/Simple%20Stoplight%20Model.ipynb%23try-cell-6" target="_blank" rel="nofollow">
    <div class="try-this">Try this!</div>
  </a>
</div>
<div class="input">
<div class="prompt input_prompt">In&nbsp;[3]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ocaml"><pre><span></span><span class="c">(* Driving state *)</span>
<span class="k">type</span> <span class="n">driving_state</span> <span class="o">=</span> <span class="nc">Accelerating</span> <span class="o">|</span> <span class="nc">Steady</span> <span class="o">|</span> <span class="nc">Braking</span><span class="o">;;</span>

<span class="c">(* Current car state *)</span>
<span class="k">type</span> <span class="n">car_state</span> <span class="o">=</span> <span class="o">{</span>
    <span class="n">car_drive_state</span> <span class="o">:</span> <span class="n">driving_state</span><span class="o">;</span>
    <span class="n">car_speed</span> <span class="o">:</span> <span class="kt">int</span><span class="o">;</span> <span class="c">(* Speed of the car meters/time *)</span>
    <span class="n">car_distance</span> <span class="o">:</span> <span class="kt">int</span><span class="o">;</span> <span class="c">(* Distance to the intersection *)</span>
    <span class="c">(* Define some parameters. We&#39;ll condition our model</span>
<span class="c">  on these later. *)</span>
    <span class="n">car_accel_speed</span> <span class="o">:</span> <span class="kt">int</span><span class="o">;</span>
    <span class="n">car_max_speed</span> <span class="o">:</span> <span class="kt">int</span><span class="o">;</span>
    <span class="n">car_min_speed</span> <span class="o">:</span> <span class="kt">int</span><span class="o">;</span>
  <span class="o">};;</span>

<span class="c">(* Our simple car controller - takes the current state of the car</span>
<span class="c">and the streetlight and adjusts the speed. *)</span>
<span class="k">let</span> <span class="n">car_controller</span> <span class="o">(</span><span class="n">c</span><span class="o">,</span> <span class="n">l</span> <span class="o">:</span> <span class="n">car_state</span> <span class="o">*</span> <span class="n">light_state</span><span class="o">)</span> <span class="o">=</span>
  <span class="c">(* Let&#39;s define possible commands here. *)</span>
  <span class="k">let</span> <span class="n">steady</span> <span class="o">=</span> <span class="o">{</span> <span class="n">c</span> <span class="k">with</span> <span class="n">car_drive_state</span> <span class="o">=</span> <span class="nc">Steady</span> <span class="o">}</span> <span class="k">in</span>
  <span class="k">let</span> <span class="n">brake</span> <span class="o">=</span> <span class="o">{</span> <span class="n">c</span> <span class="k">with</span> <span class="n">car_drive_state</span> <span class="o">=</span> <span class="nc">Braking</span> <span class="o">}</span> <span class="k">in</span>
  <span class="k">let</span> <span class="n">accelerate</span> <span class="o">=</span> <span class="o">{</span> <span class="n">c</span> <span class="k">with</span> <span class="n">car_drive_state</span> <span class="o">=</span> <span class="nc">Accelerating</span> <span class="o">}</span> <span class="k">in</span>
  <span class="c">(* Now we&#39;re going to update the speed based on the current light *)</span>
  <span class="k">match</span> <span class="n">l</span><span class="o">.</span><span class="n">light_state</span> <span class="k">with</span>
  <span class="o">|</span> <span class="nc">Green</span> <span class="o">-&gt;</span> <span class="n">steady</span> <span class="c">(* If it&#39;s green, let&#39;s just do what we do. *)</span>
  <span class="o">|</span> <span class="nc">Red</span> <span class="o">-&gt;</span> <span class="n">brake</span>
  <span class="o">|</span> <span class="nc">Yellow</span> <span class="o">-&gt;</span>
     <span class="k">if</span> <span class="n">not</span> <span class="n">l</span><span class="o">.</span><span class="n">blinking</span> <span class="o">&amp;&amp;</span> <span class="n">c</span><span class="o">.</span><span class="n">car_distance</span> <span class="o">&gt;</span> <span class="mi">10</span> <span class="k">then</span>
       <span class="n">accelerate</span>
     <span class="k">else</span>
       <span class="n">brake</span>
<span class="o">;;</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt output_prompt">Out[3]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>type driving_state = Accelerating | Steady | Braking
type car_state = {
  car_drive_state : driving_state;
  car_speed : int;
  car_distance : int;
  car_accel_speed : int;
  car_max_speed : int;
  car_min_speed : int;
}
val car_controller : car_state * light_state -&gt; car_state = &lt;fun&gt;
</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>We can now define our intersection as a struct containing both the car and the stoplight state, and we can then define a <code>one_step</code> function over the state of the intersection, by first updating the state of the stoplight and then letting the car react to this new state of the world:</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="try-this-container">
  <a href="https://try.imandra.ai/launch/?next=/h/user-redirect/notebooks/Simple%20Stoplight%20Model.ipynb%23try-cell-8" target="_blank" rel="nofollow">
    <div class="try-this">Try this!</div>
  </a>
</div>
<div class="input">
<div class="prompt input_prompt">In&nbsp;[4]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ocaml"><pre><span></span><span class="k">type</span> <span class="n">intersection</span> <span class="o">=</span> <span class="o">{</span>
    <span class="n">c</span> <span class="o">:</span> <span class="n">car_state</span><span class="o">;</span>
    <span class="n">l</span> <span class="o">:</span> <span class="n">light_state</span><span class="o">;</span>
  <span class="o">};;</span>

<span class="c">(* Our car state transition here *)</span>
<span class="k">let</span> <span class="n">car_step</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="n">intersection</span><span class="o">)</span> <span class="o">=</span>
  <span class="k">let</span> <span class="n">c</span> <span class="o">=</span> <span class="n">i</span><span class="o">.</span><span class="n">c</span> <span class="k">in</span>
  <span class="c">(* Update distance given the current speed *)</span>
  <span class="k">let</span> <span class="n">c</span> <span class="o">=</span> <span class="o">{</span> <span class="n">c</span> <span class="k">with</span> <span class="n">car_distance</span> <span class="o">=</span> <span class="n">c</span><span class="o">.</span><span class="n">car_distance</span> <span class="o">+</span> <span class="n">c</span><span class="o">.</span><span class="n">car_speed</span> <span class="o">}</span> <span class="k">in</span>
  <span class="k">let</span> <span class="n">c</span> <span class="o">=</span> <span class="k">match</span> <span class="n">c</span><span class="o">.</span><span class="n">car_drive_state</span> <span class="k">with</span>
    <span class="o">|</span> <span class="nc">Accelerating</span> <span class="o">-&gt;</span>
       <span class="k">let</span> <span class="n">new_speed</span> <span class="o">=</span> <span class="n">c</span><span class="o">.</span><span class="n">car_speed</span> <span class="o">+</span> <span class="n">c</span><span class="o">.</span><span class="n">car_accel_speed</span> <span class="k">in</span>
       <span class="k">if</span> <span class="n">new_speed</span> <span class="o">&gt;</span> <span class="n">c</span><span class="o">.</span><span class="n">car_max_speed</span> <span class="k">then</span> <span class="o">{</span> <span class="n">c</span> <span class="k">with</span> <span class="n">car_speed</span> <span class="o">=</span> <span class="n">c</span><span class="o">.</span><span class="n">car_max_speed</span> <span class="o">}</span>
       <span class="k">else</span> <span class="o">{</span> <span class="n">c</span> <span class="k">with</span> <span class="n">car_speed</span> <span class="o">=</span> <span class="n">new_speed</span> <span class="o">}</span>
    <span class="o">|</span> <span class="nc">Steady</span> <span class="o">-&gt;</span> <span class="n">c</span>
    <span class="o">|</span> <span class="nc">Braking</span> <span class="o">-&gt;</span>
       <span class="k">let</span> <span class="n">new_speed</span> <span class="o">=</span> <span class="n">c</span><span class="o">.</span><span class="n">car_speed</span> <span class="o">-</span> <span class="n">c</span><span class="o">.</span><span class="n">car_accel_speed</span> <span class="k">in</span>
       <span class="k">if</span> <span class="n">new_speed</span> <span class="o">&lt;</span> <span class="mi">0</span> <span class="k">then</span> <span class="o">{</span> <span class="n">c</span> <span class="k">with</span> <span class="n">car_speed</span> <span class="o">=</span> <span class="mi">0</span> <span class="o">}</span>
       <span class="k">else</span> <span class="o">{</span> <span class="n">c</span> <span class="k">with</span> <span class="n">car_speed</span> <span class="o">=</span> <span class="n">new_speed</span> <span class="o">}</span> <span class="k">in</span>
  <span class="c">(* We have our current distance, speed and acceleration. *)</span>
  <span class="k">let</span> <span class="n">c&#39;</span> <span class="o">=</span> <span class="n">car_controller</span> <span class="o">(</span><span class="n">c</span><span class="o">,</span> <span class="n">i</span><span class="o">.</span><span class="n">l</span><span class="o">)</span> <span class="k">in</span>
  <span class="o">{</span> <span class="n">i</span> <span class="k">with</span> <span class="n">c</span> <span class="o">=</span> <span class="n">c&#39;</span><span class="o">}</span>
<span class="o">;;</span>

<span class="c">(* State transitions of our core values... *)</span>
<span class="k">let</span> <span class="n">one_step</span> <span class="o">(</span><span class="n">i</span> <span class="o">:</span> <span class="n">intersection</span><span class="o">)</span> <span class="o">=</span>
  <span class="k">let</span> <span class="n">l&#39;</span> <span class="o">=</span> <span class="n">light_step</span> <span class="o">(</span><span class="n">i</span><span class="o">.</span><span class="n">l</span><span class="o">)</span> <span class="k">in</span>
  <span class="n">car_step</span> <span class="o">({</span><span class="n">i</span> <span class="k">with</span> <span class="n">l</span> <span class="o">=</span> <span class="n">l&#39;</span><span class="o">});;</span>

<span class="k">let</span> <span class="n">valid_car_state</span> <span class="o">(</span><span class="n">i</span><span class="o">:</span> <span class="n">intersection</span><span class="o">)</span> <span class="o">=</span>
  <span class="c">(* let&#39;s make sure the car is going in a good speed *)</span>
  <span class="n">i</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">car_speed</span> <span class="o">=</span> <span class="mi">20</span> <span class="o">&amp;&amp;</span>
    <span class="n">i</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">car_accel_speed</span> <span class="o">=</span> <span class="mi">10</span> <span class="o">&amp;&amp;</span>
      <span class="n">i</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">car_max_speed</span> <span class="o">=</span> <span class="mi">100</span> <span class="o">&amp;&amp;</span>
        <span class="n">i</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">car_min_speed</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;;</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt output_prompt">Out[4]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>type intersection = { c : car_state; l : light_state; }
val car_step : intersection -&gt; intersection = &lt;fun&gt;
val one_step : intersection -&gt; intersection = &lt;fun&gt;
val valid_car_state : intersection -&gt; bool = &lt;fun&gt;
</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>Let's verify that our model ensures that the car will always brake when approaching a red light:</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="try-this-container">
  <a href="https://try.imandra.ai/launch/?next=/h/user-redirect/notebooks/Simple%20Stoplight%20Model.ipynb%23try-cell-10" target="_blank" rel="nofollow">
    <div class="try-this">Try this!</div>
  </a>
</div>
<div class="input">
<div class="prompt input_prompt">In&nbsp;[5]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ocaml"><pre><span></span><span class="n">verify</span>
  <span class="o">(</span><span class="k">fun</span> <span class="n">i</span> <span class="o">-&gt;</span>
     <span class="k">let</span> <span class="n">i</span> <span class="o">=</span> <span class="n">one_step</span> <span class="n">i</span> <span class="k">in</span>
     <span class="n">valid_car_state</span> <span class="n">i</span> <span class="o">&amp;&amp;</span>
     <span class="n">i</span><span class="o">.</span><span class="n">l</span><span class="o">.</span><span class="n">light_state</span> <span class="o">=</span> <span class="nc">Red</span>
     <span class="o">==&gt;</span> <span class="n">i</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">car_drive_state</span> <span class="o">=</span> <span class="nc">Braking</span><span class="o">)</span>
<span class="o">;;</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt output_prompt">Out[5]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>- : intersection -&gt; bool = &lt;fun&gt;
</pre>
</div>

</div>

<div class="output_area">

<div class="prompt"></div>



<div class="output_html rendered_html output_subarea ">
<div><div style="font-size: 1.2em; padding: 0.5em; border-top: 1px solid green; border-bottom: 1px solid green"><i class="fa fa-check-circle" style="margin-right: 0.5em; color: green"></i><span>Proved</span></div><div><div class="imandra-alternatives" id="alt-7d5351a3-c049-4f7d-b5ba-eee1998f5730"><ul class="nav nav-tabs"><li class="active" data-toggle="tab"><a>proof</a></li><li class="" data-toggle="tab"><a>call graph</a></li></ul><div class="tab-content"><div class="tab-pane active"><div class="imandra-proof-top"><div class="imandra-fold panel panel-default" id="fold-8dd601c3-877a-4d6e-b69d-889a66afd059"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>proof</span></div></div><div class="panel-body collapse"><div class="imandra-proof"><div class="imandra-alternatives" id="alt-0cca0a59-8ae4-4639-a918-bcc098d27f9a"><ul class="nav nav-tabs"><li class="active" data-toggle="tab"><a>summary</a></li><li class="" data-toggle="tab"><a>full</a></li><li class="" data-toggle="tab"><a>graph</a></li></ul><div class="tab-content"><div class="tab-pane active"><div class="imandra-table" id="table-3e0c79be-d95b-4210-9eb7-191a36a2dd54"><table><tr><td><b>ground_instances</b></td><td>0</td></tr><tr><td><b>definitions</b></td><td>0</td></tr><tr><td><b>inductions</b></td><td>0</td></tr><tr><td><b>search_time</b></td><td><pre>0.039s</pre></td></tr><tr><td><b>details</b></td><td><div class="imandra-fold panel panel-default" id="fold-2114a28c-d0e7-416b-abdf-a9978a362429"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>Expand</span></div></div><div class="panel-body collapse"><div class="imandra-table" id="table-8ba1b299-ba46-4530-9368-9badba60a0a9"><table><tr><td><b>smt_stats</b></td><td><div class="imandra-table" id="table-f087509e-3cb4-4c8e-8fdc-8b215d59f4d4"><table><tr><td><b>num checks</b></td><td>1</td></tr><tr><td><b>rlimit count</b></td><td>2235</td></tr><tr><td><b>mk clause</b></td><td>50</td></tr><tr><td><b>mk bool var</b></td><td>191</td></tr><tr><td><b>datatype splits</b></td><td>23</td></tr><tr><td><b>decisions</b></td><td>2</td></tr><tr><td><b>propagations</b></td><td>8</td></tr><tr><td><b>conflicts</b></td><td>2</td></tr><tr><td><b>datatype accessor ax</b></td><td>25</td></tr><tr><td><b>datatype constructor ax</b></td><td>8</td></tr><tr><td><b>num allocs</b></td><td>962581018</td></tr><tr><td><b>added eqs</b></td><td>137</td></tr><tr><td><b>del clause</b></td><td>16</td></tr><tr><td><b>memory</b></td><td>22.630000</td></tr><tr><td><b>max memory</b></td><td>26.560000</td></tr></table></div></td></tr></table></div></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-2114a28c-d0e7-416b-abdf-a9978a362429';
  fold.hydrate(target);
});
</script></div></td></tr></table></div></div><div class="tab-pane"><div class="imandra-fold panel panel-default" id="fold-b12d5013-8bb0-4177-a392-7f5c5a7434a4"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>Expand</span></div></div><div class="panel-body collapse"><ul><li><pre>start[0.039s]
  ((if ….light_state = Green then … else …).car_speed = 20
   &amp;&amp; (if ….light_state = Green then … else …).car_accel_speed = 10
      &amp;&amp; (if ….light_state = Green then … else …).car_max_speed = 100
         &amp;&amp; (if ….light_state = Green then … else …).car_min_speed = 0)
  &amp;&amp; ….l.light_state = Red
  ==&gt; (if ….light_state = Green then … else …).car_drive_state =
      Braking</pre></li><li><div><h4>simplify</h4><div class="imandra-table" id="table-a12926fb-ed27-47ca-91e5-d7d972946dcc"><table><tr><td><b>into</b></td><td><pre>not
(((((if (if :var_0:.l.current_time &lt;= (-1 + :var_0:.l.light_change_time)
         then
           if :var_0:.l.current_time &lt;= (-1 + :var_0:.l.blink_time) then …
           else …
         else if :var_0:.l.light_state = Green then … else …).light_state
        = Green
     then
       {car_drive_state = Steady; car_speed = ….car_speed;
        car_distance = ….car_distance;
        car_accel_speed = ….car_accel_speed;
        car_max_speed = ….car_max_speed; car_min_speed = ….car_min_speed}
     else
     if (if :var_0:.l.current_time &lt;= (-1 + :var_0:.l.light_change_time)
         then
           if :var_0:.l.current_time &lt;= (-1 + :var_0:.l.blink_time) then …
           else …
         else if :var_0:.l.light_state = Green then … else …).light_state
        = Red
     then
       {car_drive_state = …; car_speed = ….car_speed;
        car_distance = ….car_distance;
        car_accel_speed = ….car_accel_speed;
        car_max_speed = ….car_max_speed; car_min_speed = ….car_min_speed}
     else
     if not ….blinking &amp;&amp; not (….car_distance &lt;= 10) then …
     else
       {car_drive_state = …; car_speed = ….car_speed;
        car_distance = ….car_distance;
        car_accel_speed = ….car_accel_speed;
        car_max_speed = ….car_max_speed; car_min_speed = ….car_min_speed}).car_speed
    = 20
    &amp;&amp; (if (if :var_0:.l.current_time &lt;= (-1 + :var_0:.l.light_change_time)
            then
              if :var_0:.l.current_time &lt;= (-1 + :var_0:.l.blink_time)
              then … else …
            else if :var_0:.l.light_state = Green then … else …).light_state
           = Green
        then
          {car_drive_state = Steady; car_speed = ….car_speed;
           car_distance = ….car_distance;
           car_accel_speed = ….car_accel_speed;
           car_max_speed = ….car_max_speed;
           car_min_speed = ….car_min_speed}
        else
        if (if :var_0:.l.current_time &lt;= (-1 + :var_0:.l.light_change_time)
            then
              if :var_0:.l.current_time &lt;= (-1 + :var_0:.l.blink_time)
              then … else …
            else if :var_0:.l.light_state = Green then … else …).light_state
           = Red
        then
          {car_drive_state = …; car_speed = ….car_speed;
           car_distance = ….car_distance;
           car_accel_speed = ….car_accel_speed;
           car_max_speed = ….car_max_speed;
           car_min_speed = ….car_min_speed}
        else
        if not ….blinking &amp;&amp; not (….car_distance &lt;= 10) then …
        else
          {car_drive_state = …; car_speed = ….car_speed;
           car_distance = ….car_distance;
           car_accel_speed = ….car_accel_speed;
           car_max_speed = ….car_max_speed;
           car_min_speed = ….car_min_speed}).car_accel_speed
       = 10)
   &amp;&amp; (if (if :var_0:.l.current_time &lt;= (-1 + :var_0:.l.light_change_time)
           then
             if :var_0:.l.current_time &lt;= (-1 + :var_0:.l.blink_time)
             then … else …
           else if :var_0:.l.light_state = Green then … else …).light_state
          = Green
       then
         {car_drive_state = Steady; car_speed = ….car_speed;
          car_distance = ….car_distance;
          car_accel_speed = ….car_accel_speed;
          car_max_speed = ….car_max_speed;
          car_min_speed = ….car_min_speed}
       else
       if (if :var_0:.l.current_time &lt;= (-1 + :var_0:.l.light_change_time)
           then
             if :var_0:.l.current_time &lt;= (-1 + :var_0:.l.blink_time)
             then … else …
           else if :var_0:.l.light_state = Green then … else …).light_state
          = Red
       then
         {car_drive_state = …; car_speed = ….car_speed;
          car_distance = ….car_distance;
          car_accel_speed = ….car_accel_speed;
          car_max_speed = ….car_max_speed;
          car_min_speed = ….car_min_speed}
       else
       if not ….blinking &amp;&amp; not (….car_distance &lt;= 10) then …
       else
         {car_drive_state = …; car_speed = ….car_speed;
          car_distance = ….car_distance;
          car_accel_speed = ….car_accel_speed;
          car_max_speed = ….car_max_speed;
          car_min_speed = ….car_min_speed}).car_max_speed
      = 100)
  &amp;&amp; (if (if :var_0:.l.current_time &lt;= (-1 + :var_0:.l.light_change_time)
          then
            if :var_0:.l.current_time &lt;= (-1 + :var_0:.l.blink_time) 
            then … else …
          else if :var_0:.l.light_state = Green then … else …).light_state
         = Green
      then
        {car_drive_state = Steady; car_speed = ….car_speed;
         car_distance = ….car_distance;
         car_accel_speed = ….car_accel_speed;
         car_max_speed = ….car_max_speed; car_min_speed = ….car_min_speed}
      else
      if (if :var_0:.l.current_time &lt;= (-1 + :var_0:.l.light_change_time)
          then
            if :var_0:.l.current_time &lt;= (-1 + :var_0:.l.blink_time) 
            then … else …
          else if :var_0:.l.light_state = Green then … else …).light_state
         = Red
      then
        {car_drive_state = …; car_speed = ….car_speed;
         car_distance = ….car_distance;
         car_accel_speed = ….car_accel_speed;
         car_max_speed = ….car_max_speed; car_min_speed = ….car_min_speed}
      else
      if not ….blinking &amp;&amp; not (….car_distance &lt;= 10) then …
      else
        {car_drive_state = …; car_speed = ….car_speed;
         car_distance = ….car_distance;
         car_accel_speed = ….car_accel_speed;
         car_max_speed = ….car_max_speed; car_min_speed = ….car_min_speed}).car_min_speed
     = 0)
 &amp;&amp; (if :var_0:.l.current_time &lt;= (-1 + :var_0:.l.light_change_time)
     then
       if :var_0:.l.current_time &lt;= (-1 + :var_0:.l.blink_time) then …
       else …
     else if :var_0:.l.light_state = Green then … else …).light_state
    = Red)
|| (if (if :var_0:.l.current_time &lt;= (-1 + :var_0:.l.light_change_time)
        then
          if :var_0:.l.current_time &lt;= (-1 + :var_0:.l.blink_time) then …
          else …
        else if :var_0:.l.light_state = Green then … else …).light_state
       = Green
    then
      {car_drive_state = Steady; car_speed = ….car_speed;
       car_distance = ….car_distance;
       car_accel_speed = ….car_accel_speed;
       car_max_speed = ….car_max_speed; car_min_speed = ….car_min_speed}
    else …).car_drive_state
   = …</pre></td></tr><tr><td><b>expansions</b></td><td><pre>[]</pre></td></tr><tr><td><b>rewrite_steps</b></td><td><ul></ul></td></tr><tr><td><b>forward_chaining</b></td><td><ul></ul></td></tr></table></div></div></li><li><div><h4>unsat</h4><pre>(let ((a!1 (&lt;= (current_time_995 (l_1023 i_1037))
               (+ (- 1) (light_change_time_997 (l_…</pre></div></li></ul></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-b12d5013-8bb0-4177-a392-7f5c5a7434a4';
  fold.hydrate(target);
});
</script></div></div><div class="tab-pane"><div class="imandra-graphviz" id="graphviz-c13bc94e-71f5-4efe-b9b2-ef7abe41efb5"><textarea style="display: none">digraph &quot;proof&quot; {
p_241 [label=&quot;Start (((if ….light_state = Green then … else …).car_speed = 20\l        &amp;&amp; (if ….light_state = Green then … else …).car_accel_speed =\l           10\l           &amp;&amp; (if ….light_state = Green then … else …).car_max_speed =\l              100\l              &amp;&amp; (if ….light_state = Green then … else …).car_min_speed\l                 = 0)\l       &amp;&amp; ….l.light_state = Red\l       ==\&gt; (if ….light_state = Green then … else …).car_drive_state =\l           Braking\l       :time 0.039s)&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_241 -&gt; p_240 [label=&quot;&quot;];
p_240 [label=&quot;Simplify (not\l          (((((if (if :var_0:.l.current_time \&lt;=\l                      (-1 + :var_0:.l.light_change_time)\l                   then\l                     if :var_0:.l.current_time \&lt;= (-1 + :var_0:.l.blink_time)\l                     then … else …\l                   else if :var_0:.l.light_state = Green then … else …).light_state\l                  = Green\l               then\l                 \{car_drive_state = Steady; car_speed = ….car_speed;\l                  car_distance = ….car_distance;\l                  car_accel_speed = ….car_accel_speed;\l                  car_max_speed = ….car_max_speed;\l                  car_min_speed = ….car_min_speed\}\l               else\l               if (if :var_0:.l.current_time \&lt;=\l                      (-1 + :var_0:.l.light_change_time)\l                   then\l                     if :var_0:.l.current_time \&lt;= (-1 + :var_0:.l.blink_time)\l                     then … else …\l                   else if :var_0:.l.light_state = Green then … else …).light_state\l                  = Red\l               then\l                 \{car_drive_state = …; car_speed = ….car_speed;\l                  car_distance = ….car_distance;\l                  car_accel_speed = ….car_accel_speed;\l                  car_max_speed = ….car_max_speed;\l                  car_min_speed = ….car_min_speed\}\l               else\l               if not ….blinking &amp;&amp; not (….car_distance \&lt;= 10) then …\l               else\l                 \{car_drive_state = …; car_speed = ….car_speed;\l                  car_distance = ….car_distance;\l                  car_accel_speed = ….car_accel_speed;\l                  car_max_speed = ….car_max_speed;\l                  car_min_speed = ….car_min_speed\}).car_speed\l              = 20\l              &amp;&amp; (if (if :var_0:.l.current_time \&lt;=\l                         (-1 + :var_0:.l.light_change_time)\l                      then\l                        if :var_0:.l.current_time \&lt;=\l                           (-1 + :var_0:.l.blink_time)\l                        then … else …\l                      else if :var_0:.l.light_state = Green then … else …).light_state\l                     = Green\l                  then\l                    \{car_drive_state = Steady; car_speed = ….car_speed;\l                     car_distance = ….car_distance;\l                     car_accel_speed = ….car_accel_speed;\l                     car_max_speed = ….car_max_speed;\l                     car_min_speed = ….car_min_speed\}\l                  else\l                  if (if :var_0:.l.current_time \&lt;=\l                         (-1 + :var_0:.l.light_change_time)\l                      then\l                        if :var_0:.l.current_time \&lt;=\l                           (-1 + :var_0:.l.blink_time)\l                        then … else …\l                      else if :var_0:.l.light_state = Green then … else …).light_state\l                     = Red\l                  then\l                    \{car_drive_state = …; car_speed = ….car_speed;\l                     car_distance = ….car_distance;\l                     car_accel_speed = ….car_accel_speed;\l                     car_max_speed = ….car_max_speed;\l                     car_min_speed = ….car_min_speed\}\l                  else\l                  if not ….blinking &amp;&amp; not (….car_distance \&lt;= 10)\l                  then …\l                  else\l                    \{car_drive_state = …; car_speed = ….car_speed;\l                     car_distance = ….car_distance;\l                     car_accel_speed = ….car_accel_speed;\l                     car_max_speed = ….car_max_speed;\l                     car_min_speed = ….car_min_speed\}).car_accel_speed\l                 = 10)\l             &amp;&amp; (if (if :var_0:.l.current_time \&lt;=\l                        (-1 + :var_0:.l.light_change_time)\l                     then\l                       if :var_0:.l.current_time \&lt;=\l                          (-1 + :var_0:.l.blink_time)\l                       then … else …\l                     else if :var_0:.l.light_state = Green then … else …).light_state\l                    = Green\l                 then\l                   \{car_drive_state = Steady; car_speed = ….car_speed;\l                    car_distance = ….car_distance;\l                    car_accel_speed = ….car_accel_speed;\l                    car_max_speed = ….car_max_speed;\l                    car_min_speed = ….car_min_speed\}\l                 else\l                 if (if :var_0:.l.current_time \&lt;=\l                        (-1 + :var_0:.l.light_change_time)\l                     then\l                       if :var_0:.l.current_time \&lt;=\l                          (-1 + :var_0:.l.blink_time)\l                       then … else …\l                     else if :var_0:.l.light_state = Green then … else …).light_state\l                    = Red\l                 then\l                   \{car_drive_state = …; car_speed = ….car_speed;\l                    car_distance = ….car_distance;\l                    car_accel_speed = ….car_accel_speed;\l                    car_max_speed = ….car_max_speed;\l                    car_min_speed = ….car_min_speed\}\l                 else\l                 if not ….blinking &amp;&amp; not (….car_distance \&lt;= 10) \l                 then …\l                 else\l                   \{car_drive_state = …; car_speed = ….car_speed;\l                    car_distance = ….car_distance;\l                    car_accel_speed = ….car_accel_speed;\l                    car_max_speed = ….car_max_speed;\l                    car_min_speed = ….car_min_speed\}).car_max_speed\l                = 100)\l            &amp;&amp; (if (if :var_0:.l.current_time \&lt;=\l                       (-1 + :var_0:.l.light_change_time)\l                    then\l                      if :var_0:.l.current_time \&lt;=\l                         (-1 + :var_0:.l.blink_time)\l                      then … else …\l                    else if :var_0:.l.light_state = Green then … else …).light_state\l                   = Green\l                then\l                  \{car_drive_state = Steady; car_speed = ….car_speed;\l                   car_distance = ….car_distance;\l                   car_accel_speed = ….car_accel_speed;\l                   car_max_speed = ….car_max_speed;\l                   car_min_speed = ….car_min_speed\}\l                else\l                if (if :var_0:.l.current_time \&lt;=\l                       (-1 + :var_0:.l.light_change_time)\l                    then\l                      if :var_0:.l.current_time \&lt;=\l                         (-1 + :var_0:.l.blink_time)\l                      then … else …\l                    else if :var_0:.l.light_state = Green then … else …).light_state\l                   = Red\l                then\l                  \{car_drive_state = …; car_speed = ….car_speed;\l                   car_distance = ….car_distance;\l                   car_accel_speed = ….car_accel_speed;\l                   car_max_speed = ….car_max_speed;\l                   car_min_speed = ….car_min_speed\}\l                else\l                if not ….blinking &amp;&amp; not (….car_distance \&lt;= 10) then …\l                else\l                  \{car_drive_state = …; car_speed = ….car_speed;\l                   car_distance = ….car_distance;\l                   car_accel_speed = ….car_accel_speed;\l                   car_max_speed = ….car_max_speed;\l                   car_min_speed = ….car_min_speed\}).car_min_speed\l               = 0)\l           &amp;&amp; (if :var_0:.l.current_time \&lt;=\l                  (-1 + :var_0:.l.light_change_time)\l               then\l                 if :var_0:.l.current_time \&lt;= (-1 + :var_0:.l.blink_time)\l                 then … else …\l               else if :var_0:.l.light_state = Green then … else …).light_state\l              = Red)\l          \|\| (if (if :var_0:.l.current_time \&lt;=\l                     (-1 + :var_0:.l.light_change_time)\l                  then\l                    if :var_0:.l.current_time \&lt;= (-1 + :var_0:.l.blink_time)\l                    then … else …\l                  else if :var_0:.l.light_state = Green then … else …).light_state\l                 = Green\l              then\l                \{car_drive_state = Steady; car_speed = ….car_speed;\l                 car_distance = ….car_distance;\l                 car_accel_speed = ….car_accel_speed;\l                 car_max_speed = ….car_max_speed;\l                 car_min_speed = ….car_min_speed\}\l              else …).car_drive_state\l             = …\l          :expansions [] :rw [] :fc [])&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_240 -&gt; p_239 [label=&quot;&quot;];
p_239 -&gt; p_z3_1013 [label=&quot;&quot;,fontname=&quot;courier&quot;,fontsize=14];
p_z3_1013 [label=&quot;(let ((a!1 (&lt;= (current_time_995 (l_1023 i_1037))
               (+ (- 1) (light_change_time_997 (l_…&quot;,shape=box,fontname=&quot;courier&quot;,fontsize=14];p_239 [label=&quot;unsat&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
}
</textarea><button class="btn btn-primary">Load graph</button><div class="imandra-graphviz-loading display-none">Loading..</div><div class="imandra-graphviz-target"></div><script>
require(['nbextensions/nbimandra/graphviz'], function (graphviz) {
  var target = '#graphviz-c13bc94e-71f5-4efe-b9b2-ef7abe41efb5';
  graphviz.hydrate(target);
});
</script></div></div></div><script>
require(['nbextensions/nbimandra/alternatives'], function (alternatives) {
  var target = '#alt-0cca0a59-8ae4-4639-a918-bcc098d27f9a';
  alternatives.hydrate(target);
});
</script></div></div></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-8dd601c3-877a-4d6e-b69d-889a66afd059';
  fold.hydrate(target);
});
</script></div></div></div><div class="tab-pane"><div class="imandra-graphviz" id="graphviz-5b07974d-277a-4c91-a0e0-3efaa1d45dff"><textarea style="display: none">digraph &quot;call graph&quot; {
goal [label=&quot;not\l(not\l (((((if (if ….l.current_time \&lt;= (-1 + ….l.light_change_time)\l          then\l            if ….l.current_time \&lt;= (-1 + ….l.blink_time) then …\l            else …\l          else if ….l.light_state = Green then … else …).light_state\l         = Green\l      then\l        \{car_drive_state = Steady; car_speed = ….car_speed;\l         car_distance = ….car_distance;\l         car_accel_speed = ….car_accel_speed;\l         car_max_speed = ….car_max_speed; car_min_speed = ….car_min_speed\}\l      else\l      if (if ….l.current_time \&lt;= (-1 + ….l.light_change_time)\l          then\l            if ….l.current_time \&lt;= (-1 + ….l.blink_time) then …\l            else …\l          else if ….l.light_state = Green then … else …).light_state\l         = Red\l      then\l        \{car_drive_state = …; car_speed = ….car_speed;\l         car_distance = ….car_distance;\l         car_accel_speed = ….car_accel_speed;\l         car_max_speed = ….car_max_speed; car_min_speed = ….car_min_speed\}\l      else\l      if not ….blinking &amp;&amp; not (….car_distance \&lt;= 10) then …\l      else\l        \{car_drive_state = …; car_speed = ….car_speed;\l         car_distance = ….car_distance;\l         car_accel_speed = ….car_accel_speed;\l         car_max_speed = ….car_max_speed; car_min_speed = ….car_min_speed\}).car_speed\l     = 20\l     &amp;&amp; (if (if ….l.current_time \&lt;= (-1 + ….l.light_change_time)\l             then\l               if ….l.current_time \&lt;= (-1 + ….l.blink_time) then …\l               else …\l             else if ….l.light_state = Green then … else …).light_state\l            = Green\l         then\l           \{car_drive_state = Steady; car_speed = ….car_speed;\l            car_distance = ….car_distance;\l            car_accel_speed = ….car_accel_speed;\l            car_max_speed = ….car_max_speed;\l            car_min_speed = ….car_min_speed\}\l         else\l         if (if ….l.current_time \&lt;= (-1 + ….l.light_change_time)\l             then\l               if ….l.current_time \&lt;= (-1 + ….l.blink_time) then …\l               else …\l             else if ….l.light_state = Green then … else …).light_state\l            = Red\l         then\l           \{car_drive_state = …; car_speed = ….car_speed;\l            car_distance = ….car_distance;\l            car_accel_speed = ….car_accel_speed;\l            car_max_speed = ….car_max_speed;\l            car_min_speed = ….car_min_speed\}\l         else\l         if not ….blinking &amp;&amp; not (….car_distance \&lt;= 10) then …\l         else\l           \{car_drive_state = …; car_speed = ….car_speed;\l            car_distance = ….car_distance;\l            car_accel_speed = ….car_accel_speed;\l            car_max_speed = ….car_max_speed;\l            car_min_speed = ….car_min_speed\}).car_accel_speed\l        = 10)\l    &amp;&amp; (if (if ….l.current_time \&lt;= (-1 + ….l.light_change_time)\l            then\l              if ….l.current_time \&lt;= (-1 + ….l.blink_time) then …\l              else …\l            else if ….l.light_state = Green then … else …).light_state\l           = Green\l        then\l          \{car_drive_state = Steady; car_speed = ….car_speed;\l           car_distance = ….car_distance;\l           car_accel_speed = ….car_accel_speed;\l           car_max_speed = ….car_max_speed;\l           car_min_speed = ….car_min_speed\}\l        else\l        if (if ….l.current_time \&lt;= (-1 + ….l.light_change_time)\l            then\l              if ….l.current_time \&lt;= (-1 + ….l.blink_time) then …\l              else …\l            else if ….l.light_state = Green then … else …).light_state\l           = Red\l        then\l          \{car_drive_state = …; car_speed = ….car_speed;\l           car_distance = ….car_distance;\l           car_accel_speed = ….car_accel_speed;\l           car_max_speed = ….car_max_speed;\l           car_min_speed = ….car_min_speed\}\l        else\l        if not ….blinking &amp;&amp; not (….car_distance \&lt;= 10) then …\l        else\l          \{car_drive_state = …; car_speed = ….car_speed;\l           car_distance = ….car_distance;\l           car_accel_speed = ….car_accel_speed;\l           car_max_speed = ….car_max_speed;\l           car_min_speed = ….car_min_speed\}).car_max_speed\l       = 100)\l   &amp;&amp; (if (if ….l.current_time \&lt;= (-1 + ….l.light_change_time)\l           then\l             if ….l.current_time \&lt;= (-1 + ….l.blink_time) then …\l             else …\l           else if ….l.light_state = Green then … else …).light_state\l          = Green\l       then\l         \{car_drive_state = Steady; car_speed = ….car_speed;\l          car_distance = ….car_distance;\l          car_accel_speed = ….car_accel_speed;\l          car_max_speed = ….car_max_speed;\l          car_min_speed = ….car_min_speed\}\l       else\l       if (if ….l.current_time \&lt;= (-1 + ….l.light_change_time)\l           then\l             if ….l.current_time \&lt;= (-1 + ….l.blink_time) then …\l             else …\l           else if ….l.light_state = Green then … else …).light_state\l          = Red\l       then\l         \{car_drive_state = …; car_speed = ….car_speed;\l          car_distance = ….car_distance;\l          car_accel_speed = ….car_accel_speed;\l          car_max_speed = ….car_max_speed;\l          car_min_speed = ….car_min_speed\}\l       else\l       if not ….blinking &amp;&amp; not (….car_distance \&lt;= 10) then …\l       else\l         \{car_drive_state = …; car_speed = ….car_speed;\l          car_distance = ….car_distance;\l          car_accel_speed = ….car_accel_speed;\l          car_max_speed = ….car_max_speed;\l          car_min_speed = ….car_min_speed\}).car_min_speed\l      = 0)\l  &amp;&amp; (if ….l.current_time \&lt;= (-1 + ….l.light_change_time)\l      then if ….l.current_time \&lt;= (-1 + ….l.blink_time) then … else …\l      else if ….l.light_state = Green then … else …).light_state\l     = Red)\l \|\| (if (if ….l.current_time \&lt;= (-1 + ….l.light_change_time)\l         then\l           if ….l.current_time \&lt;= (-1 + ….l.blink_time) then … else …\l         else if ….l.light_state = Green then … else …).light_state\l        = Green\l     then\l       \{car_drive_state = Steady; car_speed = ….car_speed;\l        car_distance = ….car_distance;\l        car_accel_speed = ….car_accel_speed;\l        car_max_speed = ….car_max_speed; car_min_speed = ….car_min_speed\}\l     else …).car_drive_state\l    = …)&quot;,shape=box,style=filled,color=&quot;cyan&quot;,fontname=&quot;courier&quot;,fontsize=14];
}
</textarea><button class="btn btn-primary">Load graph</button><div class="imandra-graphviz-loading display-none">Loading..</div><div class="imandra-graphviz-target"></div><script>
require(['nbextensions/nbimandra/graphviz'], function (graphviz) {
  var target = '#graphviz-5b07974d-277a-4c91-a0e0-3efaa1d45dff';
  graphviz.hydrate(target);
});
</script></div></div></div><script>
require(['nbextensions/nbimandra/alternatives'], function (alternatives) {
  var target = '#alt-7d5351a3-c049-4f7d-b5ba-eee1998f5730';
  alternatives.hydrate(target);
});
</script></div></div></div>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>Let's now use Imandra's Principal Region Decomposition to enumerate all the possible distinct regions of behavior of the intersection:</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="try-this-container">
  <a href="https://try.imandra.ai/launch/?next=/h/user-redirect/notebooks/Simple%20Stoplight%20Model.ipynb%23try-cell-12" target="_blank" rel="nofollow">
    <div class="try-this">Try this!</div>
  </a>
</div>
<div class="input">
<div class="prompt input_prompt">In&nbsp;[6]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ocaml"><pre><span></span><span class="o">#</span><span class="n">program</span><span class="o">;;</span>
<span class="k">let</span> <span class="n">regions</span> <span class="o">=</span> <span class="nn">Decompose</span><span class="p">.</span><span class="n">top</span> <span class="o">~</span><span class="n">assuming</span><span class="o">:</span><span class="s2">&quot;valid_car_state&quot;</span> <span class="s2">&quot;one_step&quot;</span><span class="o">;;</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt output_prompt">Out[6]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>val regions : Imandra_interactive.Decompose.t list =
  [&lt;region&gt;; &lt;region&gt;; &lt;region&gt;; &lt;region&gt;; &lt;region&gt;; &lt;region&gt;; &lt;region&gt;;
   &lt;region&gt;; &lt;region&gt;; &lt;region&gt;; &lt;region&gt;; &lt;region&gt;; &lt;region&gt;; &lt;region&gt;;
   &lt;region&gt;; &lt;region&gt;; &lt;region&gt;; &lt;region&gt;; &lt;region&gt;; &lt;region&gt;; &lt;region&gt;;
   &lt;region&gt;; &lt;region&gt;; &lt;region&gt;; &lt;region&gt;; &lt;region&gt;; &lt;region&gt;; &lt;region&gt;;
   &lt;region&gt;; &lt;region&gt;; &lt;region&gt;; &lt;region&gt;; &lt;region&gt;; &lt;region&gt;; &lt;region&gt;;
   &lt;region&gt;]
</pre>
</div>

</div>

<div class="output_area">

<div class="prompt"></div>



<div class="output_html rendered_html output_subarea ">
<div class="imandra-alternatives" id="alt-2c66cfb6-dec6-4d86-8d90-39a9e65390aa"><ul class="nav nav-tabs"><li class="active" data-toggle="tab"><a>Voronoi</a></li><li class="" data-toggle="tab"><a>Table</a></li></ul><div class="tab-content"><div class="tab-pane active"><div id="decompose-f7ef7bb2-29ee-401f-9aad-fdef8b134c26" class="decompose"><textarea class="display-none">{
  &quot;regions&quot;: [
    {
      &quot;constraints&quot;: [
        &quot;i.c.car_drive_state is Steady&quot;,
        &quot;i.l.current_time &gt; (i.l.light_change_time - 1)&quot;
      ],
      &quot;region&quot;: null,
      &quot;groups&quot;: [
        {
          &quot;constraints&quot;: [
            &quot;i.c.car_drive_state is Steady&quot;,
            &quot;i.l.current_time &gt; (i.l.light_change_time - 1)&quot;,
            &quot;i.l.light_state is Red&quot;
          ],
          &quot;region&quot;: {
            &quot;constraints&quot;: [
              &quot;i.l.current_time &gt; (i.l.light_change_time - 1)&quot;,
              &quot;i.l.light_state is Red&quot;, &quot;i.c.car_drive_state is Steady&quot;
            ],
            &quot;invariant&quot;:
              &quot;intersection.{ c =   car_state.{   car_drive_state = Steady   ; car_speed = i.c.car_speed   ; car_distance = i.c.car_distance + i.c.car_speed   ; car_accel_speed = i.c.car_accel_speed   ; car_max_speed = i.c.car_max_speed   ; car_min_speed = i.c.car_min_speed   } ; l =     light_state.{     blinking = false     ; current_time = i.l.current_time + 1     ; blink_time = i.l.blink_time     ; light_change_time = i.l.light_change_time     ; light_state = Green     } }&quot;
          },
          &quot;groups&quot;: [],
          &quot;label&quot;: &quot;R[5.1.2]&quot;,
          &quot;weight&quot;: 1
        },
        {
          &quot;constraints&quot;: [
            &quot;i.c.car_drive_state is Steady&quot;,
            &quot;i.l.current_time &gt; (i.l.light_change_time - 1)&quot;,
            &quot;i.l.light_state is Green&quot;
          ],
          &quot;region&quot;: null,
          &quot;groups&quot;: [
            {
              &quot;constraints&quot;: [
                &quot;i.c.car_drive_state is Steady&quot;,
                &quot;i.l.current_time &gt; (i.l.light_change_time - 1)&quot;,
                &quot;i.l.light_state is Green&quot;,
                &quot;(i.c.car_distance + i.c.car_speed) &gt; 10&quot;
              ],
              &quot;region&quot;: {
                &quot;constraints&quot;: [
                  &quot;i.l.current_time &gt; (i.l.light_change_time - 1)&quot;,
                  &quot;i.l.light_state is Green&quot;,
                  &quot;i.c.car_drive_state is Steady&quot;,
                  &quot;(i.c.car_distance + i.c.car_speed) &gt; 10&quot;
                ],
                &quot;invariant&quot;:
                  &quot;intersection.{ c =   car_state.{   car_drive_state = Accelerating   ; car_speed = i.c.car_speed   ; car_distance = i.c.car_distance + i.c.car_speed   ; car_accel_speed = i.c.car_accel_speed   ; car_max_speed = i.c.car_max_speed   ; car_min_speed = i.c.car_min_speed   } ; l =     light_state.{     blinking = false     ; current_time = i.l.current_time + 1     ; blink_time = i.l.blink_time     ; light_change_time = i.l.light_change_time     ; light_state = Yellow     } }&quot;
              },
              &quot;groups&quot;: [],
              &quot;label&quot;: &quot;R[5.1.1.2]&quot;,
              &quot;weight&quot;: 1
            },
            {
              &quot;constraints&quot;: [
                &quot;i.c.car_drive_state is Steady&quot;,
                &quot;i.l.current_time &gt; (i.l.light_change_time - 1)&quot;,
                &quot;i.l.light_state is Green&quot;,
                &quot;(i.c.car_distance + i.c.car_speed) &lt;= 10&quot;
              ],
              &quot;region&quot;: {
                &quot;constraints&quot;: [
                  &quot;i.l.current_time &gt; (i.l.light_change_time - 1)&quot;,
                  &quot;i.l.light_state is Green&quot;,
                  &quot;i.c.car_drive_state is Steady&quot;,
                  &quot;(i.c.car_distance + i.c.car_speed) &lt;= 10&quot;
                ],
                &quot;invariant&quot;:
                  &quot;intersection.{ c =   car_state.{   car_drive_state = Braking   ; car_speed = i.c.car_speed   ; car_distance = i.c.car_distance + i.c.car_speed   ; car_accel_speed = i.c.car_accel_speed   ; car_max_speed = i.c.car_max_speed   ; car_min_speed = i.c.car_min_speed   } ; l =     light_state.{     blinking = false     ; current_time = i.l.current_time + 1     ; blink_time = i.l.blink_time     ; light_change_time = i.l.light_change_time     ; light_state = Yellow     } }&quot;
              },
              &quot;groups&quot;: [],
              &quot;label&quot;: &quot;R[5.1.1.1]&quot;,
              &quot;weight&quot;: 1
            }
          ],
          &quot;label&quot;: &quot;(5.1.1)&quot;,
          &quot;weight&quot;: 2
        }
      ],
      &quot;label&quot;: &quot;(5.1)&quot;,
      &quot;weight&quot;: 3
    },
    {
      &quot;constraints&quot;: [
        &quot;i.c.car_drive_state is Accelerating&quot;,
        &quot;i.c.car_max_speed &gt;= (i.c.car_speed + i.c.car_accel_speed)&quot;,
        &quot;i.l.current_time &gt; (i.l.light_change_time - 1)&quot;
      ],
      &quot;region&quot;: null,
      &quot;groups&quot;: [
        {
          &quot;constraints&quot;: [
            &quot;i.c.car_drive_state is Accelerating&quot;,
            &quot;i.c.car_max_speed &gt;= (i.c.car_speed + i.c.car_accel_speed)&quot;,
            &quot;i.l.current_time &gt; (i.l.light_change_time - 1)&quot;,
            &quot;i.l.light_state is Red&quot;
          ],
          &quot;region&quot;: {
            &quot;constraints&quot;: [
              &quot;i.l.current_time &gt; (i.l.light_change_time - 1)&quot;,
              &quot;i.l.light_state is Red&quot;,
              &quot;i.c.car_drive_state is Accelerating&quot;,
              &quot;i.c.car_max_speed &gt;= (i.c.car_speed + i.c.car_accel_speed)&quot;
            ],
            &quot;invariant&quot;:
              &quot;intersection.{ c =   car_state.{   car_drive_state = Steady   ; car_speed = i.c.car_speed + i.c.car_accel_speed   ; car_distance = i.c.car_distance + i.c.car_speed   ; car_accel_speed = i.c.car_accel_speed   ; car_max_speed = i.c.car_max_speed   ; car_min_speed = i.c.car_min_speed   } ; l =     light_state.{     blinking = false     ; current_time = i.l.current_time + 1     ; blink_time = i.l.blink_time     ; light_change_time = i.l.light_change_time     ; light_state = Green     } }&quot;
          },
          &quot;groups&quot;: [],
          &quot;label&quot;: &quot;R[4.1.1.2]&quot;,
          &quot;weight&quot;: 1
        },
        {
          &quot;constraints&quot;: [
            &quot;i.c.car_drive_state is Accelerating&quot;,
            &quot;i.c.car_max_speed &gt;= (i.c.car_speed + i.c.car_accel_speed)&quot;,
            &quot;i.l.current_time &gt; (i.l.light_change_time - 1)&quot;,
            &quot;i.l.light_state is Green&quot;
          ],
          &quot;region&quot;: null,
          &quot;groups&quot;: [
            {
              &quot;constraints&quot;: [
                &quot;i.c.car_drive_state is Accelerating&quot;,
                &quot;i.c.car_max_speed &gt;= (i.c.car_speed + i.c.car_accel_speed)&quot;,
                &quot;i.l.current_time &gt; (i.l.light_change_time - 1)&quot;,
                &quot;i.l.light_state is Green&quot;,
                &quot;(i.c.car_distance + i.c.car_speed) &gt; 10&quot;
              ],
              &quot;region&quot;: {
                &quot;constraints&quot;: [
                  &quot;i.l.current_time &gt; (i.l.light_change_time - 1)&quot;,
                  &quot;i.l.light_state is Green&quot;,
                  &quot;i.c.car_drive_state is Accelerating&quot;,
                  &quot;i.c.car_max_speed &gt;= (i.c.car_speed + i.c.car_accel_speed)&quot;,
                  &quot;(i.c.car_distance + i.c.car_speed) &gt; 10&quot;
                ],
                &quot;invariant&quot;:
                  &quot;intersection.{ c =   car_state.{   car_drive_state = Accelerating   ; car_speed = i.c.car_speed + i.c.car_accel_speed   ; car_distance = i.c.car_distance + i.c.car_speed   ; car_accel_speed = i.c.car_accel_speed   ; car_max_speed = i.c.car_max_speed   ; car_min_speed = i.c.car_min_speed   } ; l =     light_state.{     blinking = false     ; current_time = i.l.current_time + 1     ; blink_time = i.l.blink_time     ; light_change_time = i.l.light_change_time     ; light_state = Yellow     } }&quot;
              },
              &quot;groups&quot;: [],
              &quot;label&quot;: &quot;R[4.1.1.1.2]&quot;,
              &quot;weight&quot;: 1
            },
            {
              &quot;constraints&quot;: [
                &quot;i.c.car_drive_state is Accelerating&quot;,
                &quot;i.c.car_max_speed &gt;= (i.c.car_speed + i.c.car_accel_speed)&quot;,
                &quot;i.l.current_time &gt; (i.l.light_change_time - 1)&quot;,
                &quot;i.l.light_state is Green&quot;,
                &quot;(i.c.car_distance + i.c.car_speed) &lt;= 10&quot;
              ],
              &quot;region&quot;: {
                &quot;constraints&quot;: [
                  &quot;i.l.current_time &gt; (i.l.light_change_time - 1)&quot;,
                  &quot;i.l.light_state is Green&quot;,
                  &quot;i.c.car_drive_state is Accelerating&quot;,
                  &quot;i.c.car_max_speed &gt;= (i.c.car_speed + i.c.car_accel_speed)&quot;,
                  &quot;(i.c.car_distance + i.c.car_speed) &lt;= 10&quot;
                ],
                &quot;invariant&quot;:
                  &quot;intersection.{ c =   car_state.{   car_drive_state = Braking   ; car_speed = i.c.car_speed + i.c.car_accel_speed   ; car_distance = i.c.car_distance + i.c.car_speed   ; car_accel_speed = i.c.car_accel_speed   ; car_max_speed = i.c.car_max_speed   ; car_min_speed = i.c.car_min_speed   } ; l =     light_state.{     blinking = false     ; current_time = i.l.current_time + 1     ; blink_time = i.l.blink_time     ; light_change_time = i.l.light_change_time     ; light_state = Yellow     } }&quot;
              },
              &quot;groups&quot;: [],
              &quot;label&quot;: &quot;R[4.1.1.1.1]&quot;,
              &quot;weight&quot;: 1
            }
          ],
          &quot;label&quot;: &quot;(4.1.1.1)&quot;,
          &quot;weight&quot;: 2
        }
      ],
      &quot;label&quot;: &quot;(4.1.1)&quot;,
      &quot;weight&quot;: 3
    },
    {
      &quot;constraints&quot;: [
        &quot;(i.c.car_speed - i.c.car_accel_speed) &gt;= 0&quot;,
        &quot;i.c.car_drive_state is Braking&quot;,
        &quot;i.l.current_time &gt; (i.l.light_change_time - 1)&quot;
      ],
      &quot;region&quot;: null,
      &quot;groups&quot;: [
        {
          &quot;constraints&quot;: [
            &quot;(i.c.car_speed - i.c.car_accel_speed) &gt;= 0&quot;,
            &quot;i.c.car_drive_state is Braking&quot;,
            &quot;i.l.current_time &gt; (i.l.light_change_time - 1)&quot;,
            &quot;i.l.light_state is Red&quot;
          ],
          &quot;region&quot;: {
            &quot;constraints&quot;: [
              &quot;i.l.current_time &gt; (i.l.light_change_time - 1)&quot;,
              &quot;i.l.light_state is Red&quot;, &quot;i.c.car_drive_state is Braking&quot;,
              &quot;(i.c.car_speed - i.c.car_accel_speed) &gt;= 0&quot;
            ],
            &quot;invariant&quot;:
              &quot;intersection.{ c =   car_state.{   car_drive_state = Steady   ; car_speed = i.c.car_speed - i.c.car_accel_speed   ; car_distance = i.c.car_distance + i.c.car_speed   ; car_accel_speed = i.c.car_accel_speed   ; car_max_speed = i.c.car_max_speed   ; car_min_speed = i.c.car_min_speed   } ; l =     light_state.{     blinking = false     ; current_time = i.l.current_time + 1     ; blink_time = i.l.blink_time     ; light_change_time = i.l.light_change_time     ; light_state = Green     } }&quot;
          },
          &quot;groups&quot;: [],
          &quot;label&quot;: &quot;R[3.1.1.2]&quot;,
          &quot;weight&quot;: 1
        },
        {
          &quot;constraints&quot;: [
            &quot;(i.c.car_speed - i.c.car_accel_speed) &gt;= 0&quot;,
            &quot;i.c.car_drive_state is Braking&quot;,
            &quot;i.l.current_time &gt; (i.l.light_change_time - 1)&quot;,
            &quot;i.l.light_state is Green&quot;
          ],
          &quot;region&quot;: null,
          &quot;groups&quot;: [
            {
              &quot;constraints&quot;: [
                &quot;(i.c.car_speed - i.c.car_accel_speed) &gt;= 0&quot;,
                &quot;i.c.car_drive_state is Braking&quot;,
                &quot;i.l.current_time &gt; (i.l.light_change_time - 1)&quot;,
                &quot;i.l.light_state is Green&quot;,
                &quot;(i.c.car_distance + i.c.car_speed) &gt; 10&quot;
              ],
              &quot;region&quot;: {
                &quot;constraints&quot;: [
                  &quot;i.l.current_time &gt; (i.l.light_change_time - 1)&quot;,
                  &quot;i.l.light_state is Green&quot;,
                  &quot;i.c.car_drive_state is Braking&quot;,
                  &quot;(i.c.car_speed - i.c.car_accel_speed) &gt;= 0&quot;,
                  &quot;(i.c.car_distance + i.c.car_speed) &gt; 10&quot;
                ],
                &quot;invariant&quot;:
                  &quot;intersection.{ c =   car_state.{   car_drive_state = Accelerating   ; car_speed = i.c.car_speed - i.c.car_accel_speed   ; car_distance = i.c.car_distance + i.c.car_speed   ; car_accel_speed = i.c.car_accel_speed   ; car_max_speed = i.c.car_max_speed   ; car_min_speed = i.c.car_min_speed   } ; l =     light_state.{     blinking = false     ; current_time = i.l.current_time + 1     ; blink_time = i.l.blink_time     ; light_change_time = i.l.light_change_time     ; light_state = Yellow     } }&quot;
              },
              &quot;groups&quot;: [],
              &quot;label&quot;: &quot;R[3.1.1.1.2]&quot;,
              &quot;weight&quot;: 1
            },
            {
              &quot;constraints&quot;: [
                &quot;(i.c.car_speed - i.c.car_accel_speed) &gt;= 0&quot;,
                &quot;i.c.car_drive_state is Braking&quot;,
                &quot;i.l.current_time &gt; (i.l.light_change_time - 1)&quot;,
                &quot;i.l.light_state is Green&quot;,
                &quot;(i.c.car_distance + i.c.car_speed) &lt;= 10&quot;
              ],
              &quot;region&quot;: {
                &quot;constraints&quot;: [
                  &quot;i.l.current_time &gt; (i.l.light_change_time - 1)&quot;,
                  &quot;i.l.light_state is Green&quot;,
                  &quot;i.c.car_drive_state is Braking&quot;,
                  &quot;(i.c.car_speed - i.c.car_accel_speed) &gt;= 0&quot;,
                  &quot;(i.c.car_distance + i.c.car_speed) &lt;= 10&quot;
                ],
                &quot;invariant&quot;:
                  &quot;intersection.{ c =   car_state.{   car_drive_state = Braking   ; car_speed = i.c.car_speed - i.c.car_accel_speed   ; car_distance = i.c.car_distance + i.c.car_speed   ; car_accel_speed = i.c.car_accel_speed   ; car_max_speed = i.c.car_max_speed   ; car_min_speed = i.c.car_min_speed   } ; l =     light_state.{     blinking = false     ; current_time = i.l.current_time + 1     ; blink_time = i.l.blink_time     ; light_change_time = i.l.light_change_time     ; light_state = Yellow     } }&quot;
              },
              &quot;groups&quot;: [],
              &quot;label&quot;: &quot;R[3.1.1.1.1]&quot;,
              &quot;weight&quot;: 1
            }
          ],
          &quot;label&quot;: &quot;(3.1.1.1)&quot;,
          &quot;weight&quot;: 2
        }
      ],
      &quot;label&quot;: &quot;(3.1.1)&quot;,
      &quot;weight&quot;: 3
    },
    {
      &quot;constraints&quot;: [
        &quot;i.l.light_state is Yellow&quot;,
        &quot;i.l.current_time &gt; (i.l.light_change_time - 1)&quot;
      ],
      &quot;region&quot;: null,
      &quot;groups&quot;: [
        {
          &quot;constraints&quot;: [
            &quot;i.l.light_state is Yellow&quot;,
            &quot;i.l.current_time &gt; (i.l.light_change_time - 1)&quot;,
            &quot;i.c.car_drive_state is Steady&quot;
          ],
          &quot;region&quot;: {
            &quot;constraints&quot;: [
              &quot;i.l.current_time &gt; (i.l.light_change_time - 1)&quot;,
              &quot;i.l.light_state is Yellow&quot;, &quot;i.c.car_drive_state is Steady&quot;
            ],
            &quot;invariant&quot;:
              &quot;intersection.{ c =   car_state.{   car_drive_state = Braking   ; car_speed = i.c.car_speed   ; car_distance = i.c.car_distance + i.c.car_speed   ; car_accel_speed = i.c.car_accel_speed   ; car_max_speed = i.c.car_max_speed   ; car_min_speed = i.c.car_min_speed   } ; l =     light_state.{     blinking = false     ; current_time = i.l.current_time + 1     ; blink_time = i.l.blink_time     ; light_change_time = i.l.light_change_time     ; light_state = Red     } }&quot;
          },
          &quot;groups&quot;: [],
          &quot;label&quot;: &quot;R[2.1.3]&quot;,
          &quot;weight&quot;: 1
        },
        {
          &quot;constraints&quot;: [
            &quot;i.l.light_state is Yellow&quot;,
            &quot;i.l.current_time &gt; (i.l.light_change_time - 1)&quot;,
            &quot;i.c.car_drive_state is Accelerating&quot;,
            &quot;i.c.car_max_speed &gt;= (i.c.car_speed + i.c.car_accel_speed)&quot;
          ],
          &quot;region&quot;: {
            &quot;constraints&quot;: [
              &quot;i.l.current_time &gt; (i.l.light_change_time - 1)&quot;,
              &quot;i.l.light_state is Yellow&quot;,
              &quot;i.c.car_drive_state is Accelerating&quot;,
              &quot;i.c.car_max_speed &gt;= (i.c.car_speed + i.c.car_accel_speed)&quot;
            ],
            &quot;invariant&quot;:
              &quot;intersection.{ c =   car_state.{   car_drive_state = Braking   ; car_speed = i.c.car_speed + i.c.car_accel_speed   ; car_distance = i.c.car_distance + i.c.car_speed   ; car_accel_speed = i.c.car_accel_speed   ; car_max_speed = i.c.car_max_speed   ; car_min_speed = i.c.car_min_speed   } ; l =     light_state.{     blinking = false     ; current_time = i.l.current_time + 1     ; blink_time = i.l.blink_time     ; light_change_time = i.l.light_change_time     ; light_state = Red     } }&quot;
          },
          &quot;groups&quot;: [],
          &quot;label&quot;: &quot;R[2.1.2.1]&quot;,
          &quot;weight&quot;: 1
        },
        {
          &quot;constraints&quot;: [
            &quot;i.l.light_state is Yellow&quot;,
            &quot;i.l.current_time &gt; (i.l.light_change_time - 1)&quot;,
            &quot;(i.c.car_speed - i.c.car_accel_speed) &gt;= 0&quot;,
            &quot;i.c.car_drive_state is Braking&quot;
          ],
          &quot;region&quot;: {
            &quot;constraints&quot;: [
              &quot;i.l.current_time &gt; (i.l.light_change_time - 1)&quot;,
              &quot;i.l.light_state is Yellow&quot;, &quot;i.c.car_drive_state is Braking&quot;,
              &quot;(i.c.car_speed - i.c.car_accel_speed) &gt;= 0&quot;
            ],
            &quot;invariant&quot;:
              &quot;intersection.{ c =   car_state.{   car_drive_state = Braking   ; car_speed = i.c.car_speed - i.c.car_accel_speed   ; car_distance = i.c.car_distance + i.c.car_speed   ; car_accel_speed = i.c.car_accel_speed   ; car_max_speed = i.c.car_max_speed   ; car_min_speed = i.c.car_min_speed   } ; l =     light_state.{     blinking = false     ; current_time = i.l.current_time + 1     ; blink_time = i.l.blink_time     ; light_change_time = i.l.light_change_time     ; light_state = Red     } }&quot;
          },
          &quot;groups&quot;: [],
          &quot;label&quot;: &quot;R[2.1.1.1]&quot;,
          &quot;weight&quot;: 1
        }
      ],
      &quot;label&quot;: &quot;(2.1)&quot;,
      &quot;weight&quot;: 3
    },
    {
      &quot;constraints&quot;: [ &quot;(i.l.light_change_time - 1) &gt;= i.l.current_time&quot; ],
      &quot;region&quot;: null,
      &quot;groups&quot;: [
        {
          &quot;constraints&quot;: [
            &quot;(i.l.light_change_time - 1) &gt;= i.l.current_time&quot;,
            &quot;i.l.current_time &gt; (i.l.blink_time - 1)&quot;
          ],
          &quot;region&quot;: null,
          &quot;groups&quot;: [
            {
              &quot;constraints&quot;: [
                &quot;(i.l.light_change_time - 1) &gt;= i.l.current_time&quot;,
                &quot;i.l.current_time &gt; (i.l.blink_time - 1)&quot;,
                &quot;i.l.light_state is Red&quot;
              ],
              &quot;region&quot;: null,
              &quot;groups&quot;: [
                {
                  &quot;constraints&quot;: [
                    &quot;(i.l.light_change_time - 1) &gt;= i.l.current_time&quot;,
                    &quot;i.l.current_time &gt; (i.l.blink_time - 1)&quot;,
                    &quot;i.l.light_state is Red&quot;, &quot;i.c.car_drive_state is Steady&quot;
                  ],
                  &quot;region&quot;: {
                    &quot;constraints&quot;: [
                      &quot;(i.l.light_change_time - 1) &gt;= i.l.current_time&quot;,
                      &quot;i.l.light_state is Red&quot;,
                      &quot;i.l.current_time &gt; (i.l.blink_time - 1)&quot;,
                      &quot;i.c.car_drive_state is Steady&quot;
                    ],
                    &quot;invariant&quot;:
                      &quot;intersection.{ c =   car_state.{   car_drive_state = Braking   ; car_speed = i.c.car_speed   ; car_distance = i.c.car_distance + i.c.car_speed   ; car_accel_speed = i.c.car_accel_speed   ; car_max_speed = i.c.car_max_speed   ; car_min_speed = i.c.car_min_speed   } ; l =     light_state.{     blinking = i.l.blinking     ; current_time = i.l.current_time + 1     ; blink_time = i.l.blink_time     ; light_change_time = i.l.light_change_time     ; light_state = i.l.light_state     } }&quot;
                  },
                  &quot;groups&quot;: [],
                  &quot;label&quot;: &quot;R[1.3.2.3]&quot;,
                  &quot;weight&quot;: 1
                },
                {
                  &quot;constraints&quot;: [
                    &quot;(i.l.light_change_time - 1) &gt;= i.l.current_time&quot;,
                    &quot;i.l.current_time &gt; (i.l.blink_time - 1)&quot;,
                    &quot;i.l.light_state is Red&quot;,
                    &quot;i.c.car_drive_state is Accelerating&quot;,
                    &quot;i.c.car_max_speed &gt;= (i.c.car_speed + i.c.car_accel_speed)&quot;
                  ],
                  &quot;region&quot;: {
                    &quot;constraints&quot;: [
                      &quot;(i.l.light_change_time - 1) &gt;= i.l.current_time&quot;,
                      &quot;i.l.light_state is Red&quot;,
                      &quot;i.l.current_time &gt; (i.l.blink_time - 1)&quot;,
                      &quot;i.c.car_drive_state is Accelerating&quot;,
                      &quot;i.c.car_max_speed &gt;= (i.c.car_speed + i.c.car_accel_speed)&quot;
                    ],
                    &quot;invariant&quot;:
                      &quot;intersection.{ c =   car_state.{   car_drive_state = Braking   ; car_speed = i.c.car_speed + i.c.car_accel_speed   ; car_distance = i.c.car_distance + i.c.car_speed   ; car_accel_speed = i.c.car_accel_speed   ; car_max_speed = i.c.car_max_speed   ; car_min_speed = i.c.car_min_speed   } ; l =     light_state.{     blinking = i.l.blinking     ; current_time = i.l.current_time + 1     ; blink_time = i.l.blink_time     ; light_change_time = i.l.light_change_time     ; light_state = i.l.light_state     } }&quot;
                  },
                  &quot;groups&quot;: [],
                  &quot;label&quot;: &quot;R[1.3.2.2.1]&quot;,
                  &quot;weight&quot;: 1
                },
                {
                  &quot;constraints&quot;: [
                    &quot;(i.l.light_change_time - 1) &gt;= i.l.current_time&quot;,
                    &quot;i.l.current_time &gt; (i.l.blink_time - 1)&quot;,
                    &quot;i.l.light_state is Red&quot;,
                    &quot;(i.c.car_speed - i.c.car_accel_speed) &gt;= 0&quot;,
                    &quot;i.c.car_drive_state is Braking&quot;
                  ],
                  &quot;region&quot;: {
                    &quot;constraints&quot;: [
                      &quot;(i.l.light_change_time - 1) &gt;= i.l.current_time&quot;,
                      &quot;i.l.light_state is Red&quot;,
                      &quot;i.l.current_time &gt; (i.l.blink_time - 1)&quot;,
                      &quot;i.c.car_drive_state is Braking&quot;,
                      &quot;(i.c.car_speed - i.c.car_accel_speed) &gt;= 0&quot;
                    ],
                    &quot;invariant&quot;:
                      &quot;intersection.{ c =   car_state.{   car_drive_state = Braking   ; car_speed = i.c.car_speed - i.c.car_accel_speed   ; car_distance = i.c.car_distance + i.c.car_speed   ; car_accel_speed = i.c.car_accel_speed   ; car_max_speed = i.c.car_max_speed   ; car_min_speed = i.c.car_min_speed   } ; l =     light_state.{     blinking = i.l.blinking     ; current_time = i.l.current_time + 1     ; blink_time = i.l.blink_time     ; light_change_time = i.l.light_change_time     ; light_state = i.l.light_state     } }&quot;
                  },
                  &quot;groups&quot;: [],
                  &quot;label&quot;: &quot;R[1.3.2.1.1]&quot;,
                  &quot;weight&quot;: 1
                }
              ],
              &quot;label&quot;: &quot;(1.3.2)&quot;,
              &quot;weight&quot;: 3
            },
            {
              &quot;constraints&quot;: [
                &quot;(i.l.light_change_time - 1) &gt;= i.l.current_time&quot;,
                &quot;i.l.current_time &gt; (i.l.blink_time - 1)&quot;,
                &quot;i.l.light_state is Green&quot;
              ],
              &quot;region&quot;: null,
              &quot;groups&quot;: [
                {
                  &quot;constraints&quot;: [
                    &quot;(i.l.light_change_time - 1) &gt;= i.l.current_time&quot;,
                    &quot;i.l.current_time &gt; (i.l.blink_time - 1)&quot;,
                    &quot;i.l.light_state is Green&quot;,
                    &quot;i.c.car_drive_state is Steady&quot;
                  ],
                  &quot;region&quot;: {
                    &quot;constraints&quot;: [
                      &quot;(i.l.light_change_time - 1) &gt;= i.l.current_time&quot;,
                      &quot;i.l.light_state is Green&quot;,
                      &quot;i.c.car_drive_state is Steady&quot;,
                      &quot;i.l.current_time &gt; (i.l.blink_time - 1)&quot;
                    ],
                    &quot;invariant&quot;:
                      &quot;intersection.{ c =   car_state.{   car_drive_state = Steady   ; car_speed = i.c.car_speed   ; car_distance = i.c.car_distance + i.c.car_speed   ; car_accel_speed = i.c.car_accel_speed   ; car_max_speed = i.c.car_max_speed   ; car_min_speed = i.c.car_min_speed   } ; l =     light_state.{     blinking = true     ; current_time = i.l.current_time + 1     ; blink_time = i.l.blink_time     ; light_change_time = i.l.light_change_time     ; light_state = i.l.light_state     } }&quot;
                  },
                  &quot;groups&quot;: [],
                  &quot;label&quot;: &quot;R[1.3.1.3]&quot;,
                  &quot;weight&quot;: 1
                },
                {
                  &quot;constraints&quot;: [
                    &quot;(i.l.light_change_time - 1) &gt;= i.l.current_time&quot;,
                    &quot;i.l.current_time &gt; (i.l.blink_time - 1)&quot;,
                    &quot;i.l.light_state is Green&quot;,
                    &quot;i.c.car_drive_state is Accelerating&quot;,
                    &quot;i.c.car_max_speed &gt;= (i.c.car_speed + i.c.car_accel_speed)&quot;
                  ],
                  &quot;region&quot;: {
                    &quot;constraints&quot;: [
                      &quot;(i.l.light_change_time - 1) &gt;= i.l.current_time&quot;,
                      &quot;i.l.light_state is Green&quot;,
                      &quot;i.c.car_drive_state is Accelerating&quot;,
                      &quot;i.c.car_max_speed &gt;= (i.c.car_speed + i.c.car_accel_speed)&quot;,
                      &quot;i.l.current_time &gt; (i.l.blink_time - 1)&quot;
                    ],
                    &quot;invariant&quot;:
                      &quot;intersection.{ c =   car_state.{   car_drive_state = Steady   ; car_speed = i.c.car_speed + i.c.car_accel_speed   ; car_distance = i.c.car_distance + i.c.car_speed   ; car_accel_speed = i.c.car_accel_speed   ; car_max_speed = i.c.car_max_speed   ; car_min_speed = i.c.car_min_speed   } ; l =     light_state.{     blinking = true     ; current_time = i.l.current_time + 1     ; blink_time = i.l.blink_time     ; light_change_time = i.l.light_change_time     ; light_state = i.l.light_state     } }&quot;
                  },
                  &quot;groups&quot;: [],
                  &quot;label&quot;: &quot;R[1.3.1.2.1]&quot;,
                  &quot;weight&quot;: 1
                },
                {
                  &quot;constraints&quot;: [
                    &quot;(i.l.light_change_time - 1) &gt;= i.l.current_time&quot;,
                    &quot;i.l.current_time &gt; (i.l.blink_time - 1)&quot;,
                    &quot;i.l.light_state is Green&quot;,
                    &quot;(i.c.car_speed - i.c.car_accel_speed) &gt;= 0&quot;,
                    &quot;i.c.car_drive_state is Braking&quot;
                  ],
                  &quot;region&quot;: {
                    &quot;constraints&quot;: [
                      &quot;(i.l.light_change_time - 1) &gt;= i.l.current_time&quot;,
                      &quot;i.l.light_state is Green&quot;,
                      &quot;i.c.car_drive_state is Braking&quot;,
                      &quot;(i.c.car_speed - i.c.car_accel_speed) &gt;= 0&quot;,
                      &quot;i.l.current_time &gt; (i.l.blink_time - 1)&quot;
                    ],
                    &quot;invariant&quot;:
                      &quot;intersection.{ c =   car_state.{   car_drive_state = Steady   ; car_speed = i.c.car_speed - i.c.car_accel_speed   ; car_distance = i.c.car_distance + i.c.car_speed   ; car_accel_speed = i.c.car_accel_speed   ; car_max_speed = i.c.car_max_speed   ; car_min_speed = i.c.car_min_speed   } ; l =     light_state.{     blinking = true     ; current_time = i.l.current_time + 1     ; blink_time = i.l.blink_time     ; light_change_time = i.l.light_change_time     ; light_state = i.l.light_state     } }&quot;
                  },
                  &quot;groups&quot;: [],
                  &quot;label&quot;: &quot;R[1.3.1.1.1]&quot;,
                  &quot;weight&quot;: 1
                }
              ],
              &quot;label&quot;: &quot;(1.3.1)&quot;,
              &quot;weight&quot;: 3
            }
          ],
          &quot;label&quot;: &quot;(1.3)&quot;,
          &quot;weight&quot;: 6
        },
        {
          &quot;constraints&quot;: [
            &quot;(i.l.light_change_time - 1) &gt;= i.l.current_time&quot;,
            &quot;i.l.light_state is Yellow&quot;,
            &quot;i.l.current_time &gt; (i.l.blink_time - 1)&quot;
          ],
          &quot;region&quot;: null,
          &quot;groups&quot;: [
            {
              &quot;constraints&quot;: [
                &quot;(i.l.light_change_time - 1) &gt;= i.l.current_time&quot;,
                &quot;i.l.light_state is Yellow&quot;,
                &quot;i.l.current_time &gt; (i.l.blink_time - 1)&quot;,
                &quot;i.c.car_drive_state is Steady&quot;
              ],
              &quot;region&quot;: {
                &quot;constraints&quot;: [
                  &quot;(i.l.light_change_time - 1) &gt;= i.l.current_time&quot;,
                  &quot;i.l.light_state is Yellow&quot;,
                  &quot;i.l.current_time &gt; (i.l.blink_time - 1)&quot;,
                  &quot;i.c.car_drive_state is Steady&quot;
                ],
                &quot;invariant&quot;:
                  &quot;intersection.{ c =   car_state.{   car_drive_state = Braking   ; car_speed = i.c.car_speed   ; car_distance = i.c.car_distance + i.c.car_speed   ; car_accel_speed = i.c.car_accel_speed   ; car_max_speed = i.c.car_max_speed   ; car_min_speed = i.c.car_min_speed   } ; l =     light_state.{     blinking = true     ; current_time = i.l.current_time + 1     ; blink_time = i.l.blink_time     ; light_change_time = i.l.light_change_time     ; light_state = i.l.light_state     } }&quot;
              },
              &quot;groups&quot;: [],
              &quot;label&quot;: &quot;R[1.2.1.3]&quot;,
              &quot;weight&quot;: 1
            },
            {
              &quot;constraints&quot;: [
                &quot;(i.l.light_change_time - 1) &gt;= i.l.current_time&quot;,
                &quot;i.l.light_state is Yellow&quot;,
                &quot;i.l.current_time &gt; (i.l.blink_time - 1)&quot;,
                &quot;i.c.car_drive_state is Accelerating&quot;,
                &quot;i.c.car_max_speed &gt;= (i.c.car_speed + i.c.car_accel_speed)&quot;
              ],
              &quot;region&quot;: {
                &quot;constraints&quot;: [
                  &quot;(i.l.light_change_time - 1) &gt;= i.l.current_time&quot;,
                  &quot;i.l.light_state is Yellow&quot;,
                  &quot;i.l.current_time &gt; (i.l.blink_time - 1)&quot;,
                  &quot;i.c.car_drive_state is Accelerating&quot;,
                  &quot;i.c.car_max_speed &gt;= (i.c.car_speed + i.c.car_accel_speed)&quot;
                ],
                &quot;invariant&quot;:
                  &quot;intersection.{ c =   car_state.{   car_drive_state = Braking   ; car_speed = i.c.car_speed + i.c.car_accel_speed   ; car_distance = i.c.car_distance + i.c.car_speed   ; car_accel_speed = i.c.car_accel_speed   ; car_max_speed = i.c.car_max_speed   ; car_min_speed = i.c.car_min_speed   } ; l =     light_state.{     blinking = true     ; current_time = i.l.current_time + 1     ; blink_time = i.l.blink_time     ; light_change_time = i.l.light_change_time     ; light_state = i.l.light_state     } }&quot;
              },
              &quot;groups&quot;: [],
              &quot;label&quot;: &quot;R[1.2.1.2.1]&quot;,
              &quot;weight&quot;: 1
            },
            {
              &quot;constraints&quot;: [
                &quot;(i.l.light_change_time - 1) &gt;= i.l.current_time&quot;,
                &quot;i.l.light_state is Yellow&quot;,
                &quot;i.l.current_time &gt; (i.l.blink_time - 1)&quot;,
                &quot;(i.c.car_speed - i.c.car_accel_speed) &gt;= 0&quot;,
                &quot;i.c.car_drive_state is Braking&quot;
              ],
              &quot;region&quot;: {
                &quot;constraints&quot;: [
                  &quot;(i.l.light_change_time - 1) &gt;= i.l.current_time&quot;,
                  &quot;i.l.light_state is Yellow&quot;,
                  &quot;i.l.current_time &gt; (i.l.blink_time - 1)&quot;,
                  &quot;i.c.car_drive_state is Braking&quot;,
                  &quot;(i.c.car_speed - i.c.car_accel_speed) &gt;= 0&quot;
                ],
                &quot;invariant&quot;:
                  &quot;intersection.{ c =   car_state.{   car_drive_state = Braking   ; car_speed = i.c.car_speed - i.c.car_accel_speed   ; car_distance = i.c.car_distance + i.c.car_speed   ; car_accel_speed = i.c.car_accel_speed   ; car_max_speed = i.c.car_max_speed   ; car_min_speed = i.c.car_min_speed   } ; l =     light_state.{     blinking = true     ; current_time = i.l.current_time + 1     ; blink_time = i.l.blink_time     ; light_change_time = i.l.light_change_time     ; light_state = i.l.light_state     } }&quot;
              },
              &quot;groups&quot;: [],
              &quot;label&quot;: &quot;R[1.2.1.1.1]&quot;,
              &quot;weight&quot;: 1
            }
          ],
          &quot;label&quot;: &quot;(1.2.1)&quot;,
          &quot;weight&quot;: 3
        },
        {
          &quot;constraints&quot;: [
            &quot;(i.l.light_change_time - 1) &gt;= i.l.current_time&quot;,
            &quot;(i.l.blink_time - 1) &gt;= i.l.current_time&quot;
          ],
          &quot;region&quot;: null,
          &quot;groups&quot;: [
            {
              &quot;constraints&quot;: [
                &quot;(i.l.light_change_time - 1) &gt;= i.l.current_time&quot;,
                &quot;(i.l.blink_time - 1) &gt;= i.l.current_time&quot;,
                &quot;i.c.car_drive_state is Steady&quot;
              ],
              &quot;region&quot;: null,
              &quot;groups&quot;: [
                {
                  &quot;constraints&quot;: [
                    &quot;(i.l.light_change_time - 1) &gt;= i.l.current_time&quot;,
                    &quot;(i.l.blink_time - 1) &gt;= i.l.current_time&quot;,
                    &quot;i.c.car_drive_state is Steady&quot;, &quot;i.l.light_state is Red&quot;
                  ],
                  &quot;region&quot;: {
                    &quot;constraints&quot;: [
                      &quot;(i.l.light_change_time - 1) &gt;= i.l.current_time&quot;,
                      &quot;i.l.light_state is Red&quot;,
                      &quot;(i.l.blink_time - 1) &gt;= i.l.current_time&quot;,
                      &quot;i.c.car_drive_state is Steady&quot;
                    ],
                    &quot;invariant&quot;:
                      &quot;intersection.{ c =   car_state.{   car_drive_state = Braking   ; car_speed = i.c.car_speed   ; car_distance = i.c.car_distance + i.c.car_speed   ; car_accel_speed = i.c.car_accel_speed   ; car_max_speed = i.c.car_max_speed   ; car_min_speed = i.c.car_min_speed   } ; l =     light_state.{     blinking = i.l.blinking     ; current_time = i.l.current_time + 1     ; blink_time = i.l.blink_time     ; light_change_time = i.l.light_change_time     ; light_state = i.l.light_state     } }&quot;
                  },
                  &quot;groups&quot;: [],
                  &quot;label&quot;: &quot;R[1.1.4.2]&quot;,
                  &quot;weight&quot;: 1
                },
                {
                  &quot;constraints&quot;: [
                    &quot;(i.l.light_change_time - 1) &gt;= i.l.current_time&quot;,
                    &quot;(i.l.blink_time - 1) &gt;= i.l.current_time&quot;,
                    &quot;i.c.car_drive_state is Steady&quot;,
                    &quot;i.l.light_state is Green&quot;
                  ],
                  &quot;region&quot;: {
                    &quot;constraints&quot;: [
                      &quot;(i.l.light_change_time - 1) &gt;= i.l.current_time&quot;,
                      &quot;i.l.light_state is Green&quot;,
                      &quot;i.c.car_drive_state is Steady&quot;,
                      &quot;(i.l.blink_time - 1) &gt;= i.l.current_time&quot;
                    ],
                    &quot;invariant&quot;:
                      &quot;intersection.{ c =   car_state.{   car_drive_state = Steady   ; car_speed = i.c.car_speed   ; car_distance = i.c.car_distance + i.c.car_speed   ; car_accel_speed = i.c.car_accel_speed   ; car_max_speed = i.c.car_max_speed   ; car_min_speed = i.c.car_min_speed   } ; l =     light_state.{     blinking = i.l.blinking     ; current_time = i.l.current_time + 1     ; blink_time = i.l.blink_time     ; light_change_time = i.l.light_change_time     ; light_state = i.l.light_state     } }&quot;
                  },
                  &quot;groups&quot;: [],
                  &quot;label&quot;: &quot;R[1.1.4.1]&quot;,
                  &quot;weight&quot;: 1
                }
              ],
              &quot;label&quot;: &quot;(1.1.4)&quot;,
              &quot;weight&quot;: 2
            },
            {
              &quot;constraints&quot;: [
                &quot;(i.l.light_change_time - 1) &gt;= i.l.current_time&quot;,
                &quot;(i.l.blink_time - 1) &gt;= i.l.current_time&quot;,
                &quot;i.c.car_drive_state is Accelerating&quot;,
                &quot;i.c.car_max_speed &gt;= (i.c.car_speed + i.c.car_accel_speed)&quot;
              ],
              &quot;region&quot;: null,
              &quot;groups&quot;: [
                {
                  &quot;constraints&quot;: [
                    &quot;(i.l.light_change_time - 1) &gt;= i.l.current_time&quot;,
                    &quot;(i.l.blink_time - 1) &gt;= i.l.current_time&quot;,
                    &quot;i.c.car_drive_state is Accelerating&quot;,
                    &quot;i.c.car_max_speed &gt;= (i.c.car_speed + i.c.car_accel_speed)&quot;,
                    &quot;i.l.light_state is Red&quot;
                  ],
                  &quot;region&quot;: {
                    &quot;constraints&quot;: [
                      &quot;(i.l.light_change_time - 1) &gt;= i.l.current_time&quot;,
                      &quot;i.l.light_state is Red&quot;,
                      &quot;(i.l.blink_time - 1) &gt;= i.l.current_time&quot;,
                      &quot;i.c.car_drive_state is Accelerating&quot;,
                      &quot;i.c.car_max_speed &gt;= (i.c.car_speed + i.c.car_accel_speed)&quot;
                    ],
                    &quot;invariant&quot;:
                      &quot;intersection.{ c =   car_state.{   car_drive_state = Braking   ; car_speed = i.c.car_speed + i.c.car_accel_speed   ; car_distance = i.c.car_distance + i.c.car_speed   ; car_accel_speed = i.c.car_accel_speed   ; car_max_speed = i.c.car_max_speed   ; car_min_speed = i.c.car_min_speed   } ; l =     light_state.{     blinking = i.l.blinking     ; current_time = i.l.current_time + 1     ; blink_time = i.l.blink_time     ; light_change_time = i.l.light_change_time     ; light_state = i.l.light_state     } }&quot;
                  },
                  &quot;groups&quot;: [],
                  &quot;label&quot;: &quot;R[1.1.3.1.2]&quot;,
                  &quot;weight&quot;: 1
                },
                {
                  &quot;constraints&quot;: [
                    &quot;(i.l.light_change_time - 1) &gt;= i.l.current_time&quot;,
                    &quot;(i.l.blink_time - 1) &gt;= i.l.current_time&quot;,
                    &quot;i.c.car_drive_state is Accelerating&quot;,
                    &quot;i.c.car_max_speed &gt;= (i.c.car_speed + i.c.car_accel_speed)&quot;,
                    &quot;i.l.light_state is Green&quot;
                  ],
                  &quot;region&quot;: {
                    &quot;constraints&quot;: [
                      &quot;(i.l.light_change_time - 1) &gt;= i.l.current_time&quot;,
                      &quot;i.l.light_state is Green&quot;,
                      &quot;i.c.car_drive_state is Accelerating&quot;,
                      &quot;i.c.car_max_speed &gt;= (i.c.car_speed + i.c.car_accel_speed)&quot;,
                      &quot;(i.l.blink_time - 1) &gt;= i.l.current_time&quot;
                    ],
                    &quot;invariant&quot;:
                      &quot;intersection.{ c =   car_state.{   car_drive_state = Steady   ; car_speed = i.c.car_speed + i.c.car_accel_speed   ; car_distance = i.c.car_distance + i.c.car_speed   ; car_accel_speed = i.c.car_accel_speed   ; car_max_speed = i.c.car_max_speed   ; car_min_speed = i.c.car_min_speed   } ; l =     light_state.{     blinking = i.l.blinking     ; current_time = i.l.current_time + 1     ; blink_time = i.l.blink_time     ; light_change_time = i.l.light_change_time     ; light_state = i.l.light_state     } }&quot;
                  },
                  &quot;groups&quot;: [],
                  &quot;label&quot;: &quot;R[1.1.3.1.1]&quot;,
                  &quot;weight&quot;: 1
                }
              ],
              &quot;label&quot;: &quot;(1.1.3.1)&quot;,
              &quot;weight&quot;: 2
            },
            {
              &quot;constraints&quot;: [
                &quot;(i.l.light_change_time - 1) &gt;= i.l.current_time&quot;,
                &quot;(i.l.blink_time - 1) &gt;= i.l.current_time&quot;,
                &quot;(i.c.car_speed - i.c.car_accel_speed) &gt;= 0&quot;,
                &quot;i.c.car_drive_state is Braking&quot;
              ],
              &quot;region&quot;: null,
              &quot;groups&quot;: [
                {
                  &quot;constraints&quot;: [
                    &quot;(i.l.light_change_time - 1) &gt;= i.l.current_time&quot;,
                    &quot;(i.l.blink_time - 1) &gt;= i.l.current_time&quot;,
                    &quot;(i.c.car_speed - i.c.car_accel_speed) &gt;= 0&quot;,
                    &quot;i.c.car_drive_state is Braking&quot;,
                    &quot;i.l.light_state is Red&quot;
                  ],
                  &quot;region&quot;: {
                    &quot;constraints&quot;: [
                      &quot;(i.l.light_change_time - 1) &gt;= i.l.current_time&quot;,
                      &quot;i.l.light_state is Red&quot;,
                      &quot;(i.l.blink_time - 1) &gt;= i.l.current_time&quot;,
                      &quot;i.c.car_drive_state is Braking&quot;,
                      &quot;(i.c.car_speed - i.c.car_accel_speed) &gt;= 0&quot;
                    ],
                    &quot;invariant&quot;:
                      &quot;intersection.{ c =   car_state.{   car_drive_state = Braking   ; car_speed = i.c.car_speed - i.c.car_accel_speed   ; car_distance = i.c.car_distance + i.c.car_speed   ; car_accel_speed = i.c.car_accel_speed   ; car_max_speed = i.c.car_max_speed   ; car_min_speed = i.c.car_min_speed   } ; l =     light_state.{     blinking = i.l.blinking     ; current_time = i.l.current_time + 1     ; blink_time = i.l.blink_time     ; light_change_time = i.l.light_change_time     ; light_state = i.l.light_state     } }&quot;
                  },
                  &quot;groups&quot;: [],
                  &quot;label&quot;: &quot;R[1.1.2.1.2]&quot;,
                  &quot;weight&quot;: 1
                },
                {
                  &quot;constraints&quot;: [
                    &quot;(i.l.light_change_time - 1) &gt;= i.l.current_time&quot;,
                    &quot;(i.l.blink_time - 1) &gt;= i.l.current_time&quot;,
                    &quot;(i.c.car_speed - i.c.car_accel_speed) &gt;= 0&quot;,
                    &quot;i.c.car_drive_state is Braking&quot;,
                    &quot;i.l.light_state is Green&quot;
                  ],
                  &quot;region&quot;: {
                    &quot;constraints&quot;: [
                      &quot;(i.l.light_change_time - 1) &gt;= i.l.current_time&quot;,
                      &quot;i.l.light_state is Green&quot;,
                      &quot;i.c.car_drive_state is Braking&quot;,
                      &quot;(i.c.car_speed - i.c.car_accel_speed) &gt;= 0&quot;,
                      &quot;(i.l.blink_time - 1) &gt;= i.l.current_time&quot;
                    ],
                    &quot;invariant&quot;:
                      &quot;intersection.{ c =   car_state.{   car_drive_state = Steady   ; car_speed = i.c.car_speed - i.c.car_accel_speed   ; car_distance = i.c.car_distance + i.c.car_speed   ; car_accel_speed = i.c.car_accel_speed   ; car_max_speed = i.c.car_max_speed   ; car_min_speed = i.c.car_min_speed   } ; l =     light_state.{     blinking = i.l.blinking     ; current_time = i.l.current_time + 1     ; blink_time = i.l.blink_time     ; light_change_time = i.l.light_change_time     ; light_state = i.l.light_state     } }&quot;
                  },
                  &quot;groups&quot;: [],
                  &quot;label&quot;: &quot;R[1.1.2.1.1]&quot;,
                  &quot;weight&quot;: 1
                }
              ],
              &quot;label&quot;: &quot;(1.1.2.1)&quot;,
              &quot;weight&quot;: 2
            },
            {
              &quot;constraints&quot;: [
                &quot;(i.l.light_change_time - 1) &gt;= i.l.current_time&quot;,
                &quot;(i.l.blink_time - 1) &gt;= i.l.current_time&quot;,
                &quot;i.l.light_state is Yellow&quot;
              ],
              &quot;region&quot;: null,
              &quot;groups&quot;: [
                {
                  &quot;constraints&quot;: [
                    &quot;(i.l.light_change_time - 1) &gt;= i.l.current_time&quot;,
                    &quot;(i.l.blink_time - 1) &gt;= i.l.current_time&quot;,
                    &quot;i.l.light_state is Yellow&quot;,
                    &quot;i.c.car_drive_state is Steady&quot;, &quot;i.l.blinking&quot;
                  ],
                  &quot;region&quot;: {
                    &quot;constraints&quot;: [
                      &quot;(i.l.light_change_time - 1) &gt;= i.l.current_time&quot;,
                      &quot;i.l.light_state is Yellow&quot;,
                      &quot;(i.l.blink_time - 1) &gt;= i.l.current_time&quot;,
                      &quot;i.l.blinking&quot;, &quot;i.c.car_drive_state is Steady&quot;
                    ],
                    &quot;invariant&quot;:
                      &quot;intersection.{ c =   car_state.{   car_drive_state = Braking   ; car_speed = i.c.car_speed   ; car_distance = i.c.car_distance + i.c.car_speed   ; car_accel_speed = i.c.car_accel_speed   ; car_max_speed = i.c.car_max_speed   ; car_min_speed = i.c.car_min_speed   } ; l =     light_state.{     blinking = i.l.blinking     ; current_time = i.l.current_time + 1     ; blink_time = i.l.blink_time     ; light_change_time = i.l.light_change_time     ; light_state = i.l.light_state     } }&quot;
                  },
                  &quot;groups&quot;: [],
                  &quot;label&quot;: &quot;R[1.1.1.4.1]&quot;,
                  &quot;weight&quot;: 1
                },
                {
                  &quot;constraints&quot;: [
                    &quot;(i.l.light_change_time - 1) &gt;= i.l.current_time&quot;,
                    &quot;(i.l.blink_time - 1) &gt;= i.l.current_time&quot;,
                    &quot;i.l.light_state is Yellow&quot;,
                    &quot;i.c.car_drive_state is Accelerating&quot;,
                    &quot;i.c.car_max_speed &gt;= (i.c.car_speed + i.c.car_accel_speed)&quot;,
                    &quot;i.l.blinking&quot;
                  ],
                  &quot;region&quot;: {
                    &quot;constraints&quot;: [
                      &quot;(i.l.light_change_time - 1) &gt;= i.l.current_time&quot;,
                      &quot;i.l.light_state is Yellow&quot;,
                      &quot;(i.l.blink_time - 1) &gt;= i.l.current_time&quot;,
                      &quot;i.l.blinking&quot;, &quot;i.c.car_drive_state is Accelerating&quot;,
                      &quot;i.c.car_max_speed &gt;= (i.c.car_speed + i.c.car_accel_speed)&quot;
                    ],
                    &quot;invariant&quot;:
                      &quot;intersection.{ c =   car_state.{   car_drive_state = Braking   ; car_speed = i.c.car_speed + i.c.car_accel_speed   ; car_distance = i.c.car_distance + i.c.car_speed   ; car_accel_speed = i.c.car_accel_speed   ; car_max_speed = i.c.car_max_speed   ; car_min_speed = i.c.car_min_speed   } ; l =     light_state.{     blinking = i.l.blinking     ; current_time = i.l.current_time + 1     ; blink_time = i.l.blink_time     ; light_change_time = i.l.light_change_time     ; light_state = i.l.light_state     } }&quot;
                  },
                  &quot;groups&quot;: [],
                  &quot;label&quot;: &quot;R[1.1.1.3.1.1]&quot;,
                  &quot;weight&quot;: 1
                },
                {
                  &quot;constraints&quot;: [
                    &quot;(i.l.light_change_time - 1) &gt;= i.l.current_time&quot;,
                    &quot;(i.l.blink_time - 1) &gt;= i.l.current_time&quot;,
                    &quot;i.l.light_state is Yellow&quot;,
                    &quot;(i.c.car_speed - i.c.car_accel_speed) &gt;= 0&quot;,
                    &quot;i.c.car_drive_state is Braking&quot;, &quot;i.l.blinking&quot;
                  ],
                  &quot;region&quot;: {
                    &quot;constraints&quot;: [
                      &quot;(i.l.light_change_time - 1) &gt;= i.l.current_time&quot;,
                      &quot;i.l.light_state is Yellow&quot;,
                      &quot;(i.l.blink_time - 1) &gt;= i.l.current_time&quot;,
                      &quot;i.l.blinking&quot;, &quot;i.c.car_drive_state is Braking&quot;,
                      &quot;(i.c.car_speed - i.c.car_accel_speed) &gt;= 0&quot;
                    ],
                    &quot;invariant&quot;:
                      &quot;intersection.{ c =   car_state.{   car_drive_state = Braking   ; car_speed = i.c.car_speed - i.c.car_accel_speed   ; car_distance = i.c.car_distance + i.c.car_speed   ; car_accel_speed = i.c.car_accel_speed   ; car_max_speed = i.c.car_max_speed   ; car_min_speed = i.c.car_min_speed   } ; l =     light_state.{     blinking = i.l.blinking     ; current_time = i.l.current_time + 1     ; blink_time = i.l.blink_time     ; light_change_time = i.l.light_change_time     ; light_state = i.l.light_state     } }&quot;
                  },
                  &quot;groups&quot;: [],
                  &quot;label&quot;: &quot;R[1.1.1.2.1.1]&quot;,
                  &quot;weight&quot;: 1
                },
                {
                  &quot;constraints&quot;: [
                    &quot;(i.l.light_change_time - 1) &gt;= i.l.current_time&quot;,
                    &quot;(i.l.blink_time - 1) &gt;= i.l.current_time&quot;,
                    &quot;i.l.light_state is Yellow&quot;, &quot;not i.l.blinking&quot;
                  ],
                  &quot;region&quot;: null,
                  &quot;groups&quot;: [
                    {
                      &quot;constraints&quot;: [
                        &quot;(i.l.light_change_time - 1) &gt;= i.l.current_time&quot;,
                        &quot;(i.l.blink_time - 1) &gt;= i.l.current_time&quot;,
                        &quot;i.l.light_state is Yellow&quot;, &quot;not i.l.blinking&quot;,
                        &quot;(i.c.car_distance + i.c.car_speed) &gt; 10&quot;
                      ],
                      &quot;region&quot;: null,
                      &quot;groups&quot;: [
                        {
                          &quot;constraints&quot;: [
                            &quot;(i.l.light_change_time - 1) &gt;= i.l.current_time&quot;,
                            &quot;(i.l.blink_time - 1) &gt;= i.l.current_time&quot;,
                            &quot;i.l.light_state is Yellow&quot;, &quot;not i.l.blinking&quot;,
                            &quot;(i.c.car_distance + i.c.car_speed) &gt; 10&quot;,
                            &quot;i.c.car_drive_state is Steady&quot;
                          ],
                          &quot;region&quot;: {
                            &quot;constraints&quot;: [
                              &quot;(i.l.light_change_time - 1) &gt;= i.l.current_time&quot;,
                              &quot;i.l.light_state is Yellow&quot;,
                              &quot;(i.l.blink_time - 1) &gt;= i.l.current_time&quot;,
                              &quot;not i.l.blinking&quot;,
                              &quot;i.c.car_drive_state is Steady&quot;,
                              &quot;(i.c.car_distance + i.c.car_speed) &gt; 10&quot;
                            ],
                            &quot;invariant&quot;:
                              &quot;intersection.{ c =   car_state.{   car_drive_state = Accelerating   ; car_speed = i.c.car_speed   ; car_distance = i.c.car_distance + i.c.car_speed   ; car_accel_speed = i.c.car_accel_speed   ; car_max_speed = i.c.car_max_speed   ; car_min_speed = i.c.car_min_speed   } ; l =     light_state.{     blinking = i.l.blinking     ; current_time = i.l.current_time + 1     ; blink_time = i.l.blink_time     ; light_change_time = i.l.light_change_time     ; light_state = i.l.light_state     } }&quot;
                          },
                          &quot;groups&quot;: [],
                          &quot;label&quot;: &quot;R[1.1.1.1.2.3]&quot;,
                          &quot;weight&quot;: 1
                        },
                        {
                          &quot;constraints&quot;: [
                            &quot;(i.l.light_change_time - 1) &gt;= i.l.current_time&quot;,
                            &quot;(i.l.blink_time - 1) &gt;= i.l.current_time&quot;,
                            &quot;i.l.light_state is Yellow&quot;, &quot;not i.l.blinking&quot;,
                            &quot;(i.c.car_distance + i.c.car_speed) &gt; 10&quot;,
                            &quot;i.c.car_drive_state is Accelerating&quot;,
                            &quot;i.c.car_max_speed &gt;= (i.c.car_speed + i.c.car_accel_speed)&quot;
                          ],
                          &quot;region&quot;: {
                            &quot;constraints&quot;: [
                              &quot;(i.l.light_change_time - 1) &gt;= i.l.current_time&quot;,
                              &quot;i.l.light_state is Yellow&quot;,
                              &quot;(i.l.blink_time - 1) &gt;= i.l.current_time&quot;,
                              &quot;not i.l.blinking&quot;,
                              &quot;i.c.car_drive_state is Accelerating&quot;,
                              &quot;i.c.car_max_speed &gt;= (i.c.car_speed + i.c.car_accel_speed)&quot;,
                              &quot;(i.c.car_distance + i.c.car_speed) &gt; 10&quot;
                            ],
                            &quot;invariant&quot;:
                              &quot;intersection.{ c =   car_state.{   car_drive_state = Accelerating   ; car_speed = i.c.car_speed + i.c.car_accel_speed   ; car_distance = i.c.car_distance + i.c.car_speed   ; car_accel_speed = i.c.car_accel_speed   ; car_max_speed = i.c.car_max_speed   ; car_min_speed = i.c.car_min_speed   } ; l =     light_state.{     blinking = i.l.blinking     ; current_time = i.l.current_time + 1     ; blink_time = i.l.blink_time     ; light_change_time = i.l.light_change_time     ; light_state = i.l.light_state     } }&quot;
                          },
                          &quot;groups&quot;: [],
                          &quot;label&quot;: &quot;R[1.1.1.1.2.2.1]&quot;,
                          &quot;weight&quot;: 1
                        },
                        {
                          &quot;constraints&quot;: [
                            &quot;(i.l.light_change_time - 1) &gt;= i.l.current_time&quot;,
                            &quot;(i.l.blink_time - 1) &gt;= i.l.current_time&quot;,
                            &quot;i.l.light_state is Yellow&quot;, &quot;not i.l.blinking&quot;,
                            &quot;(i.c.car_distance + i.c.car_speed) &gt; 10&quot;,
                            &quot;(i.c.car_speed - i.c.car_accel_speed) &gt;= 0&quot;,
                            &quot;i.c.car_drive_state is Braking&quot;
                          ],
                          &quot;region&quot;: {
                            &quot;constraints&quot;: [
                              &quot;(i.l.light_change_time - 1) &gt;= i.l.current_time&quot;,
                              &quot;i.l.light_state is Yellow&quot;,
                              &quot;(i.l.blink_time - 1) &gt;= i.l.current_time&quot;,
                              &quot;not i.l.blinking&quot;,
                              &quot;i.c.car_drive_state is Braking&quot;,
                              &quot;(i.c.car_speed - i.c.car_accel_speed) &gt;= 0&quot;,
                              &quot;(i.c.car_distance + i.c.car_speed) &gt; 10&quot;
                            ],
                            &quot;invariant&quot;:
                              &quot;intersection.{ c =   car_state.{   car_drive_state = Accelerating   ; car_speed = i.c.car_speed - i.c.car_accel_speed   ; car_distance = i.c.car_distance + i.c.car_speed   ; car_accel_speed = i.c.car_accel_speed   ; car_max_speed = i.c.car_max_speed   ; car_min_speed = i.c.car_min_speed   } ; l =     light_state.{     blinking = i.l.blinking     ; current_time = i.l.current_time + 1     ; blink_time = i.l.blink_time     ; light_change_time = i.l.light_change_time     ; light_state = i.l.light_state     } }&quot;
                          },
                          &quot;groups&quot;: [],
                          &quot;label&quot;: &quot;R[1.1.1.1.2.1.1]&quot;,
                          &quot;weight&quot;: 1
                        }
                      ],
                      &quot;label&quot;: &quot;(1.1.1.1.2)&quot;,
                      &quot;weight&quot;: 3
                    },
                    {
                      &quot;constraints&quot;: [
                        &quot;(i.l.light_change_time - 1) &gt;= i.l.current_time&quot;,
                        &quot;(i.l.blink_time - 1) &gt;= i.l.current_time&quot;,
                        &quot;i.l.light_state is Yellow&quot;, &quot;not i.l.blinking&quot;,
                        &quot;(i.c.car_distance + i.c.car_speed) &lt;= 10&quot;
                      ],
                      &quot;region&quot;: null,
                      &quot;groups&quot;: [
                        {
                          &quot;constraints&quot;: [
                            &quot;(i.l.light_change_time - 1) &gt;= i.l.current_time&quot;,
                            &quot;(i.l.blink_time - 1) &gt;= i.l.current_time&quot;,
                            &quot;i.l.light_state is Yellow&quot;, &quot;not i.l.blinking&quot;,
                            &quot;(i.c.car_distance + i.c.car_speed) &lt;= 10&quot;,
                            &quot;i.c.car_drive_state is Steady&quot;
                          ],
                          &quot;region&quot;: {
                            &quot;constraints&quot;: [
                              &quot;(i.l.light_change_time - 1) &gt;= i.l.current_time&quot;,
                              &quot;i.l.light_state is Yellow&quot;,
                              &quot;(i.l.blink_time - 1) &gt;= i.l.current_time&quot;,
                              &quot;not i.l.blinking&quot;,
                              &quot;i.c.car_drive_state is Steady&quot;,
                              &quot;(i.c.car_distance + i.c.car_speed) &lt;= 10&quot;
                            ],
                            &quot;invariant&quot;:
                              &quot;intersection.{ c =   car_state.{   car_drive_state = Braking   ; car_speed = i.c.car_speed   ; car_distance = i.c.car_distance + i.c.car_speed   ; car_accel_speed = i.c.car_accel_speed   ; car_max_speed = i.c.car_max_speed   ; car_min_speed = i.c.car_min_speed   } ; l =     light_state.{     blinking = i.l.blinking     ; current_time = i.l.current_time + 1     ; blink_time = i.l.blink_time     ; light_change_time = i.l.light_change_time     ; light_state = i.l.light_state     } }&quot;
                          },
                          &quot;groups&quot;: [],
                          &quot;label&quot;: &quot;R[1.1.1.1.1.3]&quot;,
                          &quot;weight&quot;: 1
                        },
                        {
                          &quot;constraints&quot;: [
                            &quot;(i.l.light_change_time - 1) &gt;= i.l.current_time&quot;,
                            &quot;(i.l.blink_time - 1) &gt;= i.l.current_time&quot;,
                            &quot;i.l.light_state is Yellow&quot;, &quot;not i.l.blinking&quot;,
                            &quot;(i.c.car_distance + i.c.car_speed) &lt;= 10&quot;,
                            &quot;i.c.car_drive_state is Accelerating&quot;,
                            &quot;i.c.car_max_speed &gt;= (i.c.car_speed + i.c.car_accel_speed)&quot;
                          ],
                          &quot;region&quot;: {
                            &quot;constraints&quot;: [
                              &quot;(i.l.light_change_time - 1) &gt;= i.l.current_time&quot;,
                              &quot;i.l.light_state is Yellow&quot;,
                              &quot;(i.l.blink_time - 1) &gt;= i.l.current_time&quot;,
                              &quot;not i.l.blinking&quot;,
                              &quot;i.c.car_drive_state is Accelerating&quot;,
                              &quot;i.c.car_max_speed &gt;= (i.c.car_speed + i.c.car_accel_speed)&quot;,
                              &quot;(i.c.car_distance + i.c.car_speed) &lt;= 10&quot;
                            ],
                            &quot;invariant&quot;:
                              &quot;intersection.{ c =   car_state.{   car_drive_state = Braking   ; car_speed = i.c.car_speed + i.c.car_accel_speed   ; car_distance = i.c.car_distance + i.c.car_speed   ; car_accel_speed = i.c.car_accel_speed   ; car_max_speed = i.c.car_max_speed   ; car_min_speed = i.c.car_min_speed   } ; l =     light_state.{     blinking = i.l.blinking     ; current_time = i.l.current_time + 1     ; blink_time = i.l.blink_time     ; light_change_time = i.l.light_change_time     ; light_state = i.l.light_state     } }&quot;
                          },
                          &quot;groups&quot;: [],
                          &quot;label&quot;: &quot;R[1.1.1.1.1.2.1]&quot;,
                          &quot;weight&quot;: 1
                        },
                        {
                          &quot;constraints&quot;: [
                            &quot;(i.l.light_change_time - 1) &gt;= i.l.current_time&quot;,
                            &quot;(i.l.blink_time - 1) &gt;= i.l.current_time&quot;,
                            &quot;i.l.light_state is Yellow&quot;, &quot;not i.l.blinking&quot;,
                            &quot;(i.c.car_distance + i.c.car_speed) &lt;= 10&quot;,
                            &quot;(i.c.car_speed - i.c.car_accel_speed) &gt;= 0&quot;,
                            &quot;i.c.car_drive_state is Braking&quot;
                          ],
                          &quot;region&quot;: {
                            &quot;constraints&quot;: [
                              &quot;(i.l.light_change_time - 1) &gt;= i.l.current_time&quot;,
                              &quot;i.l.light_state is Yellow&quot;,
                              &quot;(i.l.blink_time - 1) &gt;= i.l.current_time&quot;,
                              &quot;not i.l.blinking&quot;,
                              &quot;i.c.car_drive_state is Braking&quot;,
                              &quot;(i.c.car_speed - i.c.car_accel_speed) &gt;= 0&quot;,
                              &quot;(i.c.car_distance + i.c.car_speed) &lt;= 10&quot;
                            ],
                            &quot;invariant&quot;:
                              &quot;intersection.{ c =   car_state.{   car_drive_state = Braking   ; car_speed = i.c.car_speed - i.c.car_accel_speed   ; car_distance = i.c.car_distance + i.c.car_speed   ; car_accel_speed = i.c.car_accel_speed   ; car_max_speed = i.c.car_max_speed   ; car_min_speed = i.c.car_min_speed   } ; l =     light_state.{     blinking = i.l.blinking     ; current_time = i.l.current_time + 1     ; blink_time = i.l.blink_time     ; light_change_time = i.l.light_change_time     ; light_state = i.l.light_state     } }&quot;
                          },
                          &quot;groups&quot;: [],
                          &quot;label&quot;: &quot;R[1.1.1.1.1.1.1]&quot;,
                          &quot;weight&quot;: 1
                        }
                      ],
                      &quot;label&quot;: &quot;(1.1.1.1.1)&quot;,
                      &quot;weight&quot;: 3
                    }
                  ],
                  &quot;label&quot;: &quot;(1.1.1.1)&quot;,
                  &quot;weight&quot;: 6
                }
              ],
              &quot;label&quot;: &quot;(1.1.1)&quot;,
              &quot;weight&quot;: 9
            }
          ],
          &quot;label&quot;: &quot;(1.1)&quot;,
          &quot;weight&quot;: 15
        }
      ],
      &quot;label&quot;: &quot;(1)&quot;,
      &quot;weight&quot;: 24
    }
  ]
}</textarea><div class="decompose-foamtree"></div><div class="decompose-details"><div class="decompose-details-header">Regions details</div><div class="decompose-details-no-selection">No group selected.</div><div class="decompose-details-selection hidden"><div><span class="decompose-details-label">Direct sub-regions: </span><span class="decompose-details-direct-sub-regions-text">-</span></div><div><span class="decompose-details-label">Contained regions: </span><span class="decompose-details-contained-regions-text">-</span></div><div class="decompose-details-section-header">Constraints</div><div class="decompose-details-constraints"><pre class="decompose-details-constraint">&lt;constraint&gt;</pre></div><div class="decompose-details-invariant"><div class="decompose-details-section-header">Invariant</div><pre class="decompose-details-invariant-text">&lt;invariant&gt;</pre></div></div></div><script>
(function () {
  require(['nbextensions/nbimandra/regions'], function (regions) {
    var target = '#decompose-f7ef7bb2-29ee-401f-9aad-fdef8b134c26';
    regions.hydrate(target);
  });
})();
</script></div></div><div class="tab-pane"><div><div class="imandra-table" id="table-155abe68-19e6-4140-b99b-a2619bcd7ec5"><table><thead><tr><th>Constraints</th><th>Invariant</th></tr></thead><tr><td><ul><li><pre>not (i.l.current_time &lt;= (-1 + i.l.light_change_time))</pre></li><li><pre>not (i.l.light_state = Green)</pre></li><li><pre>not (i.l.light_state = Yellow)</pre></li><li><pre>not (i.c.car_drive_state = Accelerating)</pre></li><li><pre>not (i.c.car_drive_state = Steady)</pre></li><li><pre>0 &lt;= (i.c.car_speed + -1 * i.c.car_accel_speed)</pre></li></ul></td><td><pre>{c =
 {car_drive_state = Steady;
  car_speed = i.c.car_speed + -1 * i.c.car_accel_speed;
  car_distance = i.c.car_distance + i.c.car_speed;
  car_accel_speed = i.c.car_accel_speed; car_max_speed = i.c.car_max_speed;
  car_min_speed = i.c.car_min_speed};
 l =
 {blinking = false; current_time = 1 + i.l.current_time;
  blink_time = i.l.blink_time; light_change_time = i.l.light_change_time;
  light_state = Green}}</pre></td></tr><tr><td><ul><li><pre>not (i.l.current_time &lt;= (-1 + i.l.light_change_time))</pre></li><li><pre>not (i.l.light_state = Green)</pre></li><li><pre>not (i.l.light_state = Yellow)</pre></li><li><pre>not (i.c.car_drive_state = Accelerating)</pre></li><li><pre>i.c.car_drive_state = Steady</pre></li></ul></td><td><pre>{c =
 {car_drive_state = Steady; car_speed = i.c.car_speed;
  car_distance = i.c.car_distance + i.c.car_speed;
  car_accel_speed = i.c.car_accel_speed; car_max_speed = i.c.car_max_speed;
  car_min_speed = i.c.car_min_speed};
 l =
 {blinking = false; current_time = 1 + i.l.current_time;
  blink_time = i.l.blink_time; light_change_time = i.l.light_change_time;
  light_state = Green}}</pre></td></tr><tr><td><ul><li><pre>not (i.l.current_time &lt;= (-1 + i.l.light_change_time))</pre></li><li><pre>not (i.l.light_state = Green)</pre></li><li><pre>not (i.l.light_state = Yellow)</pre></li><li><pre>i.c.car_drive_state = Accelerating</pre></li><li><pre>(i.c.car_speed + i.c.car_accel_speed) &lt;= i.c.car_max_speed</pre></li></ul></td><td><pre>{c =
 {car_drive_state = Steady; car_speed = i.c.car_speed + i.c.car_accel_speed;
  car_distance = i.c.car_distance + i.c.car_speed;
  car_accel_speed = i.c.car_accel_speed; car_max_speed = i.c.car_max_speed;
  car_min_speed = i.c.car_min_speed};
 l =
 {blinking = false; current_time = 1 + i.l.current_time;
  blink_time = i.l.blink_time; light_change_time = i.l.light_change_time;
  light_state = Green}}</pre></td></tr><tr><td><ul><li><pre>not (i.l.current_time &lt;= (-1 + i.l.light_change_time))</pre></li><li><pre>not (i.l.light_state = Green)</pre></li><li><pre>i.l.light_state = Yellow</pre></li><li><pre>not (i.c.car_drive_state = Accelerating)</pre></li><li><pre>not (i.c.car_drive_state = Steady)</pre></li><li><pre>0 &lt;= (i.c.car_speed + -1 * i.c.car_accel_speed)</pre></li></ul></td><td><pre>{c =
 {car_drive_state = Braking;
  car_speed = i.c.car_speed + -1 * i.c.car_accel_speed;
  car_distance = i.c.car_distance + i.c.car_speed;
  car_accel_speed = i.c.car_accel_speed; car_max_speed = i.c.car_max_speed;
  car_min_speed = i.c.car_min_speed};
 l =
 {blinking = false; current_time = 1 + i.l.current_time;
  blink_time = i.l.blink_time; light_change_time = i.l.light_change_time;
  light_state = Red}}</pre></td></tr><tr><td><ul><li><pre>not (i.l.current_time &lt;= (-1 + i.l.light_change_time))</pre></li><li><pre>not (i.l.light_state = Green)</pre></li><li><pre>i.l.light_state = Yellow</pre></li><li><pre>not (i.c.car_drive_state = Accelerating)</pre></li><li><pre>i.c.car_drive_state = Steady</pre></li></ul></td><td><pre>{c =
 {car_drive_state = Braking; car_speed = i.c.car_speed;
  car_distance = i.c.car_distance + i.c.car_speed;
  car_accel_speed = i.c.car_accel_speed; car_max_speed = i.c.car_max_speed;
  car_min_speed = i.c.car_min_speed};
 l =
 {blinking = false; current_time = 1 + i.l.current_time;
  blink_time = i.l.blink_time; light_change_time = i.l.light_change_time;
  light_state = Red}}</pre></td></tr><tr><td><ul><li><pre>not (i.l.current_time &lt;= (-1 + i.l.light_change_time))</pre></li><li><pre>not (i.l.light_state = Green)</pre></li><li><pre>i.l.light_state = Yellow</pre></li><li><pre>i.c.car_drive_state = Accelerating</pre></li><li><pre>(i.c.car_speed + i.c.car_accel_speed) &lt;= i.c.car_max_speed</pre></li></ul></td><td><pre>{c =
 {car_drive_state = Braking; car_speed = i.c.car_speed + i.c.car_accel_speed;
  car_distance = i.c.car_distance + i.c.car_speed;
  car_accel_speed = i.c.car_accel_speed; car_max_speed = i.c.car_max_speed;
  car_min_speed = i.c.car_min_speed};
 l =
 {blinking = false; current_time = 1 + i.l.current_time;
  blink_time = i.l.blink_time; light_change_time = i.l.light_change_time;
  light_state = Red}}</pre></td></tr><tr><td><ul><li><pre>not (i.l.current_time &lt;= (-1 + i.l.light_change_time))</pre></li><li><pre>i.l.light_state = Green</pre></li><li><pre>not (i.c.car_drive_state = Accelerating)</pre></li><li><pre>not (i.c.car_drive_state = Steady)</pre></li><li><pre>0 &lt;= (i.c.car_speed + -1 * i.c.car_accel_speed)</pre></li><li><pre>(i.c.car_distance + i.c.car_speed) &lt;= 10</pre></li></ul></td><td><pre>{c =
 {car_drive_state = Braking;
  car_speed = i.c.car_speed + -1 * i.c.car_accel_speed;
  car_distance = i.c.car_distance + i.c.car_speed;
  car_accel_speed = i.c.car_accel_speed; car_max_speed = i.c.car_max_speed;
  car_min_speed = i.c.car_min_speed};
 l =
 {blinking = false; current_time = 1 + i.l.current_time;
  blink_time = i.l.blink_time; light_change_time = i.l.light_change_time;
  light_state = Yellow}}</pre></td></tr><tr><td><ul><li><pre>not (i.l.current_time &lt;= (-1 + i.l.light_change_time))</pre></li><li><pre>i.l.light_state = Green</pre></li><li><pre>not (i.c.car_drive_state = Accelerating)</pre></li><li><pre>not (i.c.car_drive_state = Steady)</pre></li><li><pre>0 &lt;= (i.c.car_speed + -1 * i.c.car_accel_speed)</pre></li><li><pre>not ((i.c.car_distance + i.c.car_speed) &lt;= 10)</pre></li></ul></td><td><pre>{c =
 {car_drive_state = Accelerating;
  car_speed = i.c.car_speed + -1 * i.c.car_accel_speed;
  car_distance = i.c.car_distance + i.c.car_speed;
  car_accel_speed = i.c.car_accel_speed; car_max_speed = i.c.car_max_speed;
  car_min_speed = i.c.car_min_speed};
 l =
 {blinking = false; current_time = 1 + i.l.current_time;
  blink_time = i.l.blink_time; light_change_time = i.l.light_change_time;
  light_state = Yellow}}</pre></td></tr><tr><td><ul><li><pre>not (i.l.current_time &lt;= (-1 + i.l.light_change_time))</pre></li><li><pre>i.l.light_state = Green</pre></li><li><pre>not (i.c.car_drive_state = Accelerating)</pre></li><li><pre>i.c.car_drive_state = Steady</pre></li><li><pre>(i.c.car_distance + i.c.car_speed) &lt;= 10</pre></li></ul></td><td><pre>{c =
 {car_drive_state = Braking; car_speed = i.c.car_speed;
  car_distance = i.c.car_distance + i.c.car_speed;
  car_accel_speed = i.c.car_accel_speed; car_max_speed = i.c.car_max_speed;
  car_min_speed = i.c.car_min_speed};
 l =
 {blinking = false; current_time = 1 + i.l.current_time;
  blink_time = i.l.blink_time; light_change_time = i.l.light_change_time;
  light_state = Yellow}}</pre></td></tr><tr><td><ul><li><pre>not (i.l.current_time &lt;= (-1 + i.l.light_change_time))</pre></li><li><pre>i.l.light_state = Green</pre></li><li><pre>not (i.c.car_drive_state = Accelerating)</pre></li><li><pre>i.c.car_drive_state = Steady</pre></li><li><pre>not ((i.c.car_distance + i.c.car_speed) &lt;= 10)</pre></li></ul></td><td><pre>{c =
 {car_drive_state = Accelerating; car_speed = i.c.car_speed;
  car_distance = i.c.car_distance + i.c.car_speed;
  car_accel_speed = i.c.car_accel_speed; car_max_speed = i.c.car_max_speed;
  car_min_speed = i.c.car_min_speed};
 l =
 {blinking = false; current_time = 1 + i.l.current_time;
  blink_time = i.l.blink_time; light_change_time = i.l.light_change_time;
  light_state = Yellow}}</pre></td></tr><tr><td><ul><li><pre>not (i.l.current_time &lt;= (-1 + i.l.light_change_time))</pre></li><li><pre>i.l.light_state = Green</pre></li><li><pre>i.c.car_drive_state = Accelerating</pre></li><li><pre>(i.c.car_speed + i.c.car_accel_speed) &lt;= i.c.car_max_speed</pre></li><li><pre>(i.c.car_distance + i.c.car_speed) &lt;= 10</pre></li></ul></td><td><pre>{c =
 {car_drive_state = Braking; car_speed = i.c.car_speed + i.c.car_accel_speed;
  car_distance = i.c.car_distance + i.c.car_speed;
  car_accel_speed = i.c.car_accel_speed; car_max_speed = i.c.car_max_speed;
  car_min_speed = i.c.car_min_speed};
 l =
 {blinking = false; current_time = 1 + i.l.current_time;
  blink_time = i.l.blink_time; light_change_time = i.l.light_change_time;
  light_state = Yellow}}</pre></td></tr><tr><td><ul><li><pre>not (i.l.current_time &lt;= (-1 + i.l.light_change_time))</pre></li><li><pre>i.l.light_state = Green</pre></li><li><pre>i.c.car_drive_state = Accelerating</pre></li><li><pre>(i.c.car_speed + i.c.car_accel_speed) &lt;= i.c.car_max_speed</pre></li><li><pre>not ((i.c.car_distance + i.c.car_speed) &lt;= 10)</pre></li></ul></td><td><pre>{c =
 {car_drive_state = Accelerating;
  car_speed = i.c.car_speed + i.c.car_accel_speed;
  car_distance = i.c.car_distance + i.c.car_speed;
  car_accel_speed = i.c.car_accel_speed; car_max_speed = i.c.car_max_speed;
  car_min_speed = i.c.car_min_speed};
 l =
 {blinking = false; current_time = 1 + i.l.current_time;
  blink_time = i.l.blink_time; light_change_time = i.l.light_change_time;
  light_state = Yellow}}</pre></td></tr><tr><td><ul><li><pre>i.l.current_time &lt;= (-1 + i.l.light_change_time)</pre></li><li><pre>not (i.l.light_state = Green)</pre></li><li><pre>not (i.l.current_time &lt;= (-1 + i.l.blink_time))</pre></li><li><pre>not (i.l.light_state = Green)</pre></li><li><pre>not (i.l.light_state = Yellow)</pre></li><li><pre>i.l.light_state = Red</pre></li><li><pre>not (i.c.car_drive_state = Accelerating)</pre></li><li><pre>not (i.c.car_drive_state = Steady)</pre></li><li><pre>0 &lt;= (i.c.car_speed + -1 * i.c.car_accel_speed)</pre></li></ul></td><td><pre>{c =
 {car_drive_state = Braking;
  car_speed = i.c.car_speed + -1 * i.c.car_accel_speed;
  car_distance = i.c.car_distance + i.c.car_speed;
  car_accel_speed = i.c.car_accel_speed; car_max_speed = i.c.car_max_speed;
  car_min_speed = i.c.car_min_speed};
 l =
 {blinking = i.l.blinking; current_time = 1 + i.l.current_time;
  blink_time = i.l.blink_time; light_change_time = i.l.light_change_time;
  light_state = i.l.light_state}}</pre></td></tr><tr><td><ul><li><pre>i.l.current_time &lt;= (-1 + i.l.light_change_time)</pre></li><li><pre>not (i.l.light_state = Green)</pre></li><li><pre>not (i.l.current_time &lt;= (-1 + i.l.blink_time))</pre></li><li><pre>not (i.l.light_state = Green)</pre></li><li><pre>not (i.l.light_state = Yellow)</pre></li><li><pre>i.l.light_state = Red</pre></li><li><pre>not (i.c.car_drive_state = Accelerating)</pre></li><li><pre>i.c.car_drive_state = Steady</pre></li></ul></td><td><pre>{c =
 {car_drive_state = Braking; car_speed = i.c.car_speed;
  car_distance = i.c.car_distance + i.c.car_speed;
  car_accel_speed = i.c.car_accel_speed; car_max_speed = i.c.car_max_speed;
  car_min_speed = i.c.car_min_speed};
 l =
 {blinking = i.l.blinking; current_time = 1 + i.l.current_time;
  blink_time = i.l.blink_time; light_change_time = i.l.light_change_time;
  light_state = i.l.light_state}}</pre></td></tr><tr><td><ul><li><pre>i.l.current_time &lt;= (-1 + i.l.light_change_time)</pre></li><li><pre>not (i.l.light_state = Green)</pre></li><li><pre>not (i.l.current_time &lt;= (-1 + i.l.blink_time))</pre></li><li><pre>not (i.l.light_state = Green)</pre></li><li><pre>not (i.l.light_state = Yellow)</pre></li><li><pre>i.l.light_state = Red</pre></li><li><pre>i.c.car_drive_state = Accelerating</pre></li><li><pre>(i.c.car_speed + i.c.car_accel_speed) &lt;= i.c.car_max_speed</pre></li></ul></td><td><pre>{c =
 {car_drive_state = Braking; car_speed = i.c.car_speed + i.c.car_accel_speed;
  car_distance = i.c.car_distance + i.c.car_speed;
  car_accel_speed = i.c.car_accel_speed; car_max_speed = i.c.car_max_speed;
  car_min_speed = i.c.car_min_speed};
 l =
 {blinking = i.l.blinking; current_time = 1 + i.l.current_time;
  blink_time = i.l.blink_time; light_change_time = i.l.light_change_time;
  light_state = i.l.light_state}}</pre></td></tr><tr><td><ul><li><pre>i.l.current_time &lt;= (-1 + i.l.light_change_time)</pre></li><li><pre>not (i.l.light_state = Green)</pre></li><li><pre>not (i.l.current_time &lt;= (-1 + i.l.blink_time))</pre></li><li><pre>not (i.l.light_state = Green)</pre></li><li><pre>i.l.light_state = Yellow</pre></li><li><pre>not (i.l.light_state = Red)</pre></li><li><pre>not (i.c.car_drive_state = Accelerating)</pre></li><li><pre>not (i.c.car_drive_state = Steady)</pre></li><li><pre>0 &lt;= (i.c.car_speed + -1 * i.c.car_accel_speed)</pre></li></ul></td><td><pre>{c =
 {car_drive_state = Braking;
  car_speed = i.c.car_speed + -1 * i.c.car_accel_speed;
  car_distance = i.c.car_distance + i.c.car_speed;
  car_accel_speed = i.c.car_accel_speed; car_max_speed = i.c.car_max_speed;
  car_min_speed = i.c.car_min_speed};
 l =
 {blinking = true; current_time = 1 + i.l.current_time;
  blink_time = i.l.blink_time; light_change_time = i.l.light_change_time;
  light_state = i.l.light_state}}</pre></td></tr><tr><td><ul><li><pre>i.l.current_time &lt;= (-1 + i.l.light_change_time)</pre></li><li><pre>not (i.l.light_state = Green)</pre></li><li><pre>not (i.l.current_time &lt;= (-1 + i.l.blink_time))</pre></li><li><pre>not (i.l.light_state = Green)</pre></li><li><pre>i.l.light_state = Yellow</pre></li><li><pre>not (i.l.light_state = Red)</pre></li><li><pre>not (i.c.car_drive_state = Accelerating)</pre></li><li><pre>i.c.car_drive_state = Steady</pre></li></ul></td><td><pre>{c =
 {car_drive_state = Braking; car_speed = i.c.car_speed;
  car_distance = i.c.car_distance + i.c.car_speed;
  car_accel_speed = i.c.car_accel_speed; car_max_speed = i.c.car_max_speed;
  car_min_speed = i.c.car_min_speed};
 l =
 {blinking = true; current_time = 1 + i.l.current_time;
  blink_time = i.l.blink_time; light_change_time = i.l.light_change_time;
  light_state = i.l.light_state}}</pre></td></tr><tr><td><ul><li><pre>i.l.current_time &lt;= (-1 + i.l.light_change_time)</pre></li><li><pre>not (i.l.light_state = Green)</pre></li><li><pre>not (i.l.current_time &lt;= (-1 + i.l.blink_time))</pre></li><li><pre>not (i.l.light_state = Green)</pre></li><li><pre>i.l.light_state = Yellow</pre></li><li><pre>not (i.l.light_state = Red)</pre></li><li><pre>i.c.car_drive_state = Accelerating</pre></li><li><pre>(i.c.car_speed + i.c.car_accel_speed) &lt;= i.c.car_max_speed</pre></li></ul></td><td><pre>{c =
 {car_drive_state = Braking; car_speed = i.c.car_speed + i.c.car_accel_speed;
  car_distance = i.c.car_distance + i.c.car_speed;
  car_accel_speed = i.c.car_accel_speed; car_max_speed = i.c.car_max_speed;
  car_min_speed = i.c.car_min_speed};
 l =
 {blinking = true; current_time = 1 + i.l.current_time;
  blink_time = i.l.blink_time; light_change_time = i.l.light_change_time;
  light_state = i.l.light_state}}</pre></td></tr><tr><td><ul><li><pre>i.l.current_time &lt;= (-1 + i.l.light_change_time)</pre></li><li><pre>not (i.l.light_state = Green)</pre></li><li><pre>i.l.current_time &lt;= (-1 + i.l.blink_time)</pre></li><li><pre>not (i.l.light_state = Red)</pre></li><li><pre>i.l.blinking</pre></li><li><pre>not (i.c.car_drive_state = Accelerating)</pre></li><li><pre>not (i.c.car_drive_state = Steady)</pre></li><li><pre>0 &lt;= (i.c.car_speed + -1 * i.c.car_accel_speed)</pre></li></ul></td><td><pre>{c =
 {car_drive_state = Braking;
  car_speed = i.c.car_speed + -1 * i.c.car_accel_speed;
  car_distance = i.c.car_distance + i.c.car_speed;
  car_accel_speed = i.c.car_accel_speed; car_max_speed = i.c.car_max_speed;
  car_min_speed = i.c.car_min_speed};
 l =
 {blinking = i.l.blinking; current_time = 1 + i.l.current_time;
  blink_time = i.l.blink_time; light_change_time = i.l.light_change_time;
  light_state = i.l.light_state}}</pre></td></tr><tr><td><ul><li><pre>i.l.current_time &lt;= (-1 + i.l.light_change_time)</pre></li><li><pre>not (i.l.light_state = Green)</pre></li><li><pre>i.l.current_time &lt;= (-1 + i.l.blink_time)</pre></li><li><pre>not (i.l.light_state = Red)</pre></li><li><pre>i.l.blinking</pre></li><li><pre>not (i.c.car_drive_state = Accelerating)</pre></li><li><pre>i.c.car_drive_state = Steady</pre></li></ul></td><td><pre>{c =
 {car_drive_state = Braking; car_speed = i.c.car_speed;
  car_distance = i.c.car_distance + i.c.car_speed;
  car_accel_speed = i.c.car_accel_speed; car_max_speed = i.c.car_max_speed;
  car_min_speed = i.c.car_min_speed};
 l =
 {blinking = i.l.blinking; current_time = 1 + i.l.current_time;
  blink_time = i.l.blink_time; light_change_time = i.l.light_change_time;
  light_state = i.l.light_state}}</pre></td></tr><tr><td><ul><li><pre>i.l.current_time &lt;= (-1 + i.l.light_change_time)</pre></li><li><pre>not (i.l.light_state = Green)</pre></li><li><pre>i.l.current_time &lt;= (-1 + i.l.blink_time)</pre></li><li><pre>not (i.l.light_state = Red)</pre></li><li><pre>i.l.blinking</pre></li><li><pre>i.c.car_drive_state = Accelerating</pre></li><li><pre>(i.c.car_speed + i.c.car_accel_speed) &lt;= i.c.car_max_speed</pre></li></ul></td><td><pre>{c =
 {car_drive_state = Braking; car_speed = i.c.car_speed + i.c.car_accel_speed;
  car_distance = i.c.car_distance + i.c.car_speed;
  car_accel_speed = i.c.car_accel_speed; car_max_speed = i.c.car_max_speed;
  car_min_speed = i.c.car_min_speed};
 l =
 {blinking = i.l.blinking; current_time = 1 + i.l.current_time;
  blink_time = i.l.blink_time; light_change_time = i.l.light_change_time;
  light_state = i.l.light_state}}</pre></td></tr><tr><td><ul><li><pre>i.l.current_time &lt;= (-1 + i.l.light_change_time)</pre></li><li><pre>not (i.l.light_state = Green)</pre></li><li><pre>i.l.current_time &lt;= (-1 + i.l.blink_time)</pre></li><li><pre>not (i.l.light_state = Red)</pre></li><li><pre>not i.l.blinking</pre></li><li><pre>not (i.c.car_drive_state = Accelerating)</pre></li><li><pre>not (i.c.car_drive_state = Steady)</pre></li><li><pre>0 &lt;= (i.c.car_speed + -1 * i.c.car_accel_speed)</pre></li><li><pre>(i.c.car_distance + i.c.car_speed) &lt;= 10</pre></li></ul></td><td><pre>{c =
 {car_drive_state = Braking;
  car_speed = i.c.car_speed + -1 * i.c.car_accel_speed;
  car_distance = i.c.car_distance + i.c.car_speed;
  car_accel_speed = i.c.car_accel_speed; car_max_speed = i.c.car_max_speed;
  car_min_speed = i.c.car_min_speed};
 l =
 {blinking = i.l.blinking; current_time = 1 + i.l.current_time;
  blink_time = i.l.blink_time; light_change_time = i.l.light_change_time;
  light_state = i.l.light_state}}</pre></td></tr><tr><td><ul><li><pre>i.l.current_time &lt;= (-1 + i.l.light_change_time)</pre></li><li><pre>not (i.l.light_state = Green)</pre></li><li><pre>i.l.current_time &lt;= (-1 + i.l.blink_time)</pre></li><li><pre>not (i.l.light_state = Red)</pre></li><li><pre>not i.l.blinking</pre></li><li><pre>not (i.c.car_drive_state = Accelerating)</pre></li><li><pre>not (i.c.car_drive_state = Steady)</pre></li><li><pre>0 &lt;= (i.c.car_speed + -1 * i.c.car_accel_speed)</pre></li><li><pre>not ((i.c.car_distance + i.c.car_speed) &lt;= 10)</pre></li></ul></td><td><pre>{c =
 {car_drive_state = Accelerating;
  car_speed = i.c.car_speed + -1 * i.c.car_accel_speed;
  car_distance = i.c.car_distance + i.c.car_speed;
  car_accel_speed = i.c.car_accel_speed; car_max_speed = i.c.car_max_speed;
  car_min_speed = i.c.car_min_speed};
 l =
 {blinking = i.l.blinking; current_time = 1 + i.l.current_time;
  blink_time = i.l.blink_time; light_change_time = i.l.light_change_time;
  light_state = i.l.light_state}}</pre></td></tr><tr><td><ul><li><pre>i.l.current_time &lt;= (-1 + i.l.light_change_time)</pre></li><li><pre>not (i.l.light_state = Green)</pre></li><li><pre>i.l.current_time &lt;= (-1 + i.l.blink_time)</pre></li><li><pre>not (i.l.light_state = Red)</pre></li><li><pre>not i.l.blinking</pre></li><li><pre>not (i.c.car_drive_state = Accelerating)</pre></li><li><pre>i.c.car_drive_state = Steady</pre></li><li><pre>(i.c.car_distance + i.c.car_speed) &lt;= 10</pre></li></ul></td><td><pre>{c =
 {car_drive_state = Braking; car_speed = i.c.car_speed;
  car_distance = i.c.car_distance + i.c.car_speed;
  car_accel_speed = i.c.car_accel_speed; car_max_speed = i.c.car_max_speed;
  car_min_speed = i.c.car_min_speed};
 l =
 {blinking = i.l.blinking; current_time = 1 + i.l.current_time;
  blink_time = i.l.blink_time; light_change_time = i.l.light_change_time;
  light_state = i.l.light_state}}</pre></td></tr><tr><td><ul><li><pre>i.l.current_time &lt;= (-1 + i.l.light_change_time)</pre></li><li><pre>not (i.l.light_state = Green)</pre></li><li><pre>i.l.current_time &lt;= (-1 + i.l.blink_time)</pre></li><li><pre>not (i.l.light_state = Red)</pre></li><li><pre>not i.l.blinking</pre></li><li><pre>not (i.c.car_drive_state = Accelerating)</pre></li><li><pre>i.c.car_drive_state = Steady</pre></li><li><pre>not ((i.c.car_distance + i.c.car_speed) &lt;= 10)</pre></li></ul></td><td><pre>{c =
 {car_drive_state = Accelerating; car_speed = i.c.car_speed;
  car_distance = i.c.car_distance + i.c.car_speed;
  car_accel_speed = i.c.car_accel_speed; car_max_speed = i.c.car_max_speed;
  car_min_speed = i.c.car_min_speed};
 l =
 {blinking = i.l.blinking; current_time = 1 + i.l.current_time;
  blink_time = i.l.blink_time; light_change_time = i.l.light_change_time;
  light_state = i.l.light_state}}</pre></td></tr><tr><td><ul><li><pre>i.l.current_time &lt;= (-1 + i.l.light_change_time)</pre></li><li><pre>not (i.l.light_state = Green)</pre></li><li><pre>i.l.current_time &lt;= (-1 + i.l.blink_time)</pre></li><li><pre>not (i.l.light_state = Red)</pre></li><li><pre>not i.l.blinking</pre></li><li><pre>i.c.car_drive_state = Accelerating</pre></li><li><pre>(i.c.car_speed + i.c.car_accel_speed) &lt;= i.c.car_max_speed</pre></li><li><pre>(i.c.car_distance + i.c.car_speed) &lt;= 10</pre></li></ul></td><td><pre>{c =
 {car_drive_state = Braking; car_speed = i.c.car_speed + i.c.car_accel_speed;
  car_distance = i.c.car_distance + i.c.car_speed;
  car_accel_speed = i.c.car_accel_speed; car_max_speed = i.c.car_max_speed;
  car_min_speed = i.c.car_min_speed};
 l =
 {blinking = i.l.blinking; current_time = 1 + i.l.current_time;
  blink_time = i.l.blink_time; light_change_time = i.l.light_change_time;
  light_state = i.l.light_state}}</pre></td></tr><tr><td><ul><li><pre>i.l.current_time &lt;= (-1 + i.l.light_change_time)</pre></li><li><pre>not (i.l.light_state = Green)</pre></li><li><pre>i.l.current_time &lt;= (-1 + i.l.blink_time)</pre></li><li><pre>not (i.l.light_state = Red)</pre></li><li><pre>not i.l.blinking</pre></li><li><pre>i.c.car_drive_state = Accelerating</pre></li><li><pre>(i.c.car_speed + i.c.car_accel_speed) &lt;= i.c.car_max_speed</pre></li><li><pre>not ((i.c.car_distance + i.c.car_speed) &lt;= 10)</pre></li></ul></td><td><pre>{c =
 {car_drive_state = Accelerating;
  car_speed = i.c.car_speed + i.c.car_accel_speed;
  car_distance = i.c.car_distance + i.c.car_speed;
  car_accel_speed = i.c.car_accel_speed; car_max_speed = i.c.car_max_speed;
  car_min_speed = i.c.car_min_speed};
 l =
 {blinking = i.l.blinking; current_time = 1 + i.l.current_time;
  blink_time = i.l.blink_time; light_change_time = i.l.light_change_time;
  light_state = i.l.light_state}}</pre></td></tr><tr><td><ul><li><pre>i.l.current_time &lt;= (-1 + i.l.light_change_time)</pre></li><li><pre>not (i.l.light_state = Green)</pre></li><li><pre>i.l.current_time &lt;= (-1 + i.l.blink_time)</pre></li><li><pre>i.l.light_state = Red</pre></li><li><pre>not (i.c.car_drive_state = Accelerating)</pre></li><li><pre>not (i.c.car_drive_state = Steady)</pre></li><li><pre>0 &lt;= (i.c.car_speed + -1 * i.c.car_accel_speed)</pre></li></ul></td><td><pre>{c =
 {car_drive_state = Braking;
  car_speed = i.c.car_speed + -1 * i.c.car_accel_speed;
  car_distance = i.c.car_distance + i.c.car_speed;
  car_accel_speed = i.c.car_accel_speed; car_max_speed = i.c.car_max_speed;
  car_min_speed = i.c.car_min_speed};
 l =
 {blinking = i.l.blinking; current_time = 1 + i.l.current_time;
  blink_time = i.l.blink_time; light_change_time = i.l.light_change_time;
  light_state = i.l.light_state}}</pre></td></tr><tr><td><ul><li><pre>i.l.current_time &lt;= (-1 + i.l.light_change_time)</pre></li><li><pre>not (i.l.light_state = Green)</pre></li><li><pre>i.l.current_time &lt;= (-1 + i.l.blink_time)</pre></li><li><pre>i.l.light_state = Red</pre></li><li><pre>not (i.c.car_drive_state = Accelerating)</pre></li><li><pre>i.c.car_drive_state = Steady</pre></li></ul></td><td><pre>{c =
 {car_drive_state = Braking; car_speed = i.c.car_speed;
  car_distance = i.c.car_distance + i.c.car_speed;
  car_accel_speed = i.c.car_accel_speed; car_max_speed = i.c.car_max_speed;
  car_min_speed = i.c.car_min_speed};
 l =
 {blinking = i.l.blinking; current_time = 1 + i.l.current_time;
  blink_time = i.l.blink_time; light_change_time = i.l.light_change_time;
  light_state = i.l.light_state}}</pre></td></tr><tr><td><ul><li><pre>i.l.current_time &lt;= (-1 + i.l.light_change_time)</pre></li><li><pre>not (i.l.light_state = Green)</pre></li><li><pre>i.l.current_time &lt;= (-1 + i.l.blink_time)</pre></li><li><pre>i.l.light_state = Red</pre></li><li><pre>i.c.car_drive_state = Accelerating</pre></li><li><pre>(i.c.car_speed + i.c.car_accel_speed) &lt;= i.c.car_max_speed</pre></li></ul></td><td><pre>{c =
 {car_drive_state = Braking; car_speed = i.c.car_speed + i.c.car_accel_speed;
  car_distance = i.c.car_distance + i.c.car_speed;
  car_accel_speed = i.c.car_accel_speed; car_max_speed = i.c.car_max_speed;
  car_min_speed = i.c.car_min_speed};
 l =
 {blinking = i.l.blinking; current_time = 1 + i.l.current_time;
  blink_time = i.l.blink_time; light_change_time = i.l.light_change_time;
  light_state = i.l.light_state}}</pre></td></tr><tr><td><ul><li><pre>i.l.current_time &lt;= (-1 + i.l.light_change_time)</pre></li><li><pre>i.l.light_state = Green</pre></li><li><pre>not (i.c.car_drive_state = Accelerating)</pre></li><li><pre>not (i.c.car_drive_state = Steady)</pre></li><li><pre>0 &lt;= (i.c.car_speed + -1 * i.c.car_accel_speed)</pre></li><li><pre>not (i.l.current_time &lt;= (-1 + i.l.blink_time))</pre></li><li><pre>i.l.light_state = Green</pre></li></ul></td><td><pre>{c =
 {car_drive_state = Steady;
  car_speed = i.c.car_speed + -1 * i.c.car_accel_speed;
  car_distance = i.c.car_distance + i.c.car_speed;
  car_accel_speed = i.c.car_accel_speed; car_max_speed = i.c.car_max_speed;
  car_min_speed = i.c.car_min_speed};
 l =
 {blinking = true; current_time = 1 + i.l.current_time;
  blink_time = i.l.blink_time; light_change_time = i.l.light_change_time;
  light_state = i.l.light_state}}</pre></td></tr><tr><td><ul><li><pre>i.l.current_time &lt;= (-1 + i.l.light_change_time)</pre></li><li><pre>i.l.light_state = Green</pre></li><li><pre>not (i.c.car_drive_state = Accelerating)</pre></li><li><pre>not (i.c.car_drive_state = Steady)</pre></li><li><pre>0 &lt;= (i.c.car_speed + -1 * i.c.car_accel_speed)</pre></li><li><pre>i.l.current_time &lt;= (-1 + i.l.blink_time)</pre></li></ul></td><td><pre>{c =
 {car_drive_state = Steady;
  car_speed = i.c.car_speed + -1 * i.c.car_accel_speed;
  car_distance = i.c.car_distance + i.c.car_speed;
  car_accel_speed = i.c.car_accel_speed; car_max_speed = i.c.car_max_speed;
  car_min_speed = i.c.car_min_speed};
 l =
 {blinking = i.l.blinking; current_time = 1 + i.l.current_time;
  blink_time = i.l.blink_time; light_change_time = i.l.light_change_time;
  light_state = i.l.light_state}}</pre></td></tr><tr><td><ul><li><pre>i.l.current_time &lt;= (-1 + i.l.light_change_time)</pre></li><li><pre>i.l.light_state = Green</pre></li><li><pre>not (i.c.car_drive_state = Accelerating)</pre></li><li><pre>i.c.car_drive_state = Steady</pre></li><li><pre>not (i.l.current_time &lt;= (-1 + i.l.blink_time))</pre></li><li><pre>i.l.light_state = Green</pre></li></ul></td><td><pre>{c =
 {car_drive_state = Steady; car_speed = i.c.car_speed;
  car_distance = i.c.car_distance + i.c.car_speed;
  car_accel_speed = i.c.car_accel_speed; car_max_speed = i.c.car_max_speed;
  car_min_speed = i.c.car_min_speed};
 l =
 {blinking = true; current_time = 1 + i.l.current_time;
  blink_time = i.l.blink_time; light_change_time = i.l.light_change_time;
  light_state = i.l.light_state}}</pre></td></tr><tr><td><ul><li><pre>i.l.current_time &lt;= (-1 + i.l.light_change_time)</pre></li><li><pre>i.l.light_state = Green</pre></li><li><pre>not (i.c.car_drive_state = Accelerating)</pre></li><li><pre>i.c.car_drive_state = Steady</pre></li><li><pre>i.l.current_time &lt;= (-1 + i.l.blink_time)</pre></li></ul></td><td><pre>{c =
 {car_drive_state = Steady; car_speed = i.c.car_speed;
  car_distance = i.c.car_distance + i.c.car_speed;
  car_accel_speed = i.c.car_accel_speed; car_max_speed = i.c.car_max_speed;
  car_min_speed = i.c.car_min_speed};
 l =
 {blinking = i.l.blinking; current_time = 1 + i.l.current_time;
  blink_time = i.l.blink_time; light_change_time = i.l.light_change_time;
  light_state = i.l.light_state}}</pre></td></tr><tr><td><ul><li><pre>i.l.current_time &lt;= (-1 + i.l.light_change_time)</pre></li><li><pre>i.l.light_state = Green</pre></li><li><pre>i.c.car_drive_state = Accelerating</pre></li><li><pre>(i.c.car_speed + i.c.car_accel_speed) &lt;= i.c.car_max_speed</pre></li><li><pre>not (i.l.current_time &lt;= (-1 + i.l.blink_time))</pre></li><li><pre>i.l.light_state = Green</pre></li></ul></td><td><pre>{c =
 {car_drive_state = Steady; car_speed = i.c.car_speed + i.c.car_accel_speed;
  car_distance = i.c.car_distance + i.c.car_speed;
  car_accel_speed = i.c.car_accel_speed; car_max_speed = i.c.car_max_speed;
  car_min_speed = i.c.car_min_speed};
 l =
 {blinking = true; current_time = 1 + i.l.current_time;
  blink_time = i.l.blink_time; light_change_time = i.l.light_change_time;
  light_state = i.l.light_state}}</pre></td></tr><tr><td><ul><li><pre>i.l.current_time &lt;= (-1 + i.l.light_change_time)</pre></li><li><pre>i.l.light_state = Green</pre></li><li><pre>i.c.car_drive_state = Accelerating</pre></li><li><pre>(i.c.car_speed + i.c.car_accel_speed) &lt;= i.c.car_max_speed</pre></li><li><pre>i.l.current_time &lt;= (-1 + i.l.blink_time)</pre></li></ul></td><td><pre>{c =
 {car_drive_state = Steady; car_speed = i.c.car_speed + i.c.car_accel_speed;
  car_distance = i.c.car_distance + i.c.car_speed;
  car_accel_speed = i.c.car_accel_speed; car_max_speed = i.c.car_max_speed;
  car_min_speed = i.c.car_min_speed};
 l =
 {blinking = i.l.blinking; current_time = 1 + i.l.current_time;
  blink_time = i.l.blink_time; light_change_time = i.l.light_change_time;
  light_state = i.l.light_state}}</pre></td></tr></table></div></div></div></div><script>
require(['nbextensions/nbimandra/alternatives'], function (alternatives) {
  var target = '#alt-2c66cfb6-dec6-4d86-8d90-39a9e65390aa';
  alternatives.hydrate(target);
});
</script></div>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>Imandra has computed all the regions of behavior, let's now implement a custom printer using the <code>Imandra-tools</code> library to explore the behavior of the car in plain english:</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="try-this-container">
  <a href="https://try.imandra.ai/launch/?next=/h/user-redirect/notebooks/Simple%20Stoplight%20Model.ipynb%23try-cell-14" target="_blank" rel="nofollow">
    <div class="try-this">Try this!</div>
  </a>
</div>
<div class="input">
<div class="prompt input_prompt">In&nbsp;[7]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ocaml"><pre><span></span><span class="k">open</span> <span class="nc">Imandra_tools</span><span class="o">;;</span>

<span class="k">module</span> <span class="nc">Custom</span> <span class="o">=</span> <span class="k">struct</span>
  <span class="k">open</span> <span class="nc">Region_pp_intf</span>
  <span class="k">type</span> <span class="n">t</span> <span class="o">=</span>
    <span class="c">(* todo: collapse? *)</span>
    <span class="o">|</span> <span class="nc">DriveState</span> <span class="k">of</span> <span class="n">driving_state</span>
    <span class="o">|</span> <span class="nc">WithinMaxSpeed</span> <span class="k">of</span> <span class="kt">bool</span>
    <span class="o">|</span> <span class="nc">GoingForwards</span>
    <span class="o">|</span> <span class="nc">GoingBackwards</span>
    <span class="o">|</span> <span class="nc">CurrentSpeedEnough</span> <span class="k">of</span> <span class="kt">bool</span>
    <span class="c">(* todo: collapse? *)</span>
    <span class="o">|</span> <span class="nc">LightState</span> <span class="k">of</span> <span class="n">color</span>
    <span class="o">|</span> <span class="nc">LightBlinking</span> <span class="k">of</span> <span class="kt">bool</span>
    <span class="o">|</span> <span class="nc">TimeToBlink</span>
    <span class="o">|</span> <span class="nc">TimeToChangeLight</span>

  <span class="k">let</span> <span class="n">compare</span> <span class="o">_</span> <span class="o">_</span> <span class="o">=</span> <span class="nc">UnComparable</span>

  <span class="k">let</span> <span class="n">map</span> <span class="o">_</span> <span class="o">=</span> <span class="n">id</span>

  <span class="k">let</span> <span class="n">driving_state_string</span> <span class="o">=</span> <span class="k">function</span>
    <span class="o">|</span> <span class="nc">Accelerating</span> <span class="o">-&gt;</span> <span class="s2">&quot;accelerating&quot;</span>
    <span class="o">|</span> <span class="nc">Steady</span> <span class="o">-&gt;</span> <span class="s2">&quot;steady&quot;</span>
    <span class="o">|</span> <span class="nc">Braking</span> <span class="o">-&gt;</span> <span class="s2">&quot;braking&quot;</span>

  <span class="k">let</span> <span class="n">light_state_string</span> <span class="o">=</span> <span class="k">function</span>
    <span class="o">|</span> <span class="nc">Green</span> <span class="o">-&gt;</span> <span class="s2">&quot;green&quot;</span>
    <span class="o">|</span> <span class="nc">Yellow</span> <span class="o">-&gt;</span> <span class="s2">&quot;yellow&quot;</span>
    <span class="o">|</span> <span class="nc">Red</span> <span class="o">-&gt;</span> <span class="s2">&quot;red&quot;</span>

  <span class="k">let</span> <span class="n">print</span> <span class="n">p</span> <span class="o">~</span><span class="n">focus</span> <span class="n">out</span> <span class="o">=</span> <span class="k">function</span>
    <span class="o">|</span> <span class="nc">DriveState</span> <span class="n">d</span> <span class="o">-&gt;</span> <span class="nn">Format</span><span class="p">.</span><span class="n">fprintf</span> <span class="n">out</span> <span class="s2">&quot;Car is %s&quot;</span> <span class="o">(</span><span class="n">driving_state_string</span> <span class="n">d</span><span class="o">)</span>
    <span class="o">|</span> <span class="nc">WithinMaxSpeed</span> <span class="n">b</span> <span class="o">-&gt;</span> <span class="nn">Format</span><span class="p">.</span><span class="n">fprintf</span> <span class="n">out</span> <span class="s2">&quot;Car is %s max speed limits&quot;</span> <span class="o">(</span><span class="k">if</span> <span class="n">b</span> <span class="k">then</span> <span class="s2">&quot;within&quot;</span> <span class="k">else</span> <span class="s2">&quot;exceeding&quot;</span><span class="o">)</span>
    <span class="o">|</span> <span class="nc">GoingForwards</span> <span class="o">-&gt;</span> <span class="nn">Format</span><span class="p">.</span><span class="n">fprintf</span> <span class="n">out</span> <span class="s2">&quot;Car is moving forwards&quot;</span>
    <span class="o">|</span> <span class="nc">GoingBackwards</span> <span class="o">-&gt;</span> <span class="nn">Format</span><span class="p">.</span><span class="n">fprintf</span> <span class="n">out</span> <span class="s2">&quot;Car is moving backwards&quot;</span>
    <span class="o">|</span> <span class="nc">LightState</span> <span class="n">l</span> <span class="o">-&gt;</span> <span class="nn">Format</span><span class="p">.</span><span class="n">fprintf</span> <span class="n">out</span> <span class="s2">&quot;Light is %s&quot;</span> <span class="o">(</span><span class="n">light_state_string</span> <span class="n">l</span><span class="o">)</span>
    <span class="o">|</span> <span class="nc">LightBlinking</span> <span class="n">b</span> <span class="o">-&gt;</span> <span class="nn">Format</span><span class="p">.</span><span class="n">fprintf</span> <span class="n">out</span> <span class="s2">&quot;Light is%s blinking&quot;</span> <span class="o">(</span><span class="k">if</span> <span class="n">b</span> <span class="k">then</span> <span class="s2">&quot;&quot;</span> <span class="k">else</span> <span class="s2">&quot;n&#39;t&quot;</span><span class="o">)</span>
    <span class="o">|</span> <span class="nc">TimeToBlink</span> <span class="o">-&gt;</span> <span class="nn">Format</span><span class="p">.</span><span class="n">fprintf</span> <span class="n">out</span> <span class="s2">&quot;Time to blink&quot;</span>
    <span class="o">|</span> <span class="nc">TimeToChangeLight</span> <span class="o">-&gt;</span> <span class="nn">Format</span><span class="p">.</span><span class="n">fprintf</span> <span class="n">out</span> <span class="s2">&quot;Time to change light&quot;</span>
    <span class="o">|</span> <span class="nc">CurrentSpeedEnough</span> <span class="n">b</span> <span class="o">-&gt;</span> <span class="nn">Format</span><span class="p">.</span><span class="n">fprintf</span> <span class="n">out</span> <span class="s2">&quot;Car&#39;s current speed is%s enough to make it in time&quot;</span>
                                             <span class="o">(</span><span class="k">if</span> <span class="n">b</span> <span class="k">then</span> <span class="s2">&quot;&quot;</span> <span class="k">else</span> <span class="s2">&quot;n&#39;t&quot;</span><span class="o">)</span>
<span class="k">end</span>


<span class="k">module</span> <span class="nc">PPrinter</span> <span class="o">=</span> <span class="nn">Region_pp</span><span class="p">.</span><span class="nc">Make</span><span class="o">(</span><span class="nc">Custom</span><span class="o">);;</span>

<span class="k">module</span> <span class="nc">Refiner</span> <span class="o">=</span> <span class="k">struct</span>

  <span class="k">open</span> <span class="nc">PPrinter</span>
  <span class="k">exception</span> <span class="nc">Ignore</span>

  <span class="k">let</span> <span class="n">refine_invariant</span> <span class="o">(</span><span class="n">intersection_s</span> <span class="o">:</span> <span class="o">(</span><span class="kt">string</span> <span class="o">*</span> <span class="n">node</span><span class="o">)</span> <span class="kt">list</span><span class="o">)</span> <span class="o">:</span> <span class="n">node</span> <span class="kt">list</span><span class="o">=</span>
    <span class="k">match</span> <span class="nn">List</span><span class="p">.</span><span class="n">assoc</span> <span class="s2">&quot;c&quot;</span> <span class="n">intersection_s</span><span class="o">,</span> <span class="nn">List</span><span class="p">.</span><span class="n">assoc</span> <span class="s2">&quot;l&quot;</span> <span class="n">intersection_s</span> <span class="k">with</span>
    <span class="o">|</span> <span class="nc">Some</span> <span class="nc">Struct</span><span class="o">(</span><span class="s2">&quot;car_state&quot;</span><span class="o">,</span> <span class="n">car_state_s</span><span class="o">),</span> <span class="nc">Some</span> <span class="nc">Struct</span> <span class="o">(</span><span class="s2">&quot;light_state&quot;</span><span class="o">,</span> <span class="n">light_state_s</span><span class="o">)</span> <span class="o">-&gt;</span>
       <span class="k">begin</span>
         <span class="k">match</span> <span class="nn">List</span><span class="p">.</span><span class="n">assoc</span> <span class="s2">&quot;car_drive_state&quot;</span> <span class="n">car_state_s</span><span class="o">,</span>
               <span class="nn">List</span><span class="p">.</span><span class="n">assoc</span> <span class="s2">&quot;car_speed&quot;</span> <span class="n">car_state_s</span><span class="o">,</span>
               <span class="nn">List</span><span class="p">.</span><span class="n">assoc</span> <span class="s2">&quot;blinking&quot;</span> <span class="n">light_state_s</span><span class="o">,</span>
               <span class="nn">List</span><span class="p">.</span><span class="n">assoc</span> <span class="s2">&quot;light_state&quot;</span> <span class="n">light_state_s</span>
         <span class="k">with</span>
         <span class="o">|</span> <span class="nc">Some</span> <span class="o">(</span><span class="nc">Obj</span> <span class="o">(</span><span class="n">state</span><span class="o">,</span> <span class="bp">[]</span><span class="o">)),</span> <span class="nc">Some</span> <span class="n">speed</span><span class="o">,</span> <span class="nc">Some</span> <span class="n">blinking</span><span class="o">,</span> <span class="nc">Some</span> <span class="n">light_state</span> <span class="o">-&gt;</span>
            <span class="k">let</span> <span class="n">speed</span> <span class="o">:</span> <span class="n">node</span> <span class="o">=</span> <span class="nc">Eq</span> <span class="o">(</span><span class="nc">Var</span> <span class="s2">&quot;car_speed&quot;</span><span class="o">,</span> <span class="n">speed</span><span class="o">)</span> <span class="k">in</span>
            <span class="k">let</span> <span class="n">blinking</span> <span class="o">:</span> <span class="n">node</span> <span class="o">=</span> <span class="nc">Eq</span> <span class="o">(</span><span class="nc">Var</span> <span class="s2">&quot;blinking&quot;</span><span class="o">,</span> <span class="n">blinking</span><span class="o">)</span> <span class="k">in</span>
            <span class="k">let</span> <span class="n">light_state</span> <span class="o">:</span> <span class="n">node</span> <span class="o">=</span> <span class="nc">Eq</span> <span class="o">(</span><span class="nc">Var</span> <span class="s2">&quot;light_state&quot;</span><span class="o">,</span> <span class="n">light_state</span><span class="o">)</span> <span class="k">in</span>
            <span class="k">begin</span> <span class="k">match</span> <span class="n">state</span> <span class="k">with</span>
            <span class="o">|</span> <span class="s2">&quot;Accelerating&quot;</span> <span class="o">-&gt;</span> <span class="o">[</span><span class="nc">Custom</span> <span class="o">(</span><span class="nc">DriveState</span> <span class="nc">Accelerating</span><span class="o">);</span> <span class="n">speed</span><span class="o">;</span> <span class="n">blinking</span><span class="o">;</span> <span class="n">light_state</span><span class="o">]</span>
            <span class="o">|</span> <span class="s2">&quot;Steady&quot;</span> <span class="o">-&gt;</span> <span class="o">[</span><span class="nc">Custom</span> <span class="o">(</span><span class="nc">DriveState</span> <span class="nc">Steady</span><span class="o">);</span> <span class="n">speed</span><span class="o">;</span> <span class="n">blinking</span><span class="o">;</span> <span class="n">light_state</span><span class="o">]</span>
            <span class="o">|</span> <span class="s2">&quot;Braking&quot;</span> <span class="o">-&gt;</span> <span class="o">[</span><span class="nc">Custom</span> <span class="o">(</span><span class="nc">DriveState</span> <span class="nc">Braking</span><span class="o">);</span> <span class="n">speed</span><span class="o">;</span> <span class="n">blinking</span><span class="o">;</span> <span class="n">light_state</span><span class="o">]</span>
            <span class="o">|</span> <span class="o">_</span> <span class="o">-&gt;</span> <span class="k">raise</span> <span class="nc">Ignore</span>
            <span class="k">end</span>
         <span class="o">|</span> <span class="o">_</span> <span class="o">-&gt;</span> <span class="k">raise</span> <span class="nc">Ignore</span>
       <span class="k">end</span>
    <span class="o">|</span> <span class="o">_,</span> <span class="o">_</span> <span class="o">-&gt;</span> <span class="k">raise</span> <span class="nc">Ignore</span>

  <span class="k">let</span> <span class="n">walk</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="n">node</span><span class="o">)</span> <span class="o">:</span> <span class="n">node</span> <span class="o">=</span> <span class="k">match</span> <span class="n">x</span> <span class="k">with</span>

    <span class="o">|</span> <span class="nc">FieldOf</span> <span class="o">(</span><span class="nc">Assoc</span><span class="o">,</span> <span class="s2">&quot;current_time&quot;</span><span class="o">,</span> <span class="nc">FieldOf</span> <span class="o">(</span><span class="nc">Assoc</span><span class="o">,</span> <span class="s2">&quot;l&quot;</span><span class="o">,</span> <span class="nc">Var</span> <span class="s2">&quot;i&quot;</span><span class="o">))</span> <span class="o">-&gt;</span> <span class="nc">Var</span> <span class="s2">&quot;Current time&quot;</span>
    <span class="o">|</span> <span class="nc">FieldOf</span> <span class="o">(</span><span class="nc">Assoc</span><span class="o">,</span> <span class="n">l</span><span class="o">,</span> <span class="nc">FieldOf</span> <span class="o">(</span><span class="nc">Assoc</span><span class="o">,</span> <span class="s2">&quot;l&quot;</span><span class="o">,</span> <span class="nc">Var</span> <span class="s2">&quot;i&quot;</span><span class="o">))</span> <span class="o">-&gt;</span> <span class="nc">Var</span> <span class="n">l</span>
    <span class="o">|</span> <span class="nc">FieldOf</span> <span class="o">(</span><span class="nc">Assoc</span><span class="o">,</span> <span class="n">c</span><span class="o">,</span> <span class="nc">FieldOf</span> <span class="o">(</span><span class="nc">Assoc</span><span class="o">,</span> <span class="s2">&quot;c&quot;</span><span class="o">,</span> <span class="nc">Var</span> <span class="s2">&quot;i&quot;</span><span class="o">))</span> <span class="o">-&gt;</span> <span class="nc">Var</span> <span class="n">c</span>

    <span class="o">|</span> <span class="nc">Is</span> <span class="o">(</span><span class="n">x</span><span class="o">,</span> <span class="o">_,</span> <span class="nc">Var</span> <span class="s2">&quot;car_drive_state&quot;</span><span class="o">)</span> <span class="o">-&gt;</span>
       <span class="k">begin</span> <span class="k">match</span> <span class="n">x</span> <span class="k">with</span>
       <span class="o">|</span> <span class="s2">&quot;Accelerating&quot;</span> <span class="o">-&gt;</span> <span class="nc">Custom</span> <span class="o">(</span><span class="nc">DriveState</span> <span class="nc">Accelerating</span><span class="o">)</span>
       <span class="o">|</span> <span class="s2">&quot;Steady&quot;</span> <span class="o">-&gt;</span> <span class="nc">Custom</span> <span class="o">(</span><span class="nc">DriveState</span> <span class="nc">Steady</span><span class="o">)</span>
       <span class="o">|</span> <span class="s2">&quot;Braking&quot;</span> <span class="o">-&gt;</span> <span class="nc">Custom</span> <span class="o">(</span><span class="nc">DriveState</span> <span class="nc">Braking</span><span class="o">)</span>
       <span class="o">|</span> <span class="o">_</span> <span class="o">-&gt;</span> <span class="k">raise</span> <span class="nc">Ignore</span>
       <span class="k">end</span>

    <span class="o">|</span> <span class="nc">Eq</span> <span class="o">(</span><span class="nc">Var</span> <span class="s2">&quot;light_state&quot;</span><span class="o">,</span> <span class="nc">Obj</span> <span class="o">(</span><span class="n">x</span><span class="o">,</span> <span class="bp">[]</span><span class="o">))</span> <span class="o">-&gt;</span>
       <span class="nc">Is</span> <span class="o">(</span><span class="n">x</span><span class="o">,</span> <span class="bp">[]</span><span class="o">,</span> <span class="nc">Var</span> <span class="s2">&quot;light_state&quot;</span><span class="o">)</span>

    <span class="o">|</span> <span class="nc">Is</span> <span class="o">(</span><span class="n">x</span><span class="o">,</span> <span class="o">_,</span> <span class="nc">Var</span> <span class="s2">&quot;light_state&quot;</span><span class="o">)</span> <span class="o">-&gt;</span>
       <span class="k">begin</span> <span class="k">match</span> <span class="n">x</span> <span class="k">with</span>
       <span class="o">|</span> <span class="s2">&quot;Green&quot;</span> <span class="o">-&gt;</span> <span class="nc">Custom</span> <span class="o">(</span><span class="nc">LightState</span> <span class="nc">Green</span><span class="o">)</span>
       <span class="o">|</span> <span class="s2">&quot;Yellow&quot;</span> <span class="o">-&gt;</span> <span class="nc">Custom</span> <span class="o">(</span><span class="nc">LightState</span> <span class="nc">Yellow</span><span class="o">)</span>
       <span class="o">|</span> <span class="s2">&quot;Red&quot;</span> <span class="o">-&gt;</span> <span class="nc">Custom</span> <span class="o">(</span><span class="nc">LightState</span> <span class="nc">Red</span><span class="o">)</span>
       <span class="o">|</span> <span class="o">_</span> <span class="o">-&gt;</span> <span class="k">raise</span> <span class="nc">Ignore</span>
       <span class="k">end</span>

    <span class="o">|</span> <span class="nc">Minus</span> <span class="o">(</span><span class="nc">Var</span> <span class="s2">&quot;light_change_time&quot;</span><span class="o">,</span> <span class="nc">Int</span> <span class="mi">1</span><span class="o">)</span> <span class="o">-&gt;</span>
       <span class="nc">Custom</span> <span class="nc">TimeToChangeLight</span>

    <span class="o">|</span> <span class="nc">Minus</span> <span class="o">(</span><span class="nc">Var</span> <span class="s2">&quot;blink_time&quot;</span><span class="o">,</span> <span class="nc">Int</span> <span class="mi">1</span><span class="o">)</span> <span class="o">-&gt;</span>
       <span class="nc">Custom</span> <span class="nc">TimeToBlink</span>

    <span class="o">|</span> <span class="nc">Var</span> <span class="s2">&quot;blinking&quot;</span> <span class="o">-&gt;</span>
       <span class="nc">Custom</span> <span class="o">(</span><span class="nc">LightBlinking</span> <span class="bp">true</span><span class="o">)</span>

    <span class="o">|</span> <span class="nc">Not</span> <span class="o">(</span><span class="nc">Custom</span> <span class="o">(</span><span class="nc">LightBlinking</span> <span class="bp">true</span><span class="o">))</span> <span class="o">-&gt;</span>
       <span class="nc">Custom</span> <span class="o">(</span><span class="nc">LightBlinking</span> <span class="bp">false</span><span class="o">)</span>

    <span class="o">|</span> <span class="nc">Geq</span> <span class="o">(</span><span class="nc">Var</span> <span class="s2">&quot;car_max_speed&quot;</span><span class="o">,</span> <span class="nc">Plus</span> <span class="o">(</span><span class="nc">Var</span> <span class="s2">&quot;car_speed&quot;</span><span class="o">,</span> <span class="nc">Var</span> <span class="s2">&quot;car_accel_speed&quot;</span><span class="o">))</span>
      <span class="o">-&gt;</span> <span class="nc">Custom</span> <span class="o">(</span><span class="nc">WithinMaxSpeed</span> <span class="bp">true</span><span class="o">)</span>

    <span class="o">|</span> <span class="nc">Gt</span> <span class="o">(</span><span class="nc">Plus</span> <span class="o">(</span><span class="nc">Var</span> <span class="s2">&quot;car_speed&quot;</span><span class="o">,</span> <span class="nc">Var</span> <span class="s2">&quot;car_accel_speed&quot;</span><span class="o">),</span> <span class="nc">Var</span> <span class="s2">&quot;car_max_speed&quot;</span><span class="o">)</span>
      <span class="o">-&gt;</span> <span class="nc">Custom</span> <span class="o">(</span><span class="nc">WithinMaxSpeed</span> <span class="bp">false</span><span class="o">)</span>

    <span class="o">|</span> <span class="nc">Geq</span> <span class="o">(</span><span class="nc">Minus</span> <span class="o">(</span><span class="nc">Var</span> <span class="s2">&quot;car_speed&quot;</span><span class="o">,</span> <span class="nc">Var</span> <span class="s2">&quot;car_accel_speed&quot;</span><span class="o">),</span> <span class="nc">Int</span> <span class="mi">0</span><span class="o">)</span>
      <span class="o">-&gt;</span> <span class="nc">Custom</span> <span class="nc">GoingForwards</span>

    <span class="o">|</span> <span class="nc">Gt</span> <span class="o">(</span><span class="nc">Int</span> <span class="mi">0</span><span class="o">,</span> <span class="nc">Minus</span> <span class="o">(</span><span class="nc">Var</span> <span class="s2">&quot;car_speed&quot;</span><span class="o">,</span> <span class="nc">Var</span> <span class="s2">&quot;car_accel_speed&quot;</span><span class="o">))</span>
      <span class="o">-&gt;</span> <span class="nc">Custom</span> <span class="nc">GoingBackwards</span>

    <span class="c">(* 10 is currently hard coded in the model *)</span>
    <span class="o">|</span> <span class="nc">Geq</span> <span class="o">(</span><span class="nc">Int</span> <span class="mi">10</span><span class="o">,</span> <span class="nc">Plus</span> <span class="o">(</span><span class="nc">Var</span> <span class="s2">&quot;car_distance&quot;</span><span class="o">,</span> <span class="nc">Var</span> <span class="s2">&quot;car_speed&quot;</span><span class="o">))</span>
      <span class="o">-&gt;</span> <span class="nc">Custom</span> <span class="o">(</span><span class="nc">CurrentSpeedEnough</span> <span class="bp">false</span><span class="o">)</span>

    <span class="o">|</span> <span class="nc">Gt</span> <span class="o">(</span><span class="nc">Plus</span> <span class="o">(</span><span class="nc">Var</span> <span class="s2">&quot;car_distance&quot;</span><span class="o">,</span> <span class="nc">Var</span> <span class="s2">&quot;car_speed&quot;</span><span class="o">),</span> <span class="nc">Int</span> <span class="mi">10</span><span class="o">)</span>
      <span class="o">-&gt;</span> <span class="nc">Custom</span> <span class="o">(</span><span class="nc">CurrentSpeedEnough</span> <span class="bp">true</span><span class="o">)</span>

    <span class="o">|</span> <span class="n">x</span> <span class="o">-&gt;</span> <span class="n">x</span>

  <span class="k">let</span> <span class="k">rec</span> <span class="n">refine</span> <span class="o">(</span><span class="n">node</span> <span class="o">:</span> <span class="n">node</span><span class="o">)</span> <span class="o">=</span>
    <span class="k">try</span>
      <span class="k">match</span> <span class="n">node</span> <span class="k">with</span>
      <span class="o">|</span> <span class="nc">Eq</span> <span class="o">(</span><span class="nc">Var</span> <span class="s2">&quot;F&quot;</span><span class="o">,</span> <span class="nc">Struct</span> <span class="o">(</span><span class="s2">&quot;intersection&quot;</span><span class="o">,</span> <span class="n">intersection</span><span class="o">))</span>
        <span class="o">-&gt;</span> <span class="n">refine_invariant</span> <span class="n">intersection</span> <span class="o">|&gt;</span> <span class="nn">List</span><span class="p">.</span><span class="n">flat_map</span> <span class="n">refine</span>
      <span class="o">|</span> <span class="n">node</span> <span class="o">-&gt;</span>
         <span class="o">[</span><span class="nn">XF</span><span class="p">.</span><span class="n">walk_fix</span> <span class="n">walk</span> <span class="n">node</span><span class="o">]</span>
    <span class="k">with</span> <span class="nc">Ignore</span> <span class="o">-&gt;</span>
      <span class="bp">[]</span>
<span class="k">end</span><span class="o">;;</span>

<span class="k">let</span> <span class="n">pp_cs</span> <span class="o">?</span><span class="n">inv</span> <span class="n">cs</span> <span class="o">=</span>
 <span class="n">cs</span>
 <span class="o">|&gt;</span> <span class="nn">PPrinter</span><span class="p">.</span><span class="n">pp</span> <span class="o">~</span><span class="n">refine</span><span class="o">:</span><span class="nn">Refiner</span><span class="p">.</span><span class="n">refine</span> <span class="o">?</span><span class="n">inv</span>
 <span class="o">|&gt;</span> <span class="nn">List</span><span class="p">.</span><span class="n">map</span> <span class="o">(</span><span class="nn">CCFormat</span><span class="p">.</span><span class="n">to_string</span> <span class="o">(</span><span class="nn">PPrinter</span><span class="p">.</span><span class="nn">Printer</span><span class="p">.</span><span class="n">print</span> <span class="bp">()</span><span class="o">))</span>

<span class="k">let</span> <span class="n">regions_doc</span> <span class="o">(</span><span class="n">regions</span> <span class="o">:</span> <span class="nn">Decompose</span><span class="p">.</span><span class="n">t</span> <span class="kt">list</span><span class="o">)</span> <span class="o">=</span>
 <span class="nn">Jupyter_imandra</span><span class="p">.</span><span class="nn">Decompose_render</span><span class="p">.</span><span class="n">regions_doc</span> <span class="o">~</span><span class="n">pp_cs</span> <span class="n">regions</span><span class="o">;;</span>

<span class="o">#</span><span class="n">install_doc</span> <span class="n">regions_doc</span><span class="o">;;</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt output_prompt">Out[7]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>                                                                                                                                                                                  
module Custom :
  sig
    type t =
        DriveState of
          driving_state
      | WithinMaxSpeed of
          bool
      | GoingForwards
      | GoingBackwards
      | CurrentSpeedEnough of
          bool
      | LightState of
          color
      | LightBlinking of
          bool
      | TimeToBlink
      | TimeToChangeLight
    val compare :
      &#39;a -&gt;
      &#39;b -&gt;
      Imandra_tools.Region_pp_intf.comparison
    val map :
      &#39;a -&gt;
      &#39;b -&gt;
      &#39;b
    val driving_state_string :
      driving_state -&gt;
      string
    val light_state_string :
      color -&gt;
      string
    val print :
      &#39;a -&gt;
      focus:&#39;b -&gt;
      Format.formatter -&gt;
      t -&gt;
      unit
  end
module PPrinter :
  sig
    type custom = Custom.t
    type node = custom Imandra_tools.Region_pp_intf.node_
    module XF :
      sig
        val map : (node -&gt; node) -&gt; node -&gt; node
        val walk : pre:(node -&gt; node) -&gt; ?post:(node -&gt; node) -&gt; node -&gt; node
        val fix_ : ?bound:int -&gt; (&#39;a -&gt; &#39;a) -&gt; &#39;a -&gt; &#39;a -&gt; &#39;a
        val fix : ?bound:int -&gt; (&#39;a -&gt; &#39;a) -&gt; &#39;a -&gt; &#39;a
        val walk_fix : ?bound:int -&gt; (node -&gt; node) -&gt; node -&gt; node
        val iterated : unit -&gt; &#39;a
        val iter : f:(node -&gt; unit) -&gt; node -&gt; unit
        val exists : f:(node -&gt; bool) -&gt; node -&gt; bool
      end
    val vars : node -&gt; Imandra_tools.Region_pp_intf.var_name list
    val has_symbolic_term : node -&gt; bool
    module Printer :
      sig
        val print :
          ?focus:Imandra_tools.Region_pp_intf.var_name -&gt;
          unit -&gt; node CCFormat.printer
        val to_string :
          ?focus:Imandra_tools.Region_pp_intf.var_name -&gt; node -&gt; string
      end
    module Comparator :
      sig
        val is_eq : Imandra_tools.Region_pp_intf.comparison -&gt; bool
        val compare : node -&gt; node -&gt; Imandra_tools.Region_pp_intf.comparison
        val compare_all :
          node list -&gt; node list -&gt; Imandra_tools.Region_pp_intf.comparison
      end
    module Simplifier : sig val simplify : node -&gt; node end
    module Unifier :
      sig
        type unifier = node -&gt; node -&gt; node option
        val unify : ?unify:unifier -&gt; node list -&gt; node list
      end
    module Parser : sig val parse : Imandra_surface.Term.t -&gt; node option end
    module Compactor : sig val compact : node list -&gt; node list end
    type refiner = node -&gt; node list
    type pprinter =
        ?unify:Unifier.unifier -&gt;
        ?refine:refiner -&gt;
        ?inv:bool -&gt; Imandra_surface.Term.t list -&gt; node list
    val pp : pprinter
    val print :
      ?pp:pprinter -&gt;
      ?unify:Unifier.unifier -&gt;
      ?refine:refiner -&gt;
      ?skip_invariant:bool -&gt;
      ?focus:Imandra_tools.Region_pp_intf.var_name -&gt;
      unit -&gt;
      Format.formatter -&gt; Imandra_surface.Top_result.decompose_region -&gt; unit
    val to_string :
      ?unify:Unifier.unifier -&gt;
      ?refine:refiner -&gt;
      Imandra_surface.Top_result.decompose_region -&gt; string
  end
module Refiner :
  sig
    exception Ignore
    val refine_invariant :
      (string * PPrinter.node) list -&gt; PPrinter.node list
    val walk : PPrinter.node -&gt; PPrinter.node
    val refine : PPrinter.node -&gt; PPrinter.node list
  end
val pp_cs : ?inv:bool -&gt; Imandra_surface.Term.t list -&gt; string list = &lt;fun&gt;
val regions_doc :
  Imandra_interactive.Decompose.t list -&gt; Imandra_surface.Document.t = &lt;fun&gt;
</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="try-this-container">
  <a href="https://try.imandra.ai/launch/?next=/h/user-redirect/notebooks/Simple%20Stoplight%20Model.ipynb%23try-cell-15" target="_blank" rel="nofollow">
    <div class="try-this">Try this!</div>
  </a>
</div>
<div class="input">
<div class="prompt input_prompt">In&nbsp;[8]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ocaml"><pre><span></span><span class="n">regions</span><span class="o">;;</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt output_prompt">Out[8]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>- : Imandra_interactive.Decompose.t list =
                                                                                                                                                                                                      &lt;document&gt;
</pre>
</div>

</div>

<div class="output_area">

<div class="prompt"></div>



<div class="output_html rendered_html output_subarea ">
<div><div id="decompose-ffb95397-fc3d-48bb-854f-b1b2659b9735" class="decompose"><textarea class="display-none">{
  &quot;regions&quot;: [
    {
      &quot;constraints&quot;: [
        &quot;Car is steady&quot;, &quot;Current time &gt; Time to change light&quot;
      ],
      &quot;region&quot;: null,
      &quot;groups&quot;: [
        {
          &quot;constraints&quot;: [
            &quot;Car is steady&quot;, &quot;Current time &gt; Time to change light&quot;,
            &quot;Light is red&quot;
          ],
          &quot;region&quot;: {
            &quot;constraints&quot;: [
              &quot;Current time &gt; Time to change light&quot;, &quot;Light is red&quot;,
              &quot;Car is steady&quot;
            ],
            &quot;invariant&quot;:
              &quot;F = intersection.{\nc =\n  car_state.{\n  car_drive_state = Steady\n  ; car_speed = car_speed\n  ; car_distance = car_distance + car_speed\n  ; car_accel_speed = car_accel_speed\n  ; car_max_speed = car_max_speed\n  ; car_min_speed = car_min_speed\n  }\n; l =\n    light_state.{\n    blinking = false\n    ; current_time = Current time + 1\n    ; blink_time = blink_time\n    ; light_change_time = light_change_time\n    ; light_state = Green\n    }\n}&quot;
          },
          &quot;groups&quot;: [],
          &quot;label&quot;: &quot;R[5.1.2]&quot;,
          &quot;weight&quot;: 1
        },
        {
          &quot;constraints&quot;: [
            &quot;Car is steady&quot;, &quot;Current time &gt; Time to change light&quot;,
            &quot;Light is green&quot;
          ],
          &quot;region&quot;: null,
          &quot;groups&quot;: [
            {
              &quot;constraints&quot;: [
                &quot;Car is steady&quot;, &quot;Current time &gt; Time to change light&quot;,
                &quot;Light is green&quot;,
                &quot;Car's current speed isn't enough to make it in time&quot;
              ],
              &quot;region&quot;: {
                &quot;constraints&quot;: [
                  &quot;Current time &gt; Time to change light&quot;, &quot;Light is green&quot;,
                  &quot;Car is steady&quot;,
                  &quot;Car's current speed isn't enough to make it in time&quot;
                ],
                &quot;invariant&quot;:
                  &quot;F = intersection.{\nc =\n  car_state.{\n  car_drive_state = Braking\n  ; car_speed = car_speed\n  ; car_distance = car_distance + car_speed\n  ; car_accel_speed = car_accel_speed\n  ; car_max_speed = car_max_speed\n  ; car_min_speed = car_min_speed\n  }\n; l =\n    light_state.{\n    blinking = false\n    ; current_time = Current time + 1\n    ; blink_time = blink_time\n    ; light_change_time = light_change_time\n    ; light_state = Yellow\n    }\n}&quot;
              },
              &quot;groups&quot;: [],
              &quot;label&quot;: &quot;R[5.1.1.2]&quot;,
              &quot;weight&quot;: 1
            },
            {
              &quot;constraints&quot;: [
                &quot;Car is steady&quot;, &quot;Current time &gt; Time to change light&quot;,
                &quot;Light is green&quot;,
                &quot;Car's current speed is enough to make it in time&quot;
              ],
              &quot;region&quot;: {
                &quot;constraints&quot;: [
                  &quot;Current time &gt; Time to change light&quot;, &quot;Light is green&quot;,
                  &quot;Car is steady&quot;,
                  &quot;Car's current speed is enough to make it in time&quot;
                ],
                &quot;invariant&quot;:
                  &quot;F = intersection.{\nc =\n  car_state.{\n  car_drive_state = Accelerating\n  ; car_speed = car_speed\n  ; car_distance = car_distance + car_speed\n  ; car_accel_speed = car_accel_speed\n  ; car_max_speed = car_max_speed\n  ; car_min_speed = car_min_speed\n  }\n; l =\n    light_state.{\n    blinking = false\n    ; current_time = Current time + 1\n    ; blink_time = blink_time\n    ; light_change_time = light_change_time\n    ; light_state = Yellow\n    }\n}&quot;
              },
              &quot;groups&quot;: [],
              &quot;label&quot;: &quot;R[5.1.1.1]&quot;,
              &quot;weight&quot;: 1
            }
          ],
          &quot;label&quot;: &quot;(5.1.1)&quot;,
          &quot;weight&quot;: 2
        }
      ],
      &quot;label&quot;: &quot;(5.1)&quot;,
      &quot;weight&quot;: 3
    },
    {
      &quot;constraints&quot;: [
        &quot;Car is braking&quot;, &quot;Car is moving forwards&quot;,
        &quot;Current time &gt; Time to change light&quot;
      ],
      &quot;region&quot;: null,
      &quot;groups&quot;: [
        {
          &quot;constraints&quot;: [
            &quot;Car is braking&quot;, &quot;Car is moving forwards&quot;,
            &quot;Current time &gt; Time to change light&quot;, &quot;Light is red&quot;
          ],
          &quot;region&quot;: {
            &quot;constraints&quot;: [
              &quot;Current time &gt; Time to change light&quot;, &quot;Light is red&quot;,
              &quot;Car is braking&quot;, &quot;Car is moving forwards&quot;
            ],
            &quot;invariant&quot;:
              &quot;F = intersection.{\nc =\n  car_state.{\n  car_drive_state = Steady\n  ; car_speed = car_speed - car_accel_speed\n  ; car_distance = car_distance + car_speed\n  ; car_accel_speed = car_accel_speed\n  ; car_max_speed = car_max_speed\n  ; car_min_speed = car_min_speed\n  }\n; l =\n    light_state.{\n    blinking = false\n    ; current_time = Current time + 1\n    ; blink_time = blink_time\n    ; light_change_time = light_change_time\n    ; light_state = Green\n    }\n}&quot;
          },
          &quot;groups&quot;: [],
          &quot;label&quot;: &quot;R[4.1.1.2]&quot;,
          &quot;weight&quot;: 1
        },
        {
          &quot;constraints&quot;: [
            &quot;Car is braking&quot;, &quot;Car is moving forwards&quot;,
            &quot;Current time &gt; Time to change light&quot;, &quot;Light is green&quot;
          ],
          &quot;region&quot;: null,
          &quot;groups&quot;: [
            {
              &quot;constraints&quot;: [
                &quot;Car is braking&quot;, &quot;Car is moving forwards&quot;,
                &quot;Current time &gt; Time to change light&quot;, &quot;Light is green&quot;,
                &quot;Car's current speed isn't enough to make it in time&quot;
              ],
              &quot;region&quot;: {
                &quot;constraints&quot;: [
                  &quot;Current time &gt; Time to change light&quot;, &quot;Light is green&quot;,
                  &quot;Car is braking&quot;, &quot;Car is moving forwards&quot;,
                  &quot;Car's current speed isn't enough to make it in time&quot;
                ],
                &quot;invariant&quot;:
                  &quot;F = intersection.{\nc =\n  car_state.{\n  car_drive_state = Braking\n  ; car_speed = car_speed - car_accel_speed\n  ; car_distance = car_distance + car_speed\n  ; car_accel_speed = car_accel_speed\n  ; car_max_speed = car_max_speed\n  ; car_min_speed = car_min_speed\n  }\n; l =\n    light_state.{\n    blinking = false\n    ; current_time = Current time + 1\n    ; blink_time = blink_time\n    ; light_change_time = light_change_time\n    ; light_state = Yellow\n    }\n}&quot;
              },
              &quot;groups&quot;: [],
              &quot;label&quot;: &quot;R[4.1.1.1.2]&quot;,
              &quot;weight&quot;: 1
            },
            {
              &quot;constraints&quot;: [
                &quot;Car is braking&quot;, &quot;Car is moving forwards&quot;,
                &quot;Current time &gt; Time to change light&quot;, &quot;Light is green&quot;,
                &quot;Car's current speed is enough to make it in time&quot;
              ],
              &quot;region&quot;: {
                &quot;constraints&quot;: [
                  &quot;Current time &gt; Time to change light&quot;, &quot;Light is green&quot;,
                  &quot;Car is braking&quot;, &quot;Car is moving forwards&quot;,
                  &quot;Car's current speed is enough to make it in time&quot;
                ],
                &quot;invariant&quot;:
                  &quot;F = intersection.{\nc =\n  car_state.{\n  car_drive_state = Accelerating\n  ; car_speed = car_speed - car_accel_speed\n  ; car_distance = car_distance + car_speed\n  ; car_accel_speed = car_accel_speed\n  ; car_max_speed = car_max_speed\n  ; car_min_speed = car_min_speed\n  }\n; l =\n    light_state.{\n    blinking = false\n    ; current_time = Current time + 1\n    ; blink_time = blink_time\n    ; light_change_time = light_change_time\n    ; light_state = Yellow\n    }\n}&quot;
              },
              &quot;groups&quot;: [],
              &quot;label&quot;: &quot;R[4.1.1.1.1]&quot;,
              &quot;weight&quot;: 1
            }
          ],
          &quot;label&quot;: &quot;(4.1.1.1)&quot;,
          &quot;weight&quot;: 2
        }
      ],
      &quot;label&quot;: &quot;(4.1.1)&quot;,
      &quot;weight&quot;: 3
    },
    {
      &quot;constraints&quot;: [
        &quot;Car is accelerating&quot;, &quot;Car is within max speed limits&quot;,
        &quot;Current time &gt; Time to change light&quot;
      ],
      &quot;region&quot;: null,
      &quot;groups&quot;: [
        {
          &quot;constraints&quot;: [
            &quot;Car is accelerating&quot;, &quot;Car is within max speed limits&quot;,
            &quot;Current time &gt; Time to change light&quot;, &quot;Light is red&quot;
          ],
          &quot;region&quot;: {
            &quot;constraints&quot;: [
              &quot;Current time &gt; Time to change light&quot;, &quot;Light is red&quot;,
              &quot;Car is accelerating&quot;, &quot;Car is within max speed limits&quot;
            ],
            &quot;invariant&quot;:
              &quot;F = intersection.{\nc =\n  car_state.{\n  car_drive_state = Steady\n  ; car_speed = car_speed + car_accel_speed\n  ; car_distance = car_distance + car_speed\n  ; car_accel_speed = car_accel_speed\n  ; car_max_speed = car_max_speed\n  ; car_min_speed = car_min_speed\n  }\n; l =\n    light_state.{\n    blinking = false\n    ; current_time = Current time + 1\n    ; blink_time = blink_time\n    ; light_change_time = light_change_time\n    ; light_state = Green\n    }\n}&quot;
          },
          &quot;groups&quot;: [],
          &quot;label&quot;: &quot;R[3.1.1.2]&quot;,
          &quot;weight&quot;: 1
        },
        {
          &quot;constraints&quot;: [
            &quot;Car is accelerating&quot;, &quot;Car is within max speed limits&quot;,
            &quot;Current time &gt; Time to change light&quot;, &quot;Light is green&quot;
          ],
          &quot;region&quot;: null,
          &quot;groups&quot;: [
            {
              &quot;constraints&quot;: [
                &quot;Car is accelerating&quot;, &quot;Car is within max speed limits&quot;,
                &quot;Current time &gt; Time to change light&quot;, &quot;Light is green&quot;,
                &quot;Car's current speed isn't enough to make it in time&quot;
              ],
              &quot;region&quot;: {
                &quot;constraints&quot;: [
                  &quot;Current time &gt; Time to change light&quot;, &quot;Light is green&quot;,
                  &quot;Car is accelerating&quot;, &quot;Car is within max speed limits&quot;,
                  &quot;Car's current speed isn't enough to make it in time&quot;
                ],
                &quot;invariant&quot;:
                  &quot;F = intersection.{\nc =\n  car_state.{\n  car_drive_state = Braking\n  ; car_speed = car_speed + car_accel_speed\n  ; car_distance = car_distance + car_speed\n  ; car_accel_speed = car_accel_speed\n  ; car_max_speed = car_max_speed\n  ; car_min_speed = car_min_speed\n  }\n; l =\n    light_state.{\n    blinking = false\n    ; current_time = Current time + 1\n    ; blink_time = blink_time\n    ; light_change_time = light_change_time\n    ; light_state = Yellow\n    }\n}&quot;
              },
              &quot;groups&quot;: [],
              &quot;label&quot;: &quot;R[3.1.1.1.2]&quot;,
              &quot;weight&quot;: 1
            },
            {
              &quot;constraints&quot;: [
                &quot;Car is accelerating&quot;, &quot;Car is within max speed limits&quot;,
                &quot;Current time &gt; Time to change light&quot;, &quot;Light is green&quot;,
                &quot;Car's current speed is enough to make it in time&quot;
              ],
              &quot;region&quot;: {
                &quot;constraints&quot;: [
                  &quot;Current time &gt; Time to change light&quot;, &quot;Light is green&quot;,
                  &quot;Car is accelerating&quot;, &quot;Car is within max speed limits&quot;,
                  &quot;Car's current speed is enough to make it in time&quot;
                ],
                &quot;invariant&quot;:
                  &quot;F = intersection.{\nc =\n  car_state.{\n  car_drive_state = Accelerating\n  ; car_speed = car_speed + car_accel_speed\n  ; car_distance = car_distance + car_speed\n  ; car_accel_speed = car_accel_speed\n  ; car_max_speed = car_max_speed\n  ; car_min_speed = car_min_speed\n  }\n; l =\n    light_state.{\n    blinking = false\n    ; current_time = Current time + 1\n    ; blink_time = blink_time\n    ; light_change_time = light_change_time\n    ; light_state = Yellow\n    }\n}&quot;
              },
              &quot;groups&quot;: [],
              &quot;label&quot;: &quot;R[3.1.1.1.1]&quot;,
              &quot;weight&quot;: 1
            }
          ],
          &quot;label&quot;: &quot;(3.1.1.1)&quot;,
          &quot;weight&quot;: 2
        }
      ],
      &quot;label&quot;: &quot;(3.1.1)&quot;,
      &quot;weight&quot;: 3
    },
    {
      &quot;constraints&quot;: [
        &quot;Light is yellow&quot;, &quot;Current time &gt; Time to change light&quot;
      ],
      &quot;region&quot;: null,
      &quot;groups&quot;: [
        {
          &quot;constraints&quot;: [
            &quot;Light is yellow&quot;, &quot;Current time &gt; Time to change light&quot;,
            &quot;Car is steady&quot;
          ],
          &quot;region&quot;: {
            &quot;constraints&quot;: [
              &quot;Current time &gt; Time to change light&quot;, &quot;Light is yellow&quot;,
              &quot;Car is steady&quot;
            ],
            &quot;invariant&quot;:
              &quot;F = intersection.{\nc =\n  car_state.{\n  car_drive_state = Braking\n  ; car_speed = car_speed\n  ; car_distance = car_distance + car_speed\n  ; car_accel_speed = car_accel_speed\n  ; car_max_speed = car_max_speed\n  ; car_min_speed = car_min_speed\n  }\n; l =\n    light_state.{\n    blinking = false\n    ; current_time = Current time + 1\n    ; blink_time = blink_time\n    ; light_change_time = light_change_time\n    ; light_state = Red\n    }\n}&quot;
          },
          &quot;groups&quot;: [],
          &quot;label&quot;: &quot;R[2.1.3]&quot;,
          &quot;weight&quot;: 1
        },
        {
          &quot;constraints&quot;: [
            &quot;Light is yellow&quot;, &quot;Current time &gt; Time to change light&quot;,
            &quot;Car is braking&quot;, &quot;Car is moving forwards&quot;
          ],
          &quot;region&quot;: {
            &quot;constraints&quot;: [
              &quot;Current time &gt; Time to change light&quot;, &quot;Light is yellow&quot;,
              &quot;Car is braking&quot;, &quot;Car is moving forwards&quot;
            ],
            &quot;invariant&quot;:
              &quot;F = intersection.{\nc =\n  car_state.{\n  car_drive_state = Braking\n  ; car_speed = car_speed - car_accel_speed\n  ; car_distance = car_distance + car_speed\n  ; car_accel_speed = car_accel_speed\n  ; car_max_speed = car_max_speed\n  ; car_min_speed = car_min_speed\n  }\n; l =\n    light_state.{\n    blinking = false\n    ; current_time = Current time + 1\n    ; blink_time = blink_time\n    ; light_change_time = light_change_time\n    ; light_state = Red\n    }\n}&quot;
          },
          &quot;groups&quot;: [],
          &quot;label&quot;: &quot;R[2.1.2.1]&quot;,
          &quot;weight&quot;: 1
        },
        {
          &quot;constraints&quot;: [
            &quot;Light is yellow&quot;, &quot;Current time &gt; Time to change light&quot;,
            &quot;Car is accelerating&quot;, &quot;Car is within max speed limits&quot;
          ],
          &quot;region&quot;: {
            &quot;constraints&quot;: [
              &quot;Current time &gt; Time to change light&quot;, &quot;Light is yellow&quot;,
              &quot;Car is accelerating&quot;, &quot;Car is within max speed limits&quot;
            ],
            &quot;invariant&quot;:
              &quot;F = intersection.{\nc =\n  car_state.{\n  car_drive_state = Braking\n  ; car_speed = car_speed + car_accel_speed\n  ; car_distance = car_distance + car_speed\n  ; car_accel_speed = car_accel_speed\n  ; car_max_speed = car_max_speed\n  ; car_min_speed = car_min_speed\n  }\n; l =\n    light_state.{\n    blinking = false\n    ; current_time = Current time + 1\n    ; blink_time = blink_time\n    ; light_change_time = light_change_time\n    ; light_state = Red\n    }\n}&quot;
          },
          &quot;groups&quot;: [],
          &quot;label&quot;: &quot;R[2.1.1.1]&quot;,
          &quot;weight&quot;: 1
        }
      ],
      &quot;label&quot;: &quot;(2.1)&quot;,
      &quot;weight&quot;: 3
    },
    {
      &quot;constraints&quot;: [ &quot;Current time &lt;= Time to change light&quot; ],
      &quot;region&quot;: null,
      &quot;groups&quot;: [
        {
          &quot;constraints&quot;: [
            &quot;Current time &lt;= Time to change light&quot;,
            &quot;Current time &gt; Time to blink&quot;
          ],
          &quot;region&quot;: null,
          &quot;groups&quot;: [
            {
              &quot;constraints&quot;: [
                &quot;Current time &lt;= Time to change light&quot;,
                &quot;Current time &gt; Time to blink&quot;, &quot;Light is red&quot;
              ],
              &quot;region&quot;: null,
              &quot;groups&quot;: [
                {
                  &quot;constraints&quot;: [
                    &quot;Current time &lt;= Time to change light&quot;,
                    &quot;Current time &gt; Time to blink&quot;, &quot;Light is red&quot;,
                    &quot;Car is steady&quot;
                  ],
                  &quot;region&quot;: {
                    &quot;constraints&quot;: [
                      &quot;Current time &lt;= Time to change light&quot;, &quot;Light is red&quot;,
                      &quot;Current time &gt; Time to blink&quot;, &quot;Car is steady&quot;
                    ],
                    &quot;invariant&quot;:
                      &quot;F = intersection.{\nc =\n  car_state.{\n  car_drive_state = Braking\n  ; car_speed = car_speed\n  ; car_distance = car_distance + car_speed\n  ; car_accel_speed = car_accel_speed\n  ; car_max_speed = car_max_speed\n  ; car_min_speed = car_min_speed\n  }\n; l =\n    light_state.{\n    blinking = Light is blinking\n    ; current_time = Current time + 1\n    ; blink_time = blink_time\n    ; light_change_time = light_change_time\n    ; light_state = light_state\n    }\n}&quot;
                  },
                  &quot;groups&quot;: [],
                  &quot;label&quot;: &quot;R[1.3.2.3]&quot;,
                  &quot;weight&quot;: 1
                },
                {
                  &quot;constraints&quot;: [
                    &quot;Current time &lt;= Time to change light&quot;,
                    &quot;Current time &gt; Time to blink&quot;, &quot;Light is red&quot;,
                    &quot;Car is braking&quot;, &quot;Car is moving forwards&quot;
                  ],
                  &quot;region&quot;: {
                    &quot;constraints&quot;: [
                      &quot;Current time &lt;= Time to change light&quot;, &quot;Light is red&quot;,
                      &quot;Current time &gt; Time to blink&quot;, &quot;Car is braking&quot;,
                      &quot;Car is moving forwards&quot;
                    ],
                    &quot;invariant&quot;:
                      &quot;F = intersection.{\nc =\n  car_state.{\n  car_drive_state = Braking\n  ; car_speed = car_speed - car_accel_speed\n  ; car_distance = car_distance + car_speed\n  ; car_accel_speed = car_accel_speed\n  ; car_max_speed = car_max_speed\n  ; car_min_speed = car_min_speed\n  }\n; l =\n    light_state.{\n    blinking = Light is blinking\n    ; current_time = Current time + 1\n    ; blink_time = blink_time\n    ; light_change_time = light_change_time\n    ; light_state = light_state\n    }\n}&quot;
                  },
                  &quot;groups&quot;: [],
                  &quot;label&quot;: &quot;R[1.3.2.2.1]&quot;,
                  &quot;weight&quot;: 1
                },
                {
                  &quot;constraints&quot;: [
                    &quot;Current time &lt;= Time to change light&quot;,
                    &quot;Current time &gt; Time to blink&quot;, &quot;Light is red&quot;,
                    &quot;Car is accelerating&quot;, &quot;Car is within max speed limits&quot;
                  ],
                  &quot;region&quot;: {
                    &quot;constraints&quot;: [
                      &quot;Current time &lt;= Time to change light&quot;, &quot;Light is red&quot;,
                      &quot;Current time &gt; Time to blink&quot;, &quot;Car is accelerating&quot;,
                      &quot;Car is within max speed limits&quot;
                    ],
                    &quot;invariant&quot;:
                      &quot;F = intersection.{\nc =\n  car_state.{\n  car_drive_state = Braking\n  ; car_speed = car_speed + car_accel_speed\n  ; car_distance = car_distance + car_speed\n  ; car_accel_speed = car_accel_speed\n  ; car_max_speed = car_max_speed\n  ; car_min_speed = car_min_speed\n  }\n; l =\n    light_state.{\n    blinking = Light is blinking\n    ; current_time = Current time + 1\n    ; blink_time = blink_time\n    ; light_change_time = light_change_time\n    ; light_state = light_state\n    }\n}&quot;
                  },
                  &quot;groups&quot;: [],
                  &quot;label&quot;: &quot;R[1.3.2.1.1]&quot;,
                  &quot;weight&quot;: 1
                }
              ],
              &quot;label&quot;: &quot;(1.3.2)&quot;,
              &quot;weight&quot;: 3
            },
            {
              &quot;constraints&quot;: [
                &quot;Current time &lt;= Time to change light&quot;,
                &quot;Current time &gt; Time to blink&quot;, &quot;Light is green&quot;
              ],
              &quot;region&quot;: null,
              &quot;groups&quot;: [
                {
                  &quot;constraints&quot;: [
                    &quot;Current time &lt;= Time to change light&quot;,
                    &quot;Current time &gt; Time to blink&quot;, &quot;Light is green&quot;,
                    &quot;Car is steady&quot;
                  ],
                  &quot;region&quot;: {
                    &quot;constraints&quot;: [
                      &quot;Current time &lt;= Time to change light&quot;,
                      &quot;Light is green&quot;, &quot;Car is steady&quot;,
                      &quot;Current time &gt; Time to blink&quot;
                    ],
                    &quot;invariant&quot;:
                      &quot;F = intersection.{\nc =\n  car_state.{\n  car_drive_state = Steady\n  ; car_speed = car_speed\n  ; car_distance = car_distance + car_speed\n  ; car_accel_speed = car_accel_speed\n  ; car_max_speed = car_max_speed\n  ; car_min_speed = car_min_speed\n  }\n; l =\n    light_state.{\n    blinking = true\n    ; current_time = Current time + 1\n    ; blink_time = blink_time\n    ; light_change_time = light_change_time\n    ; light_state = light_state\n    }\n}&quot;
                  },
                  &quot;groups&quot;: [],
                  &quot;label&quot;: &quot;R[1.3.1.3]&quot;,
                  &quot;weight&quot;: 1
                },
                {
                  &quot;constraints&quot;: [
                    &quot;Current time &lt;= Time to change light&quot;,
                    &quot;Current time &gt; Time to blink&quot;, &quot;Light is green&quot;,
                    &quot;Car is braking&quot;, &quot;Car is moving forwards&quot;
                  ],
                  &quot;region&quot;: {
                    &quot;constraints&quot;: [
                      &quot;Current time &lt;= Time to change light&quot;,
                      &quot;Light is green&quot;, &quot;Car is braking&quot;,
                      &quot;Car is moving forwards&quot;,
                      &quot;Current time &gt; Time to blink&quot;
                    ],
                    &quot;invariant&quot;:
                      &quot;F = intersection.{\nc =\n  car_state.{\n  car_drive_state = Steady\n  ; car_speed = car_speed - car_accel_speed\n  ; car_distance = car_distance + car_speed\n  ; car_accel_speed = car_accel_speed\n  ; car_max_speed = car_max_speed\n  ; car_min_speed = car_min_speed\n  }\n; l =\n    light_state.{\n    blinking = true\n    ; current_time = Current time + 1\n    ; blink_time = blink_time\n    ; light_change_time = light_change_time\n    ; light_state = light_state\n    }\n}&quot;
                  },
                  &quot;groups&quot;: [],
                  &quot;label&quot;: &quot;R[1.3.1.2.1]&quot;,
                  &quot;weight&quot;: 1
                },
                {
                  &quot;constraints&quot;: [
                    &quot;Current time &lt;= Time to change light&quot;,
                    &quot;Current time &gt; Time to blink&quot;, &quot;Light is green&quot;,
                    &quot;Car is accelerating&quot;, &quot;Car is within max speed limits&quot;
                  ],
                  &quot;region&quot;: {
                    &quot;constraints&quot;: [
                      &quot;Current time &lt;= Time to change light&quot;,
                      &quot;Light is green&quot;, &quot;Car is accelerating&quot;,
                      &quot;Car is within max speed limits&quot;,
                      &quot;Current time &gt; Time to blink&quot;
                    ],
                    &quot;invariant&quot;:
                      &quot;F = intersection.{\nc =\n  car_state.{\n  car_drive_state = Steady\n  ; car_speed = car_speed + car_accel_speed\n  ; car_distance = car_distance + car_speed\n  ; car_accel_speed = car_accel_speed\n  ; car_max_speed = car_max_speed\n  ; car_min_speed = car_min_speed\n  }\n; l =\n    light_state.{\n    blinking = true\n    ; current_time = Current time + 1\n    ; blink_time = blink_time\n    ; light_change_time = light_change_time\n    ; light_state = light_state\n    }\n}&quot;
                  },
                  &quot;groups&quot;: [],
                  &quot;label&quot;: &quot;R[1.3.1.1.1]&quot;,
                  &quot;weight&quot;: 1
                }
              ],
              &quot;label&quot;: &quot;(1.3.1)&quot;,
              &quot;weight&quot;: 3
            }
          ],
          &quot;label&quot;: &quot;(1.3)&quot;,
          &quot;weight&quot;: 6
        },
        {
          &quot;constraints&quot;: [
            &quot;Current time &lt;= Time to change light&quot;, &quot;Light is yellow&quot;,
            &quot;Current time &gt; Time to blink&quot;
          ],
          &quot;region&quot;: null,
          &quot;groups&quot;: [
            {
              &quot;constraints&quot;: [
                &quot;Current time &lt;= Time to change light&quot;, &quot;Light is yellow&quot;,
                &quot;Current time &gt; Time to blink&quot;, &quot;Car is steady&quot;
              ],
              &quot;region&quot;: {
                &quot;constraints&quot;: [
                  &quot;Current time &lt;= Time to change light&quot;, &quot;Light is yellow&quot;,
                  &quot;Current time &gt; Time to blink&quot;, &quot;Car is steady&quot;
                ],
                &quot;invariant&quot;:
                  &quot;F = intersection.{\nc =\n  car_state.{\n  car_drive_state = Braking\n  ; car_speed = car_speed\n  ; car_distance = car_distance + car_speed\n  ; car_accel_speed = car_accel_speed\n  ; car_max_speed = car_max_speed\n  ; car_min_speed = car_min_speed\n  }\n; l =\n    light_state.{\n    blinking = true\n    ; current_time = Current time + 1\n    ; blink_time = blink_time\n    ; light_change_time = light_change_time\n    ; light_state = light_state\n    }\n}&quot;
              },
              &quot;groups&quot;: [],
              &quot;label&quot;: &quot;R[1.2.1.3]&quot;,
              &quot;weight&quot;: 1
            },
            {
              &quot;constraints&quot;: [
                &quot;Current time &lt;= Time to change light&quot;, &quot;Light is yellow&quot;,
                &quot;Current time &gt; Time to blink&quot;, &quot;Car is braking&quot;,
                &quot;Car is moving forwards&quot;
              ],
              &quot;region&quot;: {
                &quot;constraints&quot;: [
                  &quot;Current time &lt;= Time to change light&quot;, &quot;Light is yellow&quot;,
                  &quot;Current time &gt; Time to blink&quot;, &quot;Car is braking&quot;,
                  &quot;Car is moving forwards&quot;
                ],
                &quot;invariant&quot;:
                  &quot;F = intersection.{\nc =\n  car_state.{\n  car_drive_state = Braking\n  ; car_speed = car_speed - car_accel_speed\n  ; car_distance = car_distance + car_speed\n  ; car_accel_speed = car_accel_speed\n  ; car_max_speed = car_max_speed\n  ; car_min_speed = car_min_speed\n  }\n; l =\n    light_state.{\n    blinking = true\n    ; current_time = Current time + 1\n    ; blink_time = blink_time\n    ; light_change_time = light_change_time\n    ; light_state = light_state\n    }\n}&quot;
              },
              &quot;groups&quot;: [],
              &quot;label&quot;: &quot;R[1.2.1.2.1]&quot;,
              &quot;weight&quot;: 1
            },
            {
              &quot;constraints&quot;: [
                &quot;Current time &lt;= Time to change light&quot;, &quot;Light is yellow&quot;,
                &quot;Current time &gt; Time to blink&quot;, &quot;Car is accelerating&quot;,
                &quot;Car is within max speed limits&quot;
              ],
              &quot;region&quot;: {
                &quot;constraints&quot;: [
                  &quot;Current time &lt;= Time to change light&quot;, &quot;Light is yellow&quot;,
                  &quot;Current time &gt; Time to blink&quot;, &quot;Car is accelerating&quot;,
                  &quot;Car is within max speed limits&quot;
                ],
                &quot;invariant&quot;:
                  &quot;F = intersection.{\nc =\n  car_state.{\n  car_drive_state = Braking\n  ; car_speed = car_speed + car_accel_speed\n  ; car_distance = car_distance + car_speed\n  ; car_accel_speed = car_accel_speed\n  ; car_max_speed = car_max_speed\n  ; car_min_speed = car_min_speed\n  }\n; l =\n    light_state.{\n    blinking = true\n    ; current_time = Current time + 1\n    ; blink_time = blink_time\n    ; light_change_time = light_change_time\n    ; light_state = light_state\n    }\n}&quot;
              },
              &quot;groups&quot;: [],
              &quot;label&quot;: &quot;R[1.2.1.1.1]&quot;,
              &quot;weight&quot;: 1
            }
          ],
          &quot;label&quot;: &quot;(1.2.1)&quot;,
          &quot;weight&quot;: 3
        },
        {
          &quot;constraints&quot;: [
            &quot;Current time &lt;= Time to change light&quot;,
            &quot;Current time &lt;= Time to blink&quot;
          ],
          &quot;region&quot;: null,
          &quot;groups&quot;: [
            {
              &quot;constraints&quot;: [
                &quot;Current time &lt;= Time to change light&quot;,
                &quot;Current time &lt;= Time to blink&quot;, &quot;Car is steady&quot;
              ],
              &quot;region&quot;: null,
              &quot;groups&quot;: [
                {
                  &quot;constraints&quot;: [
                    &quot;Current time &lt;= Time to change light&quot;,
                    &quot;Current time &lt;= Time to blink&quot;, &quot;Car is steady&quot;,
                    &quot;Light is red&quot;
                  ],
                  &quot;region&quot;: {
                    &quot;constraints&quot;: [
                      &quot;Current time &lt;= Time to change light&quot;, &quot;Light is red&quot;,
                      &quot;Current time &lt;= Time to blink&quot;, &quot;Car is steady&quot;
                    ],
                    &quot;invariant&quot;:
                      &quot;F = intersection.{\nc =\n  car_state.{\n  car_drive_state = Braking\n  ; car_speed = car_speed\n  ; car_distance = car_distance + car_speed\n  ; car_accel_speed = car_accel_speed\n  ; car_max_speed = car_max_speed\n  ; car_min_speed = car_min_speed\n  }\n; l =\n    light_state.{\n    blinking = Light is blinking\n    ; current_time = Current time + 1\n    ; blink_time = blink_time\n    ; light_change_time = light_change_time\n    ; light_state = light_state\n    }\n}&quot;
                  },
                  &quot;groups&quot;: [],
                  &quot;label&quot;: &quot;R[1.1.4.2]&quot;,
                  &quot;weight&quot;: 1
                },
                {
                  &quot;constraints&quot;: [
                    &quot;Current time &lt;= Time to change light&quot;,
                    &quot;Current time &lt;= Time to blink&quot;, &quot;Car is steady&quot;,
                    &quot;Light is green&quot;
                  ],
                  &quot;region&quot;: {
                    &quot;constraints&quot;: [
                      &quot;Current time &lt;= Time to change light&quot;,
                      &quot;Light is green&quot;, &quot;Car is steady&quot;,
                      &quot;Current time &lt;= Time to blink&quot;
                    ],
                    &quot;invariant&quot;:
                      &quot;F = intersection.{\nc =\n  car_state.{\n  car_drive_state = Steady\n  ; car_speed = car_speed\n  ; car_distance = car_distance + car_speed\n  ; car_accel_speed = car_accel_speed\n  ; car_max_speed = car_max_speed\n  ; car_min_speed = car_min_speed\n  }\n; l =\n    light_state.{\n    blinking = Light is blinking\n    ; current_time = Current time + 1\n    ; blink_time = blink_time\n    ; light_change_time = light_change_time\n    ; light_state = light_state\n    }\n}&quot;
                  },
                  &quot;groups&quot;: [],
                  &quot;label&quot;: &quot;R[1.1.4.1]&quot;,
                  &quot;weight&quot;: 1
                }
              ],
              &quot;label&quot;: &quot;(1.1.4)&quot;,
              &quot;weight&quot;: 2
            },
            {
              &quot;constraints&quot;: [
                &quot;Current time &lt;= Time to change light&quot;,
                &quot;Current time &lt;= Time to blink&quot;, &quot;Car is braking&quot;,
                &quot;Car is moving forwards&quot;
              ],
              &quot;region&quot;: null,
              &quot;groups&quot;: [
                {
                  &quot;constraints&quot;: [
                    &quot;Current time &lt;= Time to change light&quot;,
                    &quot;Current time &lt;= Time to blink&quot;, &quot;Car is braking&quot;,
                    &quot;Car is moving forwards&quot;, &quot;Light is red&quot;
                  ],
                  &quot;region&quot;: {
                    &quot;constraints&quot;: [
                      &quot;Current time &lt;= Time to change light&quot;, &quot;Light is red&quot;,
                      &quot;Current time &lt;= Time to blink&quot;, &quot;Car is braking&quot;,
                      &quot;Car is moving forwards&quot;
                    ],
                    &quot;invariant&quot;:
                      &quot;F = intersection.{\nc =\n  car_state.{\n  car_drive_state = Braking\n  ; car_speed = car_speed - car_accel_speed\n  ; car_distance = car_distance + car_speed\n  ; car_accel_speed = car_accel_speed\n  ; car_max_speed = car_max_speed\n  ; car_min_speed = car_min_speed\n  }\n; l =\n    light_state.{\n    blinking = Light is blinking\n    ; current_time = Current time + 1\n    ; blink_time = blink_time\n    ; light_change_time = light_change_time\n    ; light_state = light_state\n    }\n}&quot;
                  },
                  &quot;groups&quot;: [],
                  &quot;label&quot;: &quot;R[1.1.3.1.2]&quot;,
                  &quot;weight&quot;: 1
                },
                {
                  &quot;constraints&quot;: [
                    &quot;Current time &lt;= Time to change light&quot;,
                    &quot;Current time &lt;= Time to blink&quot;, &quot;Car is braking&quot;,
                    &quot;Car is moving forwards&quot;, &quot;Light is green&quot;
                  ],
                  &quot;region&quot;: {
                    &quot;constraints&quot;: [
                      &quot;Current time &lt;= Time to change light&quot;,
                      &quot;Light is green&quot;, &quot;Car is braking&quot;,
                      &quot;Car is moving forwards&quot;,
                      &quot;Current time &lt;= Time to blink&quot;
                    ],
                    &quot;invariant&quot;:
                      &quot;F = intersection.{\nc =\n  car_state.{\n  car_drive_state = Steady\n  ; car_speed = car_speed - car_accel_speed\n  ; car_distance = car_distance + car_speed\n  ; car_accel_speed = car_accel_speed\n  ; car_max_speed = car_max_speed\n  ; car_min_speed = car_min_speed\n  }\n; l =\n    light_state.{\n    blinking = Light is blinking\n    ; current_time = Current time + 1\n    ; blink_time = blink_time\n    ; light_change_time = light_change_time\n    ; light_state = light_state\n    }\n}&quot;
                  },
                  &quot;groups&quot;: [],
                  &quot;label&quot;: &quot;R[1.1.3.1.1]&quot;,
                  &quot;weight&quot;: 1
                }
              ],
              &quot;label&quot;: &quot;(1.1.3.1)&quot;,
              &quot;weight&quot;: 2
            },
            {
              &quot;constraints&quot;: [
                &quot;Current time &lt;= Time to change light&quot;,
                &quot;Current time &lt;= Time to blink&quot;, &quot;Car is accelerating&quot;,
                &quot;Car is within max speed limits&quot;
              ],
              &quot;region&quot;: null,
              &quot;groups&quot;: [
                {
                  &quot;constraints&quot;: [
                    &quot;Current time &lt;= Time to change light&quot;,
                    &quot;Current time &lt;= Time to blink&quot;, &quot;Car is accelerating&quot;,
                    &quot;Car is within max speed limits&quot;, &quot;Light is red&quot;
                  ],
                  &quot;region&quot;: {
                    &quot;constraints&quot;: [
                      &quot;Current time &lt;= Time to change light&quot;, &quot;Light is red&quot;,
                      &quot;Current time &lt;= Time to blink&quot;, &quot;Car is accelerating&quot;,
                      &quot;Car is within max speed limits&quot;
                    ],
                    &quot;invariant&quot;:
                      &quot;F = intersection.{\nc =\n  car_state.{\n  car_drive_state = Braking\n  ; car_speed = car_speed + car_accel_speed\n  ; car_distance = car_distance + car_speed\n  ; car_accel_speed = car_accel_speed\n  ; car_max_speed = car_max_speed\n  ; car_min_speed = car_min_speed\n  }\n; l =\n    light_state.{\n    blinking = Light is blinking\n    ; current_time = Current time + 1\n    ; blink_time = blink_time\n    ; light_change_time = light_change_time\n    ; light_state = light_state\n    }\n}&quot;
                  },
                  &quot;groups&quot;: [],
                  &quot;label&quot;: &quot;R[1.1.2.1.2]&quot;,
                  &quot;weight&quot;: 1
                },
                {
                  &quot;constraints&quot;: [
                    &quot;Current time &lt;= Time to change light&quot;,
                    &quot;Current time &lt;= Time to blink&quot;, &quot;Car is accelerating&quot;,
                    &quot;Car is within max speed limits&quot;, &quot;Light is green&quot;
                  ],
                  &quot;region&quot;: {
                    &quot;constraints&quot;: [
                      &quot;Current time &lt;= Time to change light&quot;,
                      &quot;Light is green&quot;, &quot;Car is accelerating&quot;,
                      &quot;Car is within max speed limits&quot;,
                      &quot;Current time &lt;= Time to blink&quot;
                    ],
                    &quot;invariant&quot;:
                      &quot;F = intersection.{\nc =\n  car_state.{\n  car_drive_state = Steady\n  ; car_speed = car_speed + car_accel_speed\n  ; car_distance = car_distance + car_speed\n  ; car_accel_speed = car_accel_speed\n  ; car_max_speed = car_max_speed\n  ; car_min_speed = car_min_speed\n  }\n; l =\n    light_state.{\n    blinking = Light is blinking\n    ; current_time = Current time + 1\n    ; blink_time = blink_time\n    ; light_change_time = light_change_time\n    ; light_state = light_state\n    }\n}&quot;
                  },
                  &quot;groups&quot;: [],
                  &quot;label&quot;: &quot;R[1.1.2.1.1]&quot;,
                  &quot;weight&quot;: 1
                }
              ],
              &quot;label&quot;: &quot;(1.1.2.1)&quot;,
              &quot;weight&quot;: 2
            },
            {
              &quot;constraints&quot;: [
                &quot;Current time &lt;= Time to change light&quot;,
                &quot;Current time &lt;= Time to blink&quot;, &quot;Light is yellow&quot;
              ],
              &quot;region&quot;: null,
              &quot;groups&quot;: [
                {
                  &quot;constraints&quot;: [
                    &quot;Current time &lt;= Time to change light&quot;,
                    &quot;Current time &lt;= Time to blink&quot;, &quot;Light is yellow&quot;,
                    &quot;Car is steady&quot;, &quot;Light is blinking&quot;
                  ],
                  &quot;region&quot;: {
                    &quot;constraints&quot;: [
                      &quot;Current time &lt;= Time to change light&quot;,
                      &quot;Light is yellow&quot;, &quot;Current time &lt;= Time to blink&quot;,
                      &quot;Light is blinking&quot;, &quot;Car is steady&quot;
                    ],
                    &quot;invariant&quot;:
                      &quot;F = intersection.{\nc =\n  car_state.{\n  car_drive_state = Braking\n  ; car_speed = car_speed\n  ; car_distance = car_distance + car_speed\n  ; car_accel_speed = car_accel_speed\n  ; car_max_speed = car_max_speed\n  ; car_min_speed = car_min_speed\n  }\n; l =\n    light_state.{\n    blinking = Light is blinking\n    ; current_time = Current time + 1\n    ; blink_time = blink_time\n    ; light_change_time = light_change_time\n    ; light_state = light_state\n    }\n}&quot;
                  },
                  &quot;groups&quot;: [],
                  &quot;label&quot;: &quot;R[1.1.1.4.1]&quot;,
                  &quot;weight&quot;: 1
                },
                {
                  &quot;constraints&quot;: [
                    &quot;Current time &lt;= Time to change light&quot;,
                    &quot;Current time &lt;= Time to blink&quot;, &quot;Light is yellow&quot;,
                    &quot;Car is braking&quot;, &quot;Car is moving forwards&quot;,
                    &quot;Light is blinking&quot;
                  ],
                  &quot;region&quot;: {
                    &quot;constraints&quot;: [
                      &quot;Current time &lt;= Time to change light&quot;,
                      &quot;Light is yellow&quot;, &quot;Current time &lt;= Time to blink&quot;,
                      &quot;Light is blinking&quot;, &quot;Car is braking&quot;,
                      &quot;Car is moving forwards&quot;
                    ],
                    &quot;invariant&quot;:
                      &quot;F = intersection.{\nc =\n  car_state.{\n  car_drive_state = Braking\n  ; car_speed = car_speed - car_accel_speed\n  ; car_distance = car_distance + car_speed\n  ; car_accel_speed = car_accel_speed\n  ; car_max_speed = car_max_speed\n  ; car_min_speed = car_min_speed\n  }\n; l =\n    light_state.{\n    blinking = Light is blinking\n    ; current_time = Current time + 1\n    ; blink_time = blink_time\n    ; light_change_time = light_change_time\n    ; light_state = light_state\n    }\n}&quot;
                  },
                  &quot;groups&quot;: [],
                  &quot;label&quot;: &quot;R[1.1.1.3.1.1]&quot;,
                  &quot;weight&quot;: 1
                },
                {
                  &quot;constraints&quot;: [
                    &quot;Current time &lt;= Time to change light&quot;,
                    &quot;Current time &lt;= Time to blink&quot;, &quot;Light is yellow&quot;,
                    &quot;Car is accelerating&quot;, &quot;Car is within max speed limits&quot;,
                    &quot;Light is blinking&quot;
                  ],
                  &quot;region&quot;: {
                    &quot;constraints&quot;: [
                      &quot;Current time &lt;= Time to change light&quot;,
                      &quot;Light is yellow&quot;, &quot;Current time &lt;= Time to blink&quot;,
                      &quot;Light is blinking&quot;, &quot;Car is accelerating&quot;,
                      &quot;Car is within max speed limits&quot;
                    ],
                    &quot;invariant&quot;:
                      &quot;F = intersection.{\nc =\n  car_state.{\n  car_drive_state = Braking\n  ; car_speed = car_speed + car_accel_speed\n  ; car_distance = car_distance + car_speed\n  ; car_accel_speed = car_accel_speed\n  ; car_max_speed = car_max_speed\n  ; car_min_speed = car_min_speed\n  }\n; l =\n    light_state.{\n    blinking = Light is blinking\n    ; current_time = Current time + 1\n    ; blink_time = blink_time\n    ; light_change_time = light_change_time\n    ; light_state = light_state\n    }\n}&quot;
                  },
                  &quot;groups&quot;: [],
                  &quot;label&quot;: &quot;R[1.1.1.2.1.1]&quot;,
                  &quot;weight&quot;: 1
                },
                {
                  &quot;constraints&quot;: [
                    &quot;Current time &lt;= Time to change light&quot;,
                    &quot;Current time &lt;= Time to blink&quot;, &quot;Light is yellow&quot;,
                    &quot;Light isn't blinking&quot;
                  ],
                  &quot;region&quot;: null,
                  &quot;groups&quot;: [
                    {
                      &quot;constraints&quot;: [
                        &quot;Current time &lt;= Time to change light&quot;,
                        &quot;Current time &lt;= Time to blink&quot;, &quot;Light is yellow&quot;,
                        &quot;Light isn't blinking&quot;,
                        &quot;Car's current speed isn't enough to make it in time&quot;
                      ],
                      &quot;region&quot;: null,
                      &quot;groups&quot;: [
                        {
                          &quot;constraints&quot;: [
                            &quot;Current time &lt;= Time to change light&quot;,
                            &quot;Current time &lt;= Time to blink&quot;,
                            &quot;Light is yellow&quot;, &quot;Light isn't blinking&quot;,
                            &quot;Car's current speed isn't enough to make it in time&quot;,
                            &quot;Car is steady&quot;
                          ],
                          &quot;region&quot;: {
                            &quot;constraints&quot;: [
                              &quot;Current time &lt;= Time to change light&quot;,
                              &quot;Light is yellow&quot;,
                              &quot;Current time &lt;= Time to blink&quot;,
                              &quot;Light isn't blinking&quot;, &quot;Car is steady&quot;,
                              &quot;Car's current speed isn't enough to make it in time&quot;
                            ],
                            &quot;invariant&quot;:
                              &quot;F = intersection.{\nc =\n  car_state.{\n  car_drive_state = Braking\n  ; car_speed = car_speed\n  ; car_distance = car_distance + car_speed\n  ; car_accel_speed = car_accel_speed\n  ; car_max_speed = car_max_speed\n  ; car_min_speed = car_min_speed\n  }\n; l =\n    light_state.{\n    blinking = Light is blinking\n    ; current_time = Current time + 1\n    ; blink_time = blink_time\n    ; light_change_time = light_change_time\n    ; light_state = light_state\n    }\n}&quot;
                          },
                          &quot;groups&quot;: [],
                          &quot;label&quot;: &quot;R[1.1.1.1.2.3]&quot;,
                          &quot;weight&quot;: 1
                        },
                        {
                          &quot;constraints&quot;: [
                            &quot;Current time &lt;= Time to change light&quot;,
                            &quot;Current time &lt;= Time to blink&quot;,
                            &quot;Light is yellow&quot;, &quot;Light isn't blinking&quot;,
                            &quot;Car's current speed isn't enough to make it in time&quot;,
                            &quot;Car is braking&quot;, &quot;Car is moving forwards&quot;
                          ],
                          &quot;region&quot;: {
                            &quot;constraints&quot;: [
                              &quot;Current time &lt;= Time to change light&quot;,
                              &quot;Light is yellow&quot;,
                              &quot;Current time &lt;= Time to blink&quot;,
                              &quot;Light isn't blinking&quot;, &quot;Car is braking&quot;,
                              &quot;Car is moving forwards&quot;,
                              &quot;Car's current speed isn't enough to make it in time&quot;
                            ],
                            &quot;invariant&quot;:
                              &quot;F = intersection.{\nc =\n  car_state.{\n  car_drive_state = Braking\n  ; car_speed = car_speed - car_accel_speed\n  ; car_distance = car_distance + car_speed\n  ; car_accel_speed = car_accel_speed\n  ; car_max_speed = car_max_speed\n  ; car_min_speed = car_min_speed\n  }\n; l =\n    light_state.{\n    blinking = Light is blinking\n    ; current_time = Current time + 1\n    ; blink_time = blink_time\n    ; light_change_time = light_change_time\n    ; light_state = light_state\n    }\n}&quot;
                          },
                          &quot;groups&quot;: [],
                          &quot;label&quot;: &quot;R[1.1.1.1.2.2.1]&quot;,
                          &quot;weight&quot;: 1
                        },
                        {
                          &quot;constraints&quot;: [
                            &quot;Current time &lt;= Time to change light&quot;,
                            &quot;Current time &lt;= Time to blink&quot;,
                            &quot;Light is yellow&quot;, &quot;Light isn't blinking&quot;,
                            &quot;Car's current speed isn't enough to make it in time&quot;,
                            &quot;Car is accelerating&quot;,
                            &quot;Car is within max speed limits&quot;
                          ],
                          &quot;region&quot;: {
                            &quot;constraints&quot;: [
                              &quot;Current time &lt;= Time to change light&quot;,
                              &quot;Light is yellow&quot;,
                              &quot;Current time &lt;= Time to blink&quot;,
                              &quot;Light isn't blinking&quot;, &quot;Car is accelerating&quot;,
                              &quot;Car is within max speed limits&quot;,
                              &quot;Car's current speed isn't enough to make it in time&quot;
                            ],
                            &quot;invariant&quot;:
                              &quot;F = intersection.{\nc =\n  car_state.{\n  car_drive_state = Braking\n  ; car_speed = car_speed + car_accel_speed\n  ; car_distance = car_distance + car_speed\n  ; car_accel_speed = car_accel_speed\n  ; car_max_speed = car_max_speed\n  ; car_min_speed = car_min_speed\n  }\n; l =\n    light_state.{\n    blinking = Light is blinking\n    ; current_time = Current time + 1\n    ; blink_time = blink_time\n    ; light_change_time = light_change_time\n    ; light_state = light_state\n    }\n}&quot;
                          },
                          &quot;groups&quot;: [],
                          &quot;label&quot;: &quot;R[1.1.1.1.2.1.1]&quot;,
                          &quot;weight&quot;: 1
                        }
                      ],
                      &quot;label&quot;: &quot;(1.1.1.1.2)&quot;,
                      &quot;weight&quot;: 3
                    },
                    {
                      &quot;constraints&quot;: [
                        &quot;Current time &lt;= Time to change light&quot;,
                        &quot;Current time &lt;= Time to blink&quot;, &quot;Light is yellow&quot;,
                        &quot;Light isn't blinking&quot;,
                        &quot;Car's current speed is enough to make it in time&quot;
                      ],
                      &quot;region&quot;: null,
                      &quot;groups&quot;: [
                        {
                          &quot;constraints&quot;: [
                            &quot;Current time &lt;= Time to change light&quot;,
                            &quot;Current time &lt;= Time to blink&quot;,
                            &quot;Light is yellow&quot;, &quot;Light isn't blinking&quot;,
                            &quot;Car's current speed is enough to make it in time&quot;,
                            &quot;Car is steady&quot;
                          ],
                          &quot;region&quot;: {
                            &quot;constraints&quot;: [
                              &quot;Current time &lt;= Time to change light&quot;,
                              &quot;Light is yellow&quot;,
                              &quot;Current time &lt;= Time to blink&quot;,
                              &quot;Light isn't blinking&quot;, &quot;Car is steady&quot;,
                              &quot;Car's current speed is enough to make it in time&quot;
                            ],
                            &quot;invariant&quot;:
                              &quot;F = intersection.{\nc =\n  car_state.{\n  car_drive_state = Accelerating\n  ; car_speed = car_speed\n  ; car_distance = car_distance + car_speed\n  ; car_accel_speed = car_accel_speed\n  ; car_max_speed = car_max_speed\n  ; car_min_speed = car_min_speed\n  }\n; l =\n    light_state.{\n    blinking = Light is blinking\n    ; current_time = Current time + 1\n    ; blink_time = blink_time\n    ; light_change_time = light_change_time\n    ; light_state = light_state\n    }\n}&quot;
                          },
                          &quot;groups&quot;: [],
                          &quot;label&quot;: &quot;R[1.1.1.1.1.3]&quot;,
                          &quot;weight&quot;: 1
                        },
                        {
                          &quot;constraints&quot;: [
                            &quot;Current time &lt;= Time to change light&quot;,
                            &quot;Current time &lt;= Time to blink&quot;,
                            &quot;Light is yellow&quot;, &quot;Light isn't blinking&quot;,
                            &quot;Car's current speed is enough to make it in time&quot;,
                            &quot;Car is braking&quot;, &quot;Car is moving forwards&quot;
                          ],
                          &quot;region&quot;: {
                            &quot;constraints&quot;: [
                              &quot;Current time &lt;= Time to change light&quot;,
                              &quot;Light is yellow&quot;,
                              &quot;Current time &lt;= Time to blink&quot;,
                              &quot;Light isn't blinking&quot;, &quot;Car is braking&quot;,
                              &quot;Car is moving forwards&quot;,
                              &quot;Car's current speed is enough to make it in time&quot;
                            ],
                            &quot;invariant&quot;:
                              &quot;F = intersection.{\nc =\n  car_state.{\n  car_drive_state = Accelerating\n  ; car_speed = car_speed - car_accel_speed\n  ; car_distance = car_distance + car_speed\n  ; car_accel_speed = car_accel_speed\n  ; car_max_speed = car_max_speed\n  ; car_min_speed = car_min_speed\n  }\n; l =\n    light_state.{\n    blinking = Light is blinking\n    ; current_time = Current time + 1\n    ; blink_time = blink_time\n    ; light_change_time = light_change_time\n    ; light_state = light_state\n    }\n}&quot;
                          },
                          &quot;groups&quot;: [],
                          &quot;label&quot;: &quot;R[1.1.1.1.1.2.1]&quot;,
                          &quot;weight&quot;: 1
                        },
                        {
                          &quot;constraints&quot;: [
                            &quot;Current time &lt;= Time to change light&quot;,
                            &quot;Current time &lt;= Time to blink&quot;,
                            &quot;Light is yellow&quot;, &quot;Light isn't blinking&quot;,
                            &quot;Car's current speed is enough to make it in time&quot;,
                            &quot;Car is accelerating&quot;,
                            &quot;Car is within max speed limits&quot;
                          ],
                          &quot;region&quot;: {
                            &quot;constraints&quot;: [
                              &quot;Current time &lt;= Time to change light&quot;,
                              &quot;Light is yellow&quot;,
                              &quot;Current time &lt;= Time to blink&quot;,
                              &quot;Light isn't blinking&quot;, &quot;Car is accelerating&quot;,
                              &quot;Car is within max speed limits&quot;,
                              &quot;Car's current speed is enough to make it in time&quot;
                            ],
                            &quot;invariant&quot;:
                              &quot;F = intersection.{\nc =\n  car_state.{\n  car_drive_state = Accelerating\n  ; car_speed = car_speed + car_accel_speed\n  ; car_distance = car_distance + car_speed\n  ; car_accel_speed = car_accel_speed\n  ; car_max_speed = car_max_speed\n  ; car_min_speed = car_min_speed\n  }\n; l =\n    light_state.{\n    blinking = Light is blinking\n    ; current_time = Current time + 1\n    ; blink_time = blink_time\n    ; light_change_time = light_change_time\n    ; light_state = light_state\n    }\n}&quot;
                          },
                          &quot;groups&quot;: [],
                          &quot;label&quot;: &quot;R[1.1.1.1.1.1.1]&quot;,
                          &quot;weight&quot;: 1
                        }
                      ],
                      &quot;label&quot;: &quot;(1.1.1.1.1)&quot;,
                      &quot;weight&quot;: 3
                    }
                  ],
                  &quot;label&quot;: &quot;(1.1.1.1)&quot;,
                  &quot;weight&quot;: 6
                }
              ],
              &quot;label&quot;: &quot;(1.1.1)&quot;,
              &quot;weight&quot;: 9
            }
          ],
          &quot;label&quot;: &quot;(1.1)&quot;,
          &quot;weight&quot;: 15
        }
      ],
      &quot;label&quot;: &quot;(1)&quot;,
      &quot;weight&quot;: 24
    }
  ]
}</textarea><div class="decompose-foamtree"></div><div class="decompose-details"><div class="decompose-details-header">Regions details</div><div class="decompose-details-no-selection">No group selected.</div><div class="decompose-details-selection hidden"><div><span class="decompose-details-label">Direct sub-regions: </span><span class="decompose-details-direct-sub-regions-text">-</span></div><div><span class="decompose-details-label">Contained regions: </span><span class="decompose-details-contained-regions-text">-</span></div><div class="decompose-details-section-header">Constraints</div><div class="decompose-details-constraints"><pre class="decompose-details-constraint">&lt;constraint&gt;</pre></div><div class="decompose-details-invariant"><div class="decompose-details-section-header">Invariant</div><pre class="decompose-details-invariant-text">&lt;invariant&gt;</pre></div></div></div><script>
(function () {
  require(['nbextensions/nbimandra/regions'], function (regions) {
    var target = '#decompose-ffb95397-fc3d-48bb-854f-b1b2659b9735';
    regions.hydrate(target);
  });
})();
</script></div></div>

</div>

</div>

</div>
</div>

</div>
                    </div>

                    </article>
            </main>
            <footer class="footer">
                <a class="copyrights"href="http://imandra.ai">&#9400; 2018 - 2019 Imandra Inc. All rights reserved.</a>
            </footer>
        </div>
    
 


    </body>
</html>
