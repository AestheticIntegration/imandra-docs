<!DOCTYPE html>
<html>
    <head><meta charset="utf-8" />
        <meta content="width=device-width, initial-scale=1.0" name="viewport">
        <title>Imandra Documentation - Verification Induction</title>
        <meta property="og:url" content="https://docs.imandra.ai/imandra-docs/notebooks/verification-induction/">
        <meta property="og:type" content="website">
        <meta property="og:title" content="Imandra Documentation - Verification Induction">
        <meta property="og:description" content="A description of Imandra's Induction strategy">
        <meta property="og:image" content="https://storage.googleapis.com/imandra-assets/images/og_image_default_i78.jpg">


        
        <!-- Global site tag (gtag.js) - Google Analytics -->
        <script async src="https://www.googletagmanager.com/gtag/js?id=UA-116937440-6"></script>
        <script>
         window.dataLayer = window.dataLayer || [];
         function gtag(){dataLayer.push(arguments);}
         gtag('js', new Date());

         gtag('config', 'UA-116937440-1');
        </script>
        <script type="text/javascript"> var sc_project=11767520; var sc_invisible=1; var sc_security="fa7e88d1"; </script>
        <script type="text/javascript" src="https://www.statcounter.com/counter/counter.js" async></script>
        <noscript><div class="statcounter">
            <a title="Web Analytics" href="http://statcounter.com/" target="_blank">
                <img class="statcounter" src="//c.statcounter.com/11767520/0/fa7e88d1/1/" alt="Web Analytics"></a>
        </div></noscript>
        

        <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.1.10/require.min.js"></script>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Merriweather+Sans:300,300i,400,400i%7CMerriweather:300,300i,400,400i%7CRoboto+Slab:300,300i,400,400i">

        <link rel="stylesheet" href="/imandra-docs/static/style/style.min.9ef6027e.css" type="text/css">
        <link rel="stylesheet" href="/imandra-docs/static/nbextensions/nbimandra/styles.c7ed3d1a.css" type="text/css">
        <link rel="stylesheet" href="/imandra-docs/static/docs-styles.86fc0481.css" type="text/css">
        
        <link rel="stylesheet" href="/imandra-docs/static/jekyll-styles.73f39aa7.css" type="text/css">
        

        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
        <script src="/imandra-docs/static/nbimandra-rjs-bundle.2469bcb7.js"></script>

        <style type="text/css">
         .highlight .hll { background-color: #ffffcc }
         .highlight  { background: #f8f8f8; }
         .highlight .c { color: #408080; font-style: italic } /* Comment */
         .highlight .err { border: 1px solid #FF0000 } /* Error */
         .highlight .k { color: #008000; font-weight: bold } /* Keyword */
         .highlight .o { color: #666666 } /* Operator */
         .highlight .ch { color: #408080; font-style: italic } /* Comment.Hashbang */
         .highlight .cm { color: #408080; font-style: italic } /* Comment.Multiline */
         .highlight .cp { color: #BC7A00 } /* Comment.Preproc */
         .highlight .cpf { color: #408080; font-style: italic } /* Comment.PreprocFile */
         .highlight .c1 { color: #408080; font-style: italic } /* Comment.Single */
         .highlight .cs { color: #408080; font-style: italic } /* Comment.Special */
         .highlight .gd { color: #A00000 } /* Generic.Deleted */
         .highlight .ge { font-style: italic } /* Generic.Emph */
         .highlight .gr { color: #FF0000 } /* Generic.Error */
         .highlight .gh { color: #000080; font-weight: bold } /* Generic.Heading */
         .highlight .gi { color: #00A000 } /* Generic.Inserted */
         .highlight .go { color: #888888 } /* Generic.Output */
         .highlight .gp { color: #000080; font-weight: bold } /* Generic.Prompt */
         .highlight .gs { font-weight: bold } /* Generic.Strong */
         .highlight .gu { color: #800080; font-weight: bold } /* Generic.Subheading */
         .highlight .gt { color: #0044DD } /* Generic.Traceback */
         .highlight .kc { color: #008000; font-weight: bold } /* Keyword.Constant */
         .highlight .kd { color: #008000; font-weight: bold } /* Keyword.Declaration */
         .highlight .kn { color: #008000; font-weight: bold } /* Keyword.Namespace */
         .highlight .kp { color: #008000 } /* Keyword.Pseudo */
         .highlight .kr { color: #008000; font-weight: bold } /* Keyword.Reserved */
         .highlight .kt { color: #B00040 } /* Keyword.Type */
         .highlight .m { color: #666666 } /* Literal.Number */
         .highlight .s { color: #BA2121 } /* Literal.String */
         .highlight .na { color: #7D9029 } /* Name.Attribute */
         .highlight .nb { color: #008000 } /* Name.Builtin */
         .highlight .nc { color: #0000FF; font-weight: bold } /* Name.Class */
         .highlight .no { color: #880000 } /* Name.Constant */
         .highlight .nd { color: #AA22FF } /* Name.Decorator */
         .highlight .ni { color: #999999; font-weight: bold } /* Name.Entity */
         .highlight .ne { color: #D2413A; font-weight: bold } /* Name.Exception */
         .highlight .nf { color: #0000FF } /* Name.Function */
         .highlight .nl { color: #A0A000 } /* Name.Label */
         .highlight .nn { color: #0000FF; font-weight: bold } /* Name.Namespace */
         .highlight .nt { color: #008000; font-weight: bold } /* Name.Tag */
         .highlight .nv { color: #19177C } /* Name.Variable */
         .highlight .ow { color: #AA22FF; font-weight: bold } /* Operator.Word */
         .highlight .w { color: #bbbbbb } /* Text.Whitespace */
         .highlight .mb { color: #666666 } /* Literal.Number.Bin */
         .highlight .mf { color: #666666 } /* Literal.Number.Float */
         .highlight .mh { color: #666666 } /* Literal.Number.Hex */
         .highlight .mi { color: #666666 } /* Literal.Number.Integer */
         .highlight .mo { color: #666666 } /* Literal.Number.Oct */
         .highlight .sa { color: #BA2121 } /* Literal.String.Affix */
         .highlight .sb { color: #BA2121 } /* Literal.String.Backtick */
         .highlight .sc { color: #BA2121 } /* Literal.String.Char */
         .highlight .dl { color: #BA2121 } /* Literal.String.Delimiter */
         .highlight .sd { color: #BA2121; font-style: italic } /* Literal.String.Doc */
         .highlight .s2 { color: #BA2121 } /* Literal.String.Double */
         .highlight .se { color: #BB6622; font-weight: bold } /* Literal.String.Escape */
         .highlight .sh { color: #BA2121 } /* Literal.String.Heredoc */
         .highlight .si { color: #BB6688; font-weight: bold } /* Literal.String.Interpol */
         .highlight .sx { color: #008000 } /* Literal.String.Other */
         .highlight .sr { color: #BB6688 } /* Literal.String.Regex */
         .highlight .s1 { color: #BA2121 } /* Literal.String.Single */
         .highlight .ss { color: #19177C } /* Literal.String.Symbol */
         .highlight .bp { color: #008000 } /* Name.Builtin.Pseudo */
         .highlight .fm { color: #0000FF } /* Name.Function.Magic */
         .highlight .vc { color: #19177C } /* Name.Variable.Class */
         .highlight .vg { color: #19177C } /* Name.Variable.Global */
         .highlight .vi { color: #19177C } /* Name.Variable.Instance */
         .highlight .vm { color: #19177C } /* Name.Variable.Magic */
         .highlight .il { color: #666666 } /* Literal.Number.Integer.Long */
        </style>

        <!-- Loading mathjax macro -->
        <!-- Load mathjax -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS_HTML"></script>
    <!-- MathJax configuration -->
    <script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        tex2jax: {
            inlineMath: [ ['$','$'], ["\\(","\\)"] ],
            displayMath: [ ['$$','$$'], ["\\[","\\]"] ],
            processEscapes: true,
            processEnvironments: true
        },
        // Center justify equations in code and markdown cells. Elsewhere
        // we use CSS to left justify single line equations in code cells.
        displayAlign: 'center',
        "HTML-CSS": {
            styles: {'.MathJax_Display': {"margin": 0}},
            linebreaks: { automatic: true }
        }
    });
    </script>
    <!-- End of mathjax configuration --><script>
  function handleCopyClick() {
      var el = this;
      var terminal = el.closest('.terminal');
      var highlight = terminal.getElementsByClassName('highlight')[0];
      copyToClipboardMsg(highlight);

      terminal.classList.add('terminal--hide');
      setTimeout(function () {
          terminal.classList.remove('terminal--hide');
      }, 2000);


      function copyToClipboardMsg(elem) {
          var succeed = copyToClipboard(elem);
          var msg;
          if (!succeed) {
              msg = 'Error!';
          } else {
              msg = 'Copied!';
          }

          var msgElem = terminal.querySelector('.terminal__copy-msg');
          msgElem.innerHTML = msg;
          setTimeout(function () {
              msgElem.innerHTML = 'You rock!';
          }, 1000);
      }

      function copyToClipboard(elem) {
          // create hidden text element, if it doesn't already exist
          var targetId = '_hiddenCopyText_';
          var isInput = elem.tagName === 'INPUT' || elem.tagName === 'TEXTAREA';
          var origSelectionStart, origSelectionEnd;
          if (isInput) {
              // can just use the original source element for the selection and copy
              target = elem;
              origSelectionStart = elem.selectionStart;
              origSelectionEnd = elem.selectionEnd;
          } else {
              // must use a temporary form element for the selection and copy
              target = terminal.querySelector('#' + targetId);
              if (!target) {
                  var target = document.createElement('textarea');
                  // target.style.display = 'flex';
                  // target.style.position = 'absolute';
                  // target.style.left = '-1000%';
                  target.id = targetId;
                 elem.appendChild(target);
              }
              target.textContent = elem.textContent.trim();
          }
          
          // select the content
          var currentFocus = document.activeElement;
          target.focus();
          target.setSelectionRange(0, target.value.length);

          // copy the selection
          var succeed;
          try {
              succeed = document.execCommand('copy');
          } catch (e) {
              succeed = false;
          }
          // restore original focus
          if (currentFocus && typeof currentFocus.focus === 'function') {
              currentFocus.focus();
          }

          if (isInput) {
              // restore prior selection
              elem.setSelectionRange(origSelectionStart, origSelectionEnd);
          } else {
              // clear temporary content
              elem.removeChild(target);
          }
          return succeed;
      }
  }
</script>
    </head>
    <body>
        <div class="background">
        </div>
        <div class="page-container">
            <main class="main-content-column">
                <!-- Jupyter (Imandra core docs) version -->
<header class="header">
    <div class="top-row-container">
        <div class="top-row">

            <div id="toggler--left" class="side__left-menu-toggler">
                <div class="side__toggle">
                    <span></span>
                    <span></span>
                    <span></span>
                </div>
                <p class="side__toggle-text">Docs</p>
            </div>

            <div class="side__logo-container">
                <a class="side__logo-link" href="/">
                    <img class="side__logo " src = "/imandra-docs/jekyll-resources/assets/img/ai_logo_green.svg">
                </a>
            </div>

            <div id="toggler--right" class="side__right-menu-toggler">
                <p class="side__toggle-text">Pages</p>
                <div class="side__toggle">
                    <span></span>
                    <span></span>
                    <span></span>
                </div>
            </div>

            <nav class="side__nav-container side__nav-container--hidden">

                <ul class="side__nav-list">
                    
                    <li class="side__nav-list-item TopNavListItem">
                        <a class="side__nav-link" href="/">Documentation Home</a>
                        
                    </li>
                    
                    <li class="side__nav-list-item TopNavListItem">
                        <a class="side__nav-link side__nav-link--active" href="/imandra-docs">Imandra</a>
                        
                        <ul class="side__nav-list--sub-level-1">
                            
                            <li class="side__nav-list-item--sub-level-1">
                                
                                <a class="side__nav-link" href="/imandra-docs/notebooks/welcome">A Quick Tour</a>
                                
                                <ul class="side__nav-list--sub-level-2">
                                    
                                </ul>
                            </li>
                            
                            <li class="side__nav-list-item--sub-level-1">
                                
                                <a class="side__nav-link" href="/imandra-docs/notebooks/installation">Installation</a>
                                
                                <ul class="side__nav-list--sub-level-2">
                                    
                                    <li class="side__nav-list-item--sub-level-2">
                                        <a class="side__nav-link" href="/imandra-docs/notebooks/installation-simple">Installer</a>
                                        
                                    </li>
                                    
                                    <li class="side__nav-list-item--sub-level-2">
                                        <a class="side__nav-link" href="/imandra-docs/notebooks/installation-docker">Docker Image</a>
                                        
                                    </li>
                                    
                                    <li class="side__nav-list-item--sub-level-2">
                                        <a class="side__nav-link" href="/imandra-docs/notebooks/installation-vscode">VSCode</a>
                                        
                                    </li>
                                    
                                </ul>
                            </li>
                            
                            <li class="side__nav-list-item--sub-level-1">
                                
                                <a class="side__nav-link" href="/imandra-docs/notebooks/logic-and-program-modes">Logic and Program Modes</a>
                                
                                <ul class="side__nav-list--sub-level-2">
                                    
                                </ul>
                            </li>
                            
                            <li class="side__nav-list-item--sub-level-1">
                                
                                <a class="side__nav-link" href="/imandra-docs/notebooks/verification-commands">Verification</a>
                                
                                <ul class="side__nav-list--sub-level-2">
                                    
                                    <li class="side__nav-list-item--sub-level-2">
                                        <a class="side__nav-link" href="/imandra-docs/notebooks/verification-commands">Commands</a>
                                        
                                    </li>
                                    
                                    <li class="side__nav-list-item--sub-level-2">
                                        <a class="side__nav-link" href="/imandra-docs/notebooks/verification-attributes">Attributes</a>
                                        
                                        <ul class="side__nav-list--sub-level-3">
                                            
                                            <li class="side__nav-list-item--sub-level-3">
                                              <a class="side__nav-link" href="/imandra-docs/notebooks/verification-attributes/#Verification-Hints">Verification Hints</a>
                                            </li>
                                            
                                            <li class="side__nav-list-item--sub-level-3">
                                              <a class="side__nav-link" href="/imandra-docs/notebooks/verification-attributes/#Rule-Classes">Rule Classes</a>
                                            </li>
                                            
                                        </ul>
                                        
                                    </li>
                                    
                                    <li class="side__nav-list-item--sub-level-2">
                                        <a class="side__nav-link" href="/imandra-docs/notebooks/verification-unrolling">Unrolling</a>
                                        
                                    </li>
                                    
                                    <li class="side__nav-list-item--sub-level-2">
                                        <a class="side__nav-link" href="/imandra-docs/notebooks/verification-simplification">Simplification</a>
                                        
                                        <ul class="side__nav-list--sub-level-3">
                                            
                                            <li class="side__nav-list-item--sub-level-3">
                                              <a class="side__nav-link" href="/imandra-docs/notebooks/verification-simplification/#Rewrite-Rules">Rewrite Rules</a>
                                            </li>
                                            
                                            <li class="side__nav-list-item--sub-level-3">
                                              <a class="side__nav-link" href="/imandra-docs/notebooks/verification-simplification/#Forward-chaining-Rules">Forward-chaining Rules</a>
                                            </li>
                                            
                                        </ul>
                                        
                                    </li>
                                    
                                    <li class="side__nav-list-item--sub-level-2">
                                        <a class="side__nav-link" href="/imandra-docs/notebooks/verification-blast">Blast</a>
                                        
                                    </li>
                                    
                                    <li class="side__nav-list-item--sub-level-2">
                                        <a class="side__nav-link side__nav-link--active" href="/imandra-docs/notebooks/verification-induction">Induction</a>
                                        
                                        <ul class="side__nav-list--sub-level-3">
                                            
                                            <li class="side__nav-list-item--sub-level-3">
                                              <a class="side__nav-link" href="/imandra-docs/notebooks/verification-induction/#Functional-Induction">Functional Induction</a>
                                            </li>
                                            
                                            <li class="side__nav-list-item--sub-level-3">
                                              <a class="side__nav-link" href="/imandra-docs/notebooks/verification-induction/#Structural-Induction">Structural Induction</a>
                                            </li>
                                            
                                        </ul>
                                        
                                    </li>
                                    
                                </ul>
                            </li>
                            
                            <li class="side__nav-list-item--sub-level-1">
                                
                                <a class="side__nav-link" href="/imandra-docs/notebooks/extracting-ocaml-modules-with-imandra-extract">Extracting OCaml modules with imandra-extract</a>
                                
                                <ul class="side__nav-list--sub-level-2">
                                    
                                </ul>
                            </li>
                            
                            <li class="side__nav-list-item--sub-level-1">
                                
                                <a class="side__nav-link" href="/imandra-docs/notebooks/proving-program-termination">Proving Program Termination</a>
                                
                                <ul class="side__nav-list--sub-level-2">
                                    
                                </ul>
                            </li>
                            
                            <li class="side__nav-list-item--sub-level-1">
                                
                                Region Decomposition
                                
                                <ul class="side__nav-list--sub-level-2">
                                    
                                    <li class="side__nav-list-item--sub-level-2">
                                        <a class="side__nav-link" href="/imandra-docs/notebooks/decomposition-flags">Decomposition Flags</a>
                                        
                                    </li>
                                    
                                    <li class="side__nav-list-item--sub-level-2">
                                        <a class="side__nav-link" href="/imandra-docs/notebooks/imandra-tools-intro">Imandra Tools Introduction</a>
                                        
                                    </li>
                                    
                                </ul>
                            </li>
                            
                            <li class="side__nav-list-item--sub-level-1">
                                
                                <a class="side__nav-link" href="/imandra-docs/notebooks/examples">Examples</a>
                                
                                <ul class="side__nav-list--sub-level-2">
                                    
                                    <li class="side__nav-list-item--sub-level-2">
                                        <a class="side__nav-link" href="/imandra-docs/notebooks/recursion-induction-and-rewriting">Recursion, Induction and Rewriting</a>
                                        
                                    </li>
                                    
                                    <li class="side__nav-list-item--sub-level-2">
                                        <a class="side__nav-link" href="/imandra-docs/notebooks/verifying-merge-sort">Verifying Merge Sort in Imandra</a>
                                        
                                    </li>
                                    
                                    <li class="side__nav-list-item--sub-level-2">
                                        <a class="side__nav-link" href="/imandra-docs/notebooks/ubs-case-study">Analysing the UBS ATS Dark Pool</a>
                                        
                                    </li>
                                    
                                    <li class="side__nav-list-item--sub-level-2">
                                        <a class="side__nav-link" href="/imandra-docs/notebooks/webservice-auth-logic">Analysing Web-app Authentication Logic</a>
                                        
                                    </li>
                                    
                                    <li class="side__nav-list-item--sub-level-2">
                                        <a class="side__nav-link" href="/imandra-docs/notebooks/simple-vehicle-controller">Simple Vehicle Controller</a>
                                        
                                    </li>
                                    
                                    <li class="side__nav-list-item--sub-level-2">
                                        <a class="side__nav-link" href="/imandra-docs/notebooks/ripple-carry-adder">Verifying a Ripple Carry Adder</a>
                                        
                                    </li>
                                    
                                    <li class="side__nav-list-item--sub-level-2">
                                        <a class="side__nav-link" href="/imandra-docs/notebooks/verifying-an-ros-node">Creating and Verifying a ROS Node</a>
                                        
                                    </li>
                                    
                                    <li class="side__nav-list-item--sub-level-2">
                                        <a class="side__nav-link" href="/imandra-docs/notebooks/reasonml-tic-tac-toe">Tic Tac Toe with ReasonML</a>
                                        
                                    </li>
                                    
                                    <li class="side__nav-list-item--sub-level-2">
                                        <a class="side__nav-link" href="/imandra-docs/notebooks/probabilistic-reasoning-in-reasonml">Probabilistic Reasoning in ReasonML</a>
                                        
                                    </li>
                                    
                                    <li class="side__nav-list-item--sub-level-2">
                                        <a class="side__nav-link" href="/imandra-docs/notebooks/sudoku">Solving Sudoku with Imandra</a>
                                        
                                    </li>
                                    
                                    <li class="side__nav-list-item--sub-level-2">
                                        <a class="side__nav-link" href="/imandra-docs/notebooks/crossing-river-safely">Crossing the River Safely</a>
                                        
                                    </li>
                                    
                                    <li class="side__nav-list-item--sub-level-2">
                                        <a class="side__nav-link" href="/imandra-docs/notebooks/reasonml-facetime-state-machines">Exploring The Apple FaceTime Bug with ReasonML State Machines</a>
                                        
                                    </li>
                                    
                                </ul>
                            </li>
                            
                        </ul>
                        
                    </li>
                    
                    <li class="side__nav-list-item TopNavListItem">
                        <a class="side__nav-link" href="/ipl">Imandra Protocol Language</a>
                        
                    </li>
                    
                    <li class="side__nav-list-item TopNavListItem">
                        <a class="side__nav-link" href="/fix-engine">FIX Engine</a>
                        
                    </li>
                    
                </ul>
            </nav>
        </div>
    </div>

    <div class="background">
    </div>

    <div class="template-header">
        <div class="top-bar">
            <nav class="top-bar__nav-container">
                <a href="#" class="top-bar__toggle">≡</a>
                <ul class="top-bar__nav-list top-bar__nav-list--hidden">
                    <li class="top-bar__nav-list-item"><a class="top-bar__nav-link" href="https://www.imandra.ai/">Home</a></li>
                    <li class="top-bar__nav-list-item"><a class="top-bar__nav-link" href="https://try.imandra.ai/">Try</a></li>
                    <li class="top-bar__nav-list-item"><a class="top-bar__nav-link" href="https://medium.com/imandra">Blog</a></li>
                    <li class="top-bar__nav-list-item"><a class="top-bar__nav-link" href="https://www.imandra.ai/research">Research</a></li>
                    <li class="top-bar__nav-list-item"><a class="top-bar__nav-link" href="https://docs.imandra.ai/">Docs</a></li>
                    <li class="top-bar__nav-list-item"><a class="top-bar__nav-link" href="https://www.imandra.ai/media">Media</a></li>
                    <li class="top-bar__nav-list-item"><a class="top-bar__nav-link" href="https://www.imandra.ai/about">About AI</a></li>
                    <li class="top-bar__nav-list-item"><a class="top-bar__nav-link" href="https://www.imandra.ai/careers">CAREERS</a></li>
                    <li class="top-bar__nav-list-item"><a class="top-bar__nav-link" href="https://www.imandra.ai/contact">CONTACT</a></li>
                </ul>
            </nav>
        </div>

        <div class="template-header__image-container template-header__image-container--jupyter">
            <div class="template-header__image" href ="/imandra-docs">
                <img class="SiteSpecificImage" src="/imandra-docs/static/img/site_specific_image_v_2.svg">
            </div>
        </div>
        
    </div>

    <script>
        document.getElementById('toggler--left').addEventListener('click', function () {
            document.querySelector('.side__right-menu-toggler .side__toggle').classList.remove('side__toggle--active');
            document.querySelector('.side__left-menu-toggler .side__toggle').classList.toggle('side__toggle--active');
            document.getElementsByClassName('side__nav-container')[0].classList.toggle('side__nav-container--hidden');
            document.getElementsByClassName('top-bar__nav-list')[0].classList.add('top-bar__nav-list--hidden');
        });

        document.getElementById('toggler--right').addEventListener('click', function () {
            document.querySelector('.side__left-menu-toggler .side__toggle').classList.remove('side__toggle--active');
            document.querySelector('.side__right-menu-toggler .side__toggle').classList.toggle('side__toggle--active');
            document.getElementsByClassName('side__nav-container')[0].classList.add('side__nav-container--hidden');
            document.getElementsByClassName('top-bar__nav-list')[0].classList.toggle('top-bar__nav-list--hidden');
        });

    </script>
</header>
                <article class="article__container article__container--notebooks">
                    <div class="main-content main-content--jupyter">
                        
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h1 id="Induction">Induction<a class="anchor-link" href="#Induction">&#182;</a></h1><p>While techniques such as unrolling and simplification can get us a long way
towards formally verifying our software, variants of mathematical
<a href="https://en.wikipedia.org/wiki/Noetherian_induction">induction</a> are in general
required for verifying properties of systems with infinite state-spaces.</p>
<p>Induction is a proof technique that can be used to prove that some property
<code>φ(x)</code> holds <em>for all</em> the elements <code>x</code> of a recursively defined structure (e.g.
natural numbers, lists, trees, execution traces, etc). The proof consists of:</p>
<ul>
<li>a proof that <code>φ(base)</code> is true for each <em>base case</em></li>
<li>a proof that if <code>φ(c)</code> is true (called the <em>inductive hypothesis</em>), then
<code>φ(step(c))</code> is also true, for all the recursive steps of the property we're
trying to prove</li>
</ul>
<p>Induction can be done in many ways, and finding the "right" way to induct is
often the key to difficult problems. Imandra has deep automation for finding and
applying the "right" induction for a problem. If this fails, the user can
instruct Imandra how to induct, with various forms of instructions.</p>
<p>A method of induction is given by an <em>induction scheme</em>.</p>
<p>Induction schemes can automatically be derived by Imandra in many ways. By
default, with <code>[@@auto]</code> or <code>[@@induct]</code>, Imandra analyses the recursive
functions involved in the conjecture and constructs a <em>functional induction
scheme</em> derived from their recursive structure, in a manner that is justified by
the <em>ordinal measures</em> used to prove their termination. Imandra also supports
<em>structural induction</em> principles derived from the definitions of (well-founded)
algebraic datatypes such as lists and trees.</p>
<p>Some example induction schemes are:</p>
<ul>
<li>for the natural numbers, <code>φ(Zero) &amp;&amp; φ(n) ==&gt; φ(Succ(n))</code></li>
<li>for lists, <code>φ([]) &amp;&amp; (lst &lt;&gt; [] &amp;&amp; φ(List.tl(lst)) ==&gt; φ (lst))</code></li>
<li>for the function <code>repeat</code> as defined below, <code>n &lt;= 0 ==&gt; φ(n, c) &amp;&amp; (n &gt; 0 &amp;&amp; φ(n - 1, c)) ==&gt; φ(n, c)</code></li>
</ul>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="try-this-container">
  <a href="https://try.imandra.ai/launch/?next=/h/user-redirect/notebooks/Verification%20-%20Induction.ipynb%23try-cell-2" target="_blank" rel="nofollow">
    <div class="try-this">Try this!</div>
  </a>
</div>
<div class="input">
<div class="prompt input_prompt">In&nbsp;[1]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ocaml"><pre><span></span><span class="k">let</span> <span class="k">rec</span> <span class="n">repeat</span> <span class="n">c</span> <span class="n">n</span> <span class="o">=</span>
  <span class="k">if</span> <span class="n">n</span> <span class="o">&lt;=</span> <span class="mi">0</span> <span class="k">then</span>
    <span class="bp">[]</span>
  <span class="k">else</span>
    <span class="n">c</span> <span class="o">::</span> <span class="o">(</span><span class="n">repeat</span> <span class="n">c</span> <span class="o">(</span><span class="n">n</span><span class="o">-</span><span class="mi">1</span><span class="o">))</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt output_prompt">Out[1]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>val repeat : &#39;a -&gt; int -&gt; &#39;a list = &lt;fun&gt;
</pre>
</div>

</div>

<div class="output_area">

<div class="prompt"></div>



<div class="output_html rendered_html output_subarea ">
<div><div class="imandra-fold panel panel-default" id="fold-d28a095e-d2d8-4e43-bb19-cb213ddc90cb"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>termination proof</span></div></div><div class="panel-body collapse"><div><h3>Termination proof</h3><p></p><div class="imandra-fold panel panel-default" id="fold-08fc3ca7-1b19-421d-81f8-25fb44ec733f"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>call `repeat c (n - 1)` from `repeat c n`</span></div></div><div class="panel-body collapse"><div class="imandra-table" id="table-e4965c63-3cfc-43fa-b8ad-fd0134820cee"><table><tr><td><b>original</b></td><td>repeat c n</td></tr><tr><td><b>sub</b></td><td>repeat c (n - 1)</td></tr><tr><td><b>original ordinal</b></td><td>Ordinal.Int (if n &gt;= 0 then n else 0)</td></tr><tr><td><b>sub ordinal</b></td><td>Ordinal.Int (if (n - 1) &gt;= 0 then n - 1 else 0)</td></tr><tr><td><b>path</b></td><td>[not (n &lt;= 0)]</td></tr><tr><td><b>proof</b></td><td><div class="imandra-fold panel panel-default" id="fold-45b9a6fb-74a9-4323-aaa8-113a449e5440"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>detailed proof</span></div></div><div class="panel-body collapse"><div class="imandra-proof"><div class="imandra-alternatives" id="alt-5a8ed5cc-b7d4-45ba-914f-b009ff3cb456"><ul class="nav nav-tabs"><li class="active" data-toggle="tab"><a>summary</a></li><li class="" data-toggle="tab"><a>full</a></li></ul><div class="tab-content"><div class="tab-pane active"><div class="imandra-table" id="table-e9c213ae-452d-4d55-b890-39cdac066785"><table><tr><td><b>ground_instances</b></td><td>1</td></tr><tr><td><b>definitions</b></td><td>0</td></tr><tr><td><b>inductions</b></td><td>0</td></tr><tr><td><b>search_time</b></td><td><pre>0.016s</pre></td></tr><tr><td><b>details</b></td><td><div class="imandra-fold panel panel-default" id="fold-ef1897d2-c20e-4b7f-8737-b5d297b8fb4b"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>Expand</span></div></div><div class="panel-body collapse"><div class="imandra-table" id="table-126a239c-9432-4dd0-83f6-a57b22f779ea"><table><tr><td><b>smt_stats</b></td><td><div class="imandra-table" id="table-a0b735b8-4230-4bd9-ab01-ea9f3dfd100c"><table><tr><td><b>num checks</b></td><td>3</td></tr><tr><td><b>arith assert lower</b></td><td>8</td></tr><tr><td><b>arith pivots</b></td><td>2</td></tr><tr><td><b>rlimit count</b></td><td>1031</td></tr><tr><td><b>mk clause</b></td><td>4</td></tr><tr><td><b>datatype occurs check</b></td><td>2</td></tr><tr><td><b>mk bool var</b></td><td>20</td></tr><tr><td><b>arith assert upper</b></td><td>3</td></tr><tr><td><b>decisions</b></td><td>2</td></tr><tr><td><b>arith add rows</b></td><td>3</td></tr><tr><td><b>propagations</b></td><td>2</td></tr><tr><td><b>conflicts</b></td><td>2</td></tr><tr><td><b>arith fixed eqs</b></td><td>2</td></tr><tr><td><b>datatype accessor ax</b></td><td>2</td></tr><tr><td><b>arith conflicts</b></td><td>1</td></tr><tr><td><b>num allocs</b></td><td>1523510747</td></tr><tr><td><b>final checks</b></td><td>1</td></tr><tr><td><b>added eqs</b></td><td>6</td></tr><tr><td><b>del clause</b></td><td>4</td></tr><tr><td><b>arith eq adapter</b></td><td>2</td></tr><tr><td><b>memory</b></td><td>18.970000</td></tr><tr><td><b>max memory</b></td><td>21.920000</td></tr></table></div></td></tr></table></div></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-ef1897d2-c20e-4b7f-8737-b5d297b8fb4b';
  fold.hydrate(target);
});
</script></div></td></tr></table></div></div><div class="tab-pane"><div class="imandra-fold panel panel-default" id="fold-93fc4dc8-919a-4713-9cb6-dde1b579a0db"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>Expand</span></div></div><div class="panel-body collapse"><ul><li><pre>start[0.016s]
  not (n &lt;= 0)
  &amp;&amp; (if n &gt;= 0 then n else 0) &gt;= 0
     &amp;&amp; (if (n - 1) &gt;= 0 then n - 1 else 0) &gt;= 0
  ==&gt; (n - 1) &lt;= 0
      || Ordinal.&lt;&lt; (Ordinal.Int (if (n - 1) &gt;= 0 then n - 1 else 0))
         (Ordinal.Int (if n &gt;= 0 then n else 0))</pre></li><li><div><h5>simplify</h5><div class="imandra-table" id="table-3cea485f-a1d3-42cd-bb01-592eee1068bd"><table><tr><td><b>into</b></td><td><pre>(not
 ((not (n &lt;= 0) &amp;&amp; (if n &gt;= 0 then n else 0) &gt;= 0)
  &amp;&amp; (if n &gt;= 1 then -1 + n else 0) &gt;= 0)
 || n &lt;= 1)
|| Ordinal.&lt;&lt; (Ordinal.Int (if n &gt;= 1 then -1 + n else 0))
   (Ordinal.Int (if n &gt;= 0 then n else 0))</pre></td></tr><tr><td><b>expansions</b></td><td><pre>[]</pre></td></tr><tr><td><b>rewrite_steps</b></td><td><ul></ul></td></tr><tr><td><b>forward_chaining</b></td><td><ul></ul></td></tr></table></div></div></li><li><div>unroll<div class="imandra-table" id="table-96f5a52c-c7f5-4d84-bfa9-59e218c1d9b3"><table><tr><td><b>expr</b></td><td><pre>(|Ordinal.&lt;&lt;_122| (|Ordinal.Int_113| (ite (&gt;= n_2460 1) (+ (- 1) n_2460) 0))
                  (|Ord…</pre></td></tr><tr><td><b>expansions</b></td><td><ul></ul></td></tr></table></div></div></li><li><div><h5>unsat</h5><pre>(let ((a!1 (not (= n_2460 (ite (&gt;= n_2460 0) n_2460 0))))
      (a!2 (+ n_2460 (* (- 1) (ite (&gt;= n_2…</pre></div></li></ul></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-93fc4dc8-919a-4713-9cb6-dde1b579a0db';
  fold.hydrate(target);
});
</script></div></div></div><script>
require(['nbextensions/nbimandra/alternatives'], function (alternatives) {
  var target = '#alt-5a8ed5cc-b7d4-45ba-914f-b009ff3cb456';
  alternatives.hydrate(target);
});
</script></div></div></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-45b9a6fb-74a9-4323-aaa8-113a449e5440';
  fold.hydrate(target);
});
</script></div></td></tr></table></div></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-08fc3ca7-1b19-421d-81f8-25fb44ec733f';
  fold.hydrate(target);
});
</script></div><p></p></div></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-d28a095e-d2d8-4e43-bb19-cb213ddc90cb';
  fold.hydrate(target);
});
</script></div></div>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>In Imandra, induction schemes are "destructor style." So, an actual scheme
Imandra would produce for a goal involving <code>n : nat</code> (where <code>type nat = Zero | Succ of nat</code>)
is:</p>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<pre><code> (n = Zero ==&gt; φ n)
 &amp;&amp; (not (n = Zero) &amp;&amp; φ (Destruct(Succ, 0, n)) ==&gt; φ n).</code></pre>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>Let us see a few example inductions.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="try-this-container">
  <a href="https://try.imandra.ai/launch/?next=/h/user-redirect/notebooks/Verification%20-%20Induction.ipynb%23try-cell-6" target="_blank" rel="nofollow">
    <div class="try-this">Try this!</div>
  </a>
</div>
<div class="input">
<div class="prompt input_prompt">In&nbsp;[2]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ocaml"><pre><span></span><span class="n">lemma</span> <span class="n">assoc_append</span> <span class="n">x</span> <span class="n">y</span> <span class="n">z</span> <span class="o">=</span>
 <span class="n">x</span> <span class="o">@</span> <span class="o">(</span><span class="n">y</span> <span class="o">@</span> <span class="n">z</span><span class="o">)</span> <span class="o">=</span> <span class="o">(</span><span class="n">x</span> <span class="o">@</span> <span class="n">y</span><span class="o">)</span> <span class="o">@</span> <span class="n">z</span> <span class="o">[@@</span><span class="n">auto</span><span class="o">]</span> <span class="o">[@@</span><span class="n">rw</span><span class="o">]</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt output_prompt">Out[2]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>val assoc_append : &#39;a list -&gt; &#39;a list -&gt; &#39;a list -&gt; bool = &lt;fun&gt;
<span class="ansi-white-intense-fg ansi-bold">Goal</span>:

x @ y @ z = (x @ y) @ z.

1 nontautological subgoal.

<span class="ansi-white-intense-fg ansi-bold">Subgoal 1</span>:

|---------------------------------------------------------------------------
 List.append x (List.append y z) = List.append (List.append x y) z

Verified up to bound 10 (after 0.217s).

Must try induction.

The recursive terms in the conjecture suggest 3 inductions.
Subsumption and merging reduces this to 2.

Only 1 of those schemes are unflawed.
We shall induct according to a scheme derived from <span class="ansi-blue-intense-fg ansi-bold">List.append</span>.

<span class="ansi-cyan-intense-fg ansi-bold">Induction scheme</span>:

 (x = [] ==&gt; φ z y x) &amp;&amp; (not (x = []) &amp;&amp; φ z y (List.tl x) ==&gt; φ z y x).

2 nontautological subgoals.

<span class="ansi-white-intense-fg ansi-bold">Subgoal 1.2</span>:

 H0. x = []
|---------------------------------------------------------------------------
 List.append x (List.append y z) = List.append (List.append x y) z

But simplification reduces this to true, using the definition of <span class="ansi-blue-intense-fg ansi-bold">List.append</span>.

<span class="ansi-white-intense-fg ansi-bold">Subgoal 1.1</span>:

 H0. not (x = [])
 H1. List.append (List.tl x) (List.append y z) =
     List.append (List.append (List.tl x) y) z
|---------------------------------------------------------------------------
 List.append x (List.append y z) = List.append (List.append x y) z

But simplification reduces this to true, using the definition of <span class="ansi-blue-intense-fg ansi-bold">List.append</span>.

</pre>
</div>

</div>

<div class="output_area">

<div class="prompt"></div>



<div class="output_html rendered_html output_subarea ">
<div><div class="imandra-vr imandra-vr-proved"><i class="fa fa-check-circle"></i><span>Proved</span></div><div><div class="imandra-proof-top"><div class="imandra-fold panel panel-default" id="fold-a0ea9f54-78ca-4abc-9e94-0ac1f3ccf0b0"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>proof</span></div></div><div class="panel-body collapse"><div class="imandra-proof"><div class="imandra-alternatives" id="alt-5f6b8e3c-ebbc-4479-8edb-d60bfa2d84b1"><ul class="nav nav-tabs"><li class="active" data-toggle="tab"><a>summary</a></li><li class="" data-toggle="tab"><a>full</a></li><li class="" data-toggle="tab"><a>graph</a></li></ul><div class="tab-content"><div class="tab-pane active"><div class="imandra-table" id="table-70d66505-e0fb-445d-8d73-502c28bdc9b7"><table><tr><td><b>ground_instances</b></td><td>0</td></tr><tr><td><b>definitions</b></td><td>5</td></tr><tr><td><b>inductions</b></td><td>1</td></tr><tr><td><b>search_time</b></td><td><pre>0.404s</pre></td></tr></table></div></div><div class="tab-pane"><div class="imandra-fold panel panel-default" id="fold-bceb92b8-bb81-4a9e-b556-b1d4f1497d4d"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>Expand</span></div></div><div class="panel-body collapse"><ul><li><pre>start[0.404s, &quot;Goal&quot;]
  List.append :var_0: (List.append :var_1: :var_2:) =
  List.append (List.append :var_0: :var_1:) :var_2:</pre></li><li><div><h4>subproof</h4><div class="imandra-fold panel panel-default" id="fold-61c8b4f8-2c5c-45ed-9887-86f9c71cd13d"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>List.append x (List.append y z) = List.append (List.append x y) z</span></div></div><div class="panel-body collapse"><ul><li><pre>start[0.404s, &quot;1&quot;]
  List.append x (List.append y z) = List.append (List.append x y) z</pre></li><li><pre>induction on (functional )
:scheme (x = [] ==&gt; φ z y x)
        &amp;&amp; (not (x = []) &amp;&amp; φ z y (List.tl x) ==&gt; φ z y x)</pre></li><li><div><pre>Split ((not (x = [])
        || List.append x (List.append y z) = List.append (List.append x y) z)
       &amp;&amp; (not
           (not (x = [])
            &amp;&amp; List.append (List.tl x) (List.append y z) =
               List.append (List.append (List.tl x) y) z)
           || List.append x (List.append y z) =
              List.append (List.append x y) z)
       :cases [not (x = [])
               || List.append x (List.append y z) =
                  List.append (List.append x y) z;
               (x = []
                || not
                   (List.append (List.tl x) (List.append y z) =
                    List.append (List.append (List.tl x) y) z))
               || List.append x (List.append y z) =
                  List.append (List.append x y) z])</pre><ul><li><div><h5>subproof</h5><div class="imandra-fold panel panel-default" id="fold-e6bb706b-5acc-4ac2-87d0-05b0e2fc3260"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>(x = []
 || not
    (List.append (List.tl x) (List.append y z) =
     List.append (List.append (List.tl x) y) z))
|| List.append x (List.append y z) = List.append (List.append x y) z</span></div></div><div class="panel-body collapse"><ul><li><pre>start[0.071s, &quot;1.1&quot;]
  (x = []
   || not
      (List.append (List.tl x) (List.append y z) =
       List.append (List.append (List.tl x) y) z))
  || List.append x (List.append y z) = List.append (List.append x y) z</pre></li><li><div><h6>simplify</h6><div class="imandra-table" id="table-f2cf5f39-f8c3-4b48-9a1a-ddf1a15bfb46"><table><tr><td><b>into</b></td><td><pre>true</pre></td></tr><tr><td><b>expansions</b></td><td><pre>[List.append, List.append, List.append]</pre></td></tr><tr><td><b>rewrite_steps</b></td><td><ul></ul></td></tr><tr><td><b>forward_chaining</b></td><td><ul></ul></td></tr></table></div></div></li></ul></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-e6bb706b-5acc-4ac2-87d0-05b0e2fc3260';
  fold.hydrate(target);
});
</script></div></div></li><li><div><h5>subproof</h5><div class="imandra-fold panel panel-default" id="fold-33f82b25-5c97-454a-8cb2-76198f86fee9"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>not (x = [])
|| List.append x (List.append y z) = List.append (List.append x y) z</span></div></div><div class="panel-body collapse"><ul><li><pre>start[0.071s, &quot;1.2&quot;]
  not (x = [])
  || List.append x (List.append y z) = List.append (List.append x y) z</pre></li><li><div><h6>simplify</h6><div class="imandra-table" id="table-78a5a688-83bd-41d3-9fb8-84040d624162"><table><tr><td><b>into</b></td><td><pre>true</pre></td></tr><tr><td><b>expansions</b></td><td><pre>[List.append, List.append]</pre></td></tr><tr><td><b>rewrite_steps</b></td><td><ul></ul></td></tr><tr><td><b>forward_chaining</b></td><td><ul></ul></td></tr></table></div></div></li></ul></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-33f82b25-5c97-454a-8cb2-76198f86fee9';
  fold.hydrate(target);
});
</script></div></div></li></ul></div></li></ul></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-61c8b4f8-2c5c-45ed-9887-86f9c71cd13d';
  fold.hydrate(target);
});
</script></div></div></li></ul></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-bceb92b8-bb81-4a9e-b556-b1d4f1497d4d';
  fold.hydrate(target);
});
</script></div></div><div class="tab-pane"><div class="imandra-graphviz" id="graphviz-f62c55f4-2369-4bb4-a484-61b13d08d316"><textarea style="display: none">digraph &quot;proof&quot; {
p_302 [label=&quot;Start (List.append :var_0: (List.append :var_1: :var_2:) =\l       List.append (List.append :var_0: :var_1:) :var_2: :name \&quot;Goal\&quot;\l       :time 0.404s)&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_302 -&gt; p_300 [label=&quot;&quot;];
subgraph cluster_301 {
  color=blue;
p_300 [label=&quot;Start (List.append x (List.append y z) = List.append (List.append x y) z\l       :name \&quot;1\&quot; :time 0.404s)&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_300 -&gt; p_299 [label=&quot;&quot;];
p_299 [label=&quot;Induct ((functional ),\l        :scheme (x = [] ==\&gt; φ z y x)\l                &amp;&amp; (not (x = []) &amp;&amp; φ z y (List.tl x) ==\&gt; φ z y x))&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_299 -&gt; p_298 [label=&quot;&quot;];
p_298 [label=&quot;Split ((not (x = [])\l        \|\| List.append x (List.append y z) = List.append (List.append x y) z)\l       &amp;&amp; (not\l           (not (x = [])\l            &amp;&amp; List.append (List.tl x) (List.append y z) =\l               List.append (List.append (List.tl x) y) z)\l           \|\| List.append x (List.append y z) =\l              List.append (List.append x y) z)\l       :cases [not (x = [])\l               \|\| List.append x (List.append y z) =\l                  List.append (List.append x y) z;\l               (x = []\l                \|\| not\l                   (List.append (List.tl x) (List.append y z) =\l                    List.append (List.append (List.tl x) y) z))\l               \|\| List.append x (List.append y z) =\l                  List.append (List.append x y) z])&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_298 -&gt; p_293 [label=&quot;&quot;];
subgraph cluster_294 {
  color=blue;
p_293 [label=&quot;Start ((x = []\l        \|\| not\l           (List.append (List.tl x) (List.append y z) =\l            List.append (List.append (List.tl x) y) z))\l       \|\| List.append x (List.append y z) = List.append (List.append x y) z\l       :name \&quot;1.1\&quot; :time 0.071s)&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_293 -&gt; p_292 [label=&quot;&quot;];
p_292 [label=&quot;Simplify (true :expansions [List.append; List.append; List.append] :rw []\l          :fc [])&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
}
p_298 -&gt; p_296 [label=&quot;&quot;];
subgraph cluster_297 {
  color=blue;
p_296 [label=&quot;Start (not (x = [])\l       \|\| List.append x (List.append y z) = List.append (List.append x y) z\l       :name \&quot;1.2\&quot; :time 0.071s)&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_296 -&gt; p_295 [label=&quot;&quot;];
p_295 [label=&quot;Simplify (true :expansions [List.append; List.append] :rw [] :fc [])&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
}
}
}
</textarea><button class="btn btn-primary">Load graph</button><div class="imandra-graphviz-loading display-none">Loading..</div><div class="imandra-graphviz-target"></div><script>
require(['nbextensions/nbimandra/graphviz'], function (graphviz) {
  var target = '#graphviz-f62c55f4-2369-4bb4-a484-61b13d08d316';
  graphviz.hydrate(target);
});
</script></div></div></div><script>
require(['nbextensions/nbimandra/alternatives'], function (alternatives) {
  var target = '#alt-5f6b8e3c-ebbc-4479-8edb-d60bfa2d84b1';
  alternatives.hydrate(target);
});
</script></div></div></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-a0ea9f54-78ca-4abc-9e94-0ac1f3ccf0b0';
  fold.hydrate(target);
});
</script></div></div></div></div>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="try-this-container">
  <a href="https://try.imandra.ai/launch/?next=/h/user-redirect/notebooks/Verification%20-%20Induction.ipynb%23try-cell-7" target="_blank" rel="nofollow">
    <div class="try-this">Try this!</div>
  </a>
</div>
<div class="input">
<div class="prompt input_prompt">In&nbsp;[3]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ocaml"><pre><span></span><span class="n">lemma</span> <span class="n">rev_append</span> <span class="n">x</span> <span class="n">y</span> <span class="o">=</span>
 <span class="nn">List</span><span class="p">.</span><span class="n">rev</span> <span class="o">(</span><span class="n">x</span> <span class="o">@</span> <span class="n">y</span><span class="o">)</span> <span class="o">=</span> <span class="nn">List</span><span class="p">.</span><span class="n">rev</span> <span class="n">y</span> <span class="o">@</span> <span class="nn">List</span><span class="p">.</span><span class="n">rev</span> <span class="n">x</span>
 <span class="o">[@@</span><span class="n">auto</span><span class="o">]</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt output_prompt">Out[3]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>val rev_append : &#39;a list -&gt; &#39;a list -&gt; bool = &lt;fun&gt;
<span class="ansi-white-intense-fg ansi-bold">Goal</span>:

List.rev (x @ y) = List.rev y @ List.rev x.

1 nontautological subgoal.

<span class="ansi-white-intense-fg ansi-bold">Subgoal 1</span>:

|---------------------------------------------------------------------------
 List.rev (List.append x y) = List.append (List.rev y) (List.rev x)

Verified up to bound 10 (after 0.120s).

Must try induction.

The recursive terms in the conjecture suggest 3 inductions.
Subsumption and merging reduces this to 2.

Only 1 of those schemes are unflawed.
We shall induct according to a scheme derived from <span class="ansi-blue-intense-fg ansi-bold">List.append</span>.

<span class="ansi-cyan-intense-fg ansi-bold">Induction scheme</span>:

 (x = [] ==&gt; φ y x) &amp;&amp; (not (x = []) &amp;&amp; φ y (List.tl x) ==&gt; φ y x).

2 nontautological subgoals.

<span class="ansi-white-intense-fg ansi-bold">Subgoal 1.2</span>:

 H0. x = []
|---------------------------------------------------------------------------
 List.rev (List.append x y) = List.append (List.rev y) (List.rev x)

But simplification reduces this to true, using the definitions of <span class="ansi-blue-intense-fg ansi-bold">List.append
</span>and<span class="ansi-blue-intense-fg ansi-bold"> List.rev</span>, and the rewrite rule <span class="ansi-magenta-intense-fg ansi-bold">List.append_to_nil</span>.

<span class="ansi-white-intense-fg ansi-bold">Subgoal 1.1</span>:

 H0. not (x = [])
 H1. List.rev (List.append (List.tl x) y) =
     List.append (List.rev y) (List.rev (List.tl x))
|---------------------------------------------------------------------------
 List.rev (List.append x y) = List.append (List.rev y) (List.rev x)

This simplifies, using the definitions of <span class="ansi-blue-intense-fg ansi-bold">List.append </span>and<span class="ansi-blue-intense-fg ansi-bold"> List.rev</span> to:

<span class="ansi-white-intense-fg ansi-bold">Subgoal 1.1&#39;</span>:

 H0. x &lt;&gt; []
 H1. List.rev (List.append (List.tl x) y) =
     List.append (List.rev y) (List.rev (List.tl x))
|---------------------------------------------------------------------------
 List.append (List.rev (List.append (List.tl x) y)) [List.hd x] =
 List.append (List.rev y) (List.append (List.rev (List.tl x)) [List.hd x])

But simplification reduces this to true, using the rewrite rule <span class="ansi-magenta-intense-fg ansi-bold">assoc_append</span>.

</pre>
</div>

</div>

<div class="output_area">

<div class="prompt"></div>



<div class="output_html rendered_html output_subarea ">
<div><div class="imandra-vr imandra-vr-proved"><i class="fa fa-check-circle"></i><span>Proved</span></div><div><div class="imandra-proof-top"><div class="imandra-fold panel panel-default" id="fold-6481ac7c-4f35-48c5-bfb2-d713c95d8172"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>proof</span></div></div><div class="panel-body collapse"><div class="imandra-proof"><div class="imandra-alternatives" id="alt-2994fb95-8b09-47c9-bed1-d087f35b0c00"><ul class="nav nav-tabs"><li class="active" data-toggle="tab"><a>summary</a></li><li class="" data-toggle="tab"><a>full</a></li><li class="" data-toggle="tab"><a>graph</a></li></ul><div class="tab-content"><div class="tab-pane active"><div class="imandra-table" id="table-5d942c02-a730-4387-acfa-a0051c55f4f7"><table><tr><td><b>ground_instances</b></td><td>0</td></tr><tr><td><b>definitions</b></td><td>6</td></tr><tr><td><b>inductions</b></td><td>1</td></tr><tr><td><b>search_time</b></td><td><pre>1.640s</pre></td></tr></table></div></div><div class="tab-pane"><div class="imandra-fold panel panel-default" id="fold-61f81cf8-a044-442e-b191-ac96dc49b03c"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>Expand</span></div></div><div class="panel-body collapse"><ul><li><pre>start[1.640s, &quot;Goal&quot;]
  List.rev (List.append :var_0: :var_1:) =
  List.append (List.rev :var_1:) (List.rev :var_0:)</pre></li><li><div><h4>subproof</h4><div class="imandra-fold panel panel-default" id="fold-c873a98d-f9b5-46d3-96e5-89c317775dc1"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>List.rev (List.append x y) = List.append (List.rev y) (List.rev x)</span></div></div><div class="panel-body collapse"><ul><li><pre>start[1.640s, &quot;1&quot;]
  List.rev (List.append x y) = List.append (List.rev y) (List.rev x)</pre></li><li><pre>induction on (functional )
:scheme (x = [] ==&gt; φ y x) &amp;&amp; (not (x = []) &amp;&amp; φ y (List.tl x) ==&gt; φ y x)</pre></li><li><div><pre>Split ((not (x = [])
        || List.rev (List.append x y) = List.append (List.rev y) (List.rev x))
       &amp;&amp; (not
           (not (x = [])
            &amp;&amp; List.rev (List.append (List.tl x) y) =
               List.append (List.rev y) (List.rev (List.tl x)))
           || List.rev (List.append x y) =
              List.append (List.rev y) (List.rev x))
       :cases [not (x = [])
               || List.rev (List.append x y) =
                  List.append (List.rev y) (List.rev x);
               (x = []
                || not
                   (List.rev (List.append (List.tl x) y) =
                    List.append (List.rev y) (List.rev (List.tl x))))
               || List.rev (List.append x y) =
                  List.append (List.rev y) (List.rev x)])</pre><ul><li><div><h5>subproof</h5><div class="imandra-fold panel panel-default" id="fold-c5c5aed9-150e-4366-9135-88daa51d3afe"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>(x = []
 || not
    (List.rev (List.append (List.tl x) y) =
     List.append (List.rev y) (List.rev (List.tl x))))
|| List.rev (List.append x y) = List.append (List.rev y) (List.rev x)</span></div></div><div class="panel-body collapse"><ul><li><pre>start[1.194s, &quot;1.1&quot;]
  (x = []
   || not
      (List.rev (List.append (List.tl x) y) =
       List.append (List.rev y) (List.rev (List.tl x))))
  || List.rev (List.append x y) = List.append (List.rev y) (List.rev x)</pre></li><li><div><h6>simplify</h6><div class="imandra-table" id="table-c8d25357-6bc9-47eb-b1ec-5c83e7cc6b5a"><table><tr><td><b>into</b></td><td><pre>(x = []
 || not
    (List.rev (List.append (List.tl x) y) =
     List.append (List.rev y) (List.rev (List.tl x))))
|| List.append (List.rev (List.append (List.tl x) y)) [List.hd x] =
   List.append (List.rev y) (List.append (List.rev (List.tl x)) [List.hd x])</pre></td></tr><tr><td><b>expansions</b></td><td><pre>[List.rev, List.rev, List.append]</pre></td></tr><tr><td><b>rewrite_steps</b></td><td><ul></ul></td></tr><tr><td><b>forward_chaining</b></td><td><ul></ul></td></tr></table></div></div></li><li><div><h6>simplify</h6><div class="imandra-table" id="table-06a5c08f-c9d6-415c-82dc-03e0c081f51b"><table><tr><td><b>into</b></td><td><pre>true</pre></td></tr><tr><td><b>expansions</b></td><td><pre>[]</pre></td></tr><tr><td><b>rewrite_steps</b></td><td><pre>assoc_append</pre></td></tr><tr><td><b>forward_chaining</b></td><td><ul></ul></td></tr></table></div></div></li></ul></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-c5c5aed9-150e-4366-9135-88daa51d3afe';
  fold.hydrate(target);
});
</script></div></div></li><li><div><h5>subproof</h5><div class="imandra-fold panel panel-default" id="fold-fa8fb2b8-6c54-4893-b676-18e8d4d4f462"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>not (x = [])
|| List.rev (List.append x y) = List.append (List.rev y) (List.rev x)</span></div></div><div class="panel-body collapse"><ul><li><pre>start[1.194s, &quot;1.2&quot;]
  not (x = [])
  || List.rev (List.append x y) = List.append (List.rev y) (List.rev x)</pre></li><li><div><h6>simplify</h6><div class="imandra-table" id="table-a5cdb095-5945-4317-bb7b-b3c53b7b0137"><table><tr><td><b>into</b></td><td><pre>true</pre></td></tr><tr><td><b>expansions</b></td><td><pre>[List.append, List.rev, List.append]</pre></td></tr><tr><td><b>rewrite_steps</b></td><td><pre>List.append_to_nil</pre></td></tr><tr><td><b>forward_chaining</b></td><td><ul></ul></td></tr></table></div></div></li></ul></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-fa8fb2b8-6c54-4893-b676-18e8d4d4f462';
  fold.hydrate(target);
});
</script></div></div></li></ul></div></li></ul></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-c873a98d-f9b5-46d3-96e5-89c317775dc1';
  fold.hydrate(target);
});
</script></div></div></li></ul></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-61f81cf8-a044-442e-b191-ac96dc49b03c';
  fold.hydrate(target);
});
</script></div></div><div class="tab-pane"><div class="imandra-graphviz" id="graphviz-546721b1-cd5a-4f69-baa5-a58a32082793"><textarea style="display: none">digraph &quot;proof&quot; {
p_325 [label=&quot;Start (List.rev (List.append :var_0: :var_1:) =\l       List.append (List.rev :var_1:) (List.rev :var_0:) :name \&quot;Goal\&quot;\l       :time 1.640s)&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_325 -&gt; p_323 [label=&quot;&quot;];
subgraph cluster_324 {
  color=blue;
p_323 [label=&quot;Start (List.rev (List.append x y) = List.append (List.rev y) (List.rev x)\l       :name \&quot;1\&quot; :time 1.640s)&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_323 -&gt; p_322 [label=&quot;&quot;];
p_322 [label=&quot;Induct ((functional ),\l        :scheme (x = [] ==\&gt; φ y x)\l                &amp;&amp; (not (x = []) &amp;&amp; φ y (List.tl x) ==\&gt; φ y x))&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_322 -&gt; p_321 [label=&quot;&quot;];
p_321 [label=&quot;Split ((not (x = [])\l        \|\| List.rev (List.append x y) = List.append (List.rev y) (List.rev x))\l       &amp;&amp; (not\l           (not (x = [])\l            &amp;&amp; List.rev (List.append (List.tl x) y) =\l               List.append (List.rev y) (List.rev (List.tl x)))\l           \|\| List.rev (List.append x y) =\l              List.append (List.rev y) (List.rev x))\l       :cases [not (x = [])\l               \|\| List.rev (List.append x y) =\l                  List.append (List.rev y) (List.rev x);\l               (x = []\l                \|\| not\l                   (List.rev (List.append (List.tl x) y) =\l                    List.append (List.rev y) (List.rev (List.tl x))))\l               \|\| List.rev (List.append x y) =\l                  List.append (List.rev y) (List.rev x)])&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_321 -&gt; p_316 [label=&quot;&quot;];
subgraph cluster_317 {
  color=blue;
p_316 [label=&quot;Start ((x = []\l        \|\| not\l           (List.rev (List.append (List.tl x) y) =\l            List.append (List.rev y) (List.rev (List.tl x))))\l       \|\| List.rev (List.append x y) = List.append (List.rev y) (List.rev x)\l       :name \&quot;1.1\&quot; :time 1.194s)&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_316 -&gt; p_315 [label=&quot;&quot;];
p_315 [label=&quot;Simplify ((x = []\l           \|\| not\l              (List.rev (List.append (List.tl x) y) =\l               List.append (List.rev y) (List.rev (List.tl x))))\l          \|\| List.append (List.rev (List.append (List.tl x) y)) [List.hd x] =\l             List.append (List.rev y)\l             (List.append (List.rev (List.tl x)) [List.hd x])\l          :expansions [List.rev; List.rev; List.append] :rw [] :fc [])&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_315 -&gt; p_314 [label=&quot;&quot;];
p_314 [label=&quot;Simplify (true :expansions [] :rw [assoc_append] :fc [])&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
}
p_321 -&gt; p_319 [label=&quot;&quot;];
subgraph cluster_320 {
  color=blue;
p_319 [label=&quot;Start (not (x = [])\l       \|\| List.rev (List.append x y) = List.append (List.rev y) (List.rev x)\l       :name \&quot;1.2\&quot; :time 1.194s)&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_319 -&gt; p_318 [label=&quot;&quot;];
p_318 [label=&quot;Simplify (true :expansions [List.append; List.rev; List.append]\l          :rw [List.append_to_nil] :fc [])&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
}
}
}
</textarea><button class="btn btn-primary">Load graph</button><div class="imandra-graphviz-loading display-none">Loading..</div><div class="imandra-graphviz-target"></div><script>
require(['nbextensions/nbimandra/graphviz'], function (graphviz) {
  var target = '#graphviz-546721b1-cd5a-4f69-baa5-a58a32082793';
  graphviz.hydrate(target);
});
</script></div></div></div><script>
require(['nbextensions/nbimandra/alternatives'], function (alternatives) {
  var target = '#alt-2994fb95-8b09-47c9-bed1-d087f35b0c00';
  alternatives.hydrate(target);
});
</script></div></div></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-6481ac7c-4f35-48c5-bfb2-d713c95d8172';
  fold.hydrate(target);
});
</script></div></div></div></div>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="try-this-container">
  <a href="https://try.imandra.ai/launch/?next=/h/user-redirect/notebooks/Verification%20-%20Induction.ipynb%23try-cell-8" target="_blank" rel="nofollow">
    <div class="try-this">Try this!</div>
  </a>
</div>
<div class="input">
<div class="prompt input_prompt">In&nbsp;[4]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ocaml"><pre><span></span><span class="n">verify</span> <span class="o">(</span><span class="k">fun</span> <span class="n">lst</span> <span class="o">-&gt;</span>
  <span class="nn">List</span><span class="p">.</span><span class="n">for_all</span> <span class="o">(</span><span class="k">fun</span> <span class="n">x</span> <span class="o">-&gt;</span> <span class="n">x</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="o">)</span> <span class="n">lst</span> <span class="o">==&gt;</span>
    <span class="nn">List</span><span class="p">.</span><span class="n">fold_right</span> <span class="o">(+)</span> <span class="o">~</span><span class="n">base</span><span class="o">:</span><span class="mi">1</span> <span class="n">lst</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="o">)</span>
<span class="o">[@@</span><span class="n">auto</span><span class="o">]</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt output_prompt">Out[4]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>- : int list -&gt; bool = &lt;fun&gt;
<span class="ansi-white-intense-fg ansi-bold">Goal</span>:

List.for_all (fun x -&gt; x &gt; 0) lst ==&gt; List.fold_right + 1 lst &gt; 0.

1 nontautological subgoal.

<span class="ansi-white-intense-fg ansi-bold">Subgoal 1</span>:

 H0. List.for_all (fun x -&gt; x &gt; 0) lst
 H1. List.fold_right + 1 lst &lt;= 0
|---------------------------------------------------------------------------
 false

Verified up to bound 10 (after 0.056s).

Must try induction.

The recursive terms in the conjecture suggest 2 inductions.
Subsumption and merging reduces this to 1.

We shall induct according to a scheme derived from <span class="ansi-blue-intense-fg ansi-bold">List.for_all</span>.

<span class="ansi-cyan-intense-fg ansi-bold">Induction scheme</span>:

 (lst = [] ==&gt; φ lst) &amp;&amp; (not (lst = []) &amp;&amp; φ (List.tl lst) ==&gt; φ lst).

2 nontautological subgoals.

<span class="ansi-white-intense-fg ansi-bold">Subgoal 1.2</span>:

 H0. lst = []
 H1. List.for_all (fun x -&gt; x &gt; 0) lst
 H2. List.fold_right + 1 lst &lt;= 0
|---------------------------------------------------------------------------
 false

But simplification reduces this to true, using the definition of
<span class="ansi-blue-intense-fg ansi-bold">List.fold_right</span>.

<span class="ansi-white-intense-fg ansi-bold">Subgoal 1.1</span>:

 H0. not (lst = [])
 H1. not (List.for_all (fun x -&gt; x &gt; 0) (List.tl lst))
     || not (List.fold_right + 1 (List.tl lst) &lt;= 0)
 H2. List.for_all (fun x -&gt; x &gt; 0) lst
 H3. List.fold_right + 1 lst &lt;= 0
|---------------------------------------------------------------------------
 false

But simplification reduces this to true, using the definitions of
<span class="ansi-blue-intense-fg ansi-bold">List.fold_right </span>and<span class="ansi-blue-intense-fg ansi-bold"> List.for_all</span>.

</pre>
</div>

</div>

<div class="output_area">

<div class="prompt"></div>



<div class="output_html rendered_html output_subarea ">
<div><div class="imandra-vr imandra-vr-proved"><i class="fa fa-check-circle"></i><span>Proved</span></div><div><div class="imandra-proof-top"><div class="imandra-fold panel panel-default" id="fold-18a5053d-494e-4e8d-94fe-8c25df22f6d1"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>proof</span></div></div><div class="panel-body collapse"><div class="imandra-proof"><div class="imandra-alternatives" id="alt-0787e5ef-f5f5-4b8f-b7a7-90f5b7cf93a2"><ul class="nav nav-tabs"><li class="active" data-toggle="tab"><a>summary</a></li><li class="" data-toggle="tab"><a>full</a></li><li class="" data-toggle="tab"><a>graph</a></li></ul><div class="tab-content"><div class="tab-pane active"><div class="imandra-table" id="table-0feaaa7d-5b55-4499-9ec2-090d994c455b"><table><tr><td><b>ground_instances</b></td><td>0</td></tr><tr><td><b>definitions</b></td><td>3</td></tr><tr><td><b>inductions</b></td><td>1</td></tr><tr><td><b>search_time</b></td><td><pre>0.314s</pre></td></tr></table></div></div><div class="tab-pane"><div class="imandra-fold panel panel-default" id="fold-7b8696f2-6d36-43f6-97ab-aaca397c338a"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>Expand</span></div></div><div class="panel-body collapse"><ul><li><pre>start[0.314s, &quot;Goal&quot;]
  List.for_all (fun x -&gt; x &gt; 0) :var_0: ==&gt; List.fold_right + 1 :var_0: &gt; 0</pre></li><li><div><h4>subproof</h4><div class="imandra-fold panel panel-default" id="fold-d878c678-a4ad-46b7-ac6c-0ced71d73026"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>not (List.for_all (fun x -&gt; x &gt; 0) lst) || not (List.fold_right + 1 lst &lt;= 0)</span></div></div><div class="panel-body collapse"><ul><li><pre>start[0.314s, &quot;1&quot;]
  not (List.for_all (fun x -&gt; x &gt; 0) lst)
  || not (List.fold_right + 1 lst &lt;= 0)</pre></li><li><pre>induction on (functional )
:scheme (lst = [] ==&gt; φ lst)
        &amp;&amp; (not (lst = []) &amp;&amp; φ (List.tl lst) ==&gt; φ lst)</pre></li><li><div><pre>Split (((not (lst = []) || not (List.for_all (fun x -&gt; x &gt; 0) lst))
        || not (List.fold_right + 1 lst &lt;= 0))
       &amp;&amp; ((not
            (not (lst = [])
             &amp;&amp; (not (List.for_all (fun x -&gt; x &gt; 0) (List.tl lst))
                 || not (List.fold_right + 1 (List.tl lst) &lt;= 0)))
            || not (List.for_all (fun x -&gt; x &gt; 0) lst))
           || not (List.fold_right + 1 lst &lt;= 0))
       :cases [(not (lst = []) || not (List.for_all (fun x -&gt; x &gt; 0) lst))
               || not (List.fold_right + 1 lst &lt;= 0);
               ((lst = []
                 || not
                    (not (List.for_all (fun x -&gt; x &gt; 0) (List.tl lst))
                     || not (List.fold_right + 1 (List.tl lst) &lt;= 0)))
                || not (List.for_all (fun x -&gt; x &gt; 0) lst))
               || not (List.fold_right + 1 lst &lt;= 0)])</pre><ul><li><div><h5>subproof</h5><div class="imandra-fold panel panel-default" id="fold-4491a362-8822-48f2-964e-00b7f63e334b"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>((lst = []
  || not
     (not (List.for_all (fun x -&gt; x &gt; 0) (List.tl lst))
      || not (List.fold_right + 1 (List.tl lst) &lt;= 0)))
 || not (List.for_all (fun x -&gt; x &gt; 0) lst))
|| not (List.fold_right + 1 lst &lt;= 0)</span></div></div><div class="panel-body collapse"><ul><li><pre>start[0.051s, &quot;1.1&quot;]
  ((lst = []
    || not
       (not (List.for_all (fun x -&gt; x &gt; 0) (List.tl lst))
        || not (List.fold_right + 1 (List.tl lst) &lt;= 0)))
   || not (List.for_all (fun x -&gt; x &gt; 0) lst))
  || not (List.fold_right + 1 lst &lt;= 0)</pre></li><li><div><h6>simplify</h6><div class="imandra-table" id="table-71b04a3d-8836-4e9f-ad1d-666f2e216113"><table><tr><td><b>into</b></td><td><pre>true</pre></td></tr><tr><td><b>expansions</b></td><td><pre>[List.for_all, List.fold_right]</pre></td></tr><tr><td><b>rewrite_steps</b></td><td><ul></ul></td></tr><tr><td><b>forward_chaining</b></td><td><ul></ul></td></tr></table></div></div></li></ul></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-4491a362-8822-48f2-964e-00b7f63e334b';
  fold.hydrate(target);
});
</script></div></div></li><li><div><h5>subproof</h5><div class="imandra-fold panel panel-default" id="fold-af3c311a-f1f6-446c-8c0d-c6f7f6e5fd97"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>(not (lst = []) || not (List.for_all (fun x -&gt; x &gt; 0) lst))
|| not (List.fold_right + 1 lst &lt;= 0)</span></div></div><div class="panel-body collapse"><ul><li><pre>start[0.051s, &quot;1.2&quot;]
  (not (lst = []) || not (List.for_all (fun x -&gt; x &gt; 0) lst))
  || not (List.fold_right + 1 lst &lt;= 0)</pre></li><li><div><h6>simplify</h6><div class="imandra-table" id="table-5fe67ff0-1aa2-4268-be59-56cf156c9faa"><table><tr><td><b>into</b></td><td><pre>true</pre></td></tr><tr><td><b>expansions</b></td><td><pre>List.fold_right</pre></td></tr><tr><td><b>rewrite_steps</b></td><td><ul></ul></td></tr><tr><td><b>forward_chaining</b></td><td><ul></ul></td></tr></table></div></div></li></ul></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-af3c311a-f1f6-446c-8c0d-c6f7f6e5fd97';
  fold.hydrate(target);
});
</script></div></div></li></ul></div></li></ul></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-d878c678-a4ad-46b7-ac6c-0ced71d73026';
  fold.hydrate(target);
});
</script></div></div></li></ul></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-7b8696f2-6d36-43f6-97ab-aaca397c338a';
  fold.hydrate(target);
});
</script></div></div><div class="tab-pane"><div class="imandra-graphviz" id="graphviz-1e3255d6-4dfd-4363-adad-05dc3ed5cd36"><textarea style="display: none">digraph &quot;proof&quot; {
p_347 [label=&quot;Start (List.for_all (fun x -\&gt; x \&gt; 0) :var_0:\l       ==\&gt; List.fold_right + 1 :var_0: \&gt; 0 :name \&quot;Goal\&quot; :time 0.314s)&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_347 -&gt; p_345 [label=&quot;&quot;];
subgraph cluster_346 {
  color=blue;
p_345 [label=&quot;Start (not (List.for_all (fun x -\&gt; x \&gt; 0) lst)\l       \|\| not (List.fold_right + 1 lst \&lt;= 0) :name \&quot;1\&quot; :time 0.314s)&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_345 -&gt; p_344 [label=&quot;&quot;];
p_344 [label=&quot;Induct ((functional ),\l        :scheme (lst = [] ==\&gt; φ lst)\l                &amp;&amp; (not (lst = []) &amp;&amp; φ (List.tl lst) ==\&gt; φ lst))&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_344 -&gt; p_343 [label=&quot;&quot;];
p_343 [label=&quot;Split (((not (lst = []) \|\| not (List.for_all (fun x -\&gt; x \&gt; 0) lst))\l        \|\| not (List.fold_right + 1 lst \&lt;= 0))\l       &amp;&amp; ((not\l            (not (lst = [])\l             &amp;&amp; (not (List.for_all (fun x -\&gt; x \&gt; 0) (List.tl lst))\l                 \|\| not (List.fold_right + 1 (List.tl lst) \&lt;= 0)))\l            \|\| not (List.for_all (fun x -\&gt; x \&gt; 0) lst))\l           \|\| not (List.fold_right + 1 lst \&lt;= 0))\l       :cases [(not (lst = []) \|\| not (List.for_all (fun x -\&gt; x \&gt; 0) lst))\l               \|\| not (List.fold_right + 1 lst \&lt;= 0);\l               ((lst = []\l                 \|\| not\l                    (not (List.for_all (fun x -\&gt; x \&gt; 0) (List.tl lst))\l                     \|\| not (List.fold_right + 1 (List.tl lst) \&lt;= 0)))\l                \|\| not (List.for_all (fun x -\&gt; x \&gt; 0) lst))\l               \|\| not (List.fold_right + 1 lst \&lt;= 0)])&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_343 -&gt; p_338 [label=&quot;&quot;];
subgraph cluster_339 {
  color=blue;
p_338 [label=&quot;Start (((lst = []\l         \|\| not\l            (not (List.for_all (fun x -\&gt; x \&gt; 0) (List.tl lst))\l             \|\| not (List.fold_right + 1 (List.tl lst) \&lt;= 0)))\l        \|\| not (List.for_all (fun x -\&gt; x \&gt; 0) lst))\l       \|\| not (List.fold_right + 1 lst \&lt;= 0) :name \&quot;1.1\&quot; :time 0.051s)&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_338 -&gt; p_337 [label=&quot;&quot;];
p_337 [label=&quot;Simplify (true :expansions [List.for_all; List.fold_right] :rw [] :fc [])&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
}
p_343 -&gt; p_341 [label=&quot;&quot;];
subgraph cluster_342 {
  color=blue;
p_341 [label=&quot;Start ((not (lst = []) \|\| not (List.for_all (fun x -\&gt; x \&gt; 0) lst))\l       \|\| not (List.fold_right + 1 lst \&lt;= 0) :name \&quot;1.2\&quot; :time 0.051s)&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_341 -&gt; p_340 [label=&quot;&quot;];
p_340 [label=&quot;Simplify (true :expansions [List.fold_right] :rw [] :fc [])&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
}
}
}
</textarea><button class="btn btn-primary">Load graph</button><div class="imandra-graphviz-loading display-none">Loading..</div><div class="imandra-graphviz-target"></div><script>
require(['nbextensions/nbimandra/graphviz'], function (graphviz) {
  var target = '#graphviz-1e3255d6-4dfd-4363-adad-05dc3ed5cd36';
  graphviz.hydrate(target);
});
</script></div></div></div><script>
require(['nbextensions/nbimandra/alternatives'], function (alternatives) {
  var target = '#alt-0787e5ef-f5f5-4b8f-b7a7-90f5b7cf93a2';
  alternatives.hydrate(target);
});
</script></div></div></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-18a5053d-494e-4e8d-94fe-8c25df22f6d1';
  fold.hydrate(target);
});
</script></div></div></div></div>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h2 id="Functional-Induction">Functional Induction<a class="anchor-link" href="#Functional-Induction">&#182;</a></h2><p>By default, Imandra uses <em>functional induction</em> (also known as <em>recursion induction</em>).</p>
<p>A functional induction scheme is one derived from the recursive structure of a
function definition. The termination measure used to admit the function is also
used to justify the soundness of the functional induction scheme. Unless
instructed otherwise, Imandra will consider all recursive functions in a goal,
analyse their recursions and instances, and apply various heuristics to merge
and score them and adapt them to the conjecture being proved. In general, there
may be more than one plausible induction scheme to choose from, and selecting
the "right" way to induct can often be a key step in difficult proofs. Imandra
will often make the "right" decision. However, in case it doesn't, it is also
possible to manually specify the induction that Imandra should do.</p>
<p>Let us return to the function <code>repeat</code> above and see functional induction in
action.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="try-this-container">
  <a href="https://try.imandra.ai/launch/?next=/h/user-redirect/notebooks/Verification%20-%20Induction.ipynb%23try-cell-10" target="_blank" rel="nofollow">
    <div class="try-this">Try this!</div>
  </a>
</div>
<div class="input">
<div class="prompt input_prompt">In&nbsp;[5]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ocaml"><pre><span></span><span class="n">lemma</span> <span class="n">repeat_len</span> <span class="n">c</span> <span class="n">n</span> <span class="o">=</span>
  <span class="n">n</span> <span class="o">&gt;=</span> <span class="mi">0</span> <span class="o">==&gt;</span>
  <span class="nn">List</span><span class="p">.</span><span class="n">length</span> <span class="o">(</span><span class="n">repeat</span> <span class="n">c</span> <span class="n">n</span><span class="o">)</span> <span class="o">=</span> <span class="n">n</span> <span class="o">[@@</span><span class="n">auto</span><span class="o">]</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt output_prompt">Out[5]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>val repeat_len : &#39;a -&gt; int -&gt; bool = &lt;fun&gt;
<span class="ansi-white-intense-fg ansi-bold">Goal</span>:

n &gt;= 0 ==&gt; List.length (repeat c n) = n.

1 nontautological subgoal.

<span class="ansi-white-intense-fg ansi-bold">Subgoal 1</span>:

 H0. n &gt;= 0
|---------------------------------------------------------------------------
 List.length (repeat c n) = n

Verified up to bound 10 (after 0.162s).

Must try induction.

We shall induct according to a scheme derived from <span class="ansi-blue-intense-fg ansi-bold">repeat</span>.

<span class="ansi-cyan-intense-fg ansi-bold">Induction scheme</span>:

 (n &lt;= 0 ==&gt; φ n c) &amp;&amp; (not (n &lt;= 0) &amp;&amp; φ (n - 1) c ==&gt; φ n c).

2 nontautological subgoals.

<span class="ansi-white-intense-fg ansi-bold">Subgoal 1.2</span>:

 H0. n &lt;= 0
 H1. n &gt;= 0
|---------------------------------------------------------------------------
 List.length (repeat c n) = n

But simplification reduces this to true, using the definitions of <span class="ansi-blue-intense-fg ansi-bold">List.length
</span>and<span class="ansi-blue-intense-fg ansi-bold"> repeat</span>.

<span class="ansi-white-intense-fg ansi-bold">Subgoal 1.1</span>:

 H0. not (n &lt;= 0)
 H1. n &gt;= 1 ==&gt; List.length (repeat c (-1 + n)) = -1 + n
 H2. n &gt;= 0
|---------------------------------------------------------------------------
 List.length (repeat c n) = n

But simplification reduces this to true, using the definitions of <span class="ansi-blue-intense-fg ansi-bold">List.length
</span>and<span class="ansi-blue-intense-fg ansi-bold"> repeat</span>.

</pre>
</div>

</div>

<div class="output_area">

<div class="prompt"></div>



<div class="output_html rendered_html output_subarea ">
<div><div class="imandra-vr imandra-vr-proved"><i class="fa fa-check-circle"></i><span>Proved</span></div><div><div class="imandra-proof-top"><div class="imandra-fold panel panel-default" id="fold-0253f563-1468-4a3c-beae-ce6e2faab01b"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>proof</span></div></div><div class="panel-body collapse"><div class="imandra-proof"><div class="imandra-alternatives" id="alt-8e74bcc3-5a40-4fb5-ae26-a60f2199bb6a"><ul class="nav nav-tabs"><li class="active" data-toggle="tab"><a>summary</a></li><li class="" data-toggle="tab"><a>full</a></li><li class="" data-toggle="tab"><a>graph</a></li></ul><div class="tab-content"><div class="tab-pane active"><div class="imandra-table" id="table-5081a061-e104-4605-b707-5fb37da9bd94"><table><tr><td><b>ground_instances</b></td><td>0</td></tr><tr><td><b>definitions</b></td><td>4</td></tr><tr><td><b>inductions</b></td><td>1</td></tr><tr><td><b>search_time</b></td><td><pre>0.285s</pre></td></tr></table></div></div><div class="tab-pane"><div class="imandra-fold panel panel-default" id="fold-b8e62f4e-18e3-408d-a2f1-dc72c96c1851"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>Expand</span></div></div><div class="panel-body collapse"><ul><li><pre>start[0.285s, &quot;Goal&quot;]
  :var_0: &gt;= 0 ==&gt; List.length (repeat :var_1: :var_0:) = :var_0:</pre></li><li><div><h4>subproof</h4><div class="imandra-fold panel panel-default" id="fold-41843d46-6c9c-4ebf-8501-bccc0522fcc9"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>not (n &gt;= 0) || List.length (repeat c n) = n</span></div></div><div class="panel-body collapse"><ul><li><pre>start[0.285s, &quot;1&quot;] not (n &gt;= 0) || List.length (repeat c n) = n</pre></li><li><pre>induction on (functional )
:scheme (n &lt;= 0 ==&gt; φ n c) &amp;&amp; (not (n &lt;= 0) &amp;&amp; φ (n - 1) c ==&gt; φ n c)</pre></li><li><div><pre>Split (((not (n &lt;= 0) || not (n &gt;= 0)) || List.length (repeat c n) = n)
       &amp;&amp; ((not
            (not (n &lt;= 0)
             &amp;&amp; (not (n &gt;= 1) || List.length (repeat c (-1 + n)) = -1 + n))
            || not (n &gt;= 0))
           || List.length (repeat c n) = n)
       :cases [(not (n &lt;= 0) || not (n &gt;= 0)) || List.length (repeat c n) = n;
               ((n &lt;= 0
                 || not
                    (not (n &gt;= 1) || List.length (repeat c (-1 + n)) = -1 + n))
                || not (n &gt;= 0))
               || List.length (repeat c n) = n])</pre><ul><li><div><h5>subproof</h5><div class="imandra-fold panel panel-default" id="fold-10271e5b-19ae-4a1d-8d7e-937572d9e1c1"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>((n &lt;= 0 || not (not (n &gt;= 1) || List.length (repeat c (-1 + n)) = -1 + n))
 || not (n &gt;= 0))
|| List.length (repeat c n) = n</span></div></div><div class="panel-body collapse"><ul><li><pre>start[0.058s, &quot;1.1&quot;]
  ((n &lt;= 0 || not (not (n &gt;= 1) || List.length (repeat c (-1 + n)) = -1 + n))
   || not (n &gt;= 0))
  || List.length (repeat c n) = n</pre></li><li><div><h6>simplify</h6><div class="imandra-table" id="table-23f18ad1-5830-4773-ab10-91394d94c7e2"><table><tr><td><b>into</b></td><td><pre>true</pre></td></tr><tr><td><b>expansions</b></td><td><pre>[List.length, repeat]</pre></td></tr><tr><td><b>rewrite_steps</b></td><td><ul></ul></td></tr><tr><td><b>forward_chaining</b></td><td><ul><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li></ul></td></tr></table></div></div></li></ul></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-10271e5b-19ae-4a1d-8d7e-937572d9e1c1';
  fold.hydrate(target);
});
</script></div></div></li><li><div><h5>subproof</h5><div class="imandra-fold panel panel-default" id="fold-5ff3e590-4c8e-4528-ad9b-2b0eab57d72f"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>(not (n &lt;= 0) || not (n &gt;= 0)) || List.length (repeat c n) = n</span></div></div><div class="panel-body collapse"><ul><li><pre>start[0.058s, &quot;1.2&quot;]
  (not (n &lt;= 0) || not (n &gt;= 0)) || List.length (repeat c n) = n</pre></li><li><div><h6>simplify</h6><div class="imandra-table" id="table-12197554-1927-4802-b995-05a3ad71d7cf"><table><tr><td><b>into</b></td><td><pre>true</pre></td></tr><tr><td><b>expansions</b></td><td><pre>[List.length, repeat]</pre></td></tr><tr><td><b>rewrite_steps</b></td><td><ul></ul></td></tr><tr><td><b>forward_chaining</b></td><td><pre>List.len_nonnegative</pre></td></tr></table></div></div></li></ul></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-5ff3e590-4c8e-4528-ad9b-2b0eab57d72f';
  fold.hydrate(target);
});
</script></div></div></li></ul></div></li></ul></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-41843d46-6c9c-4ebf-8501-bccc0522fcc9';
  fold.hydrate(target);
});
</script></div></div></li></ul></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-b8e62f4e-18e3-408d-a2f1-dc72c96c1851';
  fold.hydrate(target);
});
</script></div></div><div class="tab-pane"><div class="imandra-graphviz" id="graphviz-2fb330fe-3ae6-423e-bbdf-2fae84af8e69"><textarea style="display: none">digraph &quot;proof&quot; {
p_369 [label=&quot;Start (:var_0: \&gt;= 0 ==\&gt; List.length (repeat :var_1: :var_0:) = :var_0:\l       :name \&quot;Goal\&quot; :time 0.285s)&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_369 -&gt; p_367 [label=&quot;&quot;];
subgraph cluster_368 {
  color=blue;
p_367 [label=&quot;Start (not (n \&gt;= 0) \|\| List.length (repeat c n) = n :name \&quot;1\&quot; :time 0.285s)&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_367 -&gt; p_366 [label=&quot;&quot;];
p_366 [label=&quot;Induct ((functional ),\l        :scheme (n \&lt;= 0 ==\&gt; φ n c)\l                &amp;&amp; (not (n \&lt;= 0) &amp;&amp; φ (n - 1) c ==\&gt; φ n c))&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_366 -&gt; p_365 [label=&quot;&quot;];
p_365 [label=&quot;Split (((not (n \&lt;= 0) \|\| not (n \&gt;= 0)) \|\| List.length (repeat c n) = n)\l       &amp;&amp; ((not\l            (not (n \&lt;= 0)\l             &amp;&amp; (not (n \&gt;= 1) \|\| List.length (repeat c (-1 + n)) = -1 + n))\l            \|\| not (n \&gt;= 0))\l           \|\| List.length (repeat c n) = n)\l       :cases [(not (n \&lt;= 0) \|\| not (n \&gt;= 0)) \|\| List.length (repeat c n) = n;\l               ((n \&lt;= 0\l                 \|\| not\l                    (not (n \&gt;= 1) \|\| List.length (repeat c (-1 + n)) = -1 + n))\l                \|\| not (n \&gt;= 0))\l               \|\| List.length (repeat c n) = n])&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_365 -&gt; p_360 [label=&quot;&quot;];
subgraph cluster_361 {
  color=blue;
p_360 [label=&quot;Start (((n \&lt;= 0\l         \|\| not (not (n \&gt;= 1) \|\| List.length (repeat c (-1 + n)) = -1 + n))\l        \|\| not (n \&gt;= 0))\l       \|\| List.length (repeat c n) = n :name \&quot;1.1\&quot; :time 0.058s)&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_360 -&gt; p_359 [label=&quot;&quot;];
p_359 [label=&quot;Simplify (true :expansions [List.length; repeat] :rw []\l          :fc [List.len_nonnegative; List.len_nonnegative])&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
}
p_365 -&gt; p_363 [label=&quot;&quot;];
subgraph cluster_364 {
  color=blue;
p_363 [label=&quot;Start ((not (n \&lt;= 0) \|\| not (n \&gt;= 0)) \|\| List.length (repeat c n) = n\l       :name \&quot;1.2\&quot; :time 0.058s)&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_363 -&gt; p_362 [label=&quot;&quot;];
p_362 [label=&quot;Simplify (true :expansions [List.length; repeat] :rw []\l          :fc [List.len_nonnegative])&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
}
}
}
</textarea><button class="btn btn-primary">Load graph</button><div class="imandra-graphviz-loading display-none">Loading..</div><div class="imandra-graphviz-target"></div><script>
require(['nbextensions/nbimandra/graphviz'], function (graphviz) {
  var target = '#graphviz-2fb330fe-3ae6-423e-bbdf-2fae84af8e69';
  graphviz.hydrate(target);
});
</script></div></div></div><script>
require(['nbextensions/nbimandra/alternatives'], function (alternatives) {
  var target = '#alt-8e74bcc3-5a40-4fb5-ae26-a60f2199bb6a';
  alternatives.hydrate(target);
});
</script></div></div></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-0253f563-1468-4a3c-beae-ce6e2faab01b';
  fold.hydrate(target);
});
</script></div></div></div></div>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>Functional induction schemes tailored to a problem can also be manually specified.</p>
<p>In order to manually specify a functional induction, one must define a recursive
function encoding the recursion scheme one wants available in induction (Imandra
doesn't care what the function <em>does</em>, it only looks at how it recurses).
As always, Imandra must be able to prove that the recursive function terminates
in order for it to be admitted into the logic. The ordinal measures used in the
termination proof are then used to justify subsequent functional induction
schemes derived from the function.</p>
<p>Let's see a simple example. Note that we could trivially prove this goal with
<code>[@@auto]</code>, but we shall use it to illustrate the process of manual induction
schemes nevertheless! For fun, we'll make our custom induction scheme have two
base-cases.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="try-this-container">
  <a href="https://try.imandra.ai/launch/?next=/h/user-redirect/notebooks/Verification%20-%20Induction.ipynb%23try-cell-12" target="_blank" rel="nofollow">
    <div class="try-this">Try this!</div>
  </a>
</div>
<div class="input">
<div class="prompt input_prompt">In&nbsp;[6]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ocaml"><pre><span></span><span class="k">let</span> <span class="k">rec</span> <span class="n">sum</span> <span class="n">n</span> <span class="o">=</span>
 <span class="k">if</span> <span class="n">n</span> <span class="o">&lt;=</span> <span class="mi">0</span> <span class="k">then</span> <span class="mi">0</span>
 <span class="k">else</span> <span class="n">n</span> <span class="o">+</span> <span class="n">sum</span> <span class="o">(</span><span class="n">n</span><span class="o">-</span><span class="mi">1</span><span class="o">)</span>

<span class="k">let</span> <span class="k">rec</span> <span class="n">induct_scheme</span> <span class="o">(</span><span class="n">n</span> <span class="o">:</span> <span class="kt">int</span><span class="o">)</span> <span class="o">=</span>
 <span class="k">if</span> <span class="n">n</span> <span class="o">&lt;=</span> <span class="mi">0</span> <span class="k">then</span> <span class="bp">true</span>
 <span class="k">else</span> <span class="k">if</span> <span class="n">n</span> <span class="o">=</span> <span class="mi">1</span> <span class="k">then</span> <span class="bp">true</span>
 <span class="k">else</span> <span class="n">induct_scheme</span> <span class="o">(</span><span class="n">n</span><span class="o">-</span><span class="mi">1</span><span class="o">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt output_prompt">Out[6]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>val sum : int -&gt; Z.t = &lt;fun&gt;
val induct_scheme : int -&gt; bool = &lt;fun&gt;
</pre>
</div>

</div>

<div class="output_area">

<div class="prompt"></div>



<div class="output_html rendered_html output_subarea ">
<div><div class="imandra-fold panel panel-default" id="fold-ed5b06da-eaee-410e-9647-b774ab382bff"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>termination proof</span></div></div><div class="panel-body collapse"><div><h3>Termination proof</h3><p></p><div class="imandra-fold panel panel-default" id="fold-e1689772-610b-4bd7-bba0-1efcb156996f"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>call `sum (n - 1)` from `sum n`</span></div></div><div class="panel-body collapse"><div class="imandra-table" id="table-a4abd383-cb53-4f58-9d0e-a183974765f4"><table><tr><td><b>original</b></td><td>sum n</td></tr><tr><td><b>sub</b></td><td>sum (n - 1)</td></tr><tr><td><b>original ordinal</b></td><td>Ordinal.Int (if n &gt;= 0 then n else 0)</td></tr><tr><td><b>sub ordinal</b></td><td>Ordinal.Int (if (n - 1) &gt;= 0 then n - 1 else 0)</td></tr><tr><td><b>path</b></td><td>[not (n &lt;= 0)]</td></tr><tr><td><b>proof</b></td><td><div class="imandra-fold panel panel-default" id="fold-ec813d68-7d06-46e7-ab69-f063015f91e8"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>detailed proof</span></div></div><div class="panel-body collapse"><div class="imandra-proof"><div class="imandra-alternatives" id="alt-a558db0c-019d-45e0-a387-e35adff2bf40"><ul class="nav nav-tabs"><li class="active" data-toggle="tab"><a>summary</a></li><li class="" data-toggle="tab"><a>full</a></li></ul><div class="tab-content"><div class="tab-pane active"><div class="imandra-table" id="table-d5f79d8c-61f9-49d0-97f1-eddf86f26314"><table><tr><td><b>ground_instances</b></td><td>1</td></tr><tr><td><b>definitions</b></td><td>0</td></tr><tr><td><b>inductions</b></td><td>0</td></tr><tr><td><b>search_time</b></td><td><pre>0.016s</pre></td></tr><tr><td><b>details</b></td><td><div class="imandra-fold panel panel-default" id="fold-ecf21983-5170-4183-a010-88908fb30ac8"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>Expand</span></div></div><div class="panel-body collapse"><div class="imandra-table" id="table-b1e06453-c7e9-4611-96ec-0e31f536c40e"><table><tr><td><b>smt_stats</b></td><td><div class="imandra-table" id="table-3c733208-af0f-472a-9d46-73ca5d3bb94f"><table><tr><td><b>num checks</b></td><td>3</td></tr><tr><td><b>arith assert lower</b></td><td>9</td></tr><tr><td><b>arith pivots</b></td><td>2</td></tr><tr><td><b>rlimit count</b></td><td>14970</td></tr><tr><td><b>mk clause</b></td><td>4</td></tr><tr><td><b>datatype occurs check</b></td><td>2</td></tr><tr><td><b>mk bool var</b></td><td>20</td></tr><tr><td><b>arith assert upper</b></td><td>2</td></tr><tr><td><b>decisions</b></td><td>2</td></tr><tr><td><b>arith add rows</b></td><td>3</td></tr><tr><td><b>propagations</b></td><td>2</td></tr><tr><td><b>conflicts</b></td><td>2</td></tr><tr><td><b>arith fixed eqs</b></td><td>2</td></tr><tr><td><b>datatype accessor ax</b></td><td>2</td></tr><tr><td><b>arith conflicts</b></td><td>1</td></tr><tr><td><b>num allocs</b></td><td>3227177605</td></tr><tr><td><b>final checks</b></td><td>1</td></tr><tr><td><b>added eqs</b></td><td>6</td></tr><tr><td><b>del clause</b></td><td>4</td></tr><tr><td><b>arith eq adapter</b></td><td>2</td></tr><tr><td><b>memory</b></td><td>44.010000</td></tr><tr><td><b>max memory</b></td><td>46.850000</td></tr></table></div></td></tr></table></div></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-ecf21983-5170-4183-a010-88908fb30ac8';
  fold.hydrate(target);
});
</script></div></td></tr></table></div></div><div class="tab-pane"><div class="imandra-fold panel panel-default" id="fold-696381b1-3d82-432a-b7b5-f898b9f3b1f1"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>Expand</span></div></div><div class="panel-body collapse"><ul><li><pre>start[0.016s]
  not (n &lt;= 0)
  &amp;&amp; (if n &gt;= 0 then n else 0) &gt;= 0
     &amp;&amp; (if (n - 1) &gt;= 0 then n - 1 else 0) &gt;= 0
  ==&gt; (n - 1) &lt;= 0
      || Ordinal.&lt;&lt; (Ordinal.Int (if (n - 1) &gt;= 0 then n - 1 else 0))
         (Ordinal.Int (if n &gt;= 0 then n else 0))</pre></li><li><div><h5>simplify</h5><div class="imandra-table" id="table-1c861f5e-b395-4065-9188-0a5bc8621000"><table><tr><td><b>into</b></td><td><pre>(not
 ((not (n &lt;= 0) &amp;&amp; (if n &gt;= 0 then n else 0) &gt;= 0)
  &amp;&amp; (if n &gt;= 1 then -1 + n else 0) &gt;= 0)
 || n &lt;= 1)
|| Ordinal.&lt;&lt; (Ordinal.Int (if n &gt;= 1 then -1 + n else 0))
   (Ordinal.Int (if n &gt;= 0 then n else 0))</pre></td></tr><tr><td><b>expansions</b></td><td><pre>[]</pre></td></tr><tr><td><b>rewrite_steps</b></td><td><ul></ul></td></tr><tr><td><b>forward_chaining</b></td><td><ul></ul></td></tr></table></div></div></li><li><div>unroll<div class="imandra-table" id="table-b83c368b-12e7-4042-9a8e-1297f5d94dde"><table><tr><td><b>expr</b></td><td><pre>(|Ordinal.&lt;&lt;_122| (|Ordinal.Int_113| (ite (&gt;= n_2771 1) (+ (- 1) n_2771) 0))
                  (|Ord…</pre></td></tr><tr><td><b>expansions</b></td><td><ul></ul></td></tr></table></div></div></li><li><div><h5>unsat</h5><pre>(let ((a!1 (= (+ (- 1) n_2771) (ite (&gt;= n_2771 1) (+ (- 1) n_2771) 0)))
      (a!2 (+ (+ (- 1) n_277…</pre></div></li></ul></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-696381b1-3d82-432a-b7b5-f898b9f3b1f1';
  fold.hydrate(target);
});
</script></div></div></div><script>
require(['nbextensions/nbimandra/alternatives'], function (alternatives) {
  var target = '#alt-a558db0c-019d-45e0-a387-e35adff2bf40';
  alternatives.hydrate(target);
});
</script></div></div></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-ec813d68-7d06-46e7-ab69-f063015f91e8';
  fold.hydrate(target);
});
</script></div></td></tr></table></div></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-e1689772-610b-4bd7-bba0-1efcb156996f';
  fold.hydrate(target);
});
</script></div><p></p></div></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-ed5b06da-eaee-410e-9647-b774ab382bff';
  fold.hydrate(target);
});
</script></div></div>

</div>

</div>

<div class="output_area">

<div class="prompt"></div>



<div class="output_html rendered_html output_subarea ">
<div><div class="imandra-fold panel panel-default" id="fold-bd77c84c-59a9-4c56-9502-18c5a3446df6"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>termination proof</span></div></div><div class="panel-body collapse"><div><h3>Termination proof</h3><p></p><div class="imandra-fold panel panel-default" id="fold-5c963edc-e087-42a3-8fa7-7298b65731a2"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>call `induct_scheme (n - 1)` from `induct_scheme n`</span></div></div><div class="panel-body collapse"><div class="imandra-table" id="table-bb65ecde-91a3-4480-9f0f-e52e61868c8b"><table><tr><td><b>original</b></td><td>induct_scheme n</td></tr><tr><td><b>sub</b></td><td>induct_scheme (n - 1)</td></tr><tr><td><b>original ordinal</b></td><td>Ordinal.Int (if n &gt;= 0 then n else 0)</td></tr><tr><td><b>sub ordinal</b></td><td>Ordinal.Int (if (n - 1) &gt;= 0 then n - 1 else 0)</td></tr><tr><td><b>path</b></td><td>[not (n = 1) &amp;&amp; not (n &lt;= 0)]</td></tr><tr><td><b>proof</b></td><td><div class="imandra-fold panel panel-default" id="fold-a6e459a7-d78f-4ff1-b1c3-1df117be7690"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>detailed proof</span></div></div><div class="panel-body collapse"><div class="imandra-proof"><div class="imandra-alternatives" id="alt-fef07a80-8a12-484b-a32e-66b884f36b71"><ul class="nav nav-tabs"><li class="active" data-toggle="tab"><a>summary</a></li><li class="" data-toggle="tab"><a>full</a></li></ul><div class="tab-content"><div class="tab-pane active"><div class="imandra-table" id="table-dc575a5d-b54a-4e7d-a40e-a2ecbb0b8095"><table><tr><td><b>ground_instances</b></td><td>1</td></tr><tr><td><b>definitions</b></td><td>0</td></tr><tr><td><b>inductions</b></td><td>0</td></tr><tr><td><b>search_time</b></td><td><pre>0.030s</pre></td></tr><tr><td><b>details</b></td><td><div class="imandra-fold panel panel-default" id="fold-4a7307bb-eb45-4faf-be58-5a11ec4d4245"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>Expand</span></div></div><div class="panel-body collapse"><div class="imandra-table" id="table-8438fa24-0dcd-4a5e-a7bd-41279593ecab"><table><tr><td><b>smt_stats</b></td><td><div class="imandra-table" id="table-fcbebef5-1fc5-4526-abed-ab017d1a1bee"><table><tr><td><b>num checks</b></td><td>3</td></tr><tr><td><b>arith assert lower</b></td><td>11</td></tr><tr><td><b>arith pivots</b></td><td>2</td></tr><tr><td><b>rlimit count</b></td><td>16103</td></tr><tr><td><b>mk clause</b></td><td>7</td></tr><tr><td><b>datatype occurs check</b></td><td>2</td></tr><tr><td><b>mk bool var</b></td><td>24</td></tr><tr><td><b>arith assert upper</b></td><td>2</td></tr><tr><td><b>decisions</b></td><td>2</td></tr><tr><td><b>arith add rows</b></td><td>3</td></tr><tr><td><b>propagations</b></td><td>3</td></tr><tr><td><b>conflicts</b></td><td>2</td></tr><tr><td><b>arith fixed eqs</b></td><td>2</td></tr><tr><td><b>datatype accessor ax</b></td><td>2</td></tr><tr><td><b>arith conflicts</b></td><td>1</td></tr><tr><td><b>arith assert diseq</b></td><td>3</td></tr><tr><td><b>num allocs</b></td><td>3339508776</td></tr><tr><td><b>final checks</b></td><td>1</td></tr><tr><td><b>added eqs</b></td><td>6</td></tr><tr><td><b>del clause</b></td><td>7</td></tr><tr><td><b>arith eq adapter</b></td><td>4</td></tr><tr><td><b>memory</b></td><td>44.160000</td></tr><tr><td><b>max memory</b></td><td>46.850000</td></tr></table></div></td></tr></table></div></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-4a7307bb-eb45-4faf-be58-5a11ec4d4245';
  fold.hydrate(target);
});
</script></div></td></tr></table></div></div><div class="tab-pane"><div class="imandra-fold panel panel-default" id="fold-707ca7b2-49d4-4f49-8369-92ed6fd5b3b6"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>Expand</span></div></div><div class="panel-body collapse"><ul><li><pre>start[0.030s]
  not (n = 1)
  &amp;&amp; not (n &lt;= 0)
     &amp;&amp; (if n &gt;= 0 then n else 0) &gt;= 0
        &amp;&amp; (if (n - 1) &gt;= 0 then n - 1 else 0) &gt;= 0
  ==&gt; not (not (n - 1 = 1) &amp;&amp; not ((n - 1) &lt;= 0))
      || Ordinal.&lt;&lt; (Ordinal.Int (if (n - 1) &gt;= 0 then n - 1 else 0))
         (Ordinal.Int (if n &gt;= 0 then n else 0))</pre></li><li><div><h5>simplify</h5><div class="imandra-table" id="table-ddde9041-f740-47f6-a965-a28ab9f749f6"><table><tr><td><b>into</b></td><td><pre>(not
 (((not (n = 1) &amp;&amp; not (n &lt;= 0)) &amp;&amp; (if n &gt;= 0 then n else 0) &gt;= 0)
  &amp;&amp; (if n &gt;= 1 then -1 + n else 0) &gt;= 0)
 || not (not (n = 2) &amp;&amp; not (n &lt;= 1)))
|| Ordinal.&lt;&lt; (Ordinal.Int (if n &gt;= 1 then -1 + n else 0))
   (Ordinal.Int (if n &gt;= 0 then n else 0))</pre></td></tr><tr><td><b>expansions</b></td><td><pre>[]</pre></td></tr><tr><td><b>rewrite_steps</b></td><td><ul></ul></td></tr><tr><td><b>forward_chaining</b></td><td><ul></ul></td></tr></table></div></div></li><li><div>unroll<div class="imandra-table" id="table-30e95550-74a4-49ac-a373-2902384dc52c"><table><tr><td><b>expr</b></td><td><pre>(|Ordinal.&lt;&lt;_122| (|Ordinal.Int_113| (ite (&gt;= n_2784 1) (+ (- 1) n_2784) 0))
                  (|Ord…</pre></td></tr><tr><td><b>expansions</b></td><td><ul></ul></td></tr></table></div></div></li><li><div><h5>unsat</h5><pre>(let ((a!1 (= (ite (&gt;= n_2784 1) (+ (- 1) n_2784) 0) (+ (- 1) n_2784)))
      (a!2 (&lt;= (+ (ite (&gt;= n…</pre></div></li></ul></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-707ca7b2-49d4-4f49-8369-92ed6fd5b3b6';
  fold.hydrate(target);
});
</script></div></div></div><script>
require(['nbextensions/nbimandra/alternatives'], function (alternatives) {
  var target = '#alt-fef07a80-8a12-484b-a32e-66b884f36b71';
  alternatives.hydrate(target);
});
</script></div></div></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-a6e459a7-d78f-4ff1-b1c3-1df117be7690';
  fold.hydrate(target);
});
</script></div></td></tr></table></div></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-5c963edc-e087-42a3-8fa7-7298b65731a2';
  fold.hydrate(target);
});
</script></div><p></p></div></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-bd77c84c-59a9-4c56-9502-18c5a3446df6';
  fold.hydrate(target);
});
</script></div></div>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="try-this-container">
  <a href="https://try.imandra.ai/launch/?next=/h/user-redirect/notebooks/Verification%20-%20Induction.ipynb%23try-cell-13" target="_blank" rel="nofollow">
    <div class="try-this">Try this!</div>
  </a>
</div>
<div class="input">
<div class="prompt input_prompt">In&nbsp;[7]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ocaml"><pre><span></span><span class="n">verify</span> <span class="o">(</span><span class="k">fun</span> <span class="n">n</span> <span class="o">-&gt;</span> <span class="n">n</span> <span class="o">&gt;=</span> <span class="mi">0</span> <span class="o">==&gt;</span> <span class="n">sum</span> <span class="n">n</span> <span class="o">=</span> <span class="o">(</span><span class="n">n</span> <span class="o">*</span> <span class="o">(</span><span class="n">n</span><span class="o">+</span><span class="mi">1</span><span class="o">))</span> <span class="o">/</span> <span class="mi">2</span><span class="o">)</span> <span class="o">[@@</span><span class="n">induct</span> <span class="n">functional</span> <span class="n">induct_scheme</span><span class="o">]</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt output_prompt">Out[7]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>- : int -&gt; bool = &lt;fun&gt;
<span class="ansi-white-intense-fg ansi-bold">Goal</span>:

n &gt;= 0 ==&gt; sum n = (n * (n + 1)) / 2.

1 nontautological subgoal.

<span class="ansi-white-intense-fg ansi-bold">Subgoal 1</span>:

 H0. n &gt;= 0
|---------------------------------------------------------------------------
 sum n = (n * (1 + n)) / 2

Verified up to bound 10 (after 0.221s).

Must try induction.

<span class="ansi-yellow-intense-fg ansi-bold">Note:</span> Thank you for your explicit request for a non-present functional
induction!

We shall induct according to a scheme derived from <span class="ansi-blue-intense-fg ansi-bold">induct_scheme</span>.

<span class="ansi-cyan-intense-fg ansi-bold">Induction scheme</span>:

 (not (not (n = 1) &amp;&amp; not (n &lt;= 0)) ==&gt; φ n)
 &amp;&amp; (not (n &lt;= 0) &amp;&amp; not (n = 1) &amp;&amp; φ (n - 1) ==&gt; φ n).

2 nontautological subgoals.

<span class="ansi-white-intense-fg ansi-bold">Subgoal 1.2</span>:

 H0. n &gt;= 0
|---------------------------------------------------------------------------
 C0. not (n = 1) &amp;&amp; not (n &lt;= 0)
 C1. sum n = (n * (1 + n)) / 2

This simplifies to the following 2 subgoals:

<span class="ansi-white-intense-fg ansi-bold">Subgoal 1.2.2</span>:

 H0. n = 1
|---------------------------------------------------------------------------
 sum n = (n * (1 + n)) / 2

But simplification reduces this to true, using the definition of <span class="ansi-blue-intense-fg ansi-bold">sum</span>.

<span class="ansi-white-intense-fg ansi-bold">Subgoal 1.2.1</span>:

 H0. n &gt;= 0
 H1. n &lt;= 0
|---------------------------------------------------------------------------
 C0. n = 1
 C1. sum n = (n * (1 + n)) / 2

But simplification reduces this to true, using the definition of <span class="ansi-blue-intense-fg ansi-bold">sum</span>.

<span class="ansi-white-intense-fg ansi-bold">Subgoal 1.1</span>:

 H0. not (n &lt;= 0)
 H1. not (n = 1)
 H2. n &gt;= 1 ==&gt; sum (-1 + n) = (n * (-1 + n)) / 2
 H3. n &gt;= 0
|---------------------------------------------------------------------------
 sum n = (n * (1 + n)) / 2

But simplification reduces this to true, using the definition of <span class="ansi-blue-intense-fg ansi-bold">sum</span>.

</pre>
</div>

</div>

<div class="output_area">

<div class="prompt"></div>



<div class="output_html rendered_html output_subarea ">
<div><div class="imandra-vr imandra-vr-proved"><i class="fa fa-check-circle"></i><span>Proved</span></div><div><div class="imandra-proof-top"><div class="imandra-fold panel panel-default" id="fold-ea3cf777-711f-4cf2-88b9-d927c7e99177"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>proof</span></div></div><div class="panel-body collapse"><div class="imandra-proof"><div class="imandra-alternatives" id="alt-652b85e3-a694-4079-a097-8d2bd91db89f"><ul class="nav nav-tabs"><li class="active" data-toggle="tab"><a>summary</a></li><li class="" data-toggle="tab"><a>full</a></li><li class="" data-toggle="tab"><a>graph</a></li></ul><div class="tab-content"><div class="tab-pane active"><div class="imandra-table" id="table-94e9a557-9ed8-473e-b83e-00fc87e8d17e"><table><tr><td><b>ground_instances</b></td><td>0</td></tr><tr><td><b>definitions</b></td><td>4</td></tr><tr><td><b>inductions</b></td><td>1</td></tr><tr><td><b>search_time</b></td><td><pre>0.565s</pre></td></tr></table></div></div><div class="tab-pane"><div class="imandra-fold panel panel-default" id="fold-b3ef19cd-3fe9-4581-ae37-8142e6432862"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>Expand</span></div></div><div class="panel-body collapse"><ul><li><pre>start[0.565s, &quot;Goal&quot;]
  :var_0: &gt;= 0 ==&gt; sum :var_0: = (:var_0: * (:var_0: + 1)) / 2</pre></li><li><div><h4>subproof</h4><div class="imandra-fold panel panel-default" id="fold-cd8b5d30-f747-47ae-9d0d-2df3a8da074f"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>not (n &gt;= 0) || sum n = (n * (1 + n)) / 2</span></div></div><div class="panel-body collapse"><ul><li><pre>start[0.564s, &quot;1&quot;] not (n &gt;= 0) || sum n = (n * (1 + n)) / 2</pre></li><li><pre>induction on (functional induct_scheme)
:scheme (not (not (n = 1) &amp;&amp; not (n &lt;= 0)) ==&gt; φ n)
        &amp;&amp; (not (n &lt;= 0) &amp;&amp; not (n = 1) &amp;&amp; φ (n - 1) ==&gt; φ n)</pre></li><li><div><pre>Split (((not (n = 1) &amp;&amp; not (n &lt;= 0) || not (n &gt;= 0))
        || sum n = (n * (1 + n)) / 2)
       &amp;&amp; ((not
            ((not (n &lt;= 0) &amp;&amp; not (n = 1))
             &amp;&amp; (not (n &gt;= 1) || sum (-1 + n) = (n * (-1 + n)) / 2))
            || not (n &gt;= 0))
           || sum n = (n * (1 + n)) / 2)
       :cases [(not (n &gt;= 0) || not (n = 1) &amp;&amp; not (n &lt;= 0))
               || sum n = (n * (1 + n)) / 2;
               (((n &lt;= 0 || n = 1)
                 || not (not (n &gt;= 1) || sum (-1 + n) = (n * (-1 + n)) / 2))
                || not (n &gt;= 0))
               || sum n = (n * (1 + n)) / 2])</pre><ul><li><div><h5>subproof</h5><div class="imandra-fold panel panel-default" id="fold-e372c3e3-0130-4024-a478-f462653f9129"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>(((n &lt;= 0 || n = 1)
  || not (not (n &gt;= 1) || sum (-1 + n) = (n * (-1 + n)) / 2))
 || not (n &gt;= 0))
|| sum n = (n * (1 + n)) / 2</span></div></div><div class="panel-body collapse"><ul><li><pre>start[0.255s, &quot;1.1&quot;]
  (((n &lt;= 0 || n = 1)
    || not (not (n &gt;= 1) || sum (-1 + n) = (n * (-1 + n)) / 2))
   || not (n &gt;= 0))
  || sum n = (n * (1 + n)) / 2</pre></li><li><div><h6>simplify</h6><div class="imandra-table" id="table-f470e922-5cfa-4f7f-8799-4d2123c573cd"><table><tr><td><b>into</b></td><td><pre>true</pre></td></tr><tr><td><b>expansions</b></td><td><pre>sum</pre></td></tr><tr><td><b>rewrite_steps</b></td><td><ul></ul></td></tr><tr><td><b>forward_chaining</b></td><td><ul></ul></td></tr></table></div></div></li></ul></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-e372c3e3-0130-4024-a478-f462653f9129';
  fold.hydrate(target);
});
</script></div></div></li><li><div><h5>subproof</h5><div class="imandra-fold panel panel-default" id="fold-c0a55a75-07ce-495a-91c1-baf10bcaf2c5"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>(not (n &gt;= 0) || not (n = 1) &amp;&amp; not (n &lt;= 0)) || sum n = (n * (1 + n)) / 2</span></div></div><div class="panel-body collapse"><ul><li><pre>start[0.255s, &quot;1.2&quot;]
  (not (n &gt;= 0) || not (n = 1) &amp;&amp; not (n &lt;= 0)) || sum n = (n * (1 + n)) / 2</pre></li><li><div><div><h6>simplify</h6><div class="imandra-table" id="table-d02c3fb6-f2c0-49e8-adff-28f92e440aae"><table><tr><td><b>into</b></td><td><pre>(not (n = 1) || sum n = (n * (1 + n)) / 2)
&amp;&amp; (((not (n &gt;= 0) || not (n &lt;= 0)) || n = 1) || sum n = (n * (1 + n)) / 2)</pre></td></tr><tr><td><b>expansions</b></td><td><pre>[]</pre></td></tr><tr><td><b>rewrite_steps</b></td><td><ul></ul></td></tr><tr><td><b>forward_chaining</b></td><td><ul></ul></td></tr></table></div></div><ul><li><pre>Subproof</pre></li><li><pre>Subproof</pre></li></ul></div></li></ul></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-c0a55a75-07ce-495a-91c1-baf10bcaf2c5';
  fold.hydrate(target);
});
</script></div></div></li></ul></div></li></ul></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-cd8b5d30-f747-47ae-9d0d-2df3a8da074f';
  fold.hydrate(target);
});
</script></div></div></li></ul></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-b3ef19cd-3fe9-4581-ae37-8142e6432862';
  fold.hydrate(target);
});
</script></div></div><div class="tab-pane"><div class="imandra-graphviz" id="graphviz-4ee43eb4-ed61-4f8f-b587-3d13fb7aee16"><textarea style="display: none">digraph &quot;proof&quot; {
p_406 [label=&quot;Start (:var_0: \&gt;= 0 ==\&gt; sum :var_0: = (:var_0: * (:var_0: + 1)) / 2\l       :name \&quot;Goal\&quot; :time 0.565s)&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_406 -&gt; p_404 [label=&quot;&quot;];
subgraph cluster_405 {
  color=blue;
p_404 [label=&quot;Start (not (n \&gt;= 0) \|\| sum n = (n * (1 + n)) / 2 :name \&quot;1\&quot; :time 0.564s)&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_404 -&gt; p_403 [label=&quot;&quot;];
p_403 [label=&quot;Induct ((functional induct_scheme),\l        :scheme (not (not (n = 1) &amp;&amp; not (n \&lt;= 0)) ==\&gt; φ n)\l                &amp;&amp; (not (n \&lt;= 0) &amp;&amp; not (n = 1) &amp;&amp; φ (n - 1) ==\&gt; φ n))&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_403 -&gt; p_402 [label=&quot;&quot;];
p_402 [label=&quot;Split (((not (n = 1) &amp;&amp; not (n \&lt;= 0) \|\| not (n \&gt;= 0))\l        \|\| sum n = (n * (1 + n)) / 2)\l       &amp;&amp; ((not\l            ((not (n \&lt;= 0) &amp;&amp; not (n = 1))\l             &amp;&amp; (not (n \&gt;= 1) \|\| sum (-1 + n) = (n * (-1 + n)) / 2))\l            \|\| not (n \&gt;= 0))\l           \|\| sum n = (n * (1 + n)) / 2)\l       :cases [(not (n \&gt;= 0) \|\| not (n = 1) &amp;&amp; not (n \&lt;= 0))\l               \|\| sum n = (n * (1 + n)) / 2;\l               (((n \&lt;= 0 \|\| n = 1)\l                 \|\| not (not (n \&gt;= 1) \|\| sum (-1 + n) = (n * (-1 + n)) / 2))\l                \|\| not (n \&gt;= 0))\l               \|\| sum n = (n * (1 + n)) / 2])&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_402 -&gt; p_391 [label=&quot;&quot;];
subgraph cluster_392 {
  color=blue;
p_391 [label=&quot;Start ((((n \&lt;= 0 \|\| n = 1)\l         \|\| not (not (n \&gt;= 1) \|\| sum (-1 + n) = (n * (-1 + n)) / 2))\l        \|\| not (n \&gt;= 0))\l       \|\| sum n = (n * (1 + n)) / 2 :name \&quot;1.1\&quot; :time 0.255s)&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_391 -&gt; p_390 [label=&quot;&quot;];
p_390 [label=&quot;Simplify (true :expansions [sum] :rw [] :fc [])&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
}
p_402 -&gt; p_400 [label=&quot;&quot;];
subgraph cluster_401 {
  color=blue;
p_400 [label=&quot;Start ((not (n \&gt;= 0) \|\| not (n = 1) &amp;&amp; not (n \&lt;= 0))\l       \|\| sum n = (n * (1 + n)) / 2 :name \&quot;1.2\&quot; :time 0.255s)&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_400 -&gt; p_399 [label=&quot;&quot;];
p_399 [label=&quot;Simplify ((not (n = 1) \|\| sum n = (n * (1 + n)) / 2)\l          &amp;&amp; (((not (n \&gt;= 0) \|\| not (n \&lt;= 0)) \|\| n = 1)\l              \|\| sum n = (n * (1 + n)) / 2)\l          :expansions [] :rw [] :fc [])&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_399 -&gt; p_394 [label=&quot;&quot;];
subgraph cluster_395 {
  color=blue;
p_394 [label=&quot;Start (((not (n \&gt;= 0) \|\| not (n \&lt;= 0)) \|\| n = 1) \|\| sum n = (n * (1 + n)) / 2\l       :name \&quot;1.2.1\&quot; :time 0.061s)&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_394 -&gt; p_393 [label=&quot;&quot;];
p_393 [label=&quot;Simplify (true :expansions [sum] :rw [] :fc [])&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
}
p_399 -&gt; p_397 [label=&quot;&quot;];
subgraph cluster_398 {
  color=blue;
p_397 [label=&quot;Start (not (n = 1) \|\| sum n = (n * (1 + n)) / 2 :name \&quot;1.2.2\&quot; :time 0.062s)&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_397 -&gt; p_396 [label=&quot;&quot;];
p_396 [label=&quot;Simplify (true :expansions [sum; sum] :rw [] :fc [])&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
}
}
}
}
</textarea><button class="btn btn-primary">Load graph</button><div class="imandra-graphviz-loading display-none">Loading..</div><div class="imandra-graphviz-target"></div><script>
require(['nbextensions/nbimandra/graphviz'], function (graphviz) {
  var target = '#graphviz-4ee43eb4-ed61-4f8f-b587-3d13fb7aee16';
  graphviz.hydrate(target);
});
</script></div></div></div><script>
require(['nbextensions/nbimandra/alternatives'], function (alternatives) {
  var target = '#alt-652b85e3-a694-4079-a097-8d2bd91db89f';
  alternatives.hydrate(target);
});
</script></div></div></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-ea3cf777-711f-4cf2-88b9-d927c7e99177';
  fold.hydrate(target);
});
</script></div></div></div></div>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>Note that it's rare to have to manually instruct Imandra how to induct in this
way. Usually, if you need to instruct Imandra to use a different scheme than the
one it automatically picked, you'll simply need to give Imandra the hint of
"inducting following key recursive function <code>foo</code>" in your goal. For example, if
Imandra had made a wrong selection in a goal involving <code>sum</code> and some other
recursive functions, we might tell Imandra <code>[@@induct functional sum]</code> to get it
to select a scheme derived from the recursive structure of <code>sum</code>.</p>
<h2 id="Structural-Induction">Structural Induction<a class="anchor-link" href="#Structural-Induction">&#182;</a></h2><p>Imandra also supports structural induction. Unlike functional induction schemes
which are derived from recursive functions, structural induction schemes are
derived from type definitions.</p>
<p>For example, we can define a type of binary trees and prove a property about
them by structural induction.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="try-this-container">
  <a href="https://try.imandra.ai/launch/?next=/h/user-redirect/notebooks/Verification%20-%20Induction.ipynb%23try-cell-15" target="_blank" rel="nofollow">
    <div class="try-this">Try this!</div>
  </a>
</div>
<div class="input">
<div class="prompt input_prompt">In&nbsp;[8]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ocaml"><pre><span></span><span class="k">type</span> <span class="k">&#39;</span><span class="n">a</span> <span class="n">tree</span> <span class="o">=</span> <span class="nc">Node</span> <span class="k">of</span> <span class="k">&#39;</span><span class="n">a</span> <span class="o">*</span> <span class="k">&#39;</span><span class="n">a</span> <span class="n">tree</span> <span class="o">*</span> <span class="k">&#39;</span><span class="n">a</span> <span class="n">tree</span> <span class="o">|</span> <span class="nc">Leaf</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt output_prompt">Out[8]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>type &#39;a tree = Node of &#39;a * &#39;a tree * &#39;a tree | Leaf
</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="try-this-container">
  <a href="https://try.imandra.ai/launch/?next=/h/user-redirect/notebooks/Verification%20-%20Induction.ipynb%23try-cell-16" target="_blank" rel="nofollow">
    <div class="try-this">Try this!</div>
  </a>
</div>
<div class="input">
<div class="prompt input_prompt">In&nbsp;[9]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ocaml"><pre><span></span><span class="k">let</span> <span class="k">rec</span> <span class="n">size</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="k">&#39;</span><span class="n">a</span> <span class="n">tree</span><span class="o">)</span> <span class="o">=</span>
 <span class="k">match</span> <span class="n">x</span> <span class="k">with</span>
 <span class="o">|</span> <span class="nc">Node</span> <span class="o">(_,</span> <span class="n">a</span><span class="o">,</span><span class="n">b</span><span class="o">)</span> <span class="o">-&gt;</span> <span class="n">size</span> <span class="n">a</span> <span class="o">+</span> <span class="n">size</span> <span class="n">b</span>
 <span class="o">|</span> <span class="nc">Leaf</span> <span class="o">-&gt;</span> <span class="mi">1</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt output_prompt">Out[9]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>val size : &#39;a tree -&gt; Z.t = &lt;fun&gt;
</pre>
</div>

</div>

<div class="output_area">

<div class="prompt"></div>



<div class="output_html rendered_html output_subarea ">
<div><div class="imandra-fold panel panel-default" id="fold-40a168b6-8862-4a22-81d1-59246410f1dd"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>termination proof</span></div></div><div class="panel-body collapse"><div><h3>Termination proof</h3><p></p><div class="imandra-fold panel panel-default" id="fold-4669c30b-f3d7-4673-9dc9-a6daf8a39161"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>call `size (Destruct(Node, 1, x))` from `size x`</span></div></div><div class="panel-body collapse"><div class="imandra-table" id="table-0c406db5-2fe7-4ac1-a88a-ca9b83025498"><table><tr><td><b>original</b></td><td>size x</td></tr><tr><td><b>sub</b></td><td>size (Destruct(Node, 1, x))</td></tr><tr><td><b>original ordinal</b></td><td>Ordinal.Int (Ordinal.count x)</td></tr><tr><td><b>sub ordinal</b></td><td>Ordinal.Int (Ordinal.count (Destruct(Node, 1, x)))</td></tr><tr><td><b>path</b></td><td>[Is_a(Node, x)]</td></tr><tr><td><b>proof</b></td><td><div class="imandra-fold panel panel-default" id="fold-7ac9f2ec-caf3-4789-b1b3-eaecec66dbac"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>detailed proof</span></div></div><div class="panel-body collapse"><div class="imandra-proof"><div class="imandra-alternatives" id="alt-7940e5ee-d3a4-431a-8c1e-e2c3197395f9"><ul class="nav nav-tabs"><li class="active" data-toggle="tab"><a>summary</a></li><li class="" data-toggle="tab"><a>full</a></li></ul><div class="tab-content"><div class="tab-pane active"><div class="imandra-table" id="table-eee0cc9d-543b-4ff9-8420-cf1298c3ab76"><table><tr><td><b>ground_instances</b></td><td>3</td></tr><tr><td><b>definitions</b></td><td>0</td></tr><tr><td><b>inductions</b></td><td>0</td></tr><tr><td><b>search_time</b></td><td><pre>0.103s</pre></td></tr><tr><td><b>details</b></td><td><div class="imandra-fold panel panel-default" id="fold-50dc62fd-3395-4800-9ad4-8b622ac9b105"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>Expand</span></div></div><div class="panel-body collapse"><div class="imandra-table" id="table-238730e8-e9b5-4ac1-97ff-d4bd6fe134d7"><table><tr><td><b>smt_stats</b></td><td><div class="imandra-table" id="table-2a31b499-4a2a-4da9-bc9e-9395247e996f"><table><tr><td><b>num checks</b></td><td>8</td></tr><tr><td><b>arith assert lower</b></td><td>13</td></tr><tr><td><b>arith pivots</b></td><td>12</td></tr><tr><td><b>rlimit count</b></td><td>133766</td></tr><tr><td><b>mk clause</b></td><td>17</td></tr><tr><td><b>datatype occurs check</b></td><td>12</td></tr><tr><td><b>mk bool var</b></td><td>68</td></tr><tr><td><b>arith gcd tests</b></td><td>4</td></tr><tr><td><b>arith assert upper</b></td><td>9</td></tr><tr><td><b>datatype splits</b></td><td>3</td></tr><tr><td><b>decisions</b></td><td>15</td></tr><tr><td><b>arith add rows</b></td><td>22</td></tr><tr><td><b>propagations</b></td><td>11</td></tr><tr><td><b>arith patches</b></td><td>1</td></tr><tr><td><b>conflicts</b></td><td>6</td></tr><tr><td><b>arith fixed eqs</b></td><td>4</td></tr><tr><td><b>datatype accessor ax</b></td><td>7</td></tr><tr><td><b>arith conflicts</b></td><td>2</td></tr><tr><td><b>datatype constructor ax</b></td><td>11</td></tr><tr><td><b>final checks</b></td><td>5</td></tr><tr><td><b>added eqs</b></td><td>42</td></tr><tr><td><b>del clause</b></td><td>10</td></tr><tr><td><b>arith ineq splits</b></td><td>1</td></tr><tr><td><b>arith eq adapter</b></td><td>7</td></tr><tr><td><b>memory</b></td><td>50.620000</td></tr><tr><td><b>max memory</b></td><td>61.980000</td></tr><tr><td><b>num allocs</b></td><td>4698514919.000000</td></tr></table></div></td></tr></table></div></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-50dc62fd-3395-4800-9ad4-8b622ac9b105';
  fold.hydrate(target);
});
</script></div></td></tr></table></div></div><div class="tab-pane"><div class="imandra-fold panel panel-default" id="fold-c664f330-d7df-46b9-a996-9b90eb44601f"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>Expand</span></div></div><div class="panel-body collapse"><ul><li><pre>start[0.103s]
  Is_a(Node, x)
  &amp;&amp; Ordinal.count x &gt;= 0 &amp;&amp; Ordinal.count (Destruct(Node, 1, x)) &gt;= 0
  ==&gt; not Is_a(Node, Destruct(Node, 1, x))
      &amp;&amp; not Is_a(Node, Destruct(Node, 1, x))
      || Ordinal.&lt;&lt; (Ordinal.Int (Ordinal.count (Destruct(Node, 1, x))))
         (Ordinal.Int (Ordinal.count x))</pre></li><li><div><h5>simplify</h5><div class="imandra-table" id="table-0129041b-733c-4aec-ac0e-501a28fd33e4"><table><tr><td><b>into</b></td><td><pre>(not
 ((Is_a(Node, x) &amp;&amp; Ordinal.count x &gt;= 0)
  &amp;&amp; Ordinal.count (Destruct(Node, 1, x)) &gt;= 0)
 || not Is_a(Node, Destruct(Node, 1, x)))
|| Ordinal.&lt;&lt; (Ordinal.Int (Ordinal.count (Destruct(Node, 1, x))))
   (Ordinal.Int (Ordinal.count x))</pre></td></tr><tr><td><b>expansions</b></td><td><pre>[]</pre></td></tr><tr><td><b>rewrite_steps</b></td><td><ul></ul></td></tr><tr><td><b>forward_chaining</b></td><td><ul></ul></td></tr></table></div></div></li><li><div>unroll<div class="imandra-table" id="table-ef1ba6af-7f67-4536-a328-fb63f948a027"><table><tr><td><b>expr</b></td><td><pre>(|Ordinal.&lt;&lt;_122| (|Ordinal.Int_113|
                    (|count_`ty_0 tree`_2874| (|get.Node.1_2857…</pre></td></tr><tr><td><b>expansions</b></td><td><ul></ul></td></tr></table></div></div></li><li><div>unroll<div class="imandra-table" id="table-48c28ed9-1100-4684-a0bd-3e3e7340b6f4"><table><tr><td><b>expr</b></td><td><pre>(|count_`ty_0 tree`_2874| (|get.Node.1_2857| x_2863))</pre></td></tr><tr><td><b>expansions</b></td><td><ul></ul></td></tr></table></div></div></li><li><div>unroll<div class="imandra-table" id="table-e610b6ce-0f93-4d0a-9cbb-0ff263e5ad4d"><table><tr><td><b>expr</b></td><td><pre>(|count_`ty_0 tree`_2874| x_2863)</pre></td></tr><tr><td><b>expansions</b></td><td><ul></ul></td></tr></table></div></div></li><li><div><h5>unsat</h5><pre>(let ((a!1 (ite (&gt;= (|count_`ty_0 tree`_2874| (|get.Node.2_2858| x_2863)) 0)
                (|count…</pre></div></li></ul></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-c664f330-d7df-46b9-a996-9b90eb44601f';
  fold.hydrate(target);
});
</script></div></div></div><script>
require(['nbextensions/nbimandra/alternatives'], function (alternatives) {
  var target = '#alt-7940e5ee-d3a4-431a-8c1e-e2c3197395f9';
  alternatives.hydrate(target);
});
</script></div></div></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-7ac9f2ec-caf3-4789-b1b3-eaecec66dbac';
  fold.hydrate(target);
});
</script></div></td></tr></table></div></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-4669c30b-f3d7-4673-9dc9-a6daf8a39161';
  fold.hydrate(target);
});
</script></div><p></p><div class="imandra-fold panel panel-default" id="fold-bafbc6e2-5c99-4f28-b447-c84c3919d02d"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>call `size (Destruct(Node, 2, x))` from `size x`</span></div></div><div class="panel-body collapse"><div class="imandra-table" id="table-467d7eb4-1abe-4ced-9299-29d2d10db1a9"><table><tr><td><b>original</b></td><td>size x</td></tr><tr><td><b>sub</b></td><td>size (Destruct(Node, 2, x))</td></tr><tr><td><b>original ordinal</b></td><td>Ordinal.Int (Ordinal.count x)</td></tr><tr><td><b>sub ordinal</b></td><td>Ordinal.Int (Ordinal.count (Destruct(Node, 2, x)))</td></tr><tr><td><b>path</b></td><td>[Is_a(Node, x)]</td></tr><tr><td><b>proof</b></td><td><div class="imandra-fold panel panel-default" id="fold-6e15187e-66d0-4666-b11e-fbd34c790169"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>detailed proof</span></div></div><div class="panel-body collapse"><div class="imandra-proof"><div class="imandra-alternatives" id="alt-dc349e94-7ff8-4e54-91fa-7104785095e0"><ul class="nav nav-tabs"><li class="active" data-toggle="tab"><a>summary</a></li><li class="" data-toggle="tab"><a>full</a></li></ul><div class="tab-content"><div class="tab-pane active"><div class="imandra-table" id="table-a7225f22-b3a9-4caf-873e-37d4b2c7cf67"><table><tr><td><b>ground_instances</b></td><td>3</td></tr><tr><td><b>definitions</b></td><td>0</td></tr><tr><td><b>inductions</b></td><td>0</td></tr><tr><td><b>search_time</b></td><td><pre>0.114s</pre></td></tr><tr><td><b>details</b></td><td><div class="imandra-fold panel panel-default" id="fold-caaee62d-ac44-46a3-ad11-d5382d20604a"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>Expand</span></div></div><div class="panel-body collapse"><div class="imandra-table" id="table-7cb207a4-17c5-499b-bd6a-40a809272d39"><table><tr><td><b>smt_stats</b></td><td><div class="imandra-table" id="table-a6d54870-65f1-48c9-9230-621d53d3a0da"><table><tr><td><b>num checks</b></td><td>8</td></tr><tr><td><b>arith assert lower</b></td><td>13</td></tr><tr><td><b>arith pivots</b></td><td>12</td></tr><tr><td><b>rlimit count</b></td><td>131272</td></tr><tr><td><b>mk clause</b></td><td>17</td></tr><tr><td><b>datatype occurs check</b></td><td>12</td></tr><tr><td><b>mk bool var</b></td><td>68</td></tr><tr><td><b>arith gcd tests</b></td><td>4</td></tr><tr><td><b>arith assert upper</b></td><td>9</td></tr><tr><td><b>datatype splits</b></td><td>3</td></tr><tr><td><b>decisions</b></td><td>15</td></tr><tr><td><b>arith add rows</b></td><td>22</td></tr><tr><td><b>propagations</b></td><td>11</td></tr><tr><td><b>arith patches</b></td><td>1</td></tr><tr><td><b>conflicts</b></td><td>6</td></tr><tr><td><b>arith fixed eqs</b></td><td>4</td></tr><tr><td><b>datatype accessor ax</b></td><td>7</td></tr><tr><td><b>arith conflicts</b></td><td>2</td></tr><tr><td><b>datatype constructor ax</b></td><td>11</td></tr><tr><td><b>final checks</b></td><td>5</td></tr><tr><td><b>added eqs</b></td><td>42</td></tr><tr><td><b>del clause</b></td><td>10</td></tr><tr><td><b>arith ineq splits</b></td><td>1</td></tr><tr><td><b>arith eq adapter</b></td><td>7</td></tr><tr><td><b>memory</b></td><td>47.790000</td></tr><tr><td><b>max memory</b></td><td>61.980000</td></tr><tr><td><b>num allocs</b></td><td>4625477880.000000</td></tr></table></div></td></tr></table></div></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-caaee62d-ac44-46a3-ad11-d5382d20604a';
  fold.hydrate(target);
});
</script></div></td></tr></table></div></div><div class="tab-pane"><div class="imandra-fold panel panel-default" id="fold-37b4ed6f-7b2e-4009-8385-94994011fc60"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>Expand</span></div></div><div class="panel-body collapse"><ul><li><pre>start[0.114s]
  Is_a(Node, x)
  &amp;&amp; Ordinal.count x &gt;= 0 &amp;&amp; Ordinal.count (Destruct(Node, 2, x)) &gt;= 0
  ==&gt; not Is_a(Node, Destruct(Node, 2, x))
      &amp;&amp; not Is_a(Node, Destruct(Node, 2, x))
      || Ordinal.&lt;&lt; (Ordinal.Int (Ordinal.count (Destruct(Node, 2, x))))
         (Ordinal.Int (Ordinal.count x))</pre></li><li><div><h5>simplify</h5><div class="imandra-table" id="table-1df01940-2718-4812-a724-0fa0913b7d41"><table><tr><td><b>into</b></td><td><pre>(not
 ((Is_a(Node, x) &amp;&amp; Ordinal.count x &gt;= 0)
  &amp;&amp; Ordinal.count (Destruct(Node, 2, x)) &gt;= 0)
 || not Is_a(Node, Destruct(Node, 2, x)))
|| Ordinal.&lt;&lt; (Ordinal.Int (Ordinal.count (Destruct(Node, 2, x))))
   (Ordinal.Int (Ordinal.count x))</pre></td></tr><tr><td><b>expansions</b></td><td><pre>[]</pre></td></tr><tr><td><b>rewrite_steps</b></td><td><ul></ul></td></tr><tr><td><b>forward_chaining</b></td><td><ul></ul></td></tr></table></div></div></li><li><div>unroll<div class="imandra-table" id="table-f3794c92-be79-4231-8267-549675bade7a"><table><tr><td><b>expr</b></td><td><pre>(|Ordinal.&lt;&lt;_122| (|Ordinal.Int_113|
                    (|count_`ty_0 tree`_2874| (|get.Node.2_2858…</pre></td></tr><tr><td><b>expansions</b></td><td><ul></ul></td></tr></table></div></div></li><li><div>unroll<div class="imandra-table" id="table-c08a478d-a9ed-488c-a583-d39a4ad59e4c"><table><tr><td><b>expr</b></td><td><pre>(|count_`ty_0 tree`_2874| (|get.Node.2_2858| x_2863))</pre></td></tr><tr><td><b>expansions</b></td><td><ul></ul></td></tr></table></div></div></li><li><div>unroll<div class="imandra-table" id="table-ad1acd34-e2ee-4379-92a2-8f33ee42f2a1"><table><tr><td><b>expr</b></td><td><pre>(|count_`ty_0 tree`_2874| x_2863)</pre></td></tr><tr><td><b>expansions</b></td><td><ul></ul></td></tr></table></div></div></li><li><div><h5>unsat</h5><pre>(let ((a!1 (ite (&gt;= (|count_`ty_0 tree`_2874| (|get.Node.1_2857| x_2863)) 0)
                (|count…</pre></div></li></ul></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-37b4ed6f-7b2e-4009-8385-94994011fc60';
  fold.hydrate(target);
});
</script></div></div></div><script>
require(['nbextensions/nbimandra/alternatives'], function (alternatives) {
  var target = '#alt-dc349e94-7ff8-4e54-91fa-7104785095e0';
  alternatives.hydrate(target);
});
</script></div></div></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-6e15187e-66d0-4666-b11e-fbd34c790169';
  fold.hydrate(target);
});
</script></div></td></tr></table></div></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-bafbc6e2-5c99-4f28-b447-c84c3919d02d';
  fold.hydrate(target);
});
</script></div><p></p></div></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-40a168b6-8862-4a22-81d1-59246410f1dd';
  fold.hydrate(target);
});
</script></div></div>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="try-this-container">
  <a href="https://try.imandra.ai/launch/?next=/h/user-redirect/notebooks/Verification%20-%20Induction.ipynb%23try-cell-17" target="_blank" rel="nofollow">
    <div class="try-this">Try this!</div>
  </a>
</div>
<div class="input">
<div class="prompt input_prompt">In&nbsp;[10]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ocaml"><pre><span></span><span class="n">verify</span> <span class="o">(</span><span class="k">fun</span> <span class="n">x</span> <span class="o">-&gt;</span> <span class="n">size</span> <span class="n">x</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="o">)</span> <span class="o">[@@</span><span class="n">induct</span> <span class="n">structural</span> <span class="n">x</span><span class="o">]</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt output_prompt">Out[10]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>- : &#39;a tree -&gt; bool = &lt;fun&gt;
<span class="ansi-white-intense-fg ansi-bold">Goal</span>:

size x &gt; 0.

1 nontautological subgoal.

<span class="ansi-white-intense-fg ansi-bold">Subgoal 1</span>:

|---------------------------------------------------------------------------
 not (size x &lt;= 0)

Verified up to bound 10 (after 0.226s).

Must try induction.

<span class="ansi-cyan-intense-fg ansi-bold">Induction scheme</span>:

 φ Leaf
 &amp;&amp; (Is_a(Node, x) &amp;&amp; φ (Destruct(Node, 1, x)) &amp;&amp; φ (Destruct(Node, 2, x))
     ==&gt; φ x).

2 nontautological subgoals.

<span class="ansi-white-intense-fg ansi-bold">Subgoal 1.2</span>:

|---------------------------------------------------------------------------
 not (size Leaf &lt;= 0)

But simplification reduces this to true, using the definition of <span class="ansi-blue-intense-fg ansi-bold">size</span>.

<span class="ansi-white-intense-fg ansi-bold">Subgoal 1.1</span>:

 H0. Is_a(Node, x)
 H1. not (size (Destruct(Node, 1, x)) &lt;= 0)
 H2. not (size (Destruct(Node, 2, x)) &lt;= 0)
 H3. size x &lt;= 0
|---------------------------------------------------------------------------
 false

But simplification reduces this to true, using the definition of <span class="ansi-blue-intense-fg ansi-bold">size</span>.

</pre>
</div>

</div>

<div class="output_area">

<div class="prompt"></div>



<div class="output_html rendered_html output_subarea ">
<div><div class="imandra-vr imandra-vr-proved"><i class="fa fa-check-circle"></i><span>Proved</span></div><div><div class="imandra-proof-top"><div class="imandra-fold panel panel-default" id="fold-ae23f45f-ce2f-4b8b-9703-b383aea70fcc"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>proof</span></div></div><div class="panel-body collapse"><div class="imandra-proof"><div class="imandra-alternatives" id="alt-4b85c5f1-6817-4e46-b9f3-1231036cf771"><ul class="nav nav-tabs"><li class="active" data-toggle="tab"><a>summary</a></li><li class="" data-toggle="tab"><a>full</a></li><li class="" data-toggle="tab"><a>graph</a></li></ul><div class="tab-content"><div class="tab-pane active"><div class="imandra-table" id="table-ed66e5c2-c02b-4c0d-9c63-11d339b1dd06"><table><tr><td><b>ground_instances</b></td><td>0</td></tr><tr><td><b>definitions</b></td><td>2</td></tr><tr><td><b>inductions</b></td><td>1</td></tr><tr><td><b>search_time</b></td><td><pre>0.359s</pre></td></tr></table></div></div><div class="tab-pane"><div class="imandra-fold panel panel-default" id="fold-e66ae77b-0f2b-47e0-a344-9c4402712a2f"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>Expand</span></div></div><div class="panel-body collapse"><ul><li><pre>start[0.359s, &quot;Goal&quot;] size :var_0: &gt; 0</pre></li><li><div><h4>subproof</h4><div class="imandra-fold panel panel-default" id="fold-98b84ac1-ee85-4635-bdc8-e8f89876c835"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>not (size x &lt;= 0)</span></div></div><div class="panel-body collapse"><ul><li><pre>start[0.359s, &quot;1&quot;] not (size x &lt;= 0)</pre></li><li><pre>induction on (structural+ x)
:scheme φ Leaf
        &amp;&amp; (Is_a(Node, x)
            &amp;&amp; φ (Destruct(Node, 1, x)) &amp;&amp; φ (Destruct(Node, 2, x))
            ==&gt; φ x)</pre></li><li><div><pre>Split (not (size Leaf &lt;= 0)
       &amp;&amp; (not
           ((Is_a(Node, x) &amp;&amp; not (size (Destruct(Node, 1, x)) &lt;= 0))
            &amp;&amp; not (size (Destruct(Node, 2, x)) &lt;= 0))
           || not (size x &lt;= 0))
       :cases [not (size Leaf &lt;= 0);
               ((not Is_a(Node, x) || size (Destruct(Node, 1, x)) &lt;= 0)
                || size (Destruct(Node, 2, x)) &lt;= 0)
               || not (size x &lt;= 0)])</pre><ul><li><div><h5>subproof</h5><div class="imandra-fold panel panel-default" id="fold-3dd327e9-701a-493f-974a-f66ad69aa0e4"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>((not Is_a(Node, x) || size (Destruct(Node, 1, x)) &lt;= 0)
 || size (Destruct(Node, 2, x)) &lt;= 0)
|| not (size x &lt;= 0)</span></div></div><div class="panel-body collapse"><ul><li><pre>start[0.036s, &quot;1.1&quot;]
  ((not Is_a(Node, x) || size (Destruct(Node, 1, x)) &lt;= 0)
   || size (Destruct(Node, 2, x)) &lt;= 0)
  || not (size x &lt;= 0)</pre></li><li><div><h6>simplify</h6><div class="imandra-table" id="table-c1e8d5f0-6ccb-4479-84dd-83ee8ffcb707"><table><tr><td><b>into</b></td><td><pre>true</pre></td></tr><tr><td><b>expansions</b></td><td><pre>size</pre></td></tr><tr><td><b>rewrite_steps</b></td><td><ul></ul></td></tr><tr><td><b>forward_chaining</b></td><td><ul></ul></td></tr></table></div></div></li></ul></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-3dd327e9-701a-493f-974a-f66ad69aa0e4';
  fold.hydrate(target);
});
</script></div></div></li><li><div><h5>subproof</h5><div class="imandra-fold panel panel-default" id="fold-652a4122-0332-40b7-a0bd-0bddbddaa6fe"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>not (size Leaf &lt;= 0)</span></div></div><div class="panel-body collapse"><ul><li><pre>start[0.036s, &quot;1.2&quot;] not (size Leaf &lt;= 0)</pre></li><li><div><h6>simplify</h6><div class="imandra-table" id="table-6ef99f65-09f2-46d3-b2d4-593bf00ba6bd"><table><tr><td><b>into</b></td><td><pre>true</pre></td></tr><tr><td><b>expansions</b></td><td><pre>size</pre></td></tr><tr><td><b>rewrite_steps</b></td><td><ul></ul></td></tr><tr><td><b>forward_chaining</b></td><td><ul></ul></td></tr></table></div></div></li></ul></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-652a4122-0332-40b7-a0bd-0bddbddaa6fe';
  fold.hydrate(target);
});
</script></div></div></li></ul></div></li></ul></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-98b84ac1-ee85-4635-bdc8-e8f89876c835';
  fold.hydrate(target);
});
</script></div></div></li></ul></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-e66ae77b-0f2b-47e0-a344-9c4402712a2f';
  fold.hydrate(target);
});
</script></div></div><div class="tab-pane"><div class="imandra-graphviz" id="graphviz-1276e3b5-385e-4a60-8230-51249af33758"><textarea style="display: none">digraph &quot;proof&quot; {
p_440 [label=&quot;Start (size :var_0: \&gt; 0 :name \&quot;Goal\&quot; :time 0.359s)&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_440 -&gt; p_438 [label=&quot;&quot;];
subgraph cluster_439 {
  color=blue;
p_438 [label=&quot;Start (not (size x \&lt;= 0) :name \&quot;1\&quot; :time 0.359s)&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_438 -&gt; p_437 [label=&quot;&quot;];
p_437 [label=&quot;Induct ((structural+ x),\l        :scheme φ Leaf\l                &amp;&amp; (Is_a(Node, x)\l                    &amp;&amp; φ (Destruct(Node, 1, x)) &amp;&amp; φ (Destruct(Node, 2, x))\l                    ==\&gt; φ x))&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_437 -&gt; p_436 [label=&quot;&quot;];
p_436 [label=&quot;Split (not (size Leaf \&lt;= 0)\l       &amp;&amp; (not\l           ((Is_a(Node, x) &amp;&amp; not (size (Destruct(Node, 1, x)) \&lt;= 0))\l            &amp;&amp; not (size (Destruct(Node, 2, x)) \&lt;= 0))\l           \|\| not (size x \&lt;= 0))\l       :cases [not (size Leaf \&lt;= 0);\l               ((not Is_a(Node, x) \|\| size (Destruct(Node, 1, x)) \&lt;= 0)\l                \|\| size (Destruct(Node, 2, x)) \&lt;= 0)\l               \|\| not (size x \&lt;= 0)])&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_436 -&gt; p_431 [label=&quot;&quot;];
subgraph cluster_432 {
  color=blue;
p_431 [label=&quot;Start (((not Is_a(Node, x) \|\| size (Destruct(Node, 1, x)) \&lt;= 0)\l        \|\| size (Destruct(Node, 2, x)) \&lt;= 0)\l       \|\| not (size x \&lt;= 0) :name \&quot;1.1\&quot; :time 0.036s)&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_431 -&gt; p_430 [label=&quot;&quot;];
p_430 [label=&quot;Simplify (true :expansions [size] :rw [] :fc [])&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
}
p_436 -&gt; p_434 [label=&quot;&quot;];
subgraph cluster_435 {
  color=blue;
p_434 [label=&quot;Start (not (size Leaf \&lt;= 0) :name \&quot;1.2\&quot; :time 0.036s)&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_434 -&gt; p_433 [label=&quot;&quot;];
p_433 [label=&quot;Simplify (true :expansions [size] :rw [] :fc [])&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
}
}
}
</textarea><button class="btn btn-primary">Load graph</button><div class="imandra-graphviz-loading display-none">Loading..</div><div class="imandra-graphviz-target"></div><script>
require(['nbextensions/nbimandra/graphviz'], function (graphviz) {
  var target = '#graphviz-1276e3b5-385e-4a60-8230-51249af33758';
  graphviz.hydrate(target);
});
</script></div></div></div><script>
require(['nbextensions/nbimandra/alternatives'], function (alternatives) {
  var target = '#alt-4b85c5f1-6817-4e46-b9f3-1231036cf771';
  alternatives.hydrate(target);
});
</script></div></div></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-ae23f45f-ce2f-4b8b-9703-b383aea70fcc';
  fold.hydrate(target);
});
</script></div></div></div></div>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>Structural induction comes in both <em>additive</em> and <em>multiplicative</em> flavors.</p>
<p>This distinction only manifests when one is performing structural induction over
multiple variables simultaneously. It affects the way base cases and inductive
steps are mixed. Let's assume one needs to do induction on <code>x, y</code>:</p>
<ul>
<li><p>addictive structural induction gives you 3 cases: two base cases
<code>φ(x_base, y)</code>, <code>φ(x, y_base)</code> and one inductive step <code>φ(x,y) ==&gt; φ(step(x), step(y))</code></p>
</li>
<li><p>multiplicative structural induction gives you 4 cases: one base case
<code>φ(x_base, y_base)</code> and three inductive steps <code>φ(x, y_base) ==&gt; φ(step(x), y_base)</code>,
<code>φ(x_base, y) ==&gt; φ(x_base, step(y))</code> and <code>φ(x,y) ==&gt; φ(step(x), step(y))</code></p>
</li>
</ul>
<p>We can see the difference using the following function:</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="try-this-container">
  <a href="https://try.imandra.ai/launch/?next=/h/user-redirect/notebooks/Verification%20-%20Induction.ipynb%23try-cell-19" target="_blank" rel="nofollow">
    <div class="try-this">Try this!</div>
  </a>
</div>
<div class="input">
<div class="prompt input_prompt">In&nbsp;[11]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ocaml"><pre><span></span><span class="k">let</span> <span class="k">rec</span> <span class="n">interleave_strict</span> <span class="n">x</span> <span class="n">y</span> <span class="o">=</span> <span class="k">match</span> <span class="n">x</span><span class="o">,</span> <span class="n">y</span> <span class="k">with</span>
  <span class="o">|</span> <span class="bp">[]</span><span class="o">,</span> <span class="o">_</span> <span class="o">|</span> <span class="o">_</span> <span class="o">,</span> <span class="bp">[]</span> <span class="o">-&gt;</span> <span class="bp">[]</span>
  <span class="o">|</span> <span class="n">x</span><span class="o">::</span><span class="n">xs</span><span class="o">,</span> <span class="n">y</span><span class="o">::</span><span class="n">ys</span> <span class="o">-&gt;</span> <span class="n">x</span><span class="o">::</span><span class="n">y</span><span class="o">::(</span><span class="n">interleave_strict</span> <span class="n">xs</span> <span class="n">ys</span><span class="o">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt output_prompt">Out[11]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>val interleave_strict : &#39;a list -&gt; &#39;a list -&gt; &#39;a list = &lt;fun&gt;
</pre>
</div>

</div>

<div class="output_area">

<div class="prompt"></div>



<div class="output_html rendered_html output_subarea ">
<div><div class="imandra-fold panel panel-default" id="fold-c25a6c42-73e2-4345-b155-427e3fe4957d"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>termination proof</span></div></div><div class="panel-body collapse"><div><h3>Termination proof</h3><p></p><div class="imandra-fold panel panel-default" id="fold-f813df8c-0b51-41c2-8174-11312e59bd8a"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>call `interleave_strict (List.tl x) (List.tl y)` from `interleave_strict x y`</span></div></div><div class="panel-body collapse"><div class="imandra-table" id="table-eaf0443a-6421-4831-bcbf-122dc8e3af21"><table><tr><td><b>original</b></td><td>interleave_strict x y</td></tr><tr><td><b>sub</b></td><td>interleave_strict (List.tl x) (List.tl y)</td></tr><tr><td><b>original ordinal</b></td><td>Ordinal.Int (Ordinal.count x)</td></tr><tr><td><b>sub ordinal</b></td><td>Ordinal.Int (Ordinal.count (List.tl x))</td></tr><tr><td><b>path</b></td><td>[not (x = [] || y = [])]</td></tr><tr><td><b>proof</b></td><td><div class="imandra-fold panel panel-default" id="fold-6d550014-78da-4703-a8c0-c662564f45b5"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>detailed proof</span></div></div><div class="panel-body collapse"><div class="imandra-proof"><div class="imandra-alternatives" id="alt-4cc72ac2-fb06-428f-8986-83da11ba1b6c"><ul class="nav nav-tabs"><li class="active" data-toggle="tab"><a>summary</a></li><li class="" data-toggle="tab"><a>full</a></li></ul><div class="tab-content"><div class="tab-pane active"><div class="imandra-table" id="table-36f0b5cd-1172-48b0-a0e3-6061e16d879b"><table><tr><td><b>ground_instances</b></td><td>3</td></tr><tr><td><b>definitions</b></td><td>0</td></tr><tr><td><b>inductions</b></td><td>0</td></tr><tr><td><b>search_time</b></td><td><pre>0.057s</pre></td></tr><tr><td><b>details</b></td><td><div class="imandra-fold panel panel-default" id="fold-b73a142e-a207-4d2f-9239-1c93e8813a2f"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>Expand</span></div></div><div class="panel-body collapse"><div class="imandra-table" id="table-82d6b445-a300-4cc3-88a5-c71e296956b3"><table><tr><td><b>smt_stats</b></td><td><div class="imandra-table" id="table-aea43a38-dfbf-452e-8158-7c0504b3593b"><table><tr><td><b>num checks</b></td><td>7</td></tr><tr><td><b>arith assert lower</b></td><td>6</td></tr><tr><td><b>arith pivots</b></td><td>3</td></tr><tr><td><b>rlimit count</b></td><td>59931</td></tr><tr><td><b>mk clause</b></td><td>3</td></tr><tr><td><b>datatype occurs check</b></td><td>29</td></tr><tr><td><b>mk bool var</b></td><td>64</td></tr><tr><td><b>arith assert upper</b></td><td>4</td></tr><tr><td><b>datatype splits</b></td><td>6</td></tr><tr><td><b>decisions</b></td><td>12</td></tr><tr><td><b>arith add rows</b></td><td>7</td></tr><tr><td><b>propagations</b></td><td>1</td></tr><tr><td><b>conflicts</b></td><td>8</td></tr><tr><td><b>arith fixed eqs</b></td><td>4</td></tr><tr><td><b>datatype accessor ax</b></td><td>7</td></tr><tr><td><b>arith conflicts</b></td><td>1</td></tr><tr><td><b>datatype constructor ax</b></td><td>14</td></tr><tr><td><b>final checks</b></td><td>6</td></tr><tr><td><b>added eqs</b></td><td>48</td></tr><tr><td><b>del clause</b></td><td>1</td></tr><tr><td><b>arith eq adapter</b></td><td>3</td></tr><tr><td><b>memory</b></td><td>48.480000</td></tr><tr><td><b>max memory</b></td><td>61.980000</td></tr><tr><td><b>num allocs</b></td><td>5320884048.000000</td></tr></table></div></td></tr></table></div></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-b73a142e-a207-4d2f-9239-1c93e8813a2f';
  fold.hydrate(target);
});
</script></div></td></tr></table></div></div><div class="tab-pane"><div class="imandra-fold panel panel-default" id="fold-2bec461a-ff4b-43c7-bd71-945c6ccee8f2"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>Expand</span></div></div><div class="panel-body collapse"><ul><li><pre>start[0.057s]
  not (x = [] || y = [])
  &amp;&amp; Ordinal.count x &gt;= 0 &amp;&amp; Ordinal.count (List.tl x) &gt;= 0
  ==&gt; (List.tl x = [] || List.tl y = [])
      || Ordinal.&lt;&lt; (Ordinal.Int (Ordinal.count (List.tl x)))
         (Ordinal.Int (Ordinal.count x))</pre></li><li><div><h5>simplify</h5><div class="imandra-table" id="table-5cf49636-5ecb-4c67-82c6-68119791cf75"><table><tr><td><b>into</b></td><td><pre>((not
  ((not (x = [] || y = []) &amp;&amp; Ordinal.count x &gt;= 0)
   &amp;&amp; Ordinal.count (List.tl x) &gt;= 0)
  || List.tl x = [])
 || List.tl y = [])
|| Ordinal.&lt;&lt; (Ordinal.Int (Ordinal.count (List.tl x)))
   (Ordinal.Int (Ordinal.count x))</pre></td></tr><tr><td><b>expansions</b></td><td><pre>[]</pre></td></tr><tr><td><b>rewrite_steps</b></td><td><ul></ul></td></tr><tr><td><b>forward_chaining</b></td><td><ul></ul></td></tr></table></div></div></li><li><div>unroll<div class="imandra-table" id="table-762bc387-9f7d-4e2a-a5a3-4e8802e4a5b8"><table><tr><td><b>expr</b></td><td><pre>(|Ordinal.&lt;&lt;_122| (|Ordinal.Int_113|
                    (|count_`ty_0 list`_2957| (|get.::.1_2938| …</pre></td></tr><tr><td><b>expansions</b></td><td><ul></ul></td></tr></table></div></div></li><li><div>unroll<div class="imandra-table" id="table-b05a27f3-9a1a-4176-ab92-cd05222ae8eb"><table><tr><td><b>expr</b></td><td><pre>(|count_`ty_0 list`_2957| (|get.::.1_2938| x_2946))</pre></td></tr><tr><td><b>expansions</b></td><td><ul></ul></td></tr></table></div></div></li><li><div>unroll<div class="imandra-table" id="table-2a96cad5-4997-45a2-9df8-4236e5abb8a6"><table><tr><td><b>expr</b></td><td><pre>(|count_`ty_0 list`_2957| x_2946)</pre></td></tr><tr><td><b>expansions</b></td><td><ul></ul></td></tr></table></div></div></li><li><div><h5>unsat</h5><pre>(let ((a!1 (= (|count_`ty_0 list`_2957| x_2946)
              (+ 1 (|count_`ty_0 list`_2957| (|get.:…</pre></div></li></ul></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-2bec461a-ff4b-43c7-bd71-945c6ccee8f2';
  fold.hydrate(target);
});
</script></div></div></div><script>
require(['nbextensions/nbimandra/alternatives'], function (alternatives) {
  var target = '#alt-4cc72ac2-fb06-428f-8986-83da11ba1b6c';
  alternatives.hydrate(target);
});
</script></div></div></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-6d550014-78da-4703-a8c0-c662564f45b5';
  fold.hydrate(target);
});
</script></div></td></tr></table></div></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-f813df8c-0b51-41c2-8174-11312e59bd8a';
  fold.hydrate(target);
});
</script></div><p></p></div></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-c25a6c42-73e2-4345-b155-427e3fe4957d';
  fold.hydrate(target);
});
</script></div></div>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>Let's prove that the length of <code>interleave_strict x y</code> is always less than or
equal to the sum of the lengths of <code>x</code> and <code>y</code>. We'll do it first using
additive and then using multiplicative structural induction:</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="try-this-container">
  <a href="https://try.imandra.ai/launch/?next=/h/user-redirect/notebooks/Verification%20-%20Induction.ipynb%23try-cell-21" target="_blank" rel="nofollow">
    <div class="try-this">Try this!</div>
  </a>
</div>
<div class="input">
<div class="prompt input_prompt">In&nbsp;[12]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ocaml"><pre><span></span><span class="n">verify</span> <span class="o">(</span><span class="k">fun</span> <span class="n">x</span> <span class="n">y</span> <span class="o">-&gt;</span>
  <span class="nn">List</span><span class="p">.</span><span class="n">length</span> <span class="o">@@</span> <span class="n">interleave_strict</span> <span class="n">x</span> <span class="n">y</span> <span class="o">&lt;=</span> <span class="nn">List</span><span class="p">.</span><span class="n">length</span> <span class="n">x</span> <span class="o">+</span> <span class="nn">List</span><span class="p">.</span><span class="n">length</span> <span class="n">y</span><span class="o">)</span>
<span class="o">[@@</span><span class="n">induct</span> <span class="n">structural_add</span> <span class="o">(</span><span class="n">x</span><span class="o">,</span><span class="n">y</span><span class="o">)]</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt output_prompt">Out[12]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>- : &#39;a list -&gt; &#39;a list -&gt; bool = &lt;fun&gt;
<span class="ansi-white-intense-fg ansi-bold">Goal</span>:

(List.length @@ interleave_strict x y) &lt;= (List.length x + List.length y).

1 nontautological subgoal.

<span class="ansi-white-intense-fg ansi-bold">Subgoal 1</span>:

|---------------------------------------------------------------------------
 List.length (interleave_strict x y) &lt;= (List.length x + List.length y)

Verified up to bound 10 (after 0.175s).

Must try induction.

<span class="ansi-cyan-intense-fg ansi-bold">Induction scheme</span>:

 φ x []
 &amp;&amp; φ [] y &amp;&amp; (y &lt;&gt; [] &amp;&amp; x &lt;&gt; [] &amp;&amp; φ (List.tl x) (List.tl y) ==&gt; φ x y).

3 nontautological subgoals.

<span class="ansi-white-intense-fg ansi-bold">Subgoal 1.3</span>:

|---------------------------------------------------------------------------
 List.length (interleave_strict x []) &lt;= (List.length x + List.length [])

But simplification reduces this to true, using the definitions of <span class="ansi-blue-intense-fg ansi-bold">List.length
</span>and<span class="ansi-blue-intense-fg ansi-bold"> interleave_strict</span>.

<span class="ansi-white-intense-fg ansi-bold">Subgoal 1.2</span>:

|---------------------------------------------------------------------------
 List.length (interleave_strict [] y) &lt;= (List.length [] + List.length y)

But simplification reduces this to true, using the definitions of <span class="ansi-blue-intense-fg ansi-bold">List.length
</span>and<span class="ansi-blue-intense-fg ansi-bold"> interleave_strict</span>.

<span class="ansi-white-intense-fg ansi-bold">Subgoal 1.1</span>:

 H0. y &lt;&gt; []
 H1. x &lt;&gt; []
 H2. List.length (interleave_strict (List.tl x) (List.tl y)) &lt;=
     (List.length (List.tl x) + List.length (List.tl y))
|---------------------------------------------------------------------------
 List.length (interleave_strict x y) &lt;= (List.length x + List.length y)

This simplifies, using the definitions of <span class="ansi-blue-intense-fg ansi-bold">List.length </span>and<span class="ansi-blue-intense-fg ansi-bold"> interleave_strict</span>
to:

<span class="ansi-white-intense-fg ansi-bold">Subgoal 1.1&#39;</span>:

 H0. y &lt;&gt; []
 H1. x &lt;&gt; []
 H2. List.length (interleave_strict (List.tl x) (List.tl y)) &lt;=
     (List.length (List.tl x) + List.length (List.tl y))
|---------------------------------------------------------------------------
 List.length ((List.hd y) :: (interleave_strict (List.tl x) (List.tl y))) &lt;=
 ((1 + List.length (List.tl x)) + List.length (List.tl y))

But simplification reduces this to true, using the definition of <span class="ansi-blue-intense-fg ansi-bold">List.length</span>.

</pre>
</div>

</div>

<div class="output_area">

<div class="prompt"></div>



<div class="output_html rendered_html output_subarea ">
<div><div class="imandra-vr imandra-vr-proved"><i class="fa fa-check-circle"></i><span>Proved</span></div><div><div class="imandra-proof-top"><div class="imandra-fold panel panel-default" id="fold-264dac1c-cd1b-4fcc-9439-ede099cba967"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>proof</span></div></div><div class="panel-body collapse"><div class="imandra-proof"><div class="imandra-alternatives" id="alt-863db9c9-0dc1-4193-bcf4-7f7ede392c74"><ul class="nav nav-tabs"><li class="active" data-toggle="tab"><a>summary</a></li><li class="" data-toggle="tab"><a>full</a></li><li class="" data-toggle="tab"><a>graph</a></li></ul><div class="tab-content"><div class="tab-pane active"><div class="imandra-table" id="table-03219e56-b519-41fb-a59c-50cb19242793"><table><tr><td><b>ground_instances</b></td><td>0</td></tr><tr><td><b>definitions</b></td><td>11</td></tr><tr><td><b>inductions</b></td><td>1</td></tr><tr><td><b>search_time</b></td><td><pre>0.827s</pre></td></tr></table></div></div><div class="tab-pane"><div class="imandra-fold panel panel-default" id="fold-12d40c0e-d96b-47af-a5f6-6ade258e2d62"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>Expand</span></div></div><div class="panel-body collapse"><ul><li><pre>start[0.827s, &quot;Goal&quot;]
  List.length (interleave_strict :var_0: :var_1:) &lt;=
  (List.length :var_0: + List.length :var_1:)</pre></li><li><div><h4>subproof</h4><div class="imandra-fold panel panel-default" id="fold-989ca0e1-d706-437e-912e-c0463fb21e46"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>List.length (interleave_strict x y) &lt;= (List.length x + List.length y)</span></div></div><div class="panel-body collapse"><ul><li><pre>start[0.827s, &quot;1&quot;]
  List.length (interleave_strict x y) &lt;= (List.length x + List.length y)</pre></li><li><pre>induction on (structural+ x, y)
:scheme φ x []
        &amp;&amp; φ [] y
           &amp;&amp; (y &lt;&gt; [] &amp;&amp; x &lt;&gt; [] &amp;&amp; φ (List.tl x) (List.tl y) ==&gt; φ x y)</pre></li><li><div><pre>Split ((List.length (interleave_strict x []) &lt;=
        (List.length x + List.length [])
        &amp;&amp; List.length (interleave_strict [] y) &lt;=
           (List.length [] + List.length y))
       &amp;&amp; (not
           ((y &lt;&gt; [] &amp;&amp; x &lt;&gt; [])
            &amp;&amp; List.length (interleave_strict (List.tl x) (List.tl y)) &lt;=
               (List.length (List.tl x) + List.length (List.tl y)))
           || List.length (interleave_strict x y) &lt;=
              (List.length x + List.length y))
       :cases [List.length (interleave_strict x []) &lt;=
               (List.length x + List.length []);
               List.length (interleave_strict [] y) &lt;=
               (List.length [] + List.length y);
               ((not (y &lt;&gt; []) || not (x &lt;&gt; []))
                || not
                   (List.length (interleave_strict (List.tl x) (List.tl y))
                    &lt;= (List.length (List.tl x) + List.length (List.tl y))))
               || List.length (interleave_strict x y) &lt;=
                  (List.length x + List.length y)])</pre><ul><li><div><h5>subproof</h5><div class="imandra-fold panel panel-default" id="fold-c1713519-f72f-428e-a385-89ca357f7c14"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>((not (y &lt;&gt; []) || not (x &lt;&gt; []))
 || not
    (List.length (interleave_strict (List.tl x) (List.tl y)) &lt;=
     (List.length (List.tl x) + List.length (List.tl y))))
|| List.length (interleave_strict x y) &lt;= (List.length x + List.length y)</span></div></div><div class="panel-body collapse"><ul><li><pre>start[0.479s, &quot;1.1&quot;]
  ((not (y &lt;&gt; []) || not (x &lt;&gt; []))
   || not
      (List.length (interleave_strict (List.tl x) (List.tl y)) &lt;=
       (List.length (List.tl x) + List.length (List.tl y))))
  || List.length (interleave_strict x y) &lt;= (List.length x + List.length y)</pre></li><li><div><h6>simplify</h6><div class="imandra-table" id="table-4b32e2fb-f690-4e4d-a8e6-f78bd974791c"><table><tr><td><b>into</b></td><td><pre>((not (y &lt;&gt; []) || not (x &lt;&gt; []))
 || not
    (List.length (interleave_strict (List.tl x) (List.tl y)) &lt;=
     (List.length (List.tl x) + List.length (List.tl y))))
|| List.length ((List.hd y) :: (interleave_strict (List.tl x) (List.tl y)))
   &lt;= ((1 + List.length (List.tl x)) + List.length (List.tl y))</pre></td></tr><tr><td><b>expansions</b></td><td><pre>[List.length, List.length, List.length, interleave_strict]</pre></td></tr><tr><td><b>rewrite_steps</b></td><td><ul></ul></td></tr><tr><td><b>forward_chaining</b></td><td><ul><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li></ul></td></tr></table></div></div></li><li><div><h6>simplify</h6><div class="imandra-table" id="table-7358a7aa-572f-47be-9fc4-1508e1eea5d7"><table><tr><td><b>into</b></td><td><pre>true</pre></td></tr><tr><td><b>expansions</b></td><td><pre>List.length</pre></td></tr><tr><td><b>rewrite_steps</b></td><td><ul></ul></td></tr><tr><td><b>forward_chaining</b></td><td><ul><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li></ul></td></tr></table></div></div></li></ul></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-c1713519-f72f-428e-a385-89ca357f7c14';
  fold.hydrate(target);
});
</script></div></div></li><li><div><h5>subproof</h5><div class="imandra-fold panel panel-default" id="fold-e0f6de0a-1fc6-4504-aaf6-fb85588727ef"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>List.length (interleave_strict [] y) &lt;= (List.length [] + List.length y)</span></div></div><div class="panel-body collapse"><ul><li><pre>start[0.480s, &quot;1.2&quot;]
  List.length (interleave_strict [] y) &lt;= (List.length [] + List.length y)</pre></li><li><div><h6>simplify</h6><div class="imandra-table" id="table-456f4b09-7c49-4975-ad06-64bcd01bada6"><table><tr><td><b>into</b></td><td><pre>true</pre></td></tr><tr><td><b>expansions</b></td><td><pre>[List.length, List.length, interleave_strict]</pre></td></tr><tr><td><b>rewrite_steps</b></td><td><ul></ul></td></tr><tr><td><b>forward_chaining</b></td><td><ul><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li></ul></td></tr></table></div></div></li></ul></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-e0f6de0a-1fc6-4504-aaf6-fb85588727ef';
  fold.hydrate(target);
});
</script></div></div></li><li><div><h5>subproof</h5><div class="imandra-fold panel panel-default" id="fold-2bf50ce4-6217-4965-8245-a2402112ed43"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>List.length (interleave_strict x []) &lt;= (List.length x + List.length [])</span></div></div><div class="panel-body collapse"><ul><li><pre>start[0.480s, &quot;1.3&quot;]
  List.length (interleave_strict x []) &lt;= (List.length x + List.length [])</pre></li><li><div><h6>simplify</h6><div class="imandra-table" id="table-8da6fee0-c045-4cce-bc21-bab2db2dc973"><table><tr><td><b>into</b></td><td><pre>true</pre></td></tr><tr><td><b>expansions</b></td><td><pre>[List.length, List.length, interleave_strict]</pre></td></tr><tr><td><b>rewrite_steps</b></td><td><ul></ul></td></tr><tr><td><b>forward_chaining</b></td><td><ul><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li></ul></td></tr></table></div></div></li></ul></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-2bf50ce4-6217-4965-8245-a2402112ed43';
  fold.hydrate(target);
});
</script></div></div></li></ul></div></li></ul></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-989ca0e1-d706-437e-912e-c0463fb21e46';
  fold.hydrate(target);
});
</script></div></div></li></ul></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-12d40c0e-d96b-47af-a5f6-6ade258e2d62';
  fold.hydrate(target);
});
</script></div></div><div class="tab-pane"><div class="imandra-graphviz" id="graphviz-a461e756-fffd-40c1-b330-7e3880c34441"><textarea style="display: none">digraph &quot;proof&quot; {
p_472 [label=&quot;Start (List.length (interleave_strict :var_0: :var_1:) \&lt;=\l       (List.length :var_0: + List.length :var_1:) :name \&quot;Goal\&quot; :time 0.827s)&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_472 -&gt; p_470 [label=&quot;&quot;];
subgraph cluster_471 {
  color=blue;
p_470 [label=&quot;Start (List.length (interleave_strict x y) \&lt;= (List.length x + List.length y)\l       :name \&quot;1\&quot; :time 0.827s)&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_470 -&gt; p_469 [label=&quot;&quot;];
p_469 [label=&quot;Induct ((structural+ x, y),\l        :scheme φ x []\l                &amp;&amp; φ [] y\l                   &amp;&amp; (y \&lt;\&gt; [] &amp;&amp; x \&lt;\&gt; [] &amp;&amp; φ (List.tl x) (List.tl y)\l                       ==\&gt; φ x y))&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_469 -&gt; p_468 [label=&quot;&quot;];
p_468 [label=&quot;Split ((List.length (interleave_strict x []) \&lt;=\l        (List.length x + List.length [])\l        &amp;&amp; List.length (interleave_strict [] y) \&lt;=\l           (List.length [] + List.length y))\l       &amp;&amp; (not\l           ((y \&lt;\&gt; [] &amp;&amp; x \&lt;\&gt; [])\l            &amp;&amp; List.length (interleave_strict (List.tl x) (List.tl y)) \&lt;=\l               (List.length (List.tl x) + List.length (List.tl y)))\l           \|\| List.length (interleave_strict x y) \&lt;=\l              (List.length x + List.length y))\l       :cases [List.length (interleave_strict x []) \&lt;=\l               (List.length x + List.length []);\l               List.length (interleave_strict [] y) \&lt;=\l               (List.length [] + List.length y);\l               ((not (y \&lt;\&gt; []) \|\| not (x \&lt;\&gt; []))\l                \|\| not\l                   (List.length (interleave_strict (List.tl x) (List.tl y))\l                    \&lt;= (List.length (List.tl x) + List.length (List.tl y))))\l               \|\| List.length (interleave_strict x y) \&lt;=\l                  (List.length x + List.length y)])&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_468 -&gt; p_460 [label=&quot;&quot;];
subgraph cluster_461 {
  color=blue;
p_460 [label=&quot;Start (((not (y \&lt;\&gt; []) \|\| not (x \&lt;\&gt; []))\l        \|\| not\l           (List.length (interleave_strict (List.tl x) (List.tl y)) \&lt;=\l            (List.length (List.tl x) + List.length (List.tl y))))\l       \|\| List.length (interleave_strict x y) \&lt;=\l          (List.length x + List.length y)\l       :name \&quot;1.1\&quot; :time 0.479s)&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_460 -&gt; p_459 [label=&quot;&quot;];
p_459 [label=&quot;Simplify (((not (y \&lt;\&gt; []) \|\| not (x \&lt;\&gt; []))\l           \|\| not\l              (List.length (interleave_strict (List.tl x) (List.tl y)) \&lt;=\l               (List.length (List.tl x) + List.length (List.tl y))))\l          \|\| List.length\l             ((List.hd y) :: (interleave_strict (List.tl x) (List.tl y))) \&lt;=\l             ((1 + List.length (List.tl x)) + List.length (List.tl y))\l          :expansions [List.length;\l                       List.length;\l                       List.length;\l                       interleave_strict]\l          :rw []\l          :fc [List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative])&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_459 -&gt; p_458 [label=&quot;&quot;];
p_458 [label=&quot;Simplify (true :expansions [List.length] :rw []\l          :fc [List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative])&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
}
p_468 -&gt; p_463 [label=&quot;&quot;];
subgraph cluster_464 {
  color=blue;
p_463 [label=&quot;Start (List.length (interleave_strict [] y) \&lt;=\l       (List.length [] + List.length y) :name \&quot;1.2\&quot; :time 0.480s)&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_463 -&gt; p_462 [label=&quot;&quot;];
p_462 [label=&quot;Simplify (true :expansions [List.length; List.length; interleave_strict]\l          :rw []\l          :fc [List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative])&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
}
p_468 -&gt; p_466 [label=&quot;&quot;];
subgraph cluster_467 {
  color=blue;
p_466 [label=&quot;Start (List.length (interleave_strict x []) \&lt;=\l       (List.length x + List.length []) :name \&quot;1.3\&quot; :time 0.480s)&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_466 -&gt; p_465 [label=&quot;&quot;];
p_465 [label=&quot;Simplify (true :expansions [List.length; List.length; interleave_strict]\l          :rw []\l          :fc [List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative])&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
}
}
}
</textarea><button class="btn btn-primary">Load graph</button><div class="imandra-graphviz-loading display-none">Loading..</div><div class="imandra-graphviz-target"></div><script>
require(['nbextensions/nbimandra/graphviz'], function (graphviz) {
  var target = '#graphviz-a461e756-fffd-40c1-b330-7e3880c34441';
  graphviz.hydrate(target);
});
</script></div></div></div><script>
require(['nbextensions/nbimandra/alternatives'], function (alternatives) {
  var target = '#alt-863db9c9-0dc1-4193-bcf4-7f7ede392c74';
  alternatives.hydrate(target);
});
</script></div></div></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-264dac1c-cd1b-4fcc-9439-ede099cba967';
  fold.hydrate(target);
});
</script></div></div></div></div>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="try-this-container">
  <a href="https://try.imandra.ai/launch/?next=/h/user-redirect/notebooks/Verification%20-%20Induction.ipynb%23try-cell-22" target="_blank" rel="nofollow">
    <div class="try-this">Try this!</div>
  </a>
</div>
<div class="input">
<div class="prompt input_prompt">In&nbsp;[13]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ocaml"><pre><span></span><span class="n">verify</span> <span class="o">(</span><span class="k">fun</span> <span class="n">x</span> <span class="n">y</span> <span class="o">-&gt;</span>
  <span class="nn">List</span><span class="p">.</span><span class="n">length</span> <span class="o">@@</span> <span class="n">interleave_strict</span> <span class="n">x</span> <span class="n">y</span> <span class="o">&lt;=</span> <span class="nn">List</span><span class="p">.</span><span class="n">length</span> <span class="n">x</span> <span class="o">+</span> <span class="nn">List</span><span class="p">.</span><span class="n">length</span> <span class="n">y</span><span class="o">)</span>
<span class="o">[@@</span><span class="n">induct</span> <span class="n">structural_mult</span> <span class="o">(</span><span class="n">x</span><span class="o">,</span><span class="n">y</span><span class="o">)]</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt output_prompt">Out[13]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>- : &#39;a list -&gt; &#39;a list -&gt; bool = &lt;fun&gt;
<span class="ansi-white-intense-fg ansi-bold">Goal</span>:

(List.length @@ interleave_strict x y) &lt;= (List.length x + List.length y).

1 nontautological subgoal.

<span class="ansi-white-intense-fg ansi-bold">Subgoal 1</span>:

|---------------------------------------------------------------------------
 List.length (interleave_strict x y) &lt;= (List.length x + List.length y)

Verified up to bound 10 (after 0.110s).

Must try induction.

<span class="ansi-cyan-intense-fg ansi-bold">Induction scheme</span>:

 φ [] []
 &amp;&amp; (x &lt;&gt; [] &amp;&amp; φ [] (List.tl x) ==&gt; φ [] x)
    &amp;&amp; (y &lt;&gt; [] &amp;&amp; φ (List.tl y) [] ==&gt; φ y [])
       &amp;&amp; (x &lt;&gt; [] &amp;&amp; y &lt;&gt; [] &amp;&amp; φ (List.tl y) (List.tl x) ==&gt; φ y x).

4 nontautological subgoals.

<span class="ansi-white-intense-fg ansi-bold">Subgoal 1.4</span>:

|---------------------------------------------------------------------------
 List.length (interleave_strict [] []) &lt;= (2 * List.length [])

But simplification reduces this to true, using the definitions of <span class="ansi-blue-intense-fg ansi-bold">List.length
</span>and<span class="ansi-blue-intense-fg ansi-bold"> interleave_strict</span>.

<span class="ansi-white-intense-fg ansi-bold">Subgoal 1.3</span>:

 H0. x &lt;&gt; []
 H1. List.length (interleave_strict (List.tl x) []) &lt;=
     (List.length (List.tl x) + List.length [])
|---------------------------------------------------------------------------
 List.length (interleave_strict x []) &lt;= (List.length x + List.length [])

But simplification reduces this to true, using the definitions of <span class="ansi-blue-intense-fg ansi-bold">List.length
</span>and<span class="ansi-blue-intense-fg ansi-bold"> interleave_strict</span>.

<span class="ansi-white-intense-fg ansi-bold">Subgoal 1.2</span>:

 H0. y &lt;&gt; []
 H1. List.length (interleave_strict [] (List.tl y)) &lt;=
     (List.length [] + List.length (List.tl y))
|---------------------------------------------------------------------------
 List.length (interleave_strict [] y) &lt;= (List.length [] + List.length y)

But simplification reduces this to true, using the definitions of <span class="ansi-blue-intense-fg ansi-bold">List.length
</span>and<span class="ansi-blue-intense-fg ansi-bold"> interleave_strict</span>.

<span class="ansi-white-intense-fg ansi-bold">Subgoal 1.1</span>:

 H0. x &lt;&gt; []
 H1. y &lt;&gt; []
 H2. List.length (interleave_strict (List.tl x) (List.tl y)) &lt;=
     (List.length (List.tl x) + List.length (List.tl y))
|---------------------------------------------------------------------------
 List.length (interleave_strict x y) &lt;= (List.length x + List.length y)

This simplifies, using the definitions of <span class="ansi-blue-intense-fg ansi-bold">List.length </span>and<span class="ansi-blue-intense-fg ansi-bold"> interleave_strict</span>
to:

<span class="ansi-white-intense-fg ansi-bold">Subgoal 1.1&#39;</span>:

 H0. x &lt;&gt; []
 H1. y &lt;&gt; []
 H2. List.length (interleave_strict (List.tl x) (List.tl y)) &lt;=
     (List.length (List.tl x) + List.length (List.tl y))
|---------------------------------------------------------------------------
 List.length ((List.hd y) :: (interleave_strict (List.tl x) (List.tl y))) &lt;=
 ((1 + List.length (List.tl x)) + List.length (List.tl y))

But simplification reduces this to true, using the definition of <span class="ansi-blue-intense-fg ansi-bold">List.length</span>.

</pre>
</div>

</div>

<div class="output_area">

<div class="prompt"></div>



<div class="output_html rendered_html output_subarea ">
<div><div class="imandra-vr imandra-vr-proved"><i class="fa fa-check-circle"></i><span>Proved</span></div><div><div class="imandra-proof-top"><div class="imandra-fold panel panel-default" id="fold-72e385c4-2764-4350-96d6-ae7ae64c81c2"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>proof</span></div></div><div class="panel-body collapse"><div class="imandra-proof"><div class="imandra-alternatives" id="alt-df989d9d-75bb-4832-b429-c410a8383f46"><ul class="nav nav-tabs"><li class="active" data-toggle="tab"><a>summary</a></li><li class="" data-toggle="tab"><a>full</a></li><li class="" data-toggle="tab"><a>graph</a></li></ul><div class="tab-content"><div class="tab-pane active"><div class="imandra-table" id="table-f5af928f-ee51-4e89-8c8c-f4c3cb1bc889"><table><tr><td><b>ground_instances</b></td><td>0</td></tr><tr><td><b>definitions</b></td><td>16</td></tr><tr><td><b>inductions</b></td><td>1</td></tr><tr><td><b>search_time</b></td><td><pre>0.562s</pre></td></tr></table></div></div><div class="tab-pane"><div class="imandra-fold panel panel-default" id="fold-50bd2663-d9f9-410b-b80e-f733c4ceefee"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>Expand</span></div></div><div class="panel-body collapse"><ul><li><pre>start[0.562s, &quot;Goal&quot;]
  List.length (interleave_strict :var_0: :var_1:) &lt;=
  (List.length :var_0: + List.length :var_1:)</pre></li><li><div><h4>subproof</h4><div class="imandra-fold panel panel-default" id="fold-67973486-75d6-4059-a7ce-0d712701ad3c"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>List.length (interleave_strict x y) &lt;= (List.length x + List.length y)</span></div></div><div class="panel-body collapse"><ul><li><pre>start[0.562s, &quot;1&quot;]
  List.length (interleave_strict x y) &lt;= (List.length x + List.length y)</pre></li><li><pre>induction on (structural* x, y)
:scheme φ [] []
        &amp;&amp; (x &lt;&gt; [] &amp;&amp; φ [] (List.tl x) ==&gt; φ [] x)
           &amp;&amp; (y &lt;&gt; [] &amp;&amp; φ (List.tl y) [] ==&gt; φ y [])
              &amp;&amp; (x &lt;&gt; [] &amp;&amp; y &lt;&gt; [] &amp;&amp; φ (List.tl y) (List.tl x) ==&gt; φ y x)</pre></li><li><div><pre>Split (((List.length (interleave_strict [] []) &lt;= (2 * List.length [])
         &amp;&amp; (not
             (x &lt;&gt; []
              &amp;&amp; List.length (interleave_strict (List.tl x) []) &lt;=
                 (List.length (List.tl x) + List.length []))
             || List.length (interleave_strict x []) &lt;=
                (List.length x + List.length [])))
        &amp;&amp; (not
            (y &lt;&gt; []
             &amp;&amp; List.length (interleave_strict [] (List.tl y)) &lt;=
                (List.length [] + List.length (List.tl y)))
            || List.length (interleave_strict [] y) &lt;=
               (List.length [] + List.length y)))
       &amp;&amp; (not
           ((x &lt;&gt; [] &amp;&amp; y &lt;&gt; [])
            &amp;&amp; List.length (interleave_strict (List.tl x) (List.tl y)) &lt;=
               (List.length (List.tl x) + List.length (List.tl y)))
           || List.length … &lt;= …)
       :cases [List.length (interleave_strict [] []) &lt;= (2 * List.length []);
               (not (x &lt;&gt; [])
                || not
                   (List.length (interleave_strict (List.tl x) []) &lt;=
                    (List.length (List.tl x) + List.length [])))
               || List.length (interleave_strict x []) &lt;=
                  (List.length x + List.length []);
               (not (y &lt;&gt; [])
                || not
                   (List.length (interleave_strict [] (List.tl y)) &lt;=
                    (List.length [] + List.length (List.tl y))))
               || List.length (interleave_strict [] y) &lt;=
                  (List.length [] + List.length y);
               ((not (x &lt;&gt; []) || not (y &lt;&gt; []))
                || not
                   (List.length (interleave_strict (List.tl x) (List.tl y))
                    &lt;= (List.length (List.tl x) + List.length (List.tl y))))
               || List.length (interleave_strict x y) &lt;=
                  (List.length x + List.length y)])</pre><ul><li><div><h5>subproof</h5><div class="imandra-fold panel panel-default" id="fold-b3350205-da8f-48d2-82ad-966ba24d0286"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>((not (x &lt;&gt; []) || not (y &lt;&gt; []))
 || not
    (List.length (interleave_strict (List.tl x) (List.tl y)) &lt;=
     (List.length (List.tl x) + List.length (List.tl y))))
|| List.length (interleave_strict x y) &lt;= (List.length x + List.length y)</span></div></div><div class="panel-body collapse"><ul><li><pre>start[0.379s, &quot;1.1&quot;]
  ((not (x &lt;&gt; []) || not (y &lt;&gt; []))
   || not
      (List.length (interleave_strict (List.tl x) (List.tl y)) &lt;=
       (List.length (List.tl x) + List.length (List.tl y))))
  || List.length (interleave_strict x y) &lt;= (List.length x + List.length y)</pre></li><li><div><h6>simplify</h6><div class="imandra-table" id="table-8b03ec2d-08a9-4560-b072-b09b1f47c507"><table><tr><td><b>into</b></td><td><pre>((not (x &lt;&gt; []) || not (y &lt;&gt; []))
 || not
    (List.length (interleave_strict (List.tl x) (List.tl y)) &lt;=
     (List.length (List.tl x) + List.length (List.tl y))))
|| List.length ((List.hd y) :: (interleave_strict (List.tl x) (List.tl y)))
   &lt;= ((1 + List.length (List.tl x)) + List.length (List.tl y))</pre></td></tr><tr><td><b>expansions</b></td><td><pre>[List.length, List.length, List.length, interleave_strict]</pre></td></tr><tr><td><b>rewrite_steps</b></td><td><ul></ul></td></tr><tr><td><b>forward_chaining</b></td><td><ul><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li></ul></td></tr></table></div></div></li><li><div><h6>simplify</h6><div class="imandra-table" id="table-71590e92-2ad8-423e-bed2-6d281cc545fd"><table><tr><td><b>into</b></td><td><pre>true</pre></td></tr><tr><td><b>expansions</b></td><td><pre>List.length</pre></td></tr><tr><td><b>rewrite_steps</b></td><td><ul></ul></td></tr><tr><td><b>forward_chaining</b></td><td><ul><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li></ul></td></tr></table></div></div></li></ul></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-b3350205-da8f-48d2-82ad-966ba24d0286';
  fold.hydrate(target);
});
</script></div></div></li><li><div><h5>subproof</h5><div class="imandra-fold panel panel-default" id="fold-e8dabc1a-9ccf-412c-bad7-f2b207167c01"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>(not (y &lt;&gt; [])
 || not
    (List.length (interleave_strict [] (List.tl y)) &lt;=
     (List.length [] + List.length (List.tl y))))
|| List.length (interleave_strict [] y) &lt;= (List.length [] + List.length y)</span></div></div><div class="panel-body collapse"><ul><li><pre>start[0.379s, &quot;1.2&quot;]
  (not (y &lt;&gt; [])
   || not
      (List.length (interleave_strict [] (List.tl y)) &lt;=
       (List.length [] + List.length (List.tl y))))
  || List.length (interleave_strict [] y) &lt;= (List.length [] + List.length y)</pre></li><li><div><h6>simplify</h6><div class="imandra-table" id="table-1700e5e8-5ab6-4d96-9780-378a09263cbc"><table><tr><td><b>into</b></td><td><pre>true</pre></td></tr><tr><td><b>expansions</b></td><td><pre>[List.length, List.length, List.length, interleave_strict]</pre></td></tr><tr><td><b>rewrite_steps</b></td><td><ul></ul></td></tr><tr><td><b>forward_chaining</b></td><td><ul><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li></ul></td></tr></table></div></div></li></ul></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-e8dabc1a-9ccf-412c-bad7-f2b207167c01';
  fold.hydrate(target);
});
</script></div></div></li><li><div><h5>subproof</h5><div class="imandra-fold panel panel-default" id="fold-26bb17ad-504b-4f8d-8039-ea1ae07a4e7f"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>(not (x &lt;&gt; [])
 || not
    (List.length (interleave_strict (List.tl x) []) &lt;=
     (List.length (List.tl x) + List.length [])))
|| List.length (interleave_strict x []) &lt;= (List.length x + List.length [])</span></div></div><div class="panel-body collapse"><ul><li><pre>start[0.380s, &quot;1.3&quot;]
  (not (x &lt;&gt; [])
   || not
      (List.length (interleave_strict (List.tl x) []) &lt;=
       (List.length (List.tl x) + List.length [])))
  || List.length (interleave_strict x []) &lt;= (List.length x + List.length [])</pre></li><li><div><h6>simplify</h6><div class="imandra-table" id="table-cf740c3f-9281-4bd9-95dd-4c09fb9d1370"><table><tr><td><b>into</b></td><td><pre>true</pre></td></tr><tr><td><b>expansions</b></td><td><pre>[List.length, List.length, List.length, interleave_strict]</pre></td></tr><tr><td><b>rewrite_steps</b></td><td><ul></ul></td></tr><tr><td><b>forward_chaining</b></td><td><ul><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li></ul></td></tr></table></div></div></li></ul></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-26bb17ad-504b-4f8d-8039-ea1ae07a4e7f';
  fold.hydrate(target);
});
</script></div></div></li><li><div><h5>subproof</h5><div class="imandra-fold panel panel-default" id="fold-68692d68-2b50-4788-acde-57cf58fd22e2"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>List.length (interleave_strict [] []) &lt;= (2 * List.length [])</span></div></div><div class="panel-body collapse"><ul><li><pre>start[0.380s, &quot;1.4&quot;]
  List.length (interleave_strict [] []) &lt;= (2 * List.length [])</pre></li><li><div><h6>simplify</h6><div class="imandra-table" id="table-c4b71f01-4860-4c21-bfb7-cc079e89eca5"><table><tr><td><b>into</b></td><td><pre>true</pre></td></tr><tr><td><b>expansions</b></td><td><pre>[List.length, List.length, interleave_strict]</pre></td></tr><tr><td><b>rewrite_steps</b></td><td><ul></ul></td></tr><tr><td><b>forward_chaining</b></td><td><ul><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li></ul></td></tr></table></div></div></li></ul></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-68692d68-2b50-4788-acde-57cf58fd22e2';
  fold.hydrate(target);
});
</script></div></div></li></ul></div></li></ul></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-67973486-75d6-4059-a7ce-0d712701ad3c';
  fold.hydrate(target);
});
</script></div></div></li></ul></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-50bd2663-d9f9-410b-b80e-f733c4ceefee';
  fold.hydrate(target);
});
</script></div></div><div class="tab-pane"><div class="imandra-graphviz" id="graphviz-a2ba9b4b-b4b6-4431-8aaa-c65f9bc192f6"><textarea style="display: none">digraph &quot;proof&quot; {
p_501 [label=&quot;Start (List.length (interleave_strict :var_0: :var_1:) \&lt;=\l       (List.length :var_0: + List.length :var_1:) :name \&quot;Goal\&quot; :time 0.562s)&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_501 -&gt; p_499 [label=&quot;&quot;];
subgraph cluster_500 {
  color=blue;
p_499 [label=&quot;Start (List.length (interleave_strict x y) \&lt;= (List.length x + List.length y)\l       :name \&quot;1\&quot; :time 0.562s)&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_499 -&gt; p_498 [label=&quot;&quot;];
p_498 [label=&quot;Induct ((structural* x, y),\l        :scheme φ [] []\l                &amp;&amp; (x \&lt;\&gt; [] &amp;&amp; φ [] (List.tl x) ==\&gt; φ [] x)\l                   &amp;&amp; (y \&lt;\&gt; [] &amp;&amp; φ (List.tl y) [] ==\&gt; φ y [])\l                      &amp;&amp; (x \&lt;\&gt; [] &amp;&amp; y \&lt;\&gt; [] &amp;&amp; φ (List.tl y) (List.tl x)\l                          ==\&gt; φ y x))&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_498 -&gt; p_497 [label=&quot;&quot;];
p_497 [label=&quot;Split (((List.length (interleave_strict [] []) \&lt;= (2 * List.length [])\l         &amp;&amp; (not\l             (x \&lt;\&gt; []\l              &amp;&amp; List.length (interleave_strict (List.tl x) []) \&lt;=\l                 (List.length (List.tl x) + List.length []))\l             \|\| List.length (interleave_strict x []) \&lt;=\l                (List.length x + List.length [])))\l        &amp;&amp; (not\l            (y \&lt;\&gt; []\l             &amp;&amp; List.length (interleave_strict [] (List.tl y)) \&lt;=\l                (List.length [] + List.length (List.tl y)))\l            \|\| List.length (interleave_strict [] y) \&lt;=\l               (List.length [] + List.length y)))\l       &amp;&amp; (not\l           ((x \&lt;\&gt; [] &amp;&amp; y \&lt;\&gt; [])\l            &amp;&amp; List.length (interleave_strict (List.tl x) (List.tl y)) \&lt;=\l               (List.length (List.tl x) + List.length (List.tl y)))\l           \|\| List.length … \&lt;= …)\l       :cases [List.length (interleave_strict [] []) \&lt;= (2 * List.length []);\l               (not (x \&lt;\&gt; [])\l                \|\| not\l                   (List.length (interleave_strict (List.tl x) []) \&lt;=\l                    (List.length (List.tl x) + List.length [])))\l               \|\| List.length (interleave_strict x []) \&lt;=\l                  (List.length x + List.length []);\l               (not (y \&lt;\&gt; [])\l                \|\| not\l                   (List.length (interleave_strict [] (List.tl y)) \&lt;=\l                    (List.length [] + List.length (List.tl y))))\l               \|\| List.length (interleave_strict [] y) \&lt;=\l                  (List.length [] + List.length y);\l               ((not (x \&lt;\&gt; []) \|\| not (y \&lt;\&gt; []))\l                \|\| not\l                   (List.length (interleave_strict (List.tl x) (List.tl y))\l                    \&lt;= (List.length (List.tl x) + List.length (List.tl y))))\l               \|\| List.length (interleave_strict x y) \&lt;=\l                  (List.length x + List.length y)])&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_497 -&gt; p_486 [label=&quot;&quot;];
subgraph cluster_487 {
  color=blue;
p_486 [label=&quot;Start (((not (x \&lt;\&gt; []) \|\| not (y \&lt;\&gt; []))\l        \|\| not\l           (List.length (interleave_strict (List.tl x) (List.tl y)) \&lt;=\l            (List.length (List.tl x) + List.length (List.tl y))))\l       \|\| List.length (interleave_strict x y) \&lt;=\l          (List.length x + List.length y)\l       :name \&quot;1.1\&quot; :time 0.379s)&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_486 -&gt; p_485 [label=&quot;&quot;];
p_485 [label=&quot;Simplify (((not (x \&lt;\&gt; []) \|\| not (y \&lt;\&gt; []))\l           \|\| not\l              (List.length (interleave_strict (List.tl x) (List.tl y)) \&lt;=\l               (List.length (List.tl x) + List.length (List.tl y))))\l          \|\| List.length\l             ((List.hd y) :: (interleave_strict (List.tl x) (List.tl y))) \&lt;=\l             ((1 + List.length (List.tl x)) + List.length (List.tl y))\l          :expansions [List.length;\l                       List.length;\l                       List.length;\l                       interleave_strict]\l          :rw []\l          :fc [List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative])&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_485 -&gt; p_484 [label=&quot;&quot;];
p_484 [label=&quot;Simplify (true :expansions [List.length] :rw []\l          :fc [List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative])&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
}
p_497 -&gt; p_489 [label=&quot;&quot;];
subgraph cluster_490 {
  color=blue;
p_489 [label=&quot;Start ((not (y \&lt;\&gt; [])\l        \|\| not\l           (List.length (interleave_strict [] (List.tl y)) \&lt;=\l            (List.length [] + List.length (List.tl y))))\l       \|\| List.length (interleave_strict [] y) \&lt;=\l          (List.length [] + List.length y)\l       :name \&quot;1.2\&quot; :time 0.379s)&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_489 -&gt; p_488 [label=&quot;&quot;];
p_488 [label=&quot;Simplify (true\l          :expansions [List.length;\l                       List.length;\l                       List.length;\l                       interleave_strict]\l          :rw []\l          :fc [List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative])&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
}
p_497 -&gt; p_492 [label=&quot;&quot;];
subgraph cluster_493 {
  color=blue;
p_492 [label=&quot;Start ((not (x \&lt;\&gt; [])\l        \|\| not\l           (List.length (interleave_strict (List.tl x) []) \&lt;=\l            (List.length (List.tl x) + List.length [])))\l       \|\| List.length (interleave_strict x []) \&lt;=\l          (List.length x + List.length [])\l       :name \&quot;1.3\&quot; :time 0.380s)&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_492 -&gt; p_491 [label=&quot;&quot;];
p_491 [label=&quot;Simplify (true\l          :expansions [List.length;\l                       List.length;\l                       List.length;\l                       interleave_strict]\l          :rw []\l          :fc [List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative])&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
}
p_497 -&gt; p_495 [label=&quot;&quot;];
subgraph cluster_496 {
  color=blue;
p_495 [label=&quot;Start (List.length (interleave_strict [] []) \&lt;= (2 * List.length [])\l       :name \&quot;1.4\&quot; :time 0.380s)&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_495 -&gt; p_494 [label=&quot;&quot;];
p_494 [label=&quot;Simplify (true :expansions [List.length; List.length; interleave_strict]\l          :rw [] :fc [List.len_nonnegative; List.len_nonnegative])&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
}
}
}
</textarea><button class="btn btn-primary">Load graph</button><div class="imandra-graphviz-loading display-none">Loading..</div><div class="imandra-graphviz-target"></div><script>
require(['nbextensions/nbimandra/graphviz'], function (graphviz) {
  var target = '#graphviz-a2ba9b4b-b4b6-4431-8aaa-c65f9bc192f6';
  graphviz.hydrate(target);
});
</script></div></div></div><script>
require(['nbextensions/nbimandra/alternatives'], function (alternatives) {
  var target = '#alt-df989d9d-75bb-4832-b429-c410a8383f46';
  alternatives.hydrate(target);
});
</script></div></div></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-72e385c4-2764-4350-96d6-ae7ae64c81c2';
  fold.hydrate(target);
});
</script></div></div></div></div>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>Imandra was able to prove the property using both flavors of structural
induction, but we can see that the proof using the additive flavor was shorter.
Multiplicative schemes will often result in longer proofs than additive schemes,
and thus Imandra uses the additive flavor by default when
<code>[@@induct structural ...]</code> is used.</p>
</div>
</div>
</div>
                    </div>

                    <div class="sidebar-right">
                        <div class="sidebar-right__menu">
                            
                            <a class="sidebar-right__menu-item sidebar-right__menu-item--h1" href="#Induction">Induction</a>
                            
                            <a class="sidebar-right__menu-item sidebar-right__menu-item--h2" href="#Functional-Induction">Functional Induction</a>
                            
                            <a class="sidebar-right__menu-item sidebar-right__menu-item--h2" href="#Structural-Induction">Structural Induction</a>
                            
                        </div>
                    </div></article>
            </main>
            <footer class="Footer">
                <a class="Copyrights"href="http://imandra.ai">&#9400; 2018 - 2019 Aesthetic Integration Ltd. All rights reserved.</a>
            </footer>
        </div>
    
 


    </body>
</html>
