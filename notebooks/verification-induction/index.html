<!DOCTYPE html>
<html>
    <head><meta charset="utf-8" />
        <meta content="width=device-width, initial-scale=1.0" name="viewport">
        <title>Imandra Documentation - Verification Induction</title>
        <meta property="og:url" content="https://docs.imandra.ai/imandra-docs/notebooks/verification-induction/">
        <meta property="og:type" content="website">
        <meta property="og:title" content="Imandra Documentation - Verification Induction">
        <meta property="og:description" content="A description of Imandra's Induction strategy">
        <meta property="og:image" content="https://storage.googleapis.com/imandra-assets/images/og_image_default_i78.jpg">


        
        <!-- Global site tag (gtag.js) - Google Analytics -->
        <script async src="https://www.googletagmanager.com/gtag/js?id=UA-116937440-6"></script>
        <script>
         window.dataLayer = window.dataLayer || [];
         function gtag(){dataLayer.push(arguments);}
         gtag('js', new Date());

         gtag('config', 'UA-116937440-1');
        </script>
        <script type="text/javascript"> var sc_project=11767520; var sc_invisible=1; var sc_security="fa7e88d1"; </script>
        <script type="text/javascript" src="https://www.statcounter.com/counter/counter.js" async></script>
        <noscript><div class="statcounter">
            <a title="Web Analytics" href="http://statcounter.com/" target="_blank">
                <img class="statcounter" src="//c.statcounter.com/11767520/0/fa7e88d1/1/" alt="Web Analytics"></a>
        </div></noscript>
        

        <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js"></script>

        <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.1.10/require.min.js"></script>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Merriweather+Sans:300,300i,400,400i%7CMerriweather:300,300i,400,400i%7CRoboto+Slab:300,300i,400,400i">

        <link rel="stylesheet" href="/imandra-docs/static/style/style.min.c7df16ea.css" type="text/css">
        <link rel="stylesheet" href="/imandra-docs/static/nbextensions/nbimandra/styles.b466ce6f.css" type="text/css">
        <link rel="stylesheet" href="/imandra-docs/static/docs-styles.b9de737f.css" type="text/css">
        
        <link rel="stylesheet" href="/imandra-docs/static/jekyll-styles.16c4c669.css" type="text/css">
        
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css" />

        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
        <script src="/imandra-docs/static/nbimandra-rjs-bundle.b85e58fd.js"></script>

        <style type="text/css">
         .highlight .hll { background-color: #ffffcc }
         .highlight  { background: #f8f8f8; }
         .highlight .c { color: #408080; font-style: italic } /* Comment */
         .highlight .err { border: 1px solid #FF0000 } /* Error */
         .highlight .k { color: #008000; font-weight: bold } /* Keyword */
         .highlight .o { color: #666666 } /* Operator */
         .highlight .ch { color: #408080; font-style: italic } /* Comment.Hashbang */
         .highlight .cm { color: #408080; font-style: italic } /* Comment.Multiline */
         .highlight .cp { color: #BC7A00 } /* Comment.Preproc */
         .highlight .cpf { color: #408080; font-style: italic } /* Comment.PreprocFile */
         .highlight .c1 { color: #408080; font-style: italic } /* Comment.Single */
         .highlight .cs { color: #408080; font-style: italic } /* Comment.Special */
         .highlight .gd { color: #A00000 } /* Generic.Deleted */
         .highlight .ge { font-style: italic } /* Generic.Emph */
         .highlight .gr { color: #FF0000 } /* Generic.Error */
         .highlight .gh { color: #000080; font-weight: bold } /* Generic.Heading */
         .highlight .gi { color: #00A000 } /* Generic.Inserted */
         .highlight .go { color: #888888 } /* Generic.Output */
         .highlight .gp { color: #000080; font-weight: bold } /* Generic.Prompt */
         .highlight .gs { font-weight: bold } /* Generic.Strong */
         .highlight .gu { color: #800080; font-weight: bold } /* Generic.Subheading */
         .highlight .gt { color: #0044DD } /* Generic.Traceback */
         .highlight .kc { color: #008000; font-weight: bold } /* Keyword.Constant */
         .highlight .kd { color: #008000; font-weight: bold } /* Keyword.Declaration */
         .highlight .kn { color: #008000; font-weight: bold } /* Keyword.Namespace */
         .highlight .kp { color: #008000 } /* Keyword.Pseudo */
         .highlight .kr { color: #008000; font-weight: bold } /* Keyword.Reserved */
         .highlight .kt { color: #B00040 } /* Keyword.Type */
         .highlight .m { color: #666666 } /* Literal.Number */
         .highlight .s { color: #BA2121 } /* Literal.String */
         .highlight .na { color: #7D9029 } /* Name.Attribute */
         .highlight .nb { color: #008000 } /* Name.Builtin */
         .highlight .nc { color: #0000FF; font-weight: bold } /* Name.Class */
         .highlight .no { color: #880000 } /* Name.Constant */
         .highlight .nd { color: #AA22FF } /* Name.Decorator */
         .highlight .ni { color: #999999; font-weight: bold } /* Name.Entity */
         .highlight .ne { color: #D2413A; font-weight: bold } /* Name.Exception */
         .highlight .nf { color: #0000FF } /* Name.Function */
         .highlight .nl { color: #A0A000 } /* Name.Label */
         .highlight .nn { color: #0000FF; font-weight: bold } /* Name.Namespace */
         .highlight .nt { color: #008000; font-weight: bold } /* Name.Tag */
         .highlight .nv { color: #19177C } /* Name.Variable */
         .highlight .ow { color: #AA22FF; font-weight: bold } /* Operator.Word */
         .highlight .w { color: #bbbbbb } /* Text.Whitespace */
         .highlight .mb { color: #666666 } /* Literal.Number.Bin */
         .highlight .mf { color: #666666 } /* Literal.Number.Float */
         .highlight .mh { color: #666666 } /* Literal.Number.Hex */
         .highlight .mi { color: #666666 } /* Literal.Number.Integer */
         .highlight .mo { color: #666666 } /* Literal.Number.Oct */
         .highlight .sa { color: #BA2121 } /* Literal.String.Affix */
         .highlight .sb { color: #BA2121 } /* Literal.String.Backtick */
         .highlight .sc { color: #BA2121 } /* Literal.String.Char */
         .highlight .dl { color: #BA2121 } /* Literal.String.Delimiter */
         .highlight .sd { color: #BA2121; font-style: italic } /* Literal.String.Doc */
         .highlight .s2 { color: #BA2121 } /* Literal.String.Double */
         .highlight .se { color: #BB6622; font-weight: bold } /* Literal.String.Escape */
         .highlight .sh { color: #BA2121 } /* Literal.String.Heredoc */
         .highlight .si { color: #BB6688; font-weight: bold } /* Literal.String.Interpol */
         .highlight .sx { color: #008000 } /* Literal.String.Other */
         .highlight .sr { color: #BB6688 } /* Literal.String.Regex */
         .highlight .s1 { color: #BA2121 } /* Literal.String.Single */
         .highlight .ss { color: #19177C } /* Literal.String.Symbol */
         .highlight .bp { color: #008000 } /* Name.Builtin.Pseudo */
         .highlight .fm { color: #0000FF } /* Name.Function.Magic */
         .highlight .vc { color: #19177C } /* Name.Variable.Class */
         .highlight .vg { color: #19177C } /* Name.Variable.Global */
         .highlight .vi { color: #19177C } /* Name.Variable.Instance */
         .highlight .vm { color: #19177C } /* Name.Variable.Magic */
         .highlight .il { color: #666666 } /* Literal.Number.Integer.Long */
        </style>

        <!-- Loading mathjax macro -->
        <!-- Load mathjax -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS_HTML"></script>
    <!-- MathJax configuration -->
    <script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        tex2jax: {
            inlineMath: [ ['$','$'], ["\\(","\\)"] ],
            displayMath: [ ['$$','$$'], ["\\[","\\]"] ],
            processEscapes: true,
            processEnvironments: true
        },
        // Center justify equations in code and markdown cells. Elsewhere
        // we use CSS to left justify single line equations in code cells.
        displayAlign: 'center',
        "HTML-CSS": {
            styles: {'.MathJax_Display': {"margin": 0}},
            linebreaks: { automatic: true }
        }
    });
    </script>
    <!-- End of mathjax configuration --><script>
  function handleCopyClick() {
      var el = this;
      var terminal = el.closest('.terminal');
      var highlight = terminal.getElementsByClassName('highlight')[0];
      copyToClipboardMsg(highlight);

      terminal.classList.add('terminal--hide');
      setTimeout(function () {
          terminal.classList.remove('terminal--hide');
      }, 2000);


      function copyToClipboardMsg(elem) {
          var succeed = copyToClipboard(elem);
          var msg;
          if (!succeed) {
              msg = 'Error!';
          } else {
              msg = 'Copied!';
          }

          var msgElem = terminal.querySelector('.terminal__copy-msg');
          msgElem.innerHTML = msg;
          setTimeout(function () {
              msgElem.innerHTML = 'You rock!';
          }, 1000);
      }

      function copyToClipboard(elem) {
          // create hidden text element, if it doesn't already exist
          var targetId = '_hiddenCopyText_';
          var isInput = elem.tagName === 'INPUT' || elem.tagName === 'TEXTAREA';
          var origSelectionStart, origSelectionEnd;
          if (isInput) {
              // can just use the original source element for the selection and copy
              target = elem;
              origSelectionStart = elem.selectionStart;
              origSelectionEnd = elem.selectionEnd;
          } else {
              // must use a temporary form element for the selection and copy
              target = terminal.querySelector('#' + targetId);
              if (!target) {
                  var target = document.createElement('textarea');
                  // target.style.display = 'flex';
                  // target.style.position = 'absolute';
                  // target.style.left = '-1000%';
                  target.id = targetId;
                 elem.appendChild(target);
              }
              target.textContent = elem.textContent.trim();
          }

          // select the content
          var currentFocus = document.activeElement;
          target.focus();
          target.setSelectionRange(0, target.value.length);

          // copy the selection
          var succeed;
          try {
              succeed = document.execCommand('copy');
          } catch (e) {
              succeed = false;
          }
          // restore original focus
          if (currentFocus && typeof currentFocus.focus === 'function') {
              currentFocus.focus();
          }

          if (isInput) {
              // restore prior selection
              elem.setSelectionRange(origSelectionStart, origSelectionEnd);
          } else {
              // clear temporary content
              elem.removeChild(target);
          }
          return succeed;
      }
  }
</script>
    </head>
    <body>
        <div class="background">
        </div>
        <div class="page-container">
            <main class="main-content-column">
                <!-- Jupyter (Imandra core docs) version -->
<header class="header">
    <div class="top-row-container">
        <div class="top-row">

            <div id="toggler--left" class="side__left-menu-toggler">
                <div class="side__toggle">
                    <span></span>
                    <span></span>
                    <span></span>
                </div>
                <p class="side__toggle-text">Docs</p>
            </div>

            <div class="side__logo-container">
                <a class="side__logo-link" href="/">
                    <img class="side__logo " src = "/imandra-docs/jekyll-resources/assets/img/imandra-gradient-logo-docs.svg" alt="Imandra Logo" title="Imandra Logo">
                    <img class="side__logo--min " src="/imandra-docs/jekyll-resources/assets/img/imandra-gradient-logo-min.svg" alt="Imandra Logo" title="Imandra Logo">

                </a>
            </div>

            <div id="toggler--right" class="side__right-menu-toggler">
                <p class="side__toggle-text">Pages</p>
                <div class="side__toggle">
                    <span></span>
                    <span></span>
                    <span></span>
                </div>
            </div>

            <nav id="side-nav-menu" class="side__nav-container side__nav-container--hidden">
                <ul class="side__nav-list">
                    
                    <li class="side__nav-list-item">
                        <a class="side__nav-link" href="/">Documentation Home</a>
                        
                    </li>
                    
                    <li class="side__nav-list-item">
                        <a class="side__nav-link side__nav-link--active" href="/imandra-docs">Imandra Core</a>
                        
                        <ul class="side__nav-list--sub-level-1">
                            
                            <li class="side__nav-list-item--sub-level-1 side__nav-list--sub-level-1--empty">
                                
                                <a class="side__nav-link" href="/imandra-docs/notebooks/welcome">A quick tour</a>
                                
                                <ul class="side__nav-list--sub-level-2 ">
                                    
                                </ul>
                                
                            </li>
                            
                            <li class="side__nav-list-item--sub-level-1 ">
                                
                                <a class="side__nav-link" href="/imandra-docs/notebooks/installation">Installation</a>
                                
                                <ul class="side__nav-list--sub-level-2 ">
                                    
                                    <li class="side__nav-list-item--sub-level-2 side__nav-list--sub-level-2--empty">
                                        
                                        <a class="side__nav-link" href="/imandra-docs/notebooks/installation-simple">Installer</a>
                                        
                                        
                                        
                                    </li>
                                    
                                    <li class="side__nav-list-item--sub-level-2 side__nav-list--sub-level-2--empty">
                                        
                                        <a class="side__nav-link" href="/imandra-docs/notebooks/installation-manual-opam">Manual (opam)</a>
                                        
                                        
                                        
                                    </li>
                                    
                                    <li class="side__nav-list-item--sub-level-2 side__nav-list--sub-level-2--empty">
                                        
                                        <a class="side__nav-link" href="/imandra-docs/notebooks/installation-docker">Docker Image</a>
                                        
                                        
                                        
                                    </li>
                                    
                                    <li class="side__nav-list-item--sub-level-2 side__nav-list--sub-level-2--empty">
                                        
                                        <a class="side__nav-link" href="/imandra-docs/notebooks/installation-jupyter">Jupyter Notebook</a>
                                        
                                        
                                        
                                    </li>
                                    
                                    <li class="side__nav-list-item--sub-level-2 side__nav-list--sub-level-2--empty">
                                        
                                        <a class="side__nav-link" href="/imandra-docs/notebooks/installation-vscode">VSCode</a>
                                        
                                        
                                        
                                    </li>
                                    
                                </ul>
                                
                            </li>
                            
                            <li class="side__nav-list-item--sub-level-1 side__nav-list--sub-level-1--empty">
                                
                                <a class="side__nav-link" href="/imandra-docs/notebooks/logic-and-program-modes">Logic and Program modes</a>
                                
                                <ul class="side__nav-list--sub-level-2 ">
                                    
                                </ul>
                                
                            </li>
                            
                            <li class="side__nav-list-item--sub-level-1 ">
                                
                                <a class="side__nav-link" href="/imandra-docs/notebooks/verification">Verification</a>
                                
                                <ul class="side__nav-list--sub-level-2  side__nav-list--sub-level-2--active">
                                    
                                    <li class="side__nav-list-item--sub-level-2 side__nav-list--sub-level-2--empty">
                                        
                                        <a class="side__nav-link" href="/imandra-docs/notebooks/verification-commands">Commands</a>
                                        
                                        
                                        
                                    </li>
                                    
                                    <li class="side__nav-list-item--sub-level-2 side__nav-list--sub-level-2--empty">
                                        
                                        <a class="side__nav-link" href="/imandra-docs/notebooks/verification-attributes">Attributes</a>
                                        
                                        
                                        
                                    </li>
                                    
                                    <li class="side__nav-list-item--sub-level-2 side__nav-list--sub-level-2--empty">
                                        
                                        <a class="side__nav-link" href="/imandra-docs/notebooks/verification-unrolling">Unrolling</a>
                                        
                                        
                                        
                                    </li>
                                    
                                    <li class="side__nav-list-item--sub-level-2 side__nav-list--sub-level-2--empty">
                                        
                                        <a class="side__nav-link" href="/imandra-docs/notebooks/verification-simplification">Simplification</a>
                                        
                                        
                                        
                                    </li>
                                    
                                    <li class="side__nav-list-item--sub-level-2 side__nav-list--sub-level-2--empty">
                                        
                                        <a class="side__nav-link" href="/imandra-docs/notebooks/verification-blast">Blast</a>
                                        
                                        
                                        
                                    </li>
                                    
                                    <li class="side__nav-list-item--sub-level-2 side__nav-list--sub-level-2--empty">
                                        
                                        <a class="side__nav-link side__nav-link--active" href="/imandra-docs/notebooks/verification-induction">Induction</a>
                                        
                                        
                                        
                                        <div class="side__within-page-nav--sub-level-2">
                                        
  
  
  
  <a class="side__nav-link--within-page side__nav-link--within-page--h2" href="#Functional-Induction">Functional Induction</a>
  
  
  
  <a class="side__nav-link--within-page side__nav-link--within-page--h2" href="#Structural-Induction">Structural Induction</a>
  
  
                                        </div>
                                        
                                    </li>
                                    
                                    <li class="side__nav-list-item--sub-level-2 side__nav-list--sub-level-2--empty">
                                        
                                        <a class="side__nav-link" href="/imandra-docs/notebooks/verification-waterfall">Waterfall</a>
                                        
                                        
                                        
                                    </li>
                                    
                                </ul>
                                
                            </li>
                            
                            <li class="side__nav-list-item--sub-level-1 side__nav-list--sub-level-1--empty">
                                
                                <a class="side__nav-link" href="/imandra-docs/notebooks/proving-program-termination">Proving program termination</a>
                                
                                <ul class="side__nav-list--sub-level-2 ">
                                    
                                </ul>
                                
                            </li>
                            
                            <li class="side__nav-list-item--sub-level-1 ">
                                
                                <a class="side__nav-link" href="/imandra-docs/notebooks/decomposition">Region Decomposition</a>
                                
                                <ul class="side__nav-list--sub-level-2 ">
                                    
                                    <li class="side__nav-list-item--sub-level-2 side__nav-list--sub-level-2--empty">
                                        
                                        <a class="side__nav-link" href="/imandra-docs/notebooks/imandra-tools-intro">Imandra tools introduction</a>
                                        
                                        
                                        
                                    </li>
                                    
                                    <li class="side__nav-list-item--sub-level-2 side__nav-list--sub-level-2--empty">
                                        
                                        <a class="side__nav-link" href="/imandra-docs/notebooks/idf">Iterative Decomposition Framework</a>
                                        
                                        
                                        
                                    </li>
                                    
                                    <li class="side__nav-list-item--sub-level-2 side__nav-list--sub-level-2--empty">
                                        
                                        <a class="side__nav-link" href="/imandra-docs/notebooks/region-probabilities">Region probabilities</a>
                                        
                                        
                                        
                                    </li>
                                    
                                </ul>
                                
                            </li>
                            
                            <li class="side__nav-list-item--sub-level-1 side__nav-list--sub-level-1--empty">
                                
                                <a class="side__nav-link" href="/imandra-docs/notebooks/loading-files">Multifile development</a>
                                
                                <ul class="side__nav-list--sub-level-2 ">
                                    
                                </ul>
                                
                            </li>
                            
                            <li class="side__nav-list-item--sub-level-1 side__nav-list--sub-level-1--empty">
                                
                                <a class="side__nav-link" href="/imandra-docs/notebooks/extracting-ocaml-modules-with-imandra-extract">Extracting OCaml modules</a>
                                
                                <ul class="side__nav-list--sub-level-2 ">
                                    
                                </ul>
                                
                            </li>
                            
                            <li class="side__nav-list-item--sub-level-1 side__nav-list--sub-level-1--empty">
                                
                                <a class="side__nav-link" href="/imandra-docs/notebooks/plugins">Code generation and plugins</a>
                                
                                <ul class="side__nav-list--sub-level-2 ">
                                    
                                </ul>
                                
                            </li>
                            
                            <li class="side__nav-list-item--sub-level-1 side__nav-list--sub-level-1--empty">
                                
                                <a class="side__nav-link" href="/imandra-docs/notebooks/reflection">Reflection of terms</a>
                                
                                <ul class="side__nav-list--sub-level-2 ">
                                    
                                </ul>
                                
                            </li>
                            
                            <li class="side__nav-list-item--sub-level-1 ">
                                
                                <a class="side__nav-link" href="/imandra-docs/notebooks/examples">Examples</a>
                                
                                <ul class="side__nav-list--sub-level-2 ">
                                    
                                    <li class="side__nav-list-item--sub-level-2 side__nav-list--sub-level-2--empty">
                                        
                                        <a class="side__nav-link" href="/imandra-docs/notebooks/webservice-auth-logic">Analysing Web-app authentication logic</a>
                                        
                                        
                                        
                                    </li>
                                    
                                    <li class="side__nav-list-item--sub-level-2 side__nav-list--sub-level-2--empty">
                                        
                                        <a class="side__nav-link" href="/imandra-docs/notebooks/simple-vehicle-controller">Simple vehicle controller</a>
                                        
                                        
                                        
                                    </li>
                                    
                                    <li class="side__nav-list-item--sub-level-2 side__nav-list--sub-level-2--empty">
                                        
                                        <a class="side__nav-link" href="/imandra-docs/notebooks/simple-stoplight-model">Simple car intersection model</a>
                                        
                                        
                                        
                                    </li>
                                    
                                    <li class="side__nav-list-item--sub-level-2 side__nav-list--sub-level-2--empty">
                                        
                                        <a class="side__nav-link" href="/imandra-docs/notebooks/reasonml-tic-tac-toe">Tic Tac Toe with ReasonML</a>
                                        
                                        
                                        
                                    </li>
                                    
                                    <li class="side__nav-list-item--sub-level-2 side__nav-list--sub-level-2--empty">
                                        
                                        <a class="side__nav-link" href="/imandra-docs/notebooks/reasonml-facetime-state-machines">Exploring The Apple FaceTime Bug with ReasonML State Machines</a>
                                        
                                        
                                        
                                    </li>
                                    
                                    <li class="side__nav-list-item--sub-level-2 side__nav-list--sub-level-2--empty">
                                        
                                        <a class="side__nav-link" href="/imandra-docs/notebooks/crossing-river-safely">Crossing the river safely</a>
                                        
                                        
                                        
                                    </li>
                                    
                                    <li class="side__nav-list-item--sub-level-2 side__nav-list--sub-level-2--empty">
                                        
                                        <a class="side__nav-link" href="/imandra-docs/notebooks/ubs-case-study">Analysing the UBS ATS Dark Pool</a>
                                        
                                        
                                        
                                    </li>
                                    
                                    <li class="side__nav-list-item--sub-level-2 side__nav-list--sub-level-2--empty">
                                        
                                        <a class="side__nav-link" href="/imandra-docs/notebooks/six-swiss-exchange-pricing">Region Decomposition - Exchange Pricing</a>
                                        
                                        
                                        
                                    </li>
                                    
                                    <li class="side__nav-list-item--sub-level-2 side__nav-list--sub-level-2--empty">
                                        
                                        <a class="side__nav-link" href="/imandra-docs/notebooks/verifying-an-ros-node">Creating and Verifying a ROS Node</a>
                                        
                                        
                                        
                                    </li>
                                    
                                    <li class="side__nav-list-item--sub-level-2 side__nav-list--sub-level-2--empty">
                                        
                                        <a class="side__nav-link" href="/imandra-docs/notebooks/key-pair-security">Key Pair Security in Imandra</a>
                                        
                                        
                                        
                                    </li>
                                    
                                    <li class="side__nav-list-item--sub-level-2 side__nav-list--sub-level-2--empty">
                                        
                                        <a class="side__nav-link" href="/imandra-docs/notebooks/sudoku">Solving Sudoku with Imandra</a>
                                        
                                        
                                        
                                    </li>
                                    
                                    <li class="side__nav-list-item--sub-level-2 side__nav-list--sub-level-2--empty">
                                        
                                        <a class="side__nav-link" href="/imandra-docs/notebooks/solver-synthesis">Synthesising a game solver in Imandra</a>
                                        
                                        
                                        
                                    </li>
                                    
                                    <li class="side__nav-list-item--sub-level-2 side__nav-list--sub-level-2--empty">
                                        
                                        <a class="side__nav-link" href="/imandra-docs/notebooks/exchange-implied-trading">Exchange Implied Trading</a>
                                        
                                        
                                        
                                    </li>
                                    
                                    <li class="side__nav-list-item--sub-level-2 side__nav-list--sub-level-2--empty">
                                        
                                        <a class="side__nav-link" href="/imandra-docs/notebooks/school-scheduler">Solving school scheduling during COVID</a>
                                        
                                        
                                        
                                    </li>
                                    
                                    <li class="side__nav-list-item--sub-level-2 side__nav-list--sub-level-2--empty">
                                        
                                        <a class="side__nav-link" href="/imandra-docs/notebooks/recursion-induction-and-rewriting">Recursion, Induction and Rewriting</a>
                                        
                                        
                                        
                                    </li>
                                    
                                    <li class="side__nav-list-item--sub-level-2 side__nav-list--sub-level-2--empty">
                                        
                                        <a class="side__nav-link" href="/imandra-docs/notebooks/verifying-merge-sort">Verifying merge sort in Imandra</a>
                                        
                                        
                                        
                                    </li>
                                    
                                    <li class="side__nav-list-item--sub-level-2 side__nav-list--sub-level-2--empty">
                                        
                                        <a class="side__nav-link" href="/imandra-docs/notebooks/ripple-carry-adder">Verifying a Ripple Carry Adder</a>
                                        
                                        
                                        
                                    </li>
                                    
                                    <li class="side__nav-list-item--sub-level-2 side__nav-list--sub-level-2--empty">
                                        
                                        <a class="side__nav-link" href="/imandra-docs/">Region Probabilities</a>
                                        
                                        
                                        
                                    </li>
                                    
                                    <li class="side__nav-list-item--sub-level-2 side__nav-list--sub-level-2--empty">
                                        
                                        <a class="side__nav-link" href="/imandra-docs/notebooks/supervised-learning">Analysing Machine Learning Models</a>
                                        
                                        
                                        
                                    </li>
                                    
                                    <li class="side__nav-list-item--sub-level-2 side__nav-list--sub-level-2--empty">
                                        
                                        <a class="side__nav-link" href="/imandra-docs/notebooks/probabilistic-reasoning-in-reasonml">Probabilistic Reasoning in ReasonML</a>
                                        
                                        
                                        
                                    </li>
                                    
                                    <li class="side__nav-list-item--sub-level-2 side__nav-list--sub-level-2--empty">
                                        
                                        <a class="side__nav-link" href="/imandra-docs/notebooks/a-comparison-with-tla-plus">A comparison with TLA+</a>
                                        
                                        
                                        
                                    </li>
                                    
                                </ul>
                                
                            </li>
                            
                            <li class="side__nav-list-item--sub-level-1 ">
                                
                                <a class="side__nav-link" href="/imandra-docs/notebooks/reference">Reference</a>
                                
                                <ul class="side__nav-list--sub-level-2 ">
                                    
                                    <li class="side__nav-list-item--sub-level-2 side__nav-list--sub-level-2--empty">
                                        
                                        <a class="side__nav-link" href="/imandra-docs/odoc/imandra-base/Imandra_prelude/">Standard Library</a>
                                        
                                        
                                        
                                    </li>
                                    
                                    <li class="side__nav-list-item--sub-level-2 side__nav-list--sub-level-2--empty">
                                        
                                        <a class="side__nav-link" href="/imandra-docs/odoc/">API Docs</a>
                                        
                                        
                                        
                                    </li>
                                    
                                </ul>
                                
                            </li>
                            
                        </ul>
                        
                    </li>
                    
                    <li class="side__nav-list-item">
                        <a class="side__nav-link" href="/idf-py">Py IDF</a>
                        
                    </li>
                    
                    <li class="side__nav-list-item">
                        <a class="side__nav-link" href="/ipl">Imandra Protocol Language</a>
                        
                    </li>
                    
                    <li class="side__nav-list-item">
                        <a class="side__nav-link" href="/imandra-rule-synth">Imandra Rule Synth</a>
                        
                    </li>
                    
                    <li class="side__nav-list-item">
                        <a class="side__nav-link" href="/fix-engine">FIX Engine</a>
                        
                    </li>
                    
                </ul>
            </nav>
        </div>
    </div>

    <div class="background">
    </div>



    <div class="template-header">
        <div class="top-bar">
            <div class="side__nav-search">
                <input id="search" type="search" placeholder="Search">
                <div class="side__nav-search-icon">
                    <i class="fa fa-search"></i>
                </div>
            </div>

            <nav class="top-bar__nav-container">
                <a href="#" class="top-bar__toggle">≡</a>
                <div class="top-nav-bar__group ">
                    <div class="top-nav-bar__nav nav-bar--blue top-nav-bar__nav--hidden">
                        <ul class="top-nav-bar__links top-nav-bar__links--hidden-smaller-than-tablet">
                            <li class="top-nav-bar__item">
                                <a href="https://www.imandra.ai/" class="top-nav-bar__link">Home</a>
                            </li>
                            <li class="top-nav-bar__item">
                                <a href="https://try.imandra.ai/" class="top-nav-bar__link">Try</a>
                            </li>
                            <li class="top-nav-bar__item top-nav-bar__item--group dropdown--engine">
                                <a class="top-nav-bar__link top-nav-bar__link--group">Engine</a>
                                <ul class="dropdown-content dropdown-content--engine">
                                    <li class="dropdown__item dropdown__item--with-icon">
                                        <img class="dropdown__icon" src="/imandra-docs/jekyll-resources/assets/img/icon--menu--core.svg" alt="Imandra Core" title="Imandra Core Icon">
                                        <a class="dropdown__link" href="https://www.imandra.ai/core">Imandra Core</a>
                                    </li>
                                    <li class="dropdown__item dropdown__item--with-icon">
                                        <img class="dropdown__icon" src="/imandra-docs/jekyll-resources/assets/img/icon--menu--demos.svg" alt="Demo Gallery" title="Imandra Demo Gallery Icon">
                                        <a class="dropdown__link" href="https://www.imandra.ai/demos">Demo Gallery</a>
                                    </li>
                                    <li class="dropdown__item dropdown__item--with-icon">
                                        <img class="dropdown__icon" src="/imandra-docs/jekyll-resources/assets/img/icon--menu--docs.svg" alt="Docs" title="Docs Icon">
                                        <a class="dropdown__link" href="https://docs.imandra.ai/">Docs</a>
                                    </li>
                                    <li class="dropdown__item dropdown__item--with-icon">
                                        <img class="dropdown__icon" src="/imandra-docs/jekyll-resources/assets/img/icon--menu--research.svg" alt="Research" title="Research Icon">
                                        <a class="dropdown__link dropdown__link--last" href="https://www.imandra.ai/research">Research</a>
                                    </li>
                                </ul>
                            </li>
                            <li class="top-nav-bar__item top-nav-bar__item--group dropdown--industries">
                                <a class="top-nav-bar__link top-nav-bar__link--group">Industries</a>
                                <ul class="dropdown-content dropdown-content--industries">
                                    <li class="dropdown__item dropdown__item--with-icon">
                                        <img class="dropdown__icon" src="/imandra-docs/jekyll-resources/assets/img/icon--menu--financial.svg" alt="Financial Markets" title="Financial Markets Icon">
                                        <a class="dropdown__link " href="https://www.imandra.ai/imarkets">Financial Markets</a>
                                    </li>
                                    <li class="dropdown__item dropdown__item--with-icon">
                                        <img class="dropdown__icon" src="/imandra-docs/jekyll-resources/assets/img/icon--menu--autonomy.svg" alt="Autonomous Systems" title="Autonomous Systems Icon">
                                        <a class="dropdown__link" href="https://www.imandra.ai/autonomy">Autonomous Systems</a>
                                    </li>
                                    <li class="dropdown__item dropdown__item--with-icon">
                                        <img class="dropdown__icon" src="/imandra-docs/jekyll-resources/assets/img/icon--menu--ml.svg" alt="Machine Learning" title="Machine Learning Icon">
                                        <a class="dropdown__link" href="https://www.imandra.ai/ml">Machine Learning</a>
                                    </li>
                                    <li class="dropdown__item dropdown__item--with-icon">
                                        <img class="dropdown__icon" src="/imandra-docs/jekyll-resources/assets/img/icon--menu--government.svg" alt="Machine Learning" title="Machine Learning Icon">
                                        <a class="dropdown__link dropdown__link--last" href="https://www.imandra.ai/government">Government and defense</a>
                                    </li>
                                </ul>
                            </li>
                            <li class="top-nav-bar__item top-nav-bar__item--group dropdown--media">
                                <a class="top-nav-bar__link top-nav-bar__link--group">Media</a>
                                <ul class="dropdown-content dropdown-content--media">
                                    <li class="dropdown__item dropdown__item--with-icon">
                                        <img class="dropdown__icon" src="/imandra-docs/jekyll-resources/assets/img/icon--menu--media.svg" alt="Media" title="Media Icon">
                                        <a class="dropdown__link " href="https://www.imandra.ai/media">Media</a></li>
                                    <li class="dropdown__item dropdown__item--with-icon">
                                        <img class="dropdown__icon" src="/imandra-docs/jekyll-resources/assets/img/icon--menu--blog.svg" alt="Blog" title="Blog Icon">
                                        <a class="dropdown__link dropdown__link--last " href="https://medium.com/imandra">Blog</a>
                                    </li>
                                </ul>
                            </li>
                            <li class="top-nav-bar__item top-nav-bar__item--group dropdown--company">
                                <a class="top-nav-bar__link top-nav-bar__link--group">Company</a>
                                <ul class="dropdown-content dropdown-content--company">
                                    <li class="dropdown__item dropdown__item--with-icon">
                                        <img class="dropdown__icon" src="/imandra-docs/jekyll-resources/assets/img/icon--menu--about.svg" alt="About" title="About Icon">
                                        <a class="dropdown__link" href="https://www.imandra.ai/about">About</a></li>
                                    <li class="dropdown__item dropdown__item--with-icon">
                                        <img class="dropdown__icon" src="/imandra-docs/jekyll-resources/assets/img/icon--menu--careers.svg" alt=" Careers" title="Careers Icon">
                                        <a class="dropdown__link dropdown__link--last dropdown__link--bottom" href="https://www.imandra.ai/careers">Careers</a></li>
                                </ul>
                            </li>
                        </ul>
                    </div>
                </div>
            </nav>
        </div>

        <div class="template-header__image-container template-header__image-container--jupyter">
            <div class="template-header__image" href ="/imandra-docs">
                <img class="site-specific-image" src="/imandra-docs/static/img/site_specific_image_v_2.svg">
            </div>
        </div>

    </div>



    <script>
        document.getElementById('toggler--left').addEventListener('click', function () {
            document.querySelector('.side__right-menu-toggler .side__toggle').classList.remove(
                'side__toggle--active');
            document.querySelector('.side__left-menu-toggler .side__toggle').classList.toggle(
                'side__toggle--active');
            document.getElementsByClassName('side__nav-container')[0].classList.toggle(
                'side__nav-container--hidden');
            document.getElementsByClassName('top-nav-bar__nav')[0].classList.add('top-nav-bar__nav--hidden');
        });

        document.getElementById('toggler--right').addEventListener('click', function () {
            document.querySelector('.side__left-menu-toggler .side__toggle').classList.remove(
                'side__toggle--active');
            document.querySelector('.side__right-menu-toggler .side__toggle').classList.toggle(
                'side__toggle--active');

            document.getElementsByClassName('side__nav-container')[0].classList.add(
                'side__nav-container--hidden');
            document.getElementsByClassName('top-nav-bar__nav')[0].classList.toggle(
                'top-nav-bar__nav--hidden');
        });
    </script>
</header>
                <article class="article__container article__container--notebooks">
                    <div class="main-content main-content--jupyter">
                        
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h1 id="Induction">Induction<a class="anchor-link" href="#Induction">&#182;</a></h1><p>While techniques such as unrolling and simplification can get us a long way
towards formally verifying our software, variants of mathematical
<a href="https://en.wikipedia.org/wiki/Noetherian_induction">induction</a> are in general
required for verifying properties of systems with infinite state-spaces.</p>
<p>Induction is a proof technique that can be used to prove that some property
<code>φ(x)</code> holds <em>for all</em> the elements <code>x</code> of a recursively defined structure (e.g.
natural numbers, lists, trees, execution traces, etc). The proof consists of:</p>
<ul>
<li>a proof that <code>φ(base)</code> is true for each <em>base case</em></li>
<li>a proof that if <code>φ(c)</code> is true (called the <em>inductive hypothesis</em>), then
<code>φ(step(c))</code> is also true, for all the recursive steps of the property we're
trying to prove</li>
</ul>
<p>Induction can be done in many ways, and finding the "right" way to induct is
often the key to difficult problems. Imandra has deep automation for finding and
applying the "right" induction for a problem. If this fails, the user can
instruct Imandra how to induct, with various forms of instructions.</p>
<p>A method of induction is given by an <em>induction scheme</em>.</p>
<p>Induction schemes can automatically be derived by Imandra in many ways. By
default, with <code>[@@auto]</code> or <code>[@@induct]</code>, Imandra analyses the recursive
functions involved in the conjecture and constructs a <em>functional induction
scheme</em> derived from their recursive structure, in a manner that is justified by
the <em>ordinal measures</em> used to prove their termination. Imandra also supports
<em>structural induction</em> principles derived from the definitions of (well-founded)
algebraic datatypes such as lists and trees.</p>
<p>Some example induction schemes are:</p>
<ul>
<li>for the natural numbers, <code>φ(Zero) &amp;&amp; φ(n) ==&gt; φ(Succ(n))</code></li>
<li>for lists, <code>φ([]) &amp;&amp; (lst &lt;&gt; [] &amp;&amp; φ(List.tl(lst)) ==&gt; φ (lst))</code></li>
<li>for the function <code>repeat</code> as defined below, <code>n &lt;= 0 ==&gt; φ(n, c) &amp;&amp; (n &gt; 0 &amp;&amp; φ(n - 1, c)) ==&gt; φ(n, c)</code></li>
</ul>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="try-this-container">
  <a href="https://try.imandra.ai/launch/?next=/h/user-redirect/notebooks/Verification%20-%20Induction.ipynb%23try-cell-2" target="_blank" rel="nofollow">
    <div class="try-this">Try this!</div>
  </a>
</div>
<div class="input">
<div class="prompt input_prompt">In&nbsp;[1]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ocaml"><pre><span></span><span class="k">let</span> <span class="k">rec</span> <span class="n">repeat</span> <span class="n">c</span> <span class="n">n</span> <span class="o">=</span>
  <span class="k">if</span> <span class="n">n</span> <span class="o">&lt;=</span> <span class="mi">0</span> <span class="k">then</span>
    <span class="bp">[]</span>
  <span class="k">else</span>
    <span class="n">c</span> <span class="o">::</span> <span class="o">(</span><span class="n">repeat</span> <span class="n">c</span> <span class="o">(</span><span class="n">n</span><span class="o">-</span><span class="mi">1</span><span class="o">))</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt output_prompt">Out[1]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>val repeat : &#39;a -&gt; int -&gt; &#39;a list = &lt;fun&gt;
</pre>
</div>

</div>

<div class="output_area">

<div class="prompt"></div>



<div class="output_html rendered_html output_subarea ">
<div><div class="imandra-fold panel panel-default" id="fold-9dbc0ba7-c6d2-449c-9322-74f46d4edb39"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>termination proof</span></div></div><div class="panel-body collapse"><div><h3>Termination proof</h3><p></p><div class="imandra-fold panel panel-default" id="fold-bb8199d1-d4aa-4339-b0ae-d3e68c161a1f"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>call `repeat c (n - 1)` from `repeat c n`</span></div></div><div class="panel-body collapse"><div class="imandra-table" id="table-cd7b8d3f-6b27-4655-b8f0-d7f11f25cb5f"><table><tr><td><b>original</b></td><td>repeat c n</td></tr><tr><td><b>sub</b></td><td>repeat c (n - 1)</td></tr><tr><td><b>original ordinal</b></td><td>Ordinal.Int (if n &gt;= 0 then n else 0)</td></tr><tr><td><b>sub ordinal</b></td><td>let (_x_0 : int) = n - 1 in Ordinal.Int (if _x_0 &gt;= 0 then _x_0 else 0)</td></tr><tr><td><b>path</b></td><td>[not (n &lt;= 0)]</td></tr><tr><td><b>proof</b></td><td><div class="imandra-fold panel panel-default" id="fold-1c2f7084-8381-4740-8853-d4e4e1d46775"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>detailed proof</span></div></div><div class="panel-body collapse"><div class="imandra-proof"><div class="imandra-alternatives" id="alt-08f41f78-ed5c-4b26-82ae-3d3bd3434d58"><ul class="nav nav-tabs"><li class="active" data-toggle="tab"><a>summary</a></li><li class="" data-toggle="tab"><a>full</a></li></ul><div class="tab-content"><div class="tab-pane active"><div class="imandra-table" id="table-934d6cd6-ca40-4fd7-beac-e980a6368a3c"><table><tr><td><b>ground_instances</b></td><td>1</td></tr><tr><td><b>definitions</b></td><td>0</td></tr><tr><td><b>inductions</b></td><td>0</td></tr><tr><td><b>search_time</b></td><td><pre>0.019s</pre></td></tr><tr><td><b>details</b></td><td><div class="imandra-fold panel panel-default" id="fold-33eeb7fa-2841-48f5-bfb1-70eb7b7682b0"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>Expand</span></div></div><div class="panel-body collapse"><div class="imandra-table" id="table-82a454c0-cd63-450e-a1b2-d60826e4a5d3"><table><tr><td><b>smt_stats</b></td><td><div class="imandra-table" id="table-7a1ae143-5d57-4a11-85bb-d91c6e1536bf"><table><tr><td><b>num checks</b></td><td>3</td></tr><tr><td><b>arith-make-feasible</b></td><td>5</td></tr><tr><td><b>arith-max-columns</b></td><td>11</td></tr><tr><td><b>arith-conflicts</b></td><td>1</td></tr><tr><td><b>rlimit count</b></td><td>1155</td></tr><tr><td><b>mk clause</b></td><td>5</td></tr><tr><td><b>datatype occurs check</b></td><td>2</td></tr><tr><td><b>mk bool var</b></td><td>18</td></tr><tr><td><b>arith-lower</b></td><td>3</td></tr><tr><td><b>decisions</b></td><td>2</td></tr><tr><td><b>arith-propagations</b></td><td>3</td></tr><tr><td><b>propagations</b></td><td>2</td></tr><tr><td><b>arith-bound-propagations-cheap</b></td><td>3</td></tr><tr><td><b>arith-max-rows</b></td><td>4</td></tr><tr><td><b>conflicts</b></td><td>2</td></tr><tr><td><b>datatype accessor ax</b></td><td>2</td></tr><tr><td><b>num allocs</b></td><td>884483573</td></tr><tr><td><b>final checks</b></td><td>1</td></tr><tr><td><b>added eqs</b></td><td>6</td></tr><tr><td><b>del clause</b></td><td>5</td></tr><tr><td><b>arith eq adapter</b></td><td>2</td></tr><tr><td><b>arith-upper</b></td><td>6</td></tr><tr><td><b>memory</b></td><td>19.280000</td></tr><tr><td><b>max memory</b></td><td>27.270000</td></tr></table></div></td></tr></table></div></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-33eeb7fa-2841-48f5-bfb1-70eb7b7682b0';
  fold.hydrate(target);
});
</script></div></td></tr></table></div></div><div class="tab-pane"><div class="imandra-fold panel panel-default" id="fold-2a5d1c8b-f7af-414e-8e6a-ffd2fa569baf"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>Expand</span></div></div><div class="panel-body collapse"><ul><li><pre>start[0.019s]
  let (_x_0 : int) = if n &gt;= 0 then n else 0 in
  let (_x_1 : int) = n - 1 in
  let (_x_2 : int) = if _x_1 &gt;= 0 then _x_1 else 0 in
  not (n &lt;= 0) &amp;&amp; _x_0 &gt;= 0 &amp;&amp; _x_2 &gt;= 0
  ==&gt; _x_1 &lt;= 0 || Ordinal.( &lt;&lt; ) (Ordinal.Int _x_2) (Ordinal.Int _x_0)</pre></li><li><div><h5>simplify</h5><div class="imandra-table" id="table-99b35e4a-7494-45d2-a507-f27fb858237c"><table><tr><td><b>into</b></td><td><pre>(n &lt;= 0 || n &lt;= 1)
|| Ordinal.( &lt;&lt; ) (Ordinal.Int (if n &gt;= 1 then -1 + n else 0))
   (Ordinal.Int (if n &gt;= 0 then n else 0))</pre></td></tr><tr><td><b>expansions</b></td><td><pre>[]</pre></td></tr><tr><td><b>rewrite_steps</b></td><td><ul></ul></td></tr><tr><td><b>forward_chaining</b></td><td><ul></ul></td></tr></table></div></div></li><li><div>unroll<div class="imandra-table" id="table-5419acad-8588-4cb5-bd11-be35edbbc0fb"><table><tr><td><b>expr</b></td><td><pre>(|Ordinal.&lt;&lt;_102| (|Ordinal.Int_93| (ite (&gt;= n_2450 1) (+ (- 1) n_2450) 0))
                  (|Ordi…</pre></td></tr><tr><td><b>expansions</b></td><td><ul></ul></td></tr></table></div></div></li><li>Unsat</li></ul></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-2a5d1c8b-f7af-414e-8e6a-ffd2fa569baf';
  fold.hydrate(target);
});
</script></div></div></div><script>
require(['nbextensions/nbimandra/alternatives'], function (alternatives) {
  var target = '#alt-08f41f78-ed5c-4b26-82ae-3d3bd3434d58';
  alternatives.hydrate(target);
});
</script></div></div></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-1c2f7084-8381-4740-8853-d4e4e1d46775';
  fold.hydrate(target);
});
</script></div></td></tr></table></div></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-bb8199d1-d4aa-4339-b0ae-d3e68c161a1f';
  fold.hydrate(target);
});
</script></div><p></p></div></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-9dbc0ba7-c6d2-449c-9322-74f46d4edb39';
  fold.hydrate(target);
});
</script></div></div>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>In Imandra, induction schemes are "destructor style." So, an actual scheme
Imandra would produce for a goal involving <code>n : nat</code> (where <code>type nat = Zero | Succ of nat</code>)
is:</p>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<pre><code> (n = Zero ==&gt; φ n)
 &amp;&amp; (not (n = Zero) &amp;&amp; φ (Destruct(Succ, 0, n)) ==&gt; φ n).</code></pre>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>Let us see a few example inductions.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="try-this-container">
  <a href="https://try.imandra.ai/launch/?next=/h/user-redirect/notebooks/Verification%20-%20Induction.ipynb%23try-cell-6" target="_blank" rel="nofollow">
    <div class="try-this">Try this!</div>
  </a>
</div>
<div class="input">
<div class="prompt input_prompt">In&nbsp;[2]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ocaml"><pre><span></span><span class="n">lemma</span> <span class="n">assoc_append</span> <span class="n">x</span> <span class="n">y</span> <span class="n">z</span> <span class="o">=</span>
 <span class="n">x</span> <span class="o">@</span> <span class="o">(</span><span class="n">y</span> <span class="o">@</span> <span class="n">z</span><span class="o">)</span> <span class="o">=</span> <span class="o">(</span><span class="n">x</span> <span class="o">@</span> <span class="n">y</span><span class="o">)</span> <span class="o">@</span> <span class="n">z</span> <span class="o">[@@</span><span class="n">auto</span><span class="o">]</span> <span class="o">[@@</span><span class="n">rw</span><span class="o">]</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt output_prompt">Out[2]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>val assoc_append : &#39;a list -&gt; &#39;a list -&gt; &#39;a list -&gt; bool = &lt;fun&gt;
<span class="ansi-white-intense-fg ansi-bold">Goal</span>:

x @ y @ z = (x @ y) @ z.

1 nontautological subgoal.

<span class="ansi-white-intense-fg ansi-bold">Subgoal 1</span>:

|---------------------------------------------------------------------------
 List.append x (List.append y z) = List.append (List.append x y) z


Must try induction.

The recursive terms in the conjecture suggest 3 inductions.
Subsumption and merging reduces this to 2.

Only 1 of those schemes are unflawed.
We shall induct according to a scheme derived from <span class="ansi-blue-intense-fg ansi-bold">List.append</span>.

<span class="ansi-cyan-intense-fg ansi-bold">Induction scheme</span>:

 (x = [] ==&gt; φ x y z) &amp;&amp; (not (x = []) &amp;&amp; φ (List.tl x) y z ==&gt; φ x y z).

2 nontautological subgoals.

<span class="ansi-white-intense-fg ansi-bold">Subgoal 1.2</span>:

 H0. x = []
|---------------------------------------------------------------------------
 List.append x (List.append y z) = List.append (List.append x y) z

But simplification reduces this to true, using the definition of <span class="ansi-blue-intense-fg ansi-bold">List.append</span>.

<span class="ansi-white-intense-fg ansi-bold">Subgoal 1.1</span>:

 H0. not (x = [])
 H1. List.append (List.tl x) (List.append y z) =
     List.append (List.append (List.tl x) y) z
|---------------------------------------------------------------------------
 List.append x (List.append y z) = List.append (List.append x y) z

But simplification reduces this to true, using the definition of <span class="ansi-blue-intense-fg ansi-bold">List.append</span>.

<span class="ansi-cyan-intense-fg ansi-bold"> ⓘ </span> Rules:
    (:def List.append)
    (:induct List.append)

</pre>
</div>

</div>

<div class="output_area">

<div class="prompt"></div>



<div class="output_html rendered_html output_subarea ">
<div><div style="font-size: 1.2em; padding: 0.5em; border-top: 1px solid green; border-bottom: 1px solid green"><i class="fa fa-check-circle" style="margin-right: 0.5em; color: green"></i><span>Proved</span></div><div><div class="imandra-proof-top"><div class="imandra-fold panel panel-default" id="fold-fcbc1de2-4c37-4fb4-af8c-16cf736b4ee9"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>proof</span></div></div><div class="panel-body collapse"><div class="imandra-proof"><div class="imandra-alternatives" id="alt-f41f2113-1f32-4987-8723-3becf862c4ba"><ul class="nav nav-tabs"><li class="active" data-toggle="tab"><a>summary</a></li><li class="" data-toggle="tab"><a>full</a></li><li class="" data-toggle="tab"><a>graph</a></li></ul><div class="tab-content"><div class="tab-pane active"><div class="imandra-table" id="table-337996d6-df65-4681-83e8-8f4703dd72c8"><table><tr><td><b>ground_instances</b></td><td>0</td></tr><tr><td><b>definitions</b></td><td>5</td></tr><tr><td><b>inductions</b></td><td>1</td></tr><tr><td><b>search_time</b></td><td><pre>0.155s</pre></td></tr></table></div></div><div class="tab-pane"><div class="imandra-fold panel panel-default" id="fold-91892276-2319-4b2a-b8ee-5d6213c1a37f"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>Expand</span></div></div><div class="panel-body collapse"><ul><li><pre>start[0.155s, &quot;Goal&quot;]
  List.append :var_0: (List.append :var_1: :var_2:) =
  List.append (List.append :var_0: :var_1:) :var_2:</pre></li><li><div><h4>subproof</h4><div class="imandra-fold panel panel-default" id="fold-355daef7-8307-4ac9-9024-41e213a6fad7"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>List.append x (List.append y z) = List.append (List.append x y) z</span></div></div><div class="panel-body collapse"><ul><li><pre>start[0.155s, &quot;1&quot;]
  List.append x (List.append y z) = List.append (List.append x y) z</pre></li><li><pre>induction on (functional )
:scheme (x = [] ==&gt; φ x y z)
        &amp;&amp; (not (x = []) &amp;&amp; φ (List.tl x) y z ==&gt; φ x y z)</pre></li><li><div><pre>Split (let (_x_0 : bool) = not (x = []) in
       let (_x_1 : sko_ty_0 list) = List.append y z in
       let (_x_2 : bool)
           = List.append x _x_1 = List.append (List.append x y) z
       in
       let (_x_3 : sko_ty_0 list) = List.tl x in
       (_x_0 || _x_2)
       &amp;&amp; (not
           (_x_0
            &amp;&amp; List.append _x_3 _x_1 = List.append (List.append _x_3 y) z)
           || _x_2)
       :cases [not (x = [])
               || List.append x (List.append y z) =
                  List.append (List.append x y) z;
               let (_x_0 : sko_ty_0 list) = List.tl x in
               let (_x_1 : sko_ty_0 list) = List.append y z in
               (x = []
                || not
                   (List.append _x_0 _x_1 =
                    List.append (List.append _x_0 y) z))
               || List.append x _x_1 = List.append (List.append x y) z])</pre><ul><li><div><h5>subproof</h5><div class="imandra-fold panel panel-default" id="fold-2a28cb86-0bae-4c23-82b2-5b8fbf58f833"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>let (_x_0 : sko_ty_0 list) = List.tl x in
let (_x_1 : sko_ty_0 list) = List.append y z in
(x = [] || not (List.append _x_0 _x_1 = List.append (List.append _x_0 y) z))
|| List.append x _x_1 = List.append (List.append x y) z</span></div></div><div class="panel-body collapse"><ul><li><pre>start[0.089s, &quot;1.1&quot;]
  let (_x_0 : sko_ty_0 list) = List.tl x in
  let (_x_1 : sko_ty_0 list) = List.append y z in
  (x = [] || not (List.append _x_0 _x_1 = List.append (List.append _x_0 y) z))
  || List.append x _x_1 = List.append (List.append x y) z</pre></li><li><div><h6>simplify</h6><div class="imandra-table" id="table-45fcb85d-c8ec-4895-89bf-e2d55111775c"><table><tr><td><b>into</b></td><td><pre>true</pre></td></tr><tr><td><b>expansions</b></td><td><pre>[List.append, List.append, List.append]</pre></td></tr><tr><td><b>rewrite_steps</b></td><td><ul></ul></td></tr><tr><td><b>forward_chaining</b></td><td><ul></ul></td></tr></table></div></div></li></ul></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-2a28cb86-0bae-4c23-82b2-5b8fbf58f833';
  fold.hydrate(target);
});
</script></div></div></li><li><div><h5>subproof</h5><div class="imandra-fold panel panel-default" id="fold-21c857cb-9dbb-41ac-9997-bb02d9ea2ae4"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>not (x = [])
|| List.append x (List.append y z) = List.append (List.append x y) z</span></div></div><div class="panel-body collapse"><ul><li><pre>start[0.089s, &quot;1.2&quot;]
  not (x = [])
  || List.append x (List.append y z) = List.append (List.append x y) z</pre></li><li><div><h6>simplify</h6><div class="imandra-table" id="table-1a876995-5536-4c0c-ab06-6b576cf8656c"><table><tr><td><b>into</b></td><td><pre>true</pre></td></tr><tr><td><b>expansions</b></td><td><pre>[List.append, List.append]</pre></td></tr><tr><td><b>rewrite_steps</b></td><td><ul></ul></td></tr><tr><td><b>forward_chaining</b></td><td><ul></ul></td></tr></table></div></div></li></ul></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-21c857cb-9dbb-41ac-9997-bb02d9ea2ae4';
  fold.hydrate(target);
});
</script></div></div></li></ul></div></li></ul></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-355daef7-8307-4ac9-9024-41e213a6fad7';
  fold.hydrate(target);
});
</script></div></div></li></ul></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-91892276-2319-4b2a-b8ee-5d6213c1a37f';
  fold.hydrate(target);
});
</script></div></div><div class="tab-pane"><div class="imandra-graphviz" id="graphviz-ff5e4836-0026-4137-9d64-7bd46d31b7bf"><textarea style="display: none">digraph &quot;proof&quot; {
p_268 [label=&quot;Start (List.append :var_0: (List.append :var_1: :var_2:) =\l       List.append (List.append :var_0: :var_1:) :var_2: :name \&quot;Goal\&quot;\l       :time 0.155s)&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_268 -&gt; p_266 [label=&quot;&quot;];
subgraph cluster_267 {
  color=blue;
p_266 [label=&quot;Start (List.append x (List.append y z) = List.append (List.append x y) z\l       :name \&quot;1\&quot; :time 0.155s)&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_266 -&gt; p_265 [label=&quot;&quot;];
p_265 [label=&quot;Induct ((functional ),\l        :scheme (x = [] ==\&gt; φ x y z)\l                &amp;&amp; (not (x = []) &amp;&amp; φ (List.tl x) y z ==\&gt; φ x y z))&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_265 -&gt; p_264 [label=&quot;&quot;];
p_264 [label=&quot;Split (let (_x_0 : bool) = not (x = []) in\l       let (_x_1 : sko_ty_0 list) = List.append y z in\l       let (_x_2 : bool)\l           = List.append x _x_1 = List.append (List.append x y) z\l       in\l       let (_x_3 : sko_ty_0 list) = List.tl x in\l       (_x_0 \|\| _x_2)\l       &amp;&amp; (not\l           (_x_0\l            &amp;&amp; List.append _x_3 _x_1 = List.append (List.append _x_3 y) z)\l           \|\| _x_2)\l       :cases [not (x = [])\l               \|\| List.append x (List.append y z) =\l                  List.append (List.append x y) z;\l               let (_x_0 : sko_ty_0 list) = List.tl x in\l               let (_x_1 : sko_ty_0 list) = List.append y z in\l               (x = []\l                \|\| not\l                   (List.append _x_0 _x_1 =\l                    List.append (List.append _x_0 y) z))\l               \|\| List.append x _x_1 = List.append (List.append x y) z])&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_264 -&gt; p_259 [label=&quot;&quot;];
subgraph cluster_260 {
  color=blue;
p_259 [label=&quot;Start (let (_x_0 : sko_ty_0 list) = List.tl x in\l       let (_x_1 : sko_ty_0 list) = List.append y z in\l       (x = []\l        \|\| not (List.append _x_0 _x_1 = List.append (List.append _x_0 y) z))\l       \|\| List.append x _x_1 = List.append (List.append x y) z :name \&quot;1.1\&quot;\l       :time 0.089s)&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_259 -&gt; p_258 [label=&quot;&quot;];
p_258 [label=&quot;Simplify (true :expansions [List.append; List.append; List.append] :rw []\l          :fc [])&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
}
p_264 -&gt; p_262 [label=&quot;&quot;];
subgraph cluster_263 {
  color=blue;
p_262 [label=&quot;Start (not (x = [])\l       \|\| List.append x (List.append y z) = List.append (List.append x y) z\l       :name \&quot;1.2\&quot; :time 0.089s)&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_262 -&gt; p_261 [label=&quot;&quot;];
p_261 [label=&quot;Simplify (true :expansions [List.append; List.append] :rw [] :fc [])&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
}
}
}
</textarea><button class="btn btn-primary">Load graph</button><div class="imandra-graphviz-loading display-none">Loading..</div><div class="imandra-graphviz-target"></div><script>
require(['nbextensions/nbimandra/graphviz'], function (graphviz) {
  var target = '#graphviz-ff5e4836-0026-4137-9d64-7bd46d31b7bf';
  graphviz.hydrate(target);
});
</script></div></div></div><script>
require(['nbextensions/nbimandra/alternatives'], function (alternatives) {
  var target = '#alt-f41f2113-1f32-4987-8723-3becf862c4ba';
  alternatives.hydrate(target);
});
</script></div></div></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-fcbc1de2-4c37-4fb4-af8c-16cf736b4ee9';
  fold.hydrate(target);
});
</script></div></div></div></div>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="try-this-container">
  <a href="https://try.imandra.ai/launch/?next=/h/user-redirect/notebooks/Verification%20-%20Induction.ipynb%23try-cell-7" target="_blank" rel="nofollow">
    <div class="try-this">Try this!</div>
  </a>
</div>
<div class="input">
<div class="prompt input_prompt">In&nbsp;[3]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ocaml"><pre><span></span><span class="n">lemma</span> <span class="n">rev_append</span> <span class="n">x</span> <span class="n">y</span> <span class="o">=</span>
 <span class="nn">List</span><span class="p">.</span><span class="n">rev</span> <span class="o">(</span><span class="n">x</span> <span class="o">@</span> <span class="n">y</span><span class="o">)</span> <span class="o">=</span> <span class="nn">List</span><span class="p">.</span><span class="n">rev</span> <span class="n">y</span> <span class="o">@</span> <span class="nn">List</span><span class="p">.</span><span class="n">rev</span> <span class="n">x</span>
 <span class="o">[@@</span><span class="n">auto</span><span class="o">]</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt output_prompt">Out[3]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>val rev_append : &#39;a list -&gt; &#39;a list -&gt; bool = &lt;fun&gt;
<span class="ansi-white-intense-fg ansi-bold">Goal</span>:

List.rev (x @ y) = List.rev y @ List.rev x.

1 nontautological subgoal.

<span class="ansi-white-intense-fg ansi-bold">Subgoal 1</span>:

|---------------------------------------------------------------------------
 List.rev (List.append x y) = List.append (List.rev y) (List.rev x)


Must try induction.

The recursive terms in the conjecture suggest 3 inductions.
Subsumption and merging reduces this to 2.

Only 1 of those schemes are unflawed.
We shall induct according to a scheme derived from <span class="ansi-blue-intense-fg ansi-bold">List.append</span>.

<span class="ansi-cyan-intense-fg ansi-bold">Induction scheme</span>:

 (x = [] ==&gt; φ x y) &amp;&amp; (not (x = []) &amp;&amp; φ (List.tl x) y ==&gt; φ x y).

2 nontautological subgoals.

<span class="ansi-white-intense-fg ansi-bold">Subgoal 1.2</span>:

 H0. x = []
|---------------------------------------------------------------------------
 List.rev (List.append x y) = List.append (List.rev y) (List.rev x)

But simplification reduces this to true, using the definitions of <span class="ansi-blue-intense-fg ansi-bold">List.append
</span>and<span class="ansi-blue-intense-fg ansi-bold"> List.rev</span>, and the rewrite rule <span class="ansi-magenta-intense-fg ansi-bold">List.append_to_nil</span>.

<span class="ansi-white-intense-fg ansi-bold">Subgoal 1.1</span>:

 H0. not (x = [])
 H1. List.rev (List.append (List.tl x) y) =
     List.append (List.rev y) (List.rev (List.tl x))
|---------------------------------------------------------------------------
 List.rev (List.append x y) = List.append (List.rev y) (List.rev x)

This simplifies, using the definitions of <span class="ansi-blue-intense-fg ansi-bold">List.append </span>and<span class="ansi-blue-intense-fg ansi-bold"> List.rev</span> to:

<span class="ansi-white-intense-fg ansi-bold">Subgoal 1.1&#39;</span>:

 H0. x &lt;&gt; []
 H1. List.rev (List.append (List.tl x) y) =
     List.append (List.rev y) (List.rev (List.tl x))
|---------------------------------------------------------------------------
 List.append (List.rev (List.append (List.tl x) y)) [List.hd x] =
 List.append (List.rev y) (List.append (List.rev (List.tl x)) [List.hd x])

But simplification reduces this to true, using the rewrite rule <span class="ansi-magenta-intense-fg ansi-bold">assoc_append</span>.

<span class="ansi-cyan-intense-fg ansi-bold"> ⓘ </span> Rules:
    (:def List.append)
    (:def List.rev)
    (:rw List.append_to_nil)
    (:rw assoc_append)
    (:induct List.append)

</pre>
</div>

</div>

<div class="output_area">

<div class="prompt"></div>



<div class="output_html rendered_html output_subarea ">
<div><div style="font-size: 1.2em; padding: 0.5em; border-top: 1px solid green; border-bottom: 1px solid green"><i class="fa fa-check-circle" style="margin-right: 0.5em; color: green"></i><span>Proved</span></div><div><div class="imandra-proof-top"><div class="imandra-fold panel panel-default" id="fold-1cb79049-46ff-4855-ac2e-7c6975d078a5"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>proof</span></div></div><div class="panel-body collapse"><div class="imandra-proof"><div class="imandra-alternatives" id="alt-06c1f491-3783-46be-89b9-d982e91ec64a"><ul class="nav nav-tabs"><li class="active" data-toggle="tab"><a>summary</a></li><li class="" data-toggle="tab"><a>full</a></li><li class="" data-toggle="tab"><a>graph</a></li></ul><div class="tab-content"><div class="tab-pane active"><div class="imandra-table" id="table-42e436d1-8efc-42ca-a3e0-ab1f2eee7a17"><table><tr><td><b>ground_instances</b></td><td>0</td></tr><tr><td><b>definitions</b></td><td>6</td></tr><tr><td><b>inductions</b></td><td>1</td></tr><tr><td><b>search_time</b></td><td><pre>0.338s</pre></td></tr></table></div></div><div class="tab-pane"><div class="imandra-fold panel panel-default" id="fold-3bc25335-2b13-43ff-b4ad-28aaf2436e07"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>Expand</span></div></div><div class="panel-body collapse"><ul><li><pre>start[0.338s, &quot;Goal&quot;]
  List.rev (List.append :var_0: :var_1:) =
  List.append (List.rev :var_1:) (List.rev :var_0:)</pre></li><li><div><h4>subproof</h4><div class="imandra-fold panel panel-default" id="fold-6700d1e8-6d2a-49ce-8e0e-fe98b1c542d9"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>List.rev (List.append x y) = List.append (List.rev y) (List.rev x)</span></div></div><div class="panel-body collapse"><ul><li><pre>start[0.338s, &quot;1&quot;]
  List.rev (List.append x y) = List.append (List.rev y) (List.rev x)</pre></li><li><pre>induction on (functional )
:scheme (x = [] ==&gt; φ x y) &amp;&amp; (not (x = []) &amp;&amp; φ (List.tl x) y ==&gt; φ x y)</pre></li><li><div><pre>Split (let (_x_0 : bool) = not (x = []) in
       let (_x_1 : sko_ty_0 list) = List.rev y in
       let (_x_2 : bool)
           = List.rev (List.append x y) = List.append _x_1 (List.rev x)
       in
       let (_x_3 : sko_ty_0 list) = List.tl x in
       (_x_0 || _x_2)
       &amp;&amp; (not
           (_x_0
            &amp;&amp; List.rev (List.append _x_3 y) =
               List.append _x_1 (List.rev _x_3))
           || _x_2)
       :cases [not (x = [])
               || List.rev (List.append x y) =
                  List.append (List.rev y) (List.rev x);
               let (_x_0 : sko_ty_0 list) = List.tl x in
               let (_x_1 : sko_ty_0 list) = List.rev y in
               (x = []
                || not
                   (List.rev (List.append _x_0 y) =
                    List.append _x_1 (List.rev _x_0)))
               || List.rev (List.append x y) = List.append _x_1 (List.rev x)])</pre><ul><li><div><h5>subproof</h5><div class="imandra-fold panel panel-default" id="fold-020cb496-e84b-4e6d-af06-8bf21dca0433"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>let (_x_0 : sko_ty_0 list) = List.tl x in
let (_x_1 : sko_ty_0 list) = List.rev y in
(x = []
 || not (List.rev (List.append _x_0 y) = List.append _x_1 (List.rev _x_0)))
|| List.rev (List.append x y) = List.append _x_1 (List.rev x)</span></div></div><div class="panel-body collapse"><ul><li><pre>start[0.238s, &quot;1.1&quot;]
  let (_x_0 : sko_ty_0 list) = List.tl x in
  let (_x_1 : sko_ty_0 list) = List.rev y in
  (x = []
   || not (List.rev (List.append _x_0 y) = List.append _x_1 (List.rev _x_0)))
  || List.rev (List.append x y) = List.append _x_1 (List.rev x)</pre></li><li><div><h6>simplify</h6><div class="imandra-table" id="table-b5c380b2-5663-4617-a84f-8e4c1af824ff"><table><tr><td><b>into</b></td><td><pre>let (_x_0 : sko_ty_0 list) = List.tl x in
let (_x_1 : sko_ty_0 list) = List.rev (List.append _x_0 y) in
let (_x_2 : sko_ty_0 list) = [List.hd x] in
let (_x_3 : sko_ty_0 list) = List.rev y in
let (_x_4 : sko_ty_0 list) = List.rev _x_0 in
(List.append _x_1 _x_2 = List.append _x_3 (List.append _x_4 _x_2) || x = [])
|| not (_x_1 = List.append _x_3 _x_4)</pre></td></tr><tr><td><b>expansions</b></td><td><pre>[List.rev, List.rev, List.append]</pre></td></tr><tr><td><b>rewrite_steps</b></td><td><ul></ul></td></tr><tr><td><b>forward_chaining</b></td><td><ul></ul></td></tr></table></div></div></li><li><div><h6>simplify</h6><div class="imandra-table" id="table-c81dc74a-0081-4765-819b-02aa61caa5b0"><table><tr><td><b>into</b></td><td><pre>true</pre></td></tr><tr><td><b>expansions</b></td><td><pre>[]</pre></td></tr><tr><td><b>rewrite_steps</b></td><td><pre>assoc_append</pre></td></tr><tr><td><b>forward_chaining</b></td><td><ul></ul></td></tr></table></div></div></li></ul></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-020cb496-e84b-4e6d-af06-8bf21dca0433';
  fold.hydrate(target);
});
</script></div></div></li><li><div><h5>subproof</h5><div class="imandra-fold panel panel-default" id="fold-297b8d24-8cf4-4a2a-b815-48b87b4491cf"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>not (x = [])
|| List.rev (List.append x y) = List.append (List.rev y) (List.rev x)</span></div></div><div class="panel-body collapse"><ul><li><pre>start[0.238s, &quot;1.2&quot;]
  not (x = [])
  || List.rev (List.append x y) = List.append (List.rev y) (List.rev x)</pre></li><li><div><h6>simplify</h6><div class="imandra-table" id="table-308534c8-6cd6-4506-a76f-a79bc754bdde"><table><tr><td><b>into</b></td><td><pre>true</pre></td></tr><tr><td><b>expansions</b></td><td><pre>[List.append, List.rev, List.append]</pre></td></tr><tr><td><b>rewrite_steps</b></td><td><pre>List.append_to_nil</pre></td></tr><tr><td><b>forward_chaining</b></td><td><ul></ul></td></tr></table></div></div></li></ul></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-297b8d24-8cf4-4a2a-b815-48b87b4491cf';
  fold.hydrate(target);
});
</script></div></div></li></ul></div></li></ul></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-6700d1e8-6d2a-49ce-8e0e-fe98b1c542d9';
  fold.hydrate(target);
});
</script></div></div></li></ul></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-3bc25335-2b13-43ff-b4ad-28aaf2436e07';
  fold.hydrate(target);
});
</script></div></div><div class="tab-pane"><div class="imandra-graphviz" id="graphviz-fbd01d64-e320-42e7-9a92-91f4861f58f7"><textarea style="display: none">digraph &quot;proof&quot; {
p_289 [label=&quot;Start (List.rev (List.append :var_0: :var_1:) =\l       List.append (List.rev :var_1:) (List.rev :var_0:) :name \&quot;Goal\&quot;\l       :time 0.338s)&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_289 -&gt; p_287 [label=&quot;&quot;];
subgraph cluster_288 {
  color=blue;
p_287 [label=&quot;Start (List.rev (List.append x y) = List.append (List.rev y) (List.rev x)\l       :name \&quot;1\&quot; :time 0.338s)&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_287 -&gt; p_286 [label=&quot;&quot;];
p_286 [label=&quot;Induct ((functional ),\l        :scheme (x = [] ==\&gt; φ x y)\l                &amp;&amp; (not (x = []) &amp;&amp; φ (List.tl x) y ==\&gt; φ x y))&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_286 -&gt; p_285 [label=&quot;&quot;];
p_285 [label=&quot;Split (let (_x_0 : bool) = not (x = []) in\l       let (_x_1 : sko_ty_0 list) = List.rev y in\l       let (_x_2 : bool)\l           = List.rev (List.append x y) = List.append _x_1 (List.rev x)\l       in\l       let (_x_3 : sko_ty_0 list) = List.tl x in\l       (_x_0 \|\| _x_2)\l       &amp;&amp; (not\l           (_x_0\l            &amp;&amp; List.rev (List.append _x_3 y) =\l               List.append _x_1 (List.rev _x_3))\l           \|\| _x_2)\l       :cases [not (x = [])\l               \|\| List.rev (List.append x y) =\l                  List.append (List.rev y) (List.rev x);\l               let (_x_0 : sko_ty_0 list) = List.tl x in\l               let (_x_1 : sko_ty_0 list) = List.rev y in\l               (x = []\l                \|\| not\l                   (List.rev (List.append _x_0 y) =\l                    List.append _x_1 (List.rev _x_0)))\l               \|\| List.rev (List.append x y) = List.append _x_1 (List.rev x)])&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_285 -&gt; p_280 [label=&quot;&quot;];
subgraph cluster_281 {
  color=blue;
p_280 [label=&quot;Start (let (_x_0 : sko_ty_0 list) = List.tl x in\l       let (_x_1 : sko_ty_0 list) = List.rev y in\l       (x = []\l        \|\| not\l           (List.rev (List.append _x_0 y) = List.append _x_1 (List.rev _x_0)))\l       \|\| List.rev (List.append x y) = List.append _x_1 (List.rev x)\l       :name \&quot;1.1\&quot; :time 0.238s)&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_280 -&gt; p_279 [label=&quot;&quot;];
p_279 [label=&quot;Simplify (let (_x_0 : sko_ty_0 list) = List.tl x in\l          let (_x_1 : sko_ty_0 list) = List.rev (List.append _x_0 y) in\l          let (_x_2 : sko_ty_0 list) = [List.hd x] in\l          let (_x_3 : sko_ty_0 list) = List.rev y in\l          let (_x_4 : sko_ty_0 list) = List.rev _x_0 in\l          (List.append _x_1 _x_2 = List.append _x_3 (List.append _x_4 _x_2)\l           \|\| x = [])\l          \|\| not (_x_1 = List.append _x_3 _x_4)\l          :expansions [List.rev; List.rev; List.append] :rw [] :fc [])&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_279 -&gt; p_278 [label=&quot;&quot;];
p_278 [label=&quot;Simplify (true :expansions [] :rw [assoc_append] :fc [])&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
}
p_285 -&gt; p_283 [label=&quot;&quot;];
subgraph cluster_284 {
  color=blue;
p_283 [label=&quot;Start (not (x = [])\l       \|\| List.rev (List.append x y) = List.append (List.rev y) (List.rev x)\l       :name \&quot;1.2\&quot; :time 0.238s)&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_283 -&gt; p_282 [label=&quot;&quot;];
p_282 [label=&quot;Simplify (true :expansions [List.append; List.rev; List.append]\l          :rw [List.append_to_nil] :fc [])&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
}
}
}
</textarea><button class="btn btn-primary">Load graph</button><div class="imandra-graphviz-loading display-none">Loading..</div><div class="imandra-graphviz-target"></div><script>
require(['nbextensions/nbimandra/graphviz'], function (graphviz) {
  var target = '#graphviz-fbd01d64-e320-42e7-9a92-91f4861f58f7';
  graphviz.hydrate(target);
});
</script></div></div></div><script>
require(['nbextensions/nbimandra/alternatives'], function (alternatives) {
  var target = '#alt-06c1f491-3783-46be-89b9-d982e91ec64a';
  alternatives.hydrate(target);
});
</script></div></div></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-1cb79049-46ff-4855-ac2e-7c6975d078a5';
  fold.hydrate(target);
});
</script></div></div></div></div>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="try-this-container">
  <a href="https://try.imandra.ai/launch/?next=/h/user-redirect/notebooks/Verification%20-%20Induction.ipynb%23try-cell-8" target="_blank" rel="nofollow">
    <div class="try-this">Try this!</div>
  </a>
</div>
<div class="input">
<div class="prompt input_prompt">In&nbsp;[4]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ocaml"><pre><span></span><span class="n">verify</span> <span class="o">(</span><span class="k">fun</span> <span class="n">lst</span> <span class="o">-&gt;</span>
  <span class="nn">List</span><span class="p">.</span><span class="n">for_all</span> <span class="o">(</span><span class="k">fun</span> <span class="n">x</span> <span class="o">-&gt;</span> <span class="n">x</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="o">)</span> <span class="n">lst</span> <span class="o">==&gt;</span>
    <span class="nn">List</span><span class="p">.</span><span class="n">fold_right</span> <span class="o">(+)</span> <span class="o">~</span><span class="n">base</span><span class="o">:</span><span class="mi">1</span> <span class="n">lst</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="o">)</span>
<span class="o">[@@</span><span class="n">auto</span><span class="o">]</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt output_prompt">Out[4]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>- : int list -&gt; bool = &lt;fun&gt;
<span class="ansi-white-intense-fg ansi-bold">Goal</span>:

List.for_all (fun x -&gt; x &gt; 0) lst ==&gt; List.fold_right + 1 lst &gt; 0.

1 nontautological subgoal.

<span class="ansi-white-intense-fg ansi-bold">Subgoal 1</span>:

 H0. List.for_all (fun x -&gt; x &gt; 0) lst
 H1. List.fold_right + 1 lst &lt;= 0
|---------------------------------------------------------------------------
 false


Must try induction.

The recursive terms in the conjecture suggest 2 inductions.
Subsumption and merging reduces this to 1.

We shall induct according to a scheme derived from <span class="ansi-blue-intense-fg ansi-bold">List.for_all</span>.

<span class="ansi-cyan-intense-fg ansi-bold">Induction scheme</span>:

 (lst = [] ==&gt; φ lst) &amp;&amp; (not (lst = []) &amp;&amp; φ (List.tl lst) ==&gt; φ lst).

2 nontautological subgoals.

<span class="ansi-white-intense-fg ansi-bold">Subgoal 1.2</span>:

 H0. List.for_all (fun x -&gt; x &gt; 0) lst
 H1. List.fold_right + 1 lst &lt;= 0
 H2. lst = []
|---------------------------------------------------------------------------
 false

But simplification reduces this to true, using the definition of
<span class="ansi-blue-intense-fg ansi-bold">List.fold_right</span>.

<span class="ansi-white-intense-fg ansi-bold">Subgoal 1.1</span>:

 H0. List.for_all (fun x -&gt; x &gt; 0) lst
 H1. List.fold_right + 1 lst &lt;= 0
 H2. not (lst = [])
 H3. not (List.for_all (fun x -&gt; x &gt; 0) (List.tl lst))
     || not (List.fold_right + 1 (List.tl lst) &lt;= 0)
|---------------------------------------------------------------------------
 false

But simplification reduces this to true, using the definitions of
<span class="ansi-blue-intense-fg ansi-bold">List.fold_right </span>and<span class="ansi-blue-intense-fg ansi-bold"> List.for_all</span>.

<span class="ansi-cyan-intense-fg ansi-bold"> ⓘ </span> Rules:
    (:def List.fold_right)
    (:def List.for_all)
    (:induct List.for_all)

</pre>
</div>

</div>

<div class="output_area">

<div class="prompt"></div>



<div class="output_html rendered_html output_subarea ">
<div><div style="font-size: 1.2em; padding: 0.5em; border-top: 1px solid green; border-bottom: 1px solid green"><i class="fa fa-check-circle" style="margin-right: 0.5em; color: green"></i><span>Proved</span></div><div><div class="imandra-proof-top"><div class="imandra-fold panel panel-default" id="fold-9468176f-ea0a-4b67-94a5-82a4e6a92075"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>proof</span></div></div><div class="panel-body collapse"><div class="imandra-proof"><div class="imandra-alternatives" id="alt-42d1ed98-0dd0-4a3f-ad9d-14da364c94bc"><ul class="nav nav-tabs"><li class="active" data-toggle="tab"><a>summary</a></li><li class="" data-toggle="tab"><a>full</a></li><li class="" data-toggle="tab"><a>graph</a></li></ul><div class="tab-content"><div class="tab-pane active"><div class="imandra-table" id="table-f53a3688-6f9e-42d6-99c1-0bd85c710199"><table><tr><td><b>ground_instances</b></td><td>0</td></tr><tr><td><b>definitions</b></td><td>5</td></tr><tr><td><b>inductions</b></td><td>1</td></tr><tr><td><b>search_time</b></td><td><pre>0.190s</pre></td></tr></table></div></div><div class="tab-pane"><div class="imandra-fold panel panel-default" id="fold-38fe2eb0-dfe4-4f6a-bf15-489e01727ee6"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>Expand</span></div></div><div class="panel-body collapse"><ul><li><pre>start[0.190s, &quot;Goal&quot;]
  List.for_all (fun x -&gt; x &gt; 0) :var_0: ==&gt; List.fold_right + 1 :var_0: &gt; 0</pre></li><li><div><h4>subproof</h4><div class="imandra-fold panel panel-default" id="fold-06546671-b368-4b06-9f86-f07602f4d217"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>not (List.for_all (fun x -&gt; x &gt; 0) lst) || not (List.fold_right + 1 lst &lt;= 0)</span></div></div><div class="panel-body collapse"><ul><li><pre>start[0.189s, &quot;1&quot;]
  not (List.for_all (fun x -&gt; x &gt; 0) lst)
  || not (List.fold_right + 1 lst &lt;= 0)</pre></li><li><pre>induction on (functional )
:scheme (lst = [] ==&gt; φ lst)
        &amp;&amp; (not (lst = []) &amp;&amp; φ (List.tl lst) ==&gt; φ lst)</pre></li><li><div><pre>Split (let (_x_0 : bool)
           = not (List.for_all (fun x -&gt; x &gt; 0) lst)
             || not (List.fold_right + 1 lst &lt;= 0)
       in
       let (_x_1 : bool) = not (lst = []) in
       let (_x_2 : int list) = List.tl lst in
       (_x_0 || _x_1)
       &amp;&amp; (_x_0
           || not
              (_x_1
               &amp;&amp; (not (List.for_all (fun x -&gt; x &gt; 0) _x_2)
                   || not (List.fold_right + 1 _x_2 &lt;= 0))))
       :cases [(not (List.for_all (fun x -&gt; x &gt; 0) lst)
                || not (List.fold_right + 1 lst &lt;= 0))
               || not (lst = []);
               let (_x_0 : int list) = List.tl lst in
               ((not (List.for_all (fun x -&gt; x &gt; 0) lst)
                 || not (List.fold_right + 1 lst &lt;= 0))
                || lst = [])
               || not
                  (not (List.for_all (fun x -&gt; x &gt; 0) _x_0)
                   || not (List.fold_right + 1 _x_0 &lt;= 0))])</pre><ul><li><div><h5>subproof</h5><div class="imandra-fold panel panel-default" id="fold-fb61745c-220e-4346-8673-4366d3caa1fb"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>let (_x_0 : int list) = List.tl lst in
((not (List.for_all (fun x -&gt; x &gt; 0) lst)
  || not (List.fold_right + 1 lst &lt;= 0))
 || lst = [])
|| not
   (not (List.for_all (fun x -&gt; x &gt; 0) _x_0)
    || not (List.fold_right + 1 _x_0 &lt;= 0))</span></div></div><div class="panel-body collapse"><ul><li><pre>start[0.104s, &quot;1.1&quot;]
  let (_x_0 : int list) = List.tl lst in
  ((not (List.for_all (fun x -&gt; x &gt; 0) lst)
    || not (List.fold_right + 1 lst &lt;= 0))
   || lst = [])
  || not
     (not (List.for_all (fun x -&gt; x &gt; 0) _x_0)
      || not (List.fold_right + 1 _x_0 &lt;= 0))</pre></li><li><div><h6>simplify</h6><div class="imandra-table" id="table-31a4a213-c534-40b3-909c-370d4b70bd93"><table><tr><td><b>into</b></td><td><pre>true</pre></td></tr><tr><td><b>expansions</b></td><td><pre>[List.for_all, List.fold_right, List.for_all, List.fold_right]</pre></td></tr><tr><td><b>rewrite_steps</b></td><td><ul></ul></td></tr><tr><td><b>forward_chaining</b></td><td><ul></ul></td></tr></table></div></div></li></ul></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-fb61745c-220e-4346-8673-4366d3caa1fb';
  fold.hydrate(target);
});
</script></div></div></li><li><div><h5>subproof</h5><div class="imandra-fold panel panel-default" id="fold-0ccc3b44-15db-4b8f-86cb-37d86e73b95f"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>(not (List.for_all (fun x -&gt; x &gt; 0) lst)
 || not (List.fold_right + 1 lst &lt;= 0))
|| not (lst = [])</span></div></div><div class="panel-body collapse"><ul><li><pre>start[0.104s, &quot;1.2&quot;]
  (not (List.for_all (fun x -&gt; x &gt; 0) lst)
   || not (List.fold_right + 1 lst &lt;= 0))
  || not (lst = [])</pre></li><li><div><h6>simplify</h6><div class="imandra-table" id="table-fbe72753-e1d6-4d9e-91a9-bba2c997dadf"><table><tr><td><b>into</b></td><td><pre>true</pre></td></tr><tr><td><b>expansions</b></td><td><pre>List.fold_right</pre></td></tr><tr><td><b>rewrite_steps</b></td><td><ul></ul></td></tr><tr><td><b>forward_chaining</b></td><td><ul></ul></td></tr></table></div></div></li></ul></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-0ccc3b44-15db-4b8f-86cb-37d86e73b95f';
  fold.hydrate(target);
});
</script></div></div></li></ul></div></li></ul></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-06546671-b368-4b06-9f86-f07602f4d217';
  fold.hydrate(target);
});
</script></div></div></li></ul></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-38fe2eb0-dfe4-4f6a-bf15-489e01727ee6';
  fold.hydrate(target);
});
</script></div></div><div class="tab-pane"><div class="imandra-graphviz" id="graphviz-f968af56-f18d-4143-845b-b90036b56fa2"><textarea style="display: none">digraph &quot;proof&quot; {
p_309 [label=&quot;Start (List.for_all (fun x -\&gt; x \&gt; 0) :var_0:\l       ==\&gt; List.fold_right + 1 :var_0: \&gt; 0 :name \&quot;Goal\&quot; :time 0.190s)&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_309 -&gt; p_307 [label=&quot;&quot;];
subgraph cluster_308 {
  color=blue;
p_307 [label=&quot;Start (not (List.for_all (fun x -\&gt; x \&gt; 0) lst)\l       \|\| not (List.fold_right + 1 lst \&lt;= 0) :name \&quot;1\&quot; :time 0.189s)&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_307 -&gt; p_306 [label=&quot;&quot;];
p_306 [label=&quot;Induct ((functional ),\l        :scheme (lst = [] ==\&gt; φ lst)\l                &amp;&amp; (not (lst = []) &amp;&amp; φ (List.tl lst) ==\&gt; φ lst))&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_306 -&gt; p_305 [label=&quot;&quot;];
p_305 [label=&quot;Split (let (_x_0 : bool)\l           = not (List.for_all (fun x -\&gt; x \&gt; 0) lst)\l             \|\| not (List.fold_right + 1 lst \&lt;= 0)\l       in\l       let (_x_1 : bool) = not (lst = []) in\l       let (_x_2 : int list) = List.tl lst in\l       (_x_0 \|\| _x_1)\l       &amp;&amp; (_x_0\l           \|\| not\l              (_x_1\l               &amp;&amp; (not (List.for_all (fun x -\&gt; x \&gt; 0) _x_2)\l                   \|\| not (List.fold_right + 1 _x_2 \&lt;= 0))))\l       :cases [(not (List.for_all (fun x -\&gt; x \&gt; 0) lst)\l                \|\| not (List.fold_right + 1 lst \&lt;= 0))\l               \|\| not (lst = []);\l               let (_x_0 : int list) = List.tl lst in\l               ((not (List.for_all (fun x -\&gt; x \&gt; 0) lst)\l                 \|\| not (List.fold_right + 1 lst \&lt;= 0))\l                \|\| lst = [])\l               \|\| not\l                  (not (List.for_all (fun x -\&gt; x \&gt; 0) _x_0)\l                   \|\| not (List.fold_right + 1 _x_0 \&lt;= 0))])&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_305 -&gt; p_300 [label=&quot;&quot;];
subgraph cluster_301 {
  color=blue;
p_300 [label=&quot;Start (let (_x_0 : int list) = List.tl lst in\l       ((not (List.for_all (fun x -\&gt; x \&gt; 0) lst)\l         \|\| not (List.fold_right + 1 lst \&lt;= 0))\l        \|\| lst = [])\l       \|\| not\l          (not (List.for_all (fun x -\&gt; x \&gt; 0) _x_0)\l           \|\| not (List.fold_right + 1 _x_0 \&lt;= 0))\l       :name \&quot;1.1\&quot; :time 0.104s)&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_300 -&gt; p_299 [label=&quot;&quot;];
p_299 [label=&quot;Simplify (true\l          :expansions [List.for_all;\l                       List.fold_right;\l                       List.for_all;\l                       List.fold_right]\l          :rw [] :fc [])&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
}
p_305 -&gt; p_303 [label=&quot;&quot;];
subgraph cluster_304 {
  color=blue;
p_303 [label=&quot;Start ((not (List.for_all (fun x -\&gt; x \&gt; 0) lst)\l        \|\| not (List.fold_right + 1 lst \&lt;= 0))\l       \|\| not (lst = []) :name \&quot;1.2\&quot; :time 0.104s)&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_303 -&gt; p_302 [label=&quot;&quot;];
p_302 [label=&quot;Simplify (true :expansions [List.fold_right] :rw [] :fc [])&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
}
}
}
</textarea><button class="btn btn-primary">Load graph</button><div class="imandra-graphviz-loading display-none">Loading..</div><div class="imandra-graphviz-target"></div><script>
require(['nbextensions/nbimandra/graphviz'], function (graphviz) {
  var target = '#graphviz-f968af56-f18d-4143-845b-b90036b56fa2';
  graphviz.hydrate(target);
});
</script></div></div></div><script>
require(['nbextensions/nbimandra/alternatives'], function (alternatives) {
  var target = '#alt-42d1ed98-0dd0-4a3f-ad9d-14da364c94bc';
  alternatives.hydrate(target);
});
</script></div></div></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-9468176f-ea0a-4b67-94a5-82a4e6a92075';
  fold.hydrate(target);
});
</script></div></div></div></div>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h2 id="Functional-Induction">Functional Induction<a class="anchor-link" href="#Functional-Induction">&#182;</a></h2><p>By default, Imandra uses <em>functional induction</em> (also known as <em>recursion induction</em>).</p>
<p>A functional induction scheme is one derived from the recursive structure of a
function definition. The termination measure used to admit the function is also
used to justify the soundness of the functional induction scheme. Unless
instructed otherwise, Imandra will consider all recursive functions in a goal,
analyse their recursions and instances, and apply various heuristics to merge
and score them and adapt them to the conjecture being proved. In general, there
may be more than one plausible induction scheme to choose from, and selecting
the "right" way to induct can often be a key step in difficult proofs. Imandra
will often make the "right" decision. However, in case it doesn't, it is also
possible to manually specify the induction that Imandra should do.</p>
<p>Let us return to the function <code>repeat</code> above and see functional induction in
action.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="try-this-container">
  <a href="https://try.imandra.ai/launch/?next=/h/user-redirect/notebooks/Verification%20-%20Induction.ipynb%23try-cell-10" target="_blank" rel="nofollow">
    <div class="try-this">Try this!</div>
  </a>
</div>
<div class="input">
<div class="prompt input_prompt">In&nbsp;[5]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ocaml"><pre><span></span><span class="n">lemma</span> <span class="n">repeat_len</span> <span class="n">c</span> <span class="n">n</span> <span class="o">=</span>
  <span class="n">n</span> <span class="o">&gt;=</span> <span class="mi">0</span> <span class="o">==&gt;</span>
  <span class="nn">List</span><span class="p">.</span><span class="n">length</span> <span class="o">(</span><span class="n">repeat</span> <span class="n">c</span> <span class="n">n</span><span class="o">)</span> <span class="o">=</span> <span class="n">n</span> <span class="o">[@@</span><span class="n">auto</span><span class="o">]</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt output_prompt">Out[5]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>val repeat_len : &#39;a -&gt; int -&gt; bool = &lt;fun&gt;
<span class="ansi-white-intense-fg ansi-bold">Goal</span>:

n &gt;= 0 ==&gt; List.length (repeat c n) = n.

1 nontautological subgoal.

<span class="ansi-white-intense-fg ansi-bold">Subgoal 1</span>:

 H0. n &gt;= 0
|---------------------------------------------------------------------------
 List.length (repeat c n) = n


Must try induction.

We shall induct according to a scheme derived from <span class="ansi-blue-intense-fg ansi-bold">repeat</span>.

<span class="ansi-cyan-intense-fg ansi-bold">Induction scheme</span>:

 (n &lt;= 0 ==&gt; φ c n) &amp;&amp; (not (n &lt;= 0) &amp;&amp; φ c (n - 1) ==&gt; φ c n).

2 nontautological subgoals.

<span class="ansi-white-intense-fg ansi-bold">Subgoal 1.2</span>:

 H0. n &gt;= 0
 H1. n &lt;= 0
|---------------------------------------------------------------------------
 List.length (repeat c n) = n

But simplification reduces this to true, using the definitions of <span class="ansi-blue-intense-fg ansi-bold">List.length
</span>and<span class="ansi-blue-intense-fg ansi-bold"> repeat</span>.

<span class="ansi-white-intense-fg ansi-bold">Subgoal 1.1</span>:

 H0. not (n &lt;= 0)
 H1. n &gt;= 1 ==&gt; List.length (repeat c (-1 + n)) = -1 + n
 H2. n &gt;= 0
|---------------------------------------------------------------------------
 List.length (repeat c n) = n

But simplification reduces this to true, using the definitions of <span class="ansi-blue-intense-fg ansi-bold">List.length
</span>and<span class="ansi-blue-intense-fg ansi-bold"> repeat</span>.

<span class="ansi-cyan-intense-fg ansi-bold"> ⓘ </span> Rules:
    (:def List.length)
    (:def repeat)
    (:fc List.len_nonnegative)
    (:induct repeat)

</pre>
</div>

</div>

<div class="output_area">

<div class="prompt"></div>



<div class="output_html rendered_html output_subarea ">
<div><div style="font-size: 1.2em; padding: 0.5em; border-top: 1px solid green; border-bottom: 1px solid green"><i class="fa fa-check-circle" style="margin-right: 0.5em; color: green"></i><span>Proved</span></div><div><div class="imandra-proof-top"><div class="imandra-fold panel panel-default" id="fold-b860af03-988a-4e6f-b416-04f9f38f05db"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>proof</span></div></div><div class="panel-body collapse"><div class="imandra-proof"><div class="imandra-alternatives" id="alt-263c834b-8da2-4484-adc6-dfa88073a97a"><ul class="nav nav-tabs"><li class="active" data-toggle="tab"><a>summary</a></li><li class="" data-toggle="tab"><a>full</a></li><li class="" data-toggle="tab"><a>graph</a></li></ul><div class="tab-content"><div class="tab-pane active"><div class="imandra-table" id="table-28889863-799e-4f2f-ac5a-e55cd92a14e3"><table><tr><td><b>ground_instances</b></td><td>0</td></tr><tr><td><b>definitions</b></td><td>4</td></tr><tr><td><b>inductions</b></td><td>1</td></tr><tr><td><b>search_time</b></td><td><pre>0.108s</pre></td></tr></table></div></div><div class="tab-pane"><div class="imandra-fold panel panel-default" id="fold-23a8b110-b087-4323-86e5-95c4a07e2b08"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>Expand</span></div></div><div class="panel-body collapse"><ul><li><pre>start[0.108s, &quot;Goal&quot;]
  :var_0: &gt;= 0 ==&gt; List.length (repeat :var_1: :var_0:) = :var_0:</pre></li><li><div><h4>subproof</h4><div class="imandra-fold panel panel-default" id="fold-d2708a35-4f61-4ceb-9422-c6cf2cd4a34d"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>not (n &gt;= 0) || List.length (repeat c n) = n</span></div></div><div class="panel-body collapse"><ul><li><pre>start[0.108s, &quot;1&quot;] not (n &gt;= 0) || List.length (repeat c n) = n</pre></li><li><pre>induction on (functional )
:scheme (n &lt;= 0 ==&gt; φ c n) &amp;&amp; (not (n &lt;= 0) &amp;&amp; φ c (n - 1) ==&gt; φ c n)</pre></li><li><div><pre>Split (let (_x_0 : bool) = not (n &gt;= 0) in
       let (_x_1 : bool) = not (n &lt;= 0) in
       let (_x_2 : bool) = List.length (repeat c n) = n in
       let (_x_3 : int) = -1 + n in
       ((_x_0 || _x_1) || _x_2)
       &amp;&amp; ((not
            (_x_1 &amp;&amp; (not (n &gt;= 1) || List.length (repeat c _x_3) = _x_3))
            || _x_0)
           || _x_2)
       :cases [(not (n &gt;= 0) || not (n &lt;= 0)) || List.length (repeat c n) = n;
               let (_x_0 : int) = -1 + n in
               ((n &lt;= 0
                 || not (n &gt;= 1 ==&gt; List.length (repeat c _x_0) = _x_0))
                || not (n &gt;= 0))
               || List.length (repeat c n) = n])</pre><ul><li><div><h5>subproof</h5><div class="imandra-fold panel panel-default" id="fold-6881e878-41f0-4b96-96b9-2c26aeca331a"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>let (_x_0 : int) = -1 + n in
((n &lt;= 0 || not (n &gt;= 1 ==&gt; List.length (repeat c _x_0) = _x_0))
 || not (n &gt;= 0))
|| List.length (repeat c n) = n</span></div></div><div class="panel-body collapse"><ul><li><pre>start[0.031s, &quot;1.1&quot;]
  let (_x_0 : int) = -1 + n in
  ((n &lt;= 0 || not (n &gt;= 1 ==&gt; List.length (repeat c _x_0) = _x_0))
   || not (n &gt;= 0))
  || List.length (repeat c n) = n</pre></li><li><div><h6>simplify</h6><div class="imandra-table" id="table-c920ac04-7e32-4585-be9c-1b2ec828bf2c"><table><tr><td><b>into</b></td><td><pre>true</pre></td></tr><tr><td><b>expansions</b></td><td><pre>[List.length, repeat]</pre></td></tr><tr><td><b>rewrite_steps</b></td><td><ul></ul></td></tr><tr><td><b>forward_chaining</b></td><td><ul><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li></ul></td></tr></table></div></div></li></ul></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-6881e878-41f0-4b96-96b9-2c26aeca331a';
  fold.hydrate(target);
});
</script></div></div></li><li><div><h5>subproof</h5><div class="imandra-fold panel panel-default" id="fold-ca96bb68-ef5c-4195-b302-42c899e52bb4"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>(not (n &gt;= 0) || not (n &lt;= 0)) || List.length (repeat c n) = n</span></div></div><div class="panel-body collapse"><ul><li><pre>start[0.031s, &quot;1.2&quot;]
  (not (n &gt;= 0) || not (n &lt;= 0)) || List.length (repeat c n) = n</pre></li><li><div><h6>simplify</h6><div class="imandra-table" id="table-a6a940bf-c372-486f-9450-857b828e39e1"><table><tr><td><b>into</b></td><td><pre>true</pre></td></tr><tr><td><b>expansions</b></td><td><pre>[List.length, repeat]</pre></td></tr><tr><td><b>rewrite_steps</b></td><td><ul></ul></td></tr><tr><td><b>forward_chaining</b></td><td><pre>List.len_nonnegative</pre></td></tr></table></div></div></li></ul></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-ca96bb68-ef5c-4195-b302-42c899e52bb4';
  fold.hydrate(target);
});
</script></div></div></li></ul></div></li></ul></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-d2708a35-4f61-4ceb-9422-c6cf2cd4a34d';
  fold.hydrate(target);
});
</script></div></div></li></ul></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-23a8b110-b087-4323-86e5-95c4a07e2b08';
  fold.hydrate(target);
});
</script></div></div><div class="tab-pane"><div class="imandra-graphviz" id="graphviz-ee4059c5-6fbe-45d6-a0a6-a64a90c3d450"><textarea style="display: none">digraph &quot;proof&quot; {
p_329 [label=&quot;Start (:var_0: \&gt;= 0 ==\&gt; List.length (repeat :var_1: :var_0:) = :var_0:\l       :name \&quot;Goal\&quot; :time 0.108s)&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_329 -&gt; p_327 [label=&quot;&quot;];
subgraph cluster_328 {
  color=blue;
p_327 [label=&quot;Start (not (n \&gt;= 0) \|\| List.length (repeat c n) = n :name \&quot;1\&quot; :time 0.108s)&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_327 -&gt; p_326 [label=&quot;&quot;];
p_326 [label=&quot;Induct ((functional ),\l        :scheme (n \&lt;= 0 ==\&gt; φ c n)\l                &amp;&amp; (not (n \&lt;= 0) &amp;&amp; φ c (n - 1) ==\&gt; φ c n))&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_326 -&gt; p_325 [label=&quot;&quot;];
p_325 [label=&quot;Split (let (_x_0 : bool) = not (n \&gt;= 0) in\l       let (_x_1 : bool) = not (n \&lt;= 0) in\l       let (_x_2 : bool) = List.length (repeat c n) = n in\l       let (_x_3 : int) = -1 + n in\l       ((_x_0 \|\| _x_1) \|\| _x_2)\l       &amp;&amp; ((not\l            (_x_1 &amp;&amp; (not (n \&gt;= 1) \|\| List.length (repeat c _x_3) = _x_3))\l            \|\| _x_0)\l           \|\| _x_2)\l       :cases [(not (n \&gt;= 0) \|\| not (n \&lt;= 0)) \|\| List.length (repeat c n) = n;\l               let (_x_0 : int) = -1 + n in\l               ((n \&lt;= 0\l                 \|\| not (n \&gt;= 1 ==\&gt; List.length (repeat c _x_0) = _x_0))\l                \|\| not (n \&gt;= 0))\l               \|\| List.length (repeat c n) = n])&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_325 -&gt; p_320 [label=&quot;&quot;];
subgraph cluster_321 {
  color=blue;
p_320 [label=&quot;Start (let (_x_0 : int) = -1 + n in\l       ((n \&lt;= 0 \|\| not (n \&gt;= 1 ==\&gt; List.length (repeat c _x_0) = _x_0))\l        \|\| not (n \&gt;= 0))\l       \|\| List.length (repeat c n) = n :name \&quot;1.1\&quot; :time 0.031s)&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_320 -&gt; p_319 [label=&quot;&quot;];
p_319 [label=&quot;Simplify (true :expansions [List.length; repeat] :rw []\l          :fc [List.len_nonnegative; List.len_nonnegative])&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
}
p_325 -&gt; p_323 [label=&quot;&quot;];
subgraph cluster_324 {
  color=blue;
p_323 [label=&quot;Start ((not (n \&gt;= 0) \|\| not (n \&lt;= 0)) \|\| List.length (repeat c n) = n\l       :name \&quot;1.2\&quot; :time 0.031s)&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_323 -&gt; p_322 [label=&quot;&quot;];
p_322 [label=&quot;Simplify (true :expansions [List.length; repeat] :rw []\l          :fc [List.len_nonnegative])&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
}
}
}
</textarea><button class="btn btn-primary">Load graph</button><div class="imandra-graphviz-loading display-none">Loading..</div><div class="imandra-graphviz-target"></div><script>
require(['nbextensions/nbimandra/graphviz'], function (graphviz) {
  var target = '#graphviz-ee4059c5-6fbe-45d6-a0a6-a64a90c3d450';
  graphviz.hydrate(target);
});
</script></div></div></div><script>
require(['nbextensions/nbimandra/alternatives'], function (alternatives) {
  var target = '#alt-263c834b-8da2-4484-adc6-dfa88073a97a';
  alternatives.hydrate(target);
});
</script></div></div></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-b860af03-988a-4e6f-b416-04f9f38f05db';
  fold.hydrate(target);
});
</script></div></div></div></div>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>Functional induction schemes tailored to a problem can also be manually specified.</p>
<p>In order to manually specify a functional induction, one must define a recursive
function encoding the recursion scheme one wants available in induction (Imandra
doesn't care what the function <em>does</em>, it only looks at how it recurses).
As always, Imandra must be able to prove that the recursive function terminates
in order for it to be admitted into the logic. The ordinal measures used in the
termination proof are then used to justify subsequent functional induction
schemes derived from the function.</p>
<p>Let's see a simple example. Note that we could trivially prove this goal with
<code>[@@auto]</code>, but we shall use it to illustrate the process of manual induction
schemes nevertheless! For fun, we'll make our custom induction scheme have two
base-cases.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="try-this-container">
  <a href="https://try.imandra.ai/launch/?next=/h/user-redirect/notebooks/Verification%20-%20Induction.ipynb%23try-cell-12" target="_blank" rel="nofollow">
    <div class="try-this">Try this!</div>
  </a>
</div>
<div class="input">
<div class="prompt input_prompt">In&nbsp;[6]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ocaml"><pre><span></span><span class="k">let</span> <span class="k">rec</span> <span class="n">sum</span> <span class="n">n</span> <span class="o">=</span>
 <span class="k">if</span> <span class="n">n</span> <span class="o">&lt;=</span> <span class="mi">0</span> <span class="k">then</span> <span class="mi">0</span>
 <span class="k">else</span> <span class="n">n</span> <span class="o">+</span> <span class="n">sum</span> <span class="o">(</span><span class="n">n</span><span class="o">-</span><span class="mi">1</span><span class="o">)</span>

<span class="k">let</span> <span class="k">rec</span> <span class="n">induct_scheme</span> <span class="o">(</span><span class="n">n</span> <span class="o">:</span> <span class="kt">int</span><span class="o">)</span> <span class="o">=</span>
 <span class="k">if</span> <span class="n">n</span> <span class="o">&lt;=</span> <span class="mi">0</span> <span class="k">then</span> <span class="bp">true</span>
 <span class="k">else</span> <span class="k">if</span> <span class="n">n</span> <span class="o">=</span> <span class="mi">1</span> <span class="k">then</span> <span class="bp">true</span>
 <span class="k">else</span> <span class="n">induct_scheme</span> <span class="o">(</span><span class="n">n</span><span class="o">-</span><span class="mi">1</span><span class="o">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt output_prompt">Out[6]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>val sum : int -&gt; int = &lt;fun&gt;
val induct_scheme : int -&gt; bool = &lt;fun&gt;
</pre>
</div>

</div>

<div class="output_area">

<div class="prompt"></div>



<div class="output_html rendered_html output_subarea ">
<div><div class="imandra-fold panel panel-default" id="fold-779bd618-d0b7-4e84-8811-00818a2ce856"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>termination proof</span></div></div><div class="panel-body collapse"><div><h3>Termination proof</h3><p></p><div class="imandra-fold panel panel-default" id="fold-75777e40-6ac6-4659-90bb-783a2e1ca644"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>call `sum (n - 1)` from `sum n`</span></div></div><div class="panel-body collapse"><div class="imandra-table" id="table-d9e97bf6-ff1f-44c0-a258-467ecaa345c8"><table><tr><td><b>original</b></td><td>sum n</td></tr><tr><td><b>sub</b></td><td>sum (n - 1)</td></tr><tr><td><b>original ordinal</b></td><td>Ordinal.Int (if n &gt;= 0 then n else 0)</td></tr><tr><td><b>sub ordinal</b></td><td>let (_x_0 : int) = n - 1 in Ordinal.Int (if _x_0 &gt;= 0 then _x_0 else 0)</td></tr><tr><td><b>path</b></td><td>[not (n &lt;= 0)]</td></tr><tr><td><b>proof</b></td><td><div class="imandra-fold panel panel-default" id="fold-e44cf99b-7847-41a3-9b60-df12ccd007bd"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>detailed proof</span></div></div><div class="panel-body collapse"><div class="imandra-proof"><div class="imandra-alternatives" id="alt-6014dfa0-44e8-453e-a726-025ccb4429ae"><ul class="nav nav-tabs"><li class="active" data-toggle="tab"><a>summary</a></li><li class="" data-toggle="tab"><a>full</a></li></ul><div class="tab-content"><div class="tab-pane active"><div class="imandra-table" id="table-b815973a-540d-4885-9764-eee5a1abc72d"><table><tr><td><b>ground_instances</b></td><td>1</td></tr><tr><td><b>definitions</b></td><td>0</td></tr><tr><td><b>inductions</b></td><td>0</td></tr><tr><td><b>search_time</b></td><td><pre>0.017s</pre></td></tr><tr><td><b>details</b></td><td><div class="imandra-fold panel panel-default" id="fold-bcbdc42b-cc89-427d-ad00-6f3239cc0642"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>Expand</span></div></div><div class="panel-body collapse"><div class="imandra-table" id="table-e72f6840-4746-4af6-a53f-774671db6855"><table><tr><td><b>smt_stats</b></td><td><div class="imandra-table" id="table-e1c67441-df32-4cb3-b256-9a4e13f8674e"><table><tr><td><b>num checks</b></td><td>3</td></tr><tr><td><b>arith-make-feasible</b></td><td>5</td></tr><tr><td><b>arith-max-columns</b></td><td>11</td></tr><tr><td><b>arith-conflicts</b></td><td>1</td></tr><tr><td><b>rlimit count</b></td><td>1155</td></tr><tr><td><b>mk clause</b></td><td>5</td></tr><tr><td><b>datatype occurs check</b></td><td>2</td></tr><tr><td><b>mk bool var</b></td><td>18</td></tr><tr><td><b>arith-lower</b></td><td>3</td></tr><tr><td><b>decisions</b></td><td>2</td></tr><tr><td><b>arith-propagations</b></td><td>3</td></tr><tr><td><b>propagations</b></td><td>2</td></tr><tr><td><b>arith-bound-propagations-cheap</b></td><td>3</td></tr><tr><td><b>arith-max-rows</b></td><td>4</td></tr><tr><td><b>conflicts</b></td><td>2</td></tr><tr><td><b>datatype accessor ax</b></td><td>2</td></tr><tr><td><b>num allocs</b></td><td>2758371449</td></tr><tr><td><b>final checks</b></td><td>1</td></tr><tr><td><b>added eqs</b></td><td>6</td></tr><tr><td><b>del clause</b></td><td>5</td></tr><tr><td><b>arith eq adapter</b></td><td>2</td></tr><tr><td><b>arith-upper</b></td><td>6</td></tr><tr><td><b>memory</b></td><td>20.330000</td></tr><tr><td><b>max memory</b></td><td>44.690000</td></tr></table></div></td></tr></table></div></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-bcbdc42b-cc89-427d-ad00-6f3239cc0642';
  fold.hydrate(target);
});
</script></div></td></tr></table></div></div><div class="tab-pane"><div class="imandra-fold panel panel-default" id="fold-cc0b1db2-87d8-4ffe-a5b3-084997e504ab"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>Expand</span></div></div><div class="panel-body collapse"><ul><li><pre>start[0.017s]
  let (_x_0 : int) = if n &gt;= 0 then n else 0 in
  let (_x_1 : int) = n - 1 in
  let (_x_2 : int) = if _x_1 &gt;= 0 then _x_1 else 0 in
  not (n &lt;= 0) &amp;&amp; _x_0 &gt;= 0 &amp;&amp; _x_2 &gt;= 0
  ==&gt; _x_1 &lt;= 0 || Ordinal.( &lt;&lt; ) (Ordinal.Int _x_2) (Ordinal.Int _x_0)</pre></li><li><div><h5>simplify</h5><div class="imandra-table" id="table-f0a09095-a6c1-4e63-8021-50e351e3cb56"><table><tr><td><b>into</b></td><td><pre>(n &lt;= 0 || n &lt;= 1)
|| Ordinal.( &lt;&lt; ) (Ordinal.Int (if n &gt;= 1 then -1 + n else 0))
   (Ordinal.Int (if n &gt;= 0 then n else 0))</pre></td></tr><tr><td><b>expansions</b></td><td><pre>[]</pre></td></tr><tr><td><b>rewrite_steps</b></td><td><ul></ul></td></tr><tr><td><b>forward_chaining</b></td><td><ul></ul></td></tr></table></div></div></li><li><div>unroll<div class="imandra-table" id="table-1a0f03df-4d7f-4de6-9d5e-0e33d4e93e17"><table><tr><td><b>expr</b></td><td><pre>(|Ordinal.&lt;&lt;_102| (|Ordinal.Int_93| (ite (&gt;= n_2872 1) (+ (- 1) n_2872) 0))
                  (|Ordi…</pre></td></tr><tr><td><b>expansions</b></td><td><ul></ul></td></tr></table></div></div></li><li>Unsat</li></ul></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-cc0b1db2-87d8-4ffe-a5b3-084997e504ab';
  fold.hydrate(target);
});
</script></div></div></div><script>
require(['nbextensions/nbimandra/alternatives'], function (alternatives) {
  var target = '#alt-6014dfa0-44e8-453e-a726-025ccb4429ae';
  alternatives.hydrate(target);
});
</script></div></div></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-e44cf99b-7847-41a3-9b60-df12ccd007bd';
  fold.hydrate(target);
});
</script></div></td></tr></table></div></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-75777e40-6ac6-4659-90bb-783a2e1ca644';
  fold.hydrate(target);
});
</script></div><p></p></div></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-779bd618-d0b7-4e84-8811-00818a2ce856';
  fold.hydrate(target);
});
</script></div></div>

</div>

</div>

<div class="output_area">

<div class="prompt"></div>



<div class="output_html rendered_html output_subarea ">
<div><div class="imandra-fold panel panel-default" id="fold-c9cceb0b-805d-478b-b80f-86a9920a8ae6"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>termination proof</span></div></div><div class="panel-body collapse"><div><h3>Termination proof</h3><p></p><div class="imandra-fold panel panel-default" id="fold-b37ade5f-8464-4960-8be8-b71980d95254"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>call `induct_scheme (n - 1)` from `induct_scheme n`</span></div></div><div class="panel-body collapse"><div class="imandra-table" id="table-89ed9df9-431a-4e9e-b44d-0f27f71853e1"><table><tr><td><b>original</b></td><td>induct_scheme n</td></tr><tr><td><b>sub</b></td><td>induct_scheme (n - 1)</td></tr><tr><td><b>original ordinal</b></td><td>Ordinal.Int (if n &gt;= 0 then n else 0)</td></tr><tr><td><b>sub ordinal</b></td><td>let (_x_0 : int) = n - 1 in Ordinal.Int (if _x_0 &gt;= 0 then _x_0 else 0)</td></tr><tr><td><b>path</b></td><td>[not (n = 1) &amp;&amp; not (n &lt;= 0)]</td></tr><tr><td><b>proof</b></td><td><div class="imandra-fold panel panel-default" id="fold-a4684c2a-6d1a-4600-8ca7-30865a1cf793"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>detailed proof</span></div></div><div class="panel-body collapse"><div class="imandra-proof"><div class="imandra-alternatives" id="alt-660c0b1f-4737-487e-b1b4-6be94e03e15f"><ul class="nav nav-tabs"><li class="active" data-toggle="tab"><a>summary</a></li><li class="" data-toggle="tab"><a>full</a></li></ul><div class="tab-content"><div class="tab-pane active"><div class="imandra-table" id="table-05d4406e-54c4-43f7-8c33-66dca66bc33d"><table><tr><td><b>ground_instances</b></td><td>1</td></tr><tr><td><b>definitions</b></td><td>0</td></tr><tr><td><b>inductions</b></td><td>0</td></tr><tr><td><b>search_time</b></td><td><pre>0.018s</pre></td></tr><tr><td><b>details</b></td><td><div class="imandra-fold panel panel-default" id="fold-ca1d3779-ee35-4189-b0a4-193972069622"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>Expand</span></div></div><div class="panel-body collapse"><div class="imandra-table" id="table-e1c3bc07-3e89-4b84-9c64-0eb6faf148f8"><table><tr><td><b>smt_stats</b></td><td><div class="imandra-table" id="table-2b4717ad-5b25-4f84-9b84-5f9297ddc120"><table><tr><td><b>num checks</b></td><td>3</td></tr><tr><td><b>arith-make-feasible</b></td><td>5</td></tr><tr><td><b>arith-max-columns</b></td><td>12</td></tr><tr><td><b>arith-conflicts</b></td><td>1</td></tr><tr><td><b>rlimit count</b></td><td>1267</td></tr><tr><td><b>mk clause</b></td><td>5</td></tr><tr><td><b>datatype occurs check</b></td><td>2</td></tr><tr><td><b>mk bool var</b></td><td>22</td></tr><tr><td><b>arith-lower</b></td><td>3</td></tr><tr><td><b>arith-diseq</b></td><td>3</td></tr><tr><td><b>decisions</b></td><td>2</td></tr><tr><td><b>arith-propagations</b></td><td>5</td></tr><tr><td><b>propagations</b></td><td>3</td></tr><tr><td><b>arith-bound-propagations-cheap</b></td><td>5</td></tr><tr><td><b>arith-max-rows</b></td><td>5</td></tr><tr><td><b>conflicts</b></td><td>2</td></tr><tr><td><b>datatype accessor ax</b></td><td>2</td></tr><tr><td><b>num allocs</b></td><td>2833755840</td></tr><tr><td><b>final checks</b></td><td>1</td></tr><tr><td><b>added eqs</b></td><td>6</td></tr><tr><td><b>del clause</b></td><td>5</td></tr><tr><td><b>arith eq adapter</b></td><td>4</td></tr><tr><td><b>arith-upper</b></td><td>8</td></tr><tr><td><b>memory</b></td><td>20.580000</td></tr><tr><td><b>max memory</b></td><td>44.690000</td></tr></table></div></td></tr></table></div></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-ca1d3779-ee35-4189-b0a4-193972069622';
  fold.hydrate(target);
});
</script></div></td></tr></table></div></div><div class="tab-pane"><div class="imandra-fold panel panel-default" id="fold-7b87014d-21a0-4bc2-a9a5-b44d3a9bf2d6"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>Expand</span></div></div><div class="panel-body collapse"><ul><li><pre>start[0.018s]
  let (_x_0 : int) = if n &gt;= 0 then n else 0 in
  let (_x_1 : int) = n - 1 in
  let (_x_2 : int) = if _x_1 &gt;= 0 then _x_1 else 0 in
  not (n = 1) &amp;&amp; not (n &lt;= 0) &amp;&amp; _x_0 &gt;= 0 &amp;&amp; _x_2 &gt;= 0
  ==&gt; not (not (_x_1 = 1) &amp;&amp; not (_x_1 &lt;= 0))
      || Ordinal.( &lt;&lt; ) (Ordinal.Int _x_2) (Ordinal.Int _x_0)</pre></li><li><div><h5>simplify</h5><div class="imandra-table" id="table-6a635b65-b6cb-4212-83cc-282f7b1aa771"><table><tr><td><b>into</b></td><td><pre>(not (not (n = 2) &amp;&amp; not (n &lt;= 1))
 || Ordinal.( &lt;&lt; ) (Ordinal.Int (if n &gt;= 1 then -1 + n else 0))
    (Ordinal.Int (if n &gt;= 0 then n else 0)))
|| not (not (n = 1) &amp;&amp; not (n &lt;= 0))</pre></td></tr><tr><td><b>expansions</b></td><td><pre>[]</pre></td></tr><tr><td><b>rewrite_steps</b></td><td><ul></ul></td></tr><tr><td><b>forward_chaining</b></td><td><ul></ul></td></tr></table></div></div></li><li><div>unroll<div class="imandra-table" id="table-71a83f84-621f-48a6-a814-38cb6f5e7320"><table><tr><td><b>expr</b></td><td><pre>(|Ordinal.&lt;&lt;_102| (|Ordinal.Int_93| (ite (&gt;= n_2893 1) (+ (- 1) n_2893) 0))
                  (|Ordi…</pre></td></tr><tr><td><b>expansions</b></td><td><ul></ul></td></tr></table></div></div></li><li>Unsat</li></ul></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-7b87014d-21a0-4bc2-a9a5-b44d3a9bf2d6';
  fold.hydrate(target);
});
</script></div></div></div><script>
require(['nbextensions/nbimandra/alternatives'], function (alternatives) {
  var target = '#alt-660c0b1f-4737-487e-b1b4-6be94e03e15f';
  alternatives.hydrate(target);
});
</script></div></div></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-a4684c2a-6d1a-4600-8ca7-30865a1cf793';
  fold.hydrate(target);
});
</script></div></td></tr></table></div></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-b37ade5f-8464-4960-8be8-b71980d95254';
  fold.hydrate(target);
});
</script></div><p></p></div></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-c9cceb0b-805d-478b-b80f-86a9920a8ae6';
  fold.hydrate(target);
});
</script></div></div>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="try-this-container">
  <a href="https://try.imandra.ai/launch/?next=/h/user-redirect/notebooks/Verification%20-%20Induction.ipynb%23try-cell-13" target="_blank" rel="nofollow">
    <div class="try-this">Try this!</div>
  </a>
</div>
<div class="input">
<div class="prompt input_prompt">In&nbsp;[7]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ocaml"><pre><span></span><span class="n">verify</span> <span class="o">(</span><span class="k">fun</span> <span class="n">n</span> <span class="o">-&gt;</span> <span class="n">n</span> <span class="o">&gt;=</span> <span class="mi">0</span> <span class="o">==&gt;</span> <span class="n">sum</span> <span class="n">n</span> <span class="o">=</span> <span class="o">(</span><span class="n">n</span> <span class="o">*</span> <span class="o">(</span><span class="n">n</span><span class="o">+</span><span class="mi">1</span><span class="o">))</span> <span class="o">/</span> <span class="mi">2</span><span class="o">)</span> <span class="o">[@@</span><span class="n">induct</span> <span class="n">functional</span> <span class="n">induct_scheme</span><span class="o">]</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt output_prompt">Out[7]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>- : int -&gt; bool = &lt;fun&gt;
<span class="ansi-white-intense-fg ansi-bold">Goal</span>:

n &gt;= 0 ==&gt; sum n = (n * (n + 1)) / 2.

1 nontautological subgoal.

<span class="ansi-yellow-intense-fg ansi-bold">Note:</span> Thank you for your explicit request for a non-present functional
induction!

We shall induct according to a scheme derived from <span class="ansi-blue-intense-fg ansi-bold">induct_scheme</span>.

<span class="ansi-cyan-intense-fg ansi-bold">Induction scheme</span>:

 (not (not (n = 1) &amp;&amp; not (n &lt;= 0)) ==&gt; φ n)
 &amp;&amp; (not (n &lt;= 0) &amp;&amp; not (n = 1) &amp;&amp; φ (n - 1) ==&gt; φ n).

2 nontautological subgoals.

<span class="ansi-white-intense-fg ansi-bold">Subgoal 2</span>:

 H0. n &gt;= 0
|---------------------------------------------------------------------------
 C0. not (n = 1) &amp;&amp; not (n &lt;= 0)
 C1. sum n = (n * (1 + n)) / 2

This simplifies to the following 2 subgoals:

<span class="ansi-white-intense-fg ansi-bold">Subgoal 2.2</span>:

 H0. n = 1
|---------------------------------------------------------------------------
 sum n = (n * (1 + n)) / 2

But simplification reduces this to true, using the definition of <span class="ansi-blue-intense-fg ansi-bold">sum</span>.

<span class="ansi-white-intense-fg ansi-bold">Subgoal 2.1</span>:

 H0. n &lt;= 0
 H1. n &gt;= 0
|---------------------------------------------------------------------------
 C0. n = 1
 C1. sum n = (n * (1 + n)) / 2

But simplification reduces this to true, using the definition of <span class="ansi-blue-intense-fg ansi-bold">sum</span>.

<span class="ansi-white-intense-fg ansi-bold">Subgoal 1</span>:

 H0. n &gt;= 0
 H1. not (n &lt;= 0)
 H2. not (n = 1)
 H3. n &gt;= 1 ==&gt; sum (-1 + n) = (n * (-1 + n)) / 2
|---------------------------------------------------------------------------
 sum n = (n * (1 + n)) / 2

But simplification reduces this to true, using the definition of <span class="ansi-blue-intense-fg ansi-bold">sum</span>.

<span class="ansi-cyan-intense-fg ansi-bold"> ⓘ </span> Rules:
    (:def sum)
    (:induct induct_scheme)

</pre>
</div>

</div>

<div class="output_area">

<div class="prompt"></div>



<div class="output_html rendered_html output_subarea ">
<div><div style="font-size: 1.2em; padding: 0.5em; border-top: 1px solid green; border-bottom: 1px solid green"><i class="fa fa-check-circle" style="margin-right: 0.5em; color: green"></i><span>Proved</span></div><div><div class="imandra-proof-top"><div class="imandra-fold panel panel-default" id="fold-915e1ffd-5caa-48c7-9bc0-447f43eb1072"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>proof</span></div></div><div class="panel-body collapse"><div class="imandra-proof"><div class="imandra-alternatives" id="alt-20405927-c010-434a-8da0-836c8c1edad7"><ul class="nav nav-tabs"><li class="active" data-toggle="tab"><a>summary</a></li><li class="" data-toggle="tab"><a>full</a></li><li class="" data-toggle="tab"><a>graph</a></li></ul><div class="tab-content"><div class="tab-pane active"><div class="imandra-table" id="table-ad763b55-57f2-4795-bd66-c9d3ca43b35e"><table><tr><td><b>ground_instances</b></td><td>0</td></tr><tr><td><b>definitions</b></td><td>4</td></tr><tr><td><b>inductions</b></td><td>1</td></tr><tr><td><b>search_time</b></td><td><pre>0.318s</pre></td></tr></table></div></div><div class="tab-pane"><div class="imandra-fold panel panel-default" id="fold-33aab4db-ff19-4e81-b7b8-d0ed35822e0c"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>Expand</span></div></div><div class="panel-body collapse"><ul><li><pre>start[0.318s, &quot;Goal&quot;]
  :var_0: &gt;= 0 ==&gt; sum :var_0: = (:var_0: * (:var_0: + 1)) / 2</pre></li><li><div><h4>subproof</h4><div class="imandra-fold panel panel-default" id="fold-1f7eae63-2803-4304-8598-a3e8a25e7f90"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>not (n &gt;= 0) || sum n = (n * (1 + n)) / 2</span></div></div><div class="panel-body collapse"><ul><li><pre>start[0.317s, &quot;1&quot;] not (n &gt;= 0) || sum n = (n * (1 + n)) / 2</pre></li><li><pre>induction on (functional induct_scheme)
:scheme (not (not (n = 1) &amp;&amp; not (n &lt;= 0)) ==&gt; φ n)
        &amp;&amp; (not (n &lt;= 0) &amp;&amp; not (n = 1) &amp;&amp; φ (n - 1) ==&gt; φ n)</pre></li><li><div><pre>Split (let (_x_0 : bool) = not (n = 1) in
       let (_x_1 : bool) = not (n &lt;= 0) in
       let (_x_2 : bool) = not (n &gt;= 0) in
       let (_x_3 : bool) = sum n = (n * (1 + n)) / 2 in
       let (_x_4 : int) = -1 + n in
       ((_x_0 &amp;&amp; _x_1 || _x_2) || _x_3)
       &amp;&amp; ((_x_2 || _x_3)
           || not
              ((_x_1 &amp;&amp; _x_0) &amp;&amp; (not (n &gt;= 1) || sum _x_4 = (n * _x_4) / 2)))
       :cases [(not (n &gt;= 0) || not (n = 1) &amp;&amp; not (n &lt;= 0))
               || sum n = (n * (1 + n)) / 2;
               let (_x_0 : int) = -1 + n in
               (((not (n &gt;= 0) || n &lt;= 0) || n = 1)
                || not (n &gt;= 1 ==&gt; sum _x_0 = (n * _x_0) / 2))
               || sum n = (n * (1 + n)) / 2])</pre><ul><li><div><h5>subproof</h5><div class="imandra-fold panel panel-default" id="fold-1cbaf34e-8ce7-41cc-8f7e-dee82bc094ef"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>let (_x_0 : int) = -1 + n in
(((not (n &gt;= 0) || n &lt;= 0) || n = 1)
 || not (n &gt;= 1 ==&gt; sum _x_0 = (n * _x_0) / 2))
|| sum n = (n * (1 + n)) / 2</span></div></div><div class="panel-body collapse"><ul><li><pre>start[0.316s, &quot;1&quot;]
  let (_x_0 : int) = -1 + n in
  (((not (n &gt;= 0) || n &lt;= 0) || n = 1)
   || not (n &gt;= 1 ==&gt; sum _x_0 = (n * _x_0) / 2))
  || sum n = (n * (1 + n)) / 2</pre></li><li><div><h6>simplify</h6><div class="imandra-table" id="table-75db896d-5d80-428d-a25c-d885fe2a8245"><table><tr><td><b>into</b></td><td><pre>true</pre></td></tr><tr><td><b>expansions</b></td><td><pre>sum</pre></td></tr><tr><td><b>rewrite_steps</b></td><td><ul></ul></td></tr><tr><td><b>forward_chaining</b></td><td><ul></ul></td></tr></table></div></div></li></ul></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-1cbaf34e-8ce7-41cc-8f7e-dee82bc094ef';
  fold.hydrate(target);
});
</script></div></div></li><li><div><h5>subproof</h5><div class="imandra-fold panel panel-default" id="fold-ca7fae7a-b0b0-43e4-9bb7-8f11ff7341e1"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>(not (n &gt;= 0) || not (n = 1) &amp;&amp; not (n &lt;= 0)) || sum n = (n * (1 + n)) / 2</span></div></div><div class="panel-body collapse"><ul><li><pre>start[0.316s, &quot;2&quot;]
  (not (n &gt;= 0) || not (n = 1) &amp;&amp; not (n &lt;= 0)) || sum n = (n * (1 + n)) / 2</pre></li><li><div><div><h6>simplify</h6><div class="imandra-table" id="table-e22a7fc5-7aa0-4969-8b3e-71bc12df6e5b"><table><tr><td><b>into</b></td><td><pre>let (_x_0 : bool) = n = 1 in
let (_x_1 : bool) = sum n = (n * (1 + n)) / 2 in
(not _x_0 || _x_1) &amp;&amp; (((_x_0 || not (n &lt;= 0)) || not (n &gt;= 0)) || _x_1)</pre></td></tr><tr><td><b>expansions</b></td><td><pre>[]</pre></td></tr><tr><td><b>rewrite_steps</b></td><td><ul></ul></td></tr><tr><td><b>forward_chaining</b></td><td><ul></ul></td></tr></table></div></div><ul><li><pre>Subproof</pre></li><li><pre>Subproof</pre></li></ul></div></li></ul></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-ca7fae7a-b0b0-43e4-9bb7-8f11ff7341e1';
  fold.hydrate(target);
});
</script></div></div></li></ul></div></li></ul></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-1f7eae63-2803-4304-8598-a3e8a25e7f90';
  fold.hydrate(target);
});
</script></div></div></li></ul></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-33aab4db-ff19-4e81-b7b8-d0ed35822e0c';
  fold.hydrate(target);
});
</script></div></div><div class="tab-pane"><div class="imandra-graphviz" id="graphviz-2a4344bb-f448-408e-82ab-5fae672e257d"><textarea style="display: none">digraph &quot;proof&quot; {
p_354 [label=&quot;Start (:var_0: \&gt;= 0 ==\&gt; sum :var_0: = (:var_0: * (:var_0: + 1)) / 2\l       :name \&quot;Goal\&quot; :time 0.318s)&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_354 -&gt; p_352 [label=&quot;&quot;];
subgraph cluster_353 {
  color=blue;
p_352 [label=&quot;Start (not (n \&gt;= 0) \|\| sum n = (n * (1 + n)) / 2 :name \&quot;1\&quot; :time 0.317s)&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_352 -&gt; p_351 [label=&quot;&quot;];
p_351 [label=&quot;Induct ((functional induct_scheme),\l        :scheme (not (not (n = 1) &amp;&amp; not (n \&lt;= 0)) ==\&gt; φ n)\l                &amp;&amp; (not (n \&lt;= 0) &amp;&amp; not (n = 1) &amp;&amp; φ (n - 1) ==\&gt; φ n))&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_351 -&gt; p_350 [label=&quot;&quot;];
p_350 [label=&quot;Split (let (_x_0 : bool) = not (n = 1) in\l       let (_x_1 : bool) = not (n \&lt;= 0) in\l       let (_x_2 : bool) = not (n \&gt;= 0) in\l       let (_x_3 : bool) = sum n = (n * (1 + n)) / 2 in\l       let (_x_4 : int) = -1 + n in\l       ((_x_0 &amp;&amp; _x_1 \|\| _x_2) \|\| _x_3)\l       &amp;&amp; ((_x_2 \|\| _x_3)\l           \|\| not\l              ((_x_1 &amp;&amp; _x_0) &amp;&amp; (not (n \&gt;= 1) \|\| sum _x_4 = (n * _x_4) / 2)))\l       :cases [(not (n \&gt;= 0) \|\| not (n = 1) &amp;&amp; not (n \&lt;= 0))\l               \|\| sum n = (n * (1 + n)) / 2;\l               let (_x_0 : int) = -1 + n in\l               (((not (n \&gt;= 0) \|\| n \&lt;= 0) \|\| n = 1)\l                \|\| not (n \&gt;= 1 ==\&gt; sum _x_0 = (n * _x_0) / 2))\l               \|\| sum n = (n * (1 + n)) / 2])&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_350 -&gt; p_339 [label=&quot;&quot;];
subgraph cluster_340 {
  color=blue;
p_339 [label=&quot;Start (let (_x_0 : int) = -1 + n in\l       (((not (n \&gt;= 0) \|\| n \&lt;= 0) \|\| n = 1)\l        \|\| not (n \&gt;= 1 ==\&gt; sum _x_0 = (n * _x_0) / 2))\l       \|\| sum n = (n * (1 + n)) / 2 :name \&quot;1\&quot; :time 0.316s)&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_339 -&gt; p_338 [label=&quot;&quot;];
p_338 [label=&quot;Simplify (true :expansions [sum] :rw [] :fc [])&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
}
p_350 -&gt; p_348 [label=&quot;&quot;];
subgraph cluster_349 {
  color=blue;
p_348 [label=&quot;Start ((not (n \&gt;= 0) \|\| not (n = 1) &amp;&amp; not (n \&lt;= 0))\l       \|\| sum n = (n * (1 + n)) / 2 :name \&quot;2\&quot; :time 0.316s)&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_348 -&gt; p_347 [label=&quot;&quot;];
p_347 [label=&quot;Simplify (let (_x_0 : bool) = n = 1 in\l          let (_x_1 : bool) = sum n = (n * (1 + n)) / 2 in\l          (not _x_0 \|\| _x_1)\l          &amp;&amp; (((_x_0 \|\| not (n \&lt;= 0)) \|\| not (n \&gt;= 0)) \|\| _x_1)\l          :expansions [] :rw [] :fc [])&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_347 -&gt; p_342 [label=&quot;&quot;];
subgraph cluster_343 {
  color=blue;
p_342 [label=&quot;Start (((n = 1 \|\| not (n \&lt;= 0)) \|\| not (n \&gt;= 0)) \|\| sum n = (n * (1 + n)) / 2\l       :name \&quot;2.1\&quot; :time 0.079s)&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_342 -&gt; p_341 [label=&quot;&quot;];
p_341 [label=&quot;Simplify (true :expansions [sum] :rw [] :fc [])&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
}
p_347 -&gt; p_345 [label=&quot;&quot;];
subgraph cluster_346 {
  color=blue;
p_345 [label=&quot;Start (not (n = 1) \|\| sum n = (n * (1 + n)) / 2 :name \&quot;2.2\&quot; :time 0.079s)&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_345 -&gt; p_344 [label=&quot;&quot;];
p_344 [label=&quot;Simplify (true :expansions [sum; sum] :rw [] :fc [])&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
}
}
}
}
</textarea><button class="btn btn-primary">Load graph</button><div class="imandra-graphviz-loading display-none">Loading..</div><div class="imandra-graphviz-target"></div><script>
require(['nbextensions/nbimandra/graphviz'], function (graphviz) {
  var target = '#graphviz-2a4344bb-f448-408e-82ab-5fae672e257d';
  graphviz.hydrate(target);
});
</script></div></div></div><script>
require(['nbextensions/nbimandra/alternatives'], function (alternatives) {
  var target = '#alt-20405927-c010-434a-8da0-836c8c1edad7';
  alternatives.hydrate(target);
});
</script></div></div></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-915e1ffd-5caa-48c7-9bc0-447f43eb1072';
  fold.hydrate(target);
});
</script></div></div></div></div>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>Note that it's rare to have to manually instruct Imandra how to induct in this
way. Usually, if you need to instruct Imandra to use a different scheme than the
one it automatically picked, you'll simply need to give Imandra the hint of
"inducting following key recursive function <code>foo</code>" in your goal. For example, if
Imandra had made a wrong selection in a goal involving <code>sum</code> and some other
recursive functions, we might tell Imandra <code>[@@induct functional sum]</code> to get it
to select a scheme derived from the recursive structure of <code>sum</code>.</p>
<h2 id="Structural-Induction">Structural Induction<a class="anchor-link" href="#Structural-Induction">&#182;</a></h2><p>Imandra also supports structural induction. Unlike functional induction schemes
which are derived from recursive functions, structural induction schemes are
derived from type definitions.</p>
<p>For example, we can define a type of binary trees and prove a property about
them by structural induction.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="try-this-container">
  <a href="https://try.imandra.ai/launch/?next=/h/user-redirect/notebooks/Verification%20-%20Induction.ipynb%23try-cell-15" target="_blank" rel="nofollow">
    <div class="try-this">Try this!</div>
  </a>
</div>
<div class="input">
<div class="prompt input_prompt">In&nbsp;[8]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ocaml"><pre><span></span><span class="k">type</span> <span class="k">&#39;</span><span class="n">a</span> <span class="n">tree</span> <span class="o">=</span> <span class="nc">Node</span> <span class="k">of</span> <span class="k">&#39;</span><span class="n">a</span> <span class="o">*</span> <span class="k">&#39;</span><span class="n">a</span> <span class="n">tree</span> <span class="o">*</span> <span class="k">&#39;</span><span class="n">a</span> <span class="n">tree</span> <span class="o">|</span> <span class="nc">Leaf</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt output_prompt">Out[8]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>type &#39;a tree = Node of &#39;a * &#39;a tree * &#39;a tree | Leaf
</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="try-this-container">
  <a href="https://try.imandra.ai/launch/?next=/h/user-redirect/notebooks/Verification%20-%20Induction.ipynb%23try-cell-16" target="_blank" rel="nofollow">
    <div class="try-this">Try this!</div>
  </a>
</div>
<div class="input">
<div class="prompt input_prompt">In&nbsp;[9]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ocaml"><pre><span></span><span class="k">let</span> <span class="k">rec</span> <span class="n">size</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="k">&#39;</span><span class="n">a</span> <span class="n">tree</span><span class="o">)</span> <span class="o">=</span>
 <span class="k">match</span> <span class="n">x</span> <span class="k">with</span>
 <span class="o">|</span> <span class="nc">Node</span> <span class="o">(_,</span> <span class="n">a</span><span class="o">,</span><span class="n">b</span><span class="o">)</span> <span class="o">-&gt;</span> <span class="n">size</span> <span class="n">a</span> <span class="o">+</span> <span class="n">size</span> <span class="n">b</span>
 <span class="o">|</span> <span class="nc">Leaf</span> <span class="o">-&gt;</span> <span class="mi">1</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt output_prompt">Out[9]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>val size : &#39;a tree -&gt; int = &lt;fun&gt;
</pre>
</div>

</div>

<div class="output_area">

<div class="prompt"></div>



<div class="output_html rendered_html output_subarea ">
<div><div class="imandra-fold panel panel-default" id="fold-24f1138e-85fd-4015-a357-820a35e50183"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>termination proof</span></div></div><div class="panel-body collapse"><div><h3>Termination proof</h3><p></p><div class="imandra-fold panel panel-default" id="fold-3dcabb99-ebc7-4ac4-be74-6ae64a979bf9"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>call `size (Destruct(Node, 1, x))` from `size x`</span></div></div><div class="panel-body collapse"><div class="imandra-table" id="table-426846ad-c714-458c-98de-53b54e23190d"><table><tr><td><b>original</b></td><td>size x</td></tr><tr><td><b>sub</b></td><td>size (Destruct(Node, 1, x))</td></tr><tr><td><b>original ordinal</b></td><td>Ordinal.Int (Ordinal.count x)</td></tr><tr><td><b>sub ordinal</b></td><td>Ordinal.Int (Ordinal.count (Destruct(Node, 1, x)))</td></tr><tr><td><b>path</b></td><td>[Is_a(Node, x)]</td></tr><tr><td><b>proof</b></td><td><div class="imandra-fold panel panel-default" id="fold-aef757e1-0deb-4faa-ab15-89e97297187b"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>detailed proof</span></div></div><div class="panel-body collapse"><div class="imandra-proof"><div class="imandra-alternatives" id="alt-855f2421-c523-429a-a4bc-235e7b68c0d9"><ul class="nav nav-tabs"><li class="active" data-toggle="tab"><a>summary</a></li><li class="" data-toggle="tab"><a>full</a></li></ul><div class="tab-content"><div class="tab-pane active"><div class="imandra-table" id="table-95d95bbf-47b9-456f-9330-d131e0ee9570"><table><tr><td><b>ground_instances</b></td><td>3</td></tr><tr><td><b>definitions</b></td><td>0</td></tr><tr><td><b>inductions</b></td><td>0</td></tr><tr><td><b>search_time</b></td><td><pre>0.016s</pre></td></tr><tr><td><b>details</b></td><td><div class="imandra-fold panel panel-default" id="fold-cf0ca223-c6df-415e-836a-60f389058b48"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>Expand</span></div></div><div class="panel-body collapse"><div class="imandra-table" id="table-c528048f-2b90-48ad-afd8-0217d80e5995"><table><tr><td><b>smt_stats</b></td><td><div class="imandra-table" id="table-84b72ac1-0c5b-4ffb-ab0c-7fe824b71d93"><table><tr><td><b>num checks</b></td><td>8</td></tr><tr><td><b>arith-make-feasible</b></td><td>34</td></tr><tr><td><b>arith-max-columns</b></td><td>17</td></tr><tr><td><b>arith-conflicts</b></td><td>3</td></tr><tr><td><b>rlimit count</b></td><td>5866</td></tr><tr><td><b>mk clause</b></td><td>40</td></tr><tr><td><b>datatype occurs check</b></td><td>19</td></tr><tr><td><b>mk bool var</b></td><td>121</td></tr><tr><td><b>arith-lower</b></td><td>33</td></tr><tr><td><b>arith-diseq</b></td><td>4</td></tr><tr><td><b>datatype splits</b></td><td>5</td></tr><tr><td><b>decisions</b></td><td>37</td></tr><tr><td><b>arith-propagations</b></td><td>2</td></tr><tr><td><b>propagations</b></td><td>27</td></tr><tr><td><b>arith-bound-propagations-cheap</b></td><td>2</td></tr><tr><td><b>arith-max-rows</b></td><td>5</td></tr><tr><td><b>conflicts</b></td><td>11</td></tr><tr><td><b>datatype accessor ax</b></td><td>11</td></tr><tr><td><b>datatype constructor ax</b></td><td>25</td></tr><tr><td><b>num allocs</b></td><td>3622472276</td></tr><tr><td><b>final checks</b></td><td>5</td></tr><tr><td><b>added eqs</b></td><td>110</td></tr><tr><td><b>del clause</b></td><td>23</td></tr><tr><td><b>arith eq adapter</b></td><td>23</td></tr><tr><td><b>arith-upper</b></td><td>24</td></tr><tr><td><b>memory</b></td><td>23.930000</td></tr><tr><td><b>max memory</b></td><td>44.690000</td></tr></table></div></td></tr></table></div></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-cf0ca223-c6df-415e-836a-60f389058b48';
  fold.hydrate(target);
});
</script></div></td></tr></table></div></div><div class="tab-pane"><div class="imandra-fold panel panel-default" id="fold-bfb929cd-c8ca-4ccb-85db-8b0f92a329cc"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>Expand</span></div></div><div class="panel-body collapse"><ul><li><pre>start[0.016s]
  let (_x_0 : int) = Ordinal.count x in
  let (_x_1 : ty_0 tree) = Destruct(Node, 1, x) in
  let (_x_2 : int) = Ordinal.count _x_1 in
  let (_x_3 : bool) = not Is_a(Node, _x_1) in
  Is_a(Node, x) &amp;&amp; _x_0 &gt;= 0 &amp;&amp; _x_2 &gt;= 0
  ==&gt; _x_3 &amp;&amp; _x_3 || Ordinal.( &lt;&lt; ) (Ordinal.Int _x_2) (Ordinal.Int _x_0)</pre></li><li><div><h5>simplify</h5><div class="imandra-table" id="table-0e957acd-2e47-4878-a523-fd4a3fe20e51"><table><tr><td><b>into</b></td><td><pre>let (_x_0 : ty_0 tree) = Destruct(Node, 1, x) in
let (_x_1 : int) = Ordinal.count _x_0 in
let (_x_2 : int) = Ordinal.count x in
(not Is_a(Node, _x_0) || Ordinal.( &lt;&lt; ) (Ordinal.Int _x_1) (Ordinal.Int _x_2))
|| not ((Is_a(Node, x) &amp;&amp; _x_2 &gt;= 0) &amp;&amp; _x_1 &gt;= 0)</pre></td></tr><tr><td><b>expansions</b></td><td><pre>[]</pre></td></tr><tr><td><b>rewrite_steps</b></td><td><ul></ul></td></tr><tr><td><b>forward_chaining</b></td><td><ul></ul></td></tr></table></div></div></li><li><div>unroll<div class="imandra-table" id="table-1a1c1c09-8d34-427a-869c-d87a0500887b"><table><tr><td><b>expr</b></td><td><pre>(|count_`ty_0 tree`_3011| x_3000)</pre></td></tr><tr><td><b>expansions</b></td><td><ul></ul></td></tr></table></div></div></li><li><div>unroll<div class="imandra-table" id="table-8ea79e30-513e-47b0-be18-262d268a3d4b"><table><tr><td><b>expr</b></td><td><pre>(|count_`ty_0 tree`_3011| (|get.Node.1_2994| x_3000))</pre></td></tr><tr><td><b>expansions</b></td><td><ul></ul></td></tr></table></div></div></li><li><div>unroll<div class="imandra-table" id="table-4384a253-ae01-4093-8c82-12c40de82d5b"><table><tr><td><b>expr</b></td><td><pre>(|Ordinal.&lt;&lt;_102| (|Ordinal.Int_93| (|count_`ty_0 tree`_3011|
                                      …</pre></td></tr><tr><td><b>expansions</b></td><td><ul></ul></td></tr></table></div></div></li><li>Unsat</li></ul></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-bfb929cd-c8ca-4ccb-85db-8b0f92a329cc';
  fold.hydrate(target);
});
</script></div></div></div><script>
require(['nbextensions/nbimandra/alternatives'], function (alternatives) {
  var target = '#alt-855f2421-c523-429a-a4bc-235e7b68c0d9';
  alternatives.hydrate(target);
});
</script></div></div></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-aef757e1-0deb-4faa-ab15-89e97297187b';
  fold.hydrate(target);
});
</script></div></td></tr></table></div></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-3dcabb99-ebc7-4ac4-be74-6ae64a979bf9';
  fold.hydrate(target);
});
</script></div><p></p><div class="imandra-fold panel panel-default" id="fold-02d99139-5b5a-492c-ab99-a777ad02d187"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>call `size (Destruct(Node, 2, x))` from `size x`</span></div></div><div class="panel-body collapse"><div class="imandra-table" id="table-65a8ccfc-513f-4a0b-9700-7a00b9c21537"><table><tr><td><b>original</b></td><td>size x</td></tr><tr><td><b>sub</b></td><td>size (Destruct(Node, 2, x))</td></tr><tr><td><b>original ordinal</b></td><td>Ordinal.Int (Ordinal.count x)</td></tr><tr><td><b>sub ordinal</b></td><td>Ordinal.Int (Ordinal.count (Destruct(Node, 2, x)))</td></tr><tr><td><b>path</b></td><td>[Is_a(Node, x)]</td></tr><tr><td><b>proof</b></td><td><div class="imandra-fold panel panel-default" id="fold-a708eaf8-2877-41f7-8d99-b35fc18f7a98"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>detailed proof</span></div></div><div class="panel-body collapse"><div class="imandra-proof"><div class="imandra-alternatives" id="alt-a320ea02-caf7-4954-a430-357f9814bea5"><ul class="nav nav-tabs"><li class="active" data-toggle="tab"><a>summary</a></li><li class="" data-toggle="tab"><a>full</a></li></ul><div class="tab-content"><div class="tab-pane active"><div class="imandra-table" id="table-cd6e9d1b-978d-4817-9beb-11e11d36bf9f"><table><tr><td><b>ground_instances</b></td><td>3</td></tr><tr><td><b>definitions</b></td><td>0</td></tr><tr><td><b>inductions</b></td><td>0</td></tr><tr><td><b>search_time</b></td><td><pre>0.016s</pre></td></tr><tr><td><b>details</b></td><td><div class="imandra-fold panel panel-default" id="fold-4aa40b29-d32e-48ea-9629-41b1f0347fbb"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>Expand</span></div></div><div class="panel-body collapse"><div class="imandra-table" id="table-e2141860-28ef-45ea-a7a0-afa04ec79247"><table><tr><td><b>smt_stats</b></td><td><div class="imandra-table" id="table-cb24dbf0-cb5b-46b9-a3de-d2cc6201557e"><table><tr><td><b>num checks</b></td><td>8</td></tr><tr><td><b>arith-make-feasible</b></td><td>34</td></tr><tr><td><b>arith-max-columns</b></td><td>17</td></tr><tr><td><b>arith-conflicts</b></td><td>3</td></tr><tr><td><b>rlimit count</b></td><td>2933</td></tr><tr><td><b>mk clause</b></td><td>40</td></tr><tr><td><b>datatype occurs check</b></td><td>19</td></tr><tr><td><b>mk bool var</b></td><td>121</td></tr><tr><td><b>arith-lower</b></td><td>33</td></tr><tr><td><b>arith-diseq</b></td><td>4</td></tr><tr><td><b>datatype splits</b></td><td>5</td></tr><tr><td><b>decisions</b></td><td>37</td></tr><tr><td><b>arith-propagations</b></td><td>2</td></tr><tr><td><b>propagations</b></td><td>27</td></tr><tr><td><b>arith-bound-propagations-cheap</b></td><td>2</td></tr><tr><td><b>arith-max-rows</b></td><td>5</td></tr><tr><td><b>conflicts</b></td><td>11</td></tr><tr><td><b>datatype accessor ax</b></td><td>11</td></tr><tr><td><b>datatype constructor ax</b></td><td>25</td></tr><tr><td><b>num allocs</b></td><td>3579346500</td></tr><tr><td><b>final checks</b></td><td>5</td></tr><tr><td><b>added eqs</b></td><td>110</td></tr><tr><td><b>del clause</b></td><td>23</td></tr><tr><td><b>arith eq adapter</b></td><td>23</td></tr><tr><td><b>arith-upper</b></td><td>24</td></tr><tr><td><b>memory</b></td><td>21.370000</td></tr><tr><td><b>max memory</b></td><td>44.690000</td></tr></table></div></td></tr></table></div></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-4aa40b29-d32e-48ea-9629-41b1f0347fbb';
  fold.hydrate(target);
});
</script></div></td></tr></table></div></div><div class="tab-pane"><div class="imandra-fold panel panel-default" id="fold-1c29c81a-66c6-49b2-a0f7-32a29ea7fa28"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>Expand</span></div></div><div class="panel-body collapse"><ul><li><pre>start[0.016s]
  let (_x_0 : int) = Ordinal.count x in
  let (_x_1 : ty_0 tree) = Destruct(Node, 2, x) in
  let (_x_2 : int) = Ordinal.count _x_1 in
  let (_x_3 : bool) = not Is_a(Node, _x_1) in
  Is_a(Node, x) &amp;&amp; _x_0 &gt;= 0 &amp;&amp; _x_2 &gt;= 0
  ==&gt; _x_3 &amp;&amp; _x_3 || Ordinal.( &lt;&lt; ) (Ordinal.Int _x_2) (Ordinal.Int _x_0)</pre></li><li><div><h5>simplify</h5><div class="imandra-table" id="table-622fd0ca-5928-4ba7-af41-9d26c03d8d0c"><table><tr><td><b>into</b></td><td><pre>let (_x_0 : ty_0 tree) = Destruct(Node, 2, x) in
let (_x_1 : int) = Ordinal.count _x_0 in
let (_x_2 : int) = Ordinal.count x in
(not Is_a(Node, _x_0) || Ordinal.( &lt;&lt; ) (Ordinal.Int _x_1) (Ordinal.Int _x_2))
|| not ((Is_a(Node, x) &amp;&amp; _x_2 &gt;= 0) &amp;&amp; _x_1 &gt;= 0)</pre></td></tr><tr><td><b>expansions</b></td><td><pre>[]</pre></td></tr><tr><td><b>rewrite_steps</b></td><td><ul></ul></td></tr><tr><td><b>forward_chaining</b></td><td><ul></ul></td></tr></table></div></div></li><li><div>unroll<div class="imandra-table" id="table-bd1c31a5-520d-45be-b455-41bb3729d14b"><table><tr><td><b>expr</b></td><td><pre>(|count_`ty_0 tree`_3011| x_3000)</pre></td></tr><tr><td><b>expansions</b></td><td><ul></ul></td></tr></table></div></div></li><li><div>unroll<div class="imandra-table" id="table-181b17fb-e9fe-4078-8a88-7f065a3ba83c"><table><tr><td><b>expr</b></td><td><pre>(|count_`ty_0 tree`_3011| (|get.Node.2_2995| x_3000))</pre></td></tr><tr><td><b>expansions</b></td><td><ul></ul></td></tr></table></div></div></li><li><div>unroll<div class="imandra-table" id="table-9fe61c99-dc2c-46e0-be06-439defd2a25b"><table><tr><td><b>expr</b></td><td><pre>(|Ordinal.&lt;&lt;_102| (|Ordinal.Int_93| (|count_`ty_0 tree`_3011|
                                      …</pre></td></tr><tr><td><b>expansions</b></td><td><ul></ul></td></tr></table></div></div></li><li>Unsat</li></ul></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-1c29c81a-66c6-49b2-a0f7-32a29ea7fa28';
  fold.hydrate(target);
});
</script></div></div></div><script>
require(['nbextensions/nbimandra/alternatives'], function (alternatives) {
  var target = '#alt-a320ea02-caf7-4954-a430-357f9814bea5';
  alternatives.hydrate(target);
});
</script></div></div></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-a708eaf8-2877-41f7-8d99-b35fc18f7a98';
  fold.hydrate(target);
});
</script></div></td></tr></table></div></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-02d99139-5b5a-492c-ab99-a777ad02d187';
  fold.hydrate(target);
});
</script></div><p></p></div></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-24f1138e-85fd-4015-a357-820a35e50183';
  fold.hydrate(target);
});
</script></div></div>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="try-this-container">
  <a href="https://try.imandra.ai/launch/?next=/h/user-redirect/notebooks/Verification%20-%20Induction.ipynb%23try-cell-17" target="_blank" rel="nofollow">
    <div class="try-this">Try this!</div>
  </a>
</div>
<div class="input">
<div class="prompt input_prompt">In&nbsp;[10]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ocaml"><pre><span></span><span class="n">verify</span> <span class="o">(</span><span class="k">fun</span> <span class="n">x</span> <span class="o">-&gt;</span> <span class="n">size</span> <span class="n">x</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="o">)</span> <span class="o">[@@</span><span class="n">induct</span> <span class="n">structural</span> <span class="n">x</span><span class="o">]</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt output_prompt">Out[10]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>- : &#39;a tree -&gt; bool = &lt;fun&gt;
<span class="ansi-white-intense-fg ansi-bold">Goal</span>:

size x &gt; 0.

1 nontautological subgoal.

<span class="ansi-cyan-intense-fg ansi-bold">Induction scheme</span>:

 φ Leaf
 &amp;&amp; (Is_a(Node, x) &amp;&amp; φ (Destruct(Node, 1, x)) &amp;&amp; φ (Destruct(Node, 2, x))
     ==&gt; φ x).

2 nontautological subgoals.

<span class="ansi-white-intense-fg ansi-bold">Subgoal 2</span>:

|---------------------------------------------------------------------------
 not (size Leaf &lt;= 0)

But simplification reduces this to true, using the definition of <span class="ansi-blue-intense-fg ansi-bold">size</span>.

<span class="ansi-white-intense-fg ansi-bold">Subgoal 1</span>:

 H0. size x &lt;= 0
 H1. Is_a(Node, x)
 H2. not (size (Destruct(Node, 1, x)) &lt;= 0)
 H3. not (size (Destruct(Node, 2, x)) &lt;= 0)
|---------------------------------------------------------------------------
 false

But simplification reduces this to true, using the definition of <span class="ansi-blue-intense-fg ansi-bold">size</span>.

<span class="ansi-cyan-intense-fg ansi-bold"> ⓘ </span> Rules:
    (:def size)
    (:induct struct tree)

</pre>
</div>

</div>

<div class="output_area">

<div class="prompt"></div>



<div class="output_html rendered_html output_subarea ">
<div><div style="font-size: 1.2em; padding: 0.5em; border-top: 1px solid green; border-bottom: 1px solid green"><i class="fa fa-check-circle" style="margin-right: 0.5em; color: green"></i><span>Proved</span></div><div><div class="imandra-proof-top"><div class="imandra-fold panel panel-default" id="fold-cc536711-2023-4e43-b458-4066bb921d7e"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>proof</span></div></div><div class="panel-body collapse"><div class="imandra-proof"><div class="imandra-alternatives" id="alt-88b7f5f8-482e-4b3c-aa37-e4d07cbc9f21"><ul class="nav nav-tabs"><li class="active" data-toggle="tab"><a>summary</a></li><li class="" data-toggle="tab"><a>full</a></li><li class="" data-toggle="tab"><a>graph</a></li></ul><div class="tab-content"><div class="tab-pane active"><div class="imandra-table" id="table-aa96474c-1be9-491d-8571-0c508b1b23f5"><table><tr><td><b>ground_instances</b></td><td>0</td></tr><tr><td><b>definitions</b></td><td>2</td></tr><tr><td><b>inductions</b></td><td>1</td></tr><tr><td><b>search_time</b></td><td><pre>0.036s</pre></td></tr></table></div></div><div class="tab-pane"><div class="imandra-fold panel panel-default" id="fold-a79c1c55-3d68-4d89-b94a-49787a81e732"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>Expand</span></div></div><div class="panel-body collapse"><ul><li><pre>start[0.036s, &quot;Goal&quot;] size :var_0: &gt; 0</pre></li><li><div><h4>subproof</h4><div class="imandra-fold panel panel-default" id="fold-30c27d83-75b9-40ec-a1ad-df26605373ca"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>not (size x &lt;= 0)</span></div></div><div class="panel-body collapse"><ul><li><pre>start[0.036s, &quot;1&quot;] not (size x &lt;= 0)</pre></li><li><pre>induction on (structural+ x)
:scheme φ Leaf
        &amp;&amp; (Is_a(Node, x)
            &amp;&amp; φ (Destruct(Node, 1, x)) &amp;&amp; φ (Destruct(Node, 2, x))
            ==&gt; φ x)</pre></li><li><div><pre>Split (not (size Leaf &lt;= 0)
       &amp;&amp; (not (size x &lt;= 0)
           || not
              ((Is_a(Node, x) &amp;&amp; not (size (Destruct(Node, 1, x)) &lt;= 0))
               &amp;&amp; not (size (Destruct(Node, 2, x)) &lt;= 0)))
       :cases [not (size Leaf &lt;= 0);
               ((not (size x &lt;= 0) || not Is_a(Node, x))
                || size (Destruct(Node, 1, x)) &lt;= 0)
               || size (Destruct(Node, 2, x)) &lt;= 0])</pre><ul><li><div><h5>subproof</h5><div class="imandra-fold panel panel-default" id="fold-bb37829b-d67a-40c1-ab86-2aa57aed1506"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>((not (size x &lt;= 0) || not Is_a(Node, x)) || size (Destruct(Node, 1, x)) &lt;= 0)
|| size (Destruct(Node, 2, x)) &lt;= 0</span></div></div><div class="panel-body collapse"><ul><li><pre>start[0.035s, &quot;1&quot;]
  ((not (size x &lt;= 0) || not Is_a(Node, x))
   || size (Destruct(Node, 1, x)) &lt;= 0)
  || size (Destruct(Node, 2, x)) &lt;= 0</pre></li><li><div><h6>simplify</h6><div class="imandra-table" id="table-bd8e34a7-d736-47ef-8585-5ef3c5aec93b"><table><tr><td><b>into</b></td><td><pre>true</pre></td></tr><tr><td><b>expansions</b></td><td><pre>size</pre></td></tr><tr><td><b>rewrite_steps</b></td><td><ul></ul></td></tr><tr><td><b>forward_chaining</b></td><td><ul></ul></td></tr></table></div></div></li></ul></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-bb37829b-d67a-40c1-ab86-2aa57aed1506';
  fold.hydrate(target);
});
</script></div></div></li><li><div><h5>subproof</h5><div class="imandra-fold panel panel-default" id="fold-cdf6bb89-3cf4-4552-8751-03cb10837671"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>not (size Leaf &lt;= 0)</span></div></div><div class="panel-body collapse"><ul><li><pre>start[0.035s, &quot;2&quot;] not (size Leaf &lt;= 0)</pre></li><li><div><h6>simplify</h6><div class="imandra-table" id="table-edde3041-da4d-4f2c-92a6-97504853ef2c"><table><tr><td><b>into</b></td><td><pre>true</pre></td></tr><tr><td><b>expansions</b></td><td><pre>size</pre></td></tr><tr><td><b>rewrite_steps</b></td><td><ul></ul></td></tr><tr><td><b>forward_chaining</b></td><td><ul></ul></td></tr></table></div></div></li></ul></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-cdf6bb89-3cf4-4552-8751-03cb10837671';
  fold.hydrate(target);
});
</script></div></div></li></ul></div></li></ul></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-30c27d83-75b9-40ec-a1ad-df26605373ca';
  fold.hydrate(target);
});
</script></div></div></li></ul></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-a79c1c55-3d68-4d89-b94a-49787a81e732';
  fold.hydrate(target);
});
</script></div></div><div class="tab-pane"><div class="imandra-graphviz" id="graphviz-a1a0285f-1ac7-4808-9e05-a7496fc2ce09"><textarea style="display: none">digraph &quot;proof&quot; {
p_377 [label=&quot;Start (size :var_0: \&gt; 0 :name \&quot;Goal\&quot; :time 0.036s)&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_377 -&gt; p_375 [label=&quot;&quot;];
subgraph cluster_376 {
  color=blue;
p_375 [label=&quot;Start (not (size x \&lt;= 0) :name \&quot;1\&quot; :time 0.036s)&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_375 -&gt; p_374 [label=&quot;&quot;];
p_374 [label=&quot;Induct ((structural+ x),\l        :scheme φ Leaf\l                &amp;&amp; (Is_a(Node, x)\l                    &amp;&amp; φ (Destruct(Node, 1, x)) &amp;&amp; φ (Destruct(Node, 2, x))\l                    ==\&gt; φ x))&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_374 -&gt; p_373 [label=&quot;&quot;];
p_373 [label=&quot;Split (not (size Leaf \&lt;= 0)\l       &amp;&amp; (not (size x \&lt;= 0)\l           \|\| not\l              ((Is_a(Node, x) &amp;&amp; not (size (Destruct(Node, 1, x)) \&lt;= 0))\l               &amp;&amp; not (size (Destruct(Node, 2, x)) \&lt;= 0)))\l       :cases [not (size Leaf \&lt;= 0);\l               ((not (size x \&lt;= 0) \|\| not Is_a(Node, x))\l                \|\| size (Destruct(Node, 1, x)) \&lt;= 0)\l               \|\| size (Destruct(Node, 2, x)) \&lt;= 0])&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_373 -&gt; p_368 [label=&quot;&quot;];
subgraph cluster_369 {
  color=blue;
p_368 [label=&quot;Start (((not (size x \&lt;= 0) \|\| not Is_a(Node, x))\l        \|\| size (Destruct(Node, 1, x)) \&lt;= 0)\l       \|\| size (Destruct(Node, 2, x)) \&lt;= 0 :name \&quot;1\&quot; :time 0.035s)&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_368 -&gt; p_367 [label=&quot;&quot;];
p_367 [label=&quot;Simplify (true :expansions [size] :rw [] :fc [])&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
}
p_373 -&gt; p_371 [label=&quot;&quot;];
subgraph cluster_372 {
  color=blue;
p_371 [label=&quot;Start (not (size Leaf \&lt;= 0) :name \&quot;2\&quot; :time 0.035s)&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_371 -&gt; p_370 [label=&quot;&quot;];
p_370 [label=&quot;Simplify (true :expansions [size] :rw [] :fc [])&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
}
}
}
</textarea><button class="btn btn-primary">Load graph</button><div class="imandra-graphviz-loading display-none">Loading..</div><div class="imandra-graphviz-target"></div><script>
require(['nbextensions/nbimandra/graphviz'], function (graphviz) {
  var target = '#graphviz-a1a0285f-1ac7-4808-9e05-a7496fc2ce09';
  graphviz.hydrate(target);
});
</script></div></div></div><script>
require(['nbextensions/nbimandra/alternatives'], function (alternatives) {
  var target = '#alt-88b7f5f8-482e-4b3c-aa37-e4d07cbc9f21';
  alternatives.hydrate(target);
});
</script></div></div></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-cc536711-2023-4e43-b458-4066bb921d7e';
  fold.hydrate(target);
});
</script></div></div></div></div>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>Structural induction comes in both <em>additive</em> and <em>multiplicative</em> flavors.</p>
<p>This distinction only manifests when one is performing structural induction over
multiple variables simultaneously. It affects the way base cases and inductive
steps are mixed. Let's assume one needs to do induction on <code>x, y</code>:</p>
<ul>
<li><p>addictive structural induction gives you 3 cases: two base cases
<code>φ(x_base, y)</code>, <code>φ(x, y_base)</code> and one inductive step <code>φ(x,y) ==&gt; φ(step(x), step(y))</code></p>
</li>
<li><p>multiplicative structural induction gives you 4 cases: one base case
<code>φ(x_base, y_base)</code> and three inductive steps <code>φ(x, y_base) ==&gt; φ(step(x), y_base)</code>,
<code>φ(x_base, y) ==&gt; φ(x_base, step(y))</code> and <code>φ(x,y) ==&gt; φ(step(x), step(y))</code></p>
</li>
</ul>
<p>We can see the difference using the following function:</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="try-this-container">
  <a href="https://try.imandra.ai/launch/?next=/h/user-redirect/notebooks/Verification%20-%20Induction.ipynb%23try-cell-19" target="_blank" rel="nofollow">
    <div class="try-this">Try this!</div>
  </a>
</div>
<div class="input">
<div class="prompt input_prompt">In&nbsp;[11]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ocaml"><pre><span></span><span class="k">let</span> <span class="k">rec</span> <span class="n">interleave_strict</span> <span class="n">x</span> <span class="n">y</span> <span class="o">=</span> <span class="k">match</span> <span class="n">x</span><span class="o">,</span> <span class="n">y</span> <span class="k">with</span>
  <span class="o">|</span> <span class="bp">[]</span><span class="o">,</span> <span class="o">_</span> <span class="o">|</span> <span class="o">_</span> <span class="o">,</span> <span class="bp">[]</span> <span class="o">-&gt;</span> <span class="bp">[]</span>
  <span class="o">|</span> <span class="n">x</span><span class="o">::</span><span class="n">xs</span><span class="o">,</span> <span class="n">y</span><span class="o">::</span><span class="n">ys</span> <span class="o">-&gt;</span> <span class="n">x</span><span class="o">::</span><span class="n">y</span><span class="o">::(</span><span class="n">interleave_strict</span> <span class="n">xs</span> <span class="n">ys</span><span class="o">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt output_prompt">Out[11]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>val interleave_strict : &#39;a list -&gt; &#39;a list -&gt; &#39;a list = &lt;fun&gt;
</pre>
</div>

</div>

<div class="output_area">

<div class="prompt"></div>



<div class="output_html rendered_html output_subarea ">
<div><div class="imandra-fold panel panel-default" id="fold-4db0a63b-774f-43ed-aabf-d5253006b582"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>termination proof</span></div></div><div class="panel-body collapse"><div><h3>Termination proof</h3><p></p><div class="imandra-fold panel panel-default" id="fold-0a377b89-966e-4014-9b00-5bc940fac0b2"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>call `interleave_strict (List.tl x) (List.tl y)` from `interleave_strict x y`</span></div></div><div class="panel-body collapse"><div class="imandra-table" id="table-0f977ff4-0178-4b87-9101-5d293ac3fae5"><table><tr><td><b>original</b></td><td>interleave_strict x y</td></tr><tr><td><b>sub</b></td><td>interleave_strict (List.tl x) (List.tl y)</td></tr><tr><td><b>original ordinal</b></td><td>Ordinal.Int (Ordinal.count x)</td></tr><tr><td><b>sub ordinal</b></td><td>Ordinal.Int (Ordinal.count (List.tl x))</td></tr><tr><td><b>path</b></td><td>[not (x = [] || y = [])]</td></tr><tr><td><b>proof</b></td><td><div class="imandra-fold panel panel-default" id="fold-eb22d5cf-ac7d-4d4a-b2b8-3cfbf5537b09"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>detailed proof</span></div></div><div class="panel-body collapse"><div class="imandra-proof"><div class="imandra-alternatives" id="alt-43290c56-73b8-432f-9d5f-5921e8c002b4"><ul class="nav nav-tabs"><li class="active" data-toggle="tab"><a>summary</a></li><li class="" data-toggle="tab"><a>full</a></li></ul><div class="tab-content"><div class="tab-pane active"><div class="imandra-table" id="table-d5dc4916-5ffe-4158-8ea7-c64201c72974"><table><tr><td><b>ground_instances</b></td><td>3</td></tr><tr><td><b>definitions</b></td><td>0</td></tr><tr><td><b>inductions</b></td><td>0</td></tr><tr><td><b>search_time</b></td><td><pre>0.013s</pre></td></tr><tr><td><b>details</b></td><td><div class="imandra-fold panel panel-default" id="fold-b9a61273-2876-4c4f-9321-402494597e2a"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>Expand</span></div></div><div class="panel-body collapse"><div class="imandra-table" id="table-4bd9bb8b-7b30-4c69-aff8-c7c6163b2ef2"><table><tr><td><b>smt_stats</b></td><td><div class="imandra-table" id="table-ca320317-385b-4465-994d-c62f4563cf86"><table><tr><td><b>num checks</b></td><td>7</td></tr><tr><td><b>arith-make-feasible</b></td><td>10</td></tr><tr><td><b>arith-max-columns</b></td><td>13</td></tr><tr><td><b>arith-conflicts</b></td><td>1</td></tr><tr><td><b>rlimit count</b></td><td>2125</td></tr><tr><td><b>mk clause</b></td><td>3</td></tr><tr><td><b>datatype occurs check</b></td><td>31</td></tr><tr><td><b>mk bool var</b></td><td>66</td></tr><tr><td><b>arith-lower</b></td><td>4</td></tr><tr><td><b>datatype splits</b></td><td>6</td></tr><tr><td><b>decisions</b></td><td>17</td></tr><tr><td><b>propagations</b></td><td>2</td></tr><tr><td><b>arith-max-rows</b></td><td>5</td></tr><tr><td><b>conflicts</b></td><td>11</td></tr><tr><td><b>datatype accessor ax</b></td><td>7</td></tr><tr><td><b>datatype constructor ax</b></td><td>17</td></tr><tr><td><b>num allocs</b></td><td>3953427999</td></tr><tr><td><b>final checks</b></td><td>6</td></tr><tr><td><b>added eqs</b></td><td>55</td></tr><tr><td><b>del clause</b></td><td>1</td></tr><tr><td><b>arith eq adapter</b></td><td>3</td></tr><tr><td><b>arith-upper</b></td><td>6</td></tr><tr><td><b>memory</b></td><td>21.900000</td></tr><tr><td><b>max memory</b></td><td>44.690000</td></tr></table></div></td></tr></table></div></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-b9a61273-2876-4c4f-9321-402494597e2a';
  fold.hydrate(target);
});
</script></div></td></tr></table></div></div><div class="tab-pane"><div class="imandra-fold panel panel-default" id="fold-3355fa34-4920-4f46-bb44-6f95dc79b646"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>Expand</span></div></div><div class="panel-body collapse"><ul><li><pre>start[0.013s]
  let (_x_0 : int) = Ordinal.count x in
  let (_x_1 : ty_0 list) = List.tl x in
  let (_x_2 : int) = Ordinal.count _x_1 in
  not (x = [] || y = []) &amp;&amp; _x_0 &gt;= 0 &amp;&amp; _x_2 &gt;= 0
  ==&gt; (_x_1 = [] || List.tl y = [])
      || Ordinal.( &lt;&lt; ) (Ordinal.Int _x_2) (Ordinal.Int _x_0)</pre></li><li><div><h5>simplify</h5><div class="imandra-table" id="table-e9c0323d-3f6e-4f99-96d1-14ffd8555571"><table><tr><td><b>into</b></td><td><pre>let (_x_0 : ty_0 list) = List.tl x in
let (_x_1 : int) = Ordinal.count _x_0 in
let (_x_2 : int) = Ordinal.count x in
((_x_0 = [] || List.tl y = [])
 || Ordinal.( &lt;&lt; ) (Ordinal.Int _x_1) (Ordinal.Int _x_2))
|| not ((not (x = [] || y = []) &amp;&amp; _x_2 &gt;= 0) &amp;&amp; _x_1 &gt;= 0)</pre></td></tr><tr><td><b>expansions</b></td><td><pre>[]</pre></td></tr><tr><td><b>rewrite_steps</b></td><td><ul></ul></td></tr><tr><td><b>forward_chaining</b></td><td><ul></ul></td></tr></table></div></div></li><li><div>unroll<div class="imandra-table" id="table-99f8fae4-bcf4-49c9-87f0-1c7e863ad7cd"><table><tr><td><b>expr</b></td><td><pre>(|count_`ty_0 list`_3124| x_3113)</pre></td></tr><tr><td><b>expansions</b></td><td><ul></ul></td></tr></table></div></div></li><li><div>unroll<div class="imandra-table" id="table-f86b09db-c073-4fee-8a07-b449ff970dc8"><table><tr><td><b>expr</b></td><td><pre>(|count_`ty_0 list`_3124| (|get.::.1_3105| x_3113))</pre></td></tr><tr><td><b>expansions</b></td><td><ul></ul></td></tr></table></div></div></li><li><div>unroll<div class="imandra-table" id="table-2a37137d-500b-4383-973b-069328ce6899"><table><tr><td><b>expr</b></td><td><pre>(|Ordinal.&lt;&lt;_102| (|Ordinal.Int_93| (|count_`ty_0 list`_3124|
                                      …</pre></td></tr><tr><td><b>expansions</b></td><td><ul></ul></td></tr></table></div></div></li><li>Unsat</li></ul></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-3355fa34-4920-4f46-bb44-6f95dc79b646';
  fold.hydrate(target);
});
</script></div></div></div><script>
require(['nbextensions/nbimandra/alternatives'], function (alternatives) {
  var target = '#alt-43290c56-73b8-432f-9d5f-5921e8c002b4';
  alternatives.hydrate(target);
});
</script></div></div></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-eb22d5cf-ac7d-4d4a-b2b8-3cfbf5537b09';
  fold.hydrate(target);
});
</script></div></td></tr></table></div></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-0a377b89-966e-4014-9b00-5bc940fac0b2';
  fold.hydrate(target);
});
</script></div><p></p></div></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-4db0a63b-774f-43ed-aabf-d5253006b582';
  fold.hydrate(target);
});
</script></div></div>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>Let's prove that the length of <code>interleave_strict x y</code> is always less than or
equal to the sum of the lengths of <code>x</code> and <code>y</code>. We'll do it first using
additive and then using multiplicative structural induction:</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="try-this-container">
  <a href="https://try.imandra.ai/launch/?next=/h/user-redirect/notebooks/Verification%20-%20Induction.ipynb%23try-cell-21" target="_blank" rel="nofollow">
    <div class="try-this">Try this!</div>
  </a>
</div>
<div class="input">
<div class="prompt input_prompt">In&nbsp;[12]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ocaml"><pre><span></span><span class="n">verify</span> <span class="o">(</span><span class="k">fun</span> <span class="n">x</span> <span class="n">y</span> <span class="o">-&gt;</span>
  <span class="nn">List</span><span class="p">.</span><span class="n">length</span> <span class="o">@@</span> <span class="n">interleave_strict</span> <span class="n">x</span> <span class="n">y</span> <span class="o">&lt;=</span> <span class="nn">List</span><span class="p">.</span><span class="n">length</span> <span class="n">x</span> <span class="o">+</span> <span class="nn">List</span><span class="p">.</span><span class="n">length</span> <span class="n">y</span><span class="o">)</span>
<span class="o">[@@</span><span class="n">induct</span> <span class="n">structural_add</span> <span class="o">(</span><span class="n">x</span><span class="o">,</span><span class="n">y</span><span class="o">)]</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt output_prompt">Out[12]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>- : &#39;a list -&gt; &#39;a list -&gt; bool = &lt;fun&gt;
<span class="ansi-white-intense-fg ansi-bold">Goal</span>:

(List.length @@ interleave_strict x y) &lt;= (List.length x + List.length y).

1 nontautological subgoal.

<span class="ansi-cyan-intense-fg ansi-bold">Induction scheme</span>:

 φ x []
 &amp;&amp; φ [] y &amp;&amp; (y &lt;&gt; [] &amp;&amp; x &lt;&gt; [] &amp;&amp; φ (List.tl x) (List.tl y) ==&gt; φ x y).

3 nontautological subgoals.

<span class="ansi-white-intense-fg ansi-bold">Subgoal 3</span>:

|---------------------------------------------------------------------------
 List.length (interleave_strict x []) &lt;= (List.length x + List.length [])

But simplification reduces this to true, using the definitions of <span class="ansi-blue-intense-fg ansi-bold">List.length
</span>and<span class="ansi-blue-intense-fg ansi-bold"> interleave_strict</span>.

<span class="ansi-white-intense-fg ansi-bold">Subgoal 2</span>:

|---------------------------------------------------------------------------
 List.length (interleave_strict [] y) &lt;= (List.length [] + List.length y)

But simplification reduces this to true, using the definitions of <span class="ansi-blue-intense-fg ansi-bold">List.length
</span>and<span class="ansi-blue-intense-fg ansi-bold"> interleave_strict</span>.

<span class="ansi-white-intense-fg ansi-bold">Subgoal 1</span>:

 H0. y &lt;&gt; []
 H1. x &lt;&gt; []
 H2. List.length (interleave_strict (List.tl x) (List.tl y)) &lt;=
     (List.length (List.tl x) + List.length (List.tl y))
|---------------------------------------------------------------------------
 List.length (interleave_strict x y) &lt;= (List.length x + List.length y)

This simplifies, using the definitions of <span class="ansi-blue-intense-fg ansi-bold">List.length </span>and<span class="ansi-blue-intense-fg ansi-bold"> interleave_strict</span>
to:

<span class="ansi-white-intense-fg ansi-bold">Subgoal 1&#39;</span>:

 H0. y &lt;&gt; []
 H1. x &lt;&gt; []
 H2. List.length (interleave_strict (List.tl x) (List.tl y)) &lt;=
     (List.length (List.tl x) + List.length (List.tl y))
|---------------------------------------------------------------------------
 List.length ((List.hd y) :: (interleave_strict (List.tl x) (List.tl y))) &lt;=
 ((1 + List.length (List.tl x)) + List.length (List.tl y))

But simplification reduces this to true, using the definition of <span class="ansi-blue-intense-fg ansi-bold">List.length</span>.

<span class="ansi-cyan-intense-fg ansi-bold"> ⓘ </span> Rules:
    (:def List.length)
    (:def interleave_strict)
    (:fc List.len_nonnegative)
    (:induct struct list)

</pre>
</div>

</div>

<div class="output_area">

<div class="prompt"></div>



<div class="output_html rendered_html output_subarea ">
<div><div style="font-size: 1.2em; padding: 0.5em; border-top: 1px solid green; border-bottom: 1px solid green"><i class="fa fa-check-circle" style="margin-right: 0.5em; color: green"></i><span>Proved</span></div><div><div class="imandra-proof-top"><div class="imandra-fold panel panel-default" id="fold-95de424a-aaeb-4218-a7da-c5fbe6e89a33"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>proof</span></div></div><div class="panel-body collapse"><div class="imandra-proof"><div class="imandra-alternatives" id="alt-3f4d08aa-b461-4303-8848-a32abef9580e"><ul class="nav nav-tabs"><li class="active" data-toggle="tab"><a>summary</a></li><li class="" data-toggle="tab"><a>full</a></li><li class="" data-toggle="tab"><a>graph</a></li></ul><div class="tab-content"><div class="tab-pane active"><div class="imandra-table" id="table-686faff8-64d8-4fa1-a538-0a96095321fe"><table><tr><td><b>ground_instances</b></td><td>0</td></tr><tr><td><b>definitions</b></td><td>11</td></tr><tr><td><b>inductions</b></td><td>1</td></tr><tr><td><b>search_time</b></td><td><pre>0.210s</pre></td></tr></table></div></div><div class="tab-pane"><div class="imandra-fold panel panel-default" id="fold-8a44ba7f-f7c3-4d1d-9e23-40eee10924b8"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>Expand</span></div></div><div class="panel-body collapse"><ul><li><pre>start[0.210s, &quot;Goal&quot;]
  List.length (interleave_strict :var_0: :var_1:) &lt;=
  (List.length :var_0: + List.length :var_1:)</pre></li><li><div><h4>subproof</h4><div class="imandra-fold panel panel-default" id="fold-da1a3530-1835-4461-8df5-6a02e092f9f0"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>List.length (interleave_strict x y) &lt;= (List.length x + List.length y)</span></div></div><div class="panel-body collapse"><ul><li><pre>start[0.210s, &quot;1&quot;]
  List.length (interleave_strict x y) &lt;= (List.length x + List.length y)</pre></li><li><pre>induction on (structural+ x, y)
:scheme φ x []
        &amp;&amp; φ [] y
           &amp;&amp; (y &lt;&gt; [] &amp;&amp; x &lt;&gt; [] &amp;&amp; φ (List.tl x) (List.tl y) ==&gt; φ x y)</pre></li><li><div><pre>Split (let (_x_0 : int) = List.length x in
       let (_x_1 : int) = List.length [] in
       let (_x_2 : int) = List.length y in
       let (_x_3 : sko_ty_0 list) = List.tl x in
       let (_x_4 : sko_ty_0 list) = List.tl y in
       (List.length (interleave_strict x []) &lt;= (_x_0 + _x_1)
        &amp;&amp; List.length (interleave_strict [] y) &lt;= (_x_1 + _x_2))
       &amp;&amp; (not
           ((y &lt;&gt; [] &amp;&amp; x &lt;&gt; [])
            &amp;&amp; List.length (interleave_strict _x_3 _x_4) &lt;=
               (List.length _x_3 + List.length _x_4))
           || List.length (interleave_strict x y) &lt;= (_x_0 + _x_2))
       :cases [List.length (interleave_strict x []) &lt;=
               (List.length x + List.length []);
               List.length (interleave_strict [] y) &lt;=
               (List.length [] + List.length y);
               let (_x_0 : sko_ty_0 list) = List.tl x in
               let (_x_1 : sko_ty_0 list) = List.tl y in
               ((not (y &lt;&gt; []) || not (x &lt;&gt; []))
                || not
                   (List.length (interleave_strict _x_0 _x_1) &lt;=
                    (List.length _x_0 + List.length _x_1)))
               || List.length (interleave_strict x y) &lt;=
                  (List.length x + List.length y)])</pre><ul><li><div><h5>subproof</h5><div class="imandra-fold panel panel-default" id="fold-dd33f87e-f077-450d-a174-89f0f1eac021"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>let (_x_0 : sko_ty_0 list) = List.tl x in
let (_x_1 : sko_ty_0 list) = List.tl y in
((not (y &lt;&gt; []) || not (x &lt;&gt; []))
 || not
    (List.length (interleave_strict _x_0 _x_1) &lt;=
     (List.length _x_0 + List.length _x_1)))
|| List.length (interleave_strict x y) &lt;= (List.length x + List.length y)</span></div></div><div class="panel-body collapse"><ul><li><pre>start[0.209s, &quot;1&quot;]
  let (_x_0 : sko_ty_0 list) = List.tl x in
  let (_x_1 : sko_ty_0 list) = List.tl y in
  ((not (y &lt;&gt; []) || not (x &lt;&gt; []))
   || not
      (List.length (interleave_strict _x_0 _x_1) &lt;=
       (List.length _x_0 + List.length _x_1)))
  || List.length (interleave_strict x y) &lt;= (List.length x + List.length y)</pre></li><li><div><h6>simplify</h6><div class="imandra-table" id="table-2f1c9c53-5e26-48db-ae36-9c5439fbdfdd"><table><tr><td><b>into</b></td><td><pre>let (_x_0 : sko_ty_0 list) = List.tl x in
let (_x_1 : sko_ty_0 list) = List.tl y in
let (_x_2 : sko_ty_0 list) = interleave_strict _x_0 _x_1 in
let (_x_3 : int) = List.length _x_0 in
let (_x_4 : int) = List.length _x_1 in
((not (y &lt;&gt; []) || not (x &lt;&gt; [])) || not (List.length _x_2 &lt;= (_x_3 + _x_4)))
|| List.length ((List.hd y) :: _x_2) &lt;= ((1 + _x_3) + _x_4)</pre></td></tr><tr><td><b>expansions</b></td><td><pre>[List.length, List.length, List.length, interleave_strict]</pre></td></tr><tr><td><b>rewrite_steps</b></td><td><ul></ul></td></tr><tr><td><b>forward_chaining</b></td><td><ul><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li></ul></td></tr></table></div></div></li><li><div><h6>simplify</h6><div class="imandra-table" id="table-ab4f8950-0f99-439e-a6b4-a62b104646f4"><table><tr><td><b>into</b></td><td><pre>true</pre></td></tr><tr><td><b>expansions</b></td><td><pre>List.length</pre></td></tr><tr><td><b>rewrite_steps</b></td><td><ul></ul></td></tr><tr><td><b>forward_chaining</b></td><td><ul><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li></ul></td></tr></table></div></div></li></ul></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-dd33f87e-f077-450d-a174-89f0f1eac021';
  fold.hydrate(target);
});
</script></div></div></li><li><div><h5>subproof</h5><div class="imandra-fold panel panel-default" id="fold-a0da23fe-56e9-474e-af1e-144657f9fcfa"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>List.length (interleave_strict [] y) &lt;= (List.length [] + List.length y)</span></div></div><div class="panel-body collapse"><ul><li><pre>start[0.209s, &quot;2&quot;]
  List.length (interleave_strict [] y) &lt;= (List.length [] + List.length y)</pre></li><li><div><h6>simplify</h6><div class="imandra-table" id="table-eaa22fe2-dacb-4a5b-afef-95f75f0dc97e"><table><tr><td><b>into</b></td><td><pre>true</pre></td></tr><tr><td><b>expansions</b></td><td><pre>[List.length, List.length, interleave_strict]</pre></td></tr><tr><td><b>rewrite_steps</b></td><td><ul></ul></td></tr><tr><td><b>forward_chaining</b></td><td><ul><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li></ul></td></tr></table></div></div></li></ul></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-a0da23fe-56e9-474e-af1e-144657f9fcfa';
  fold.hydrate(target);
});
</script></div></div></li><li><div><h5>subproof</h5><div class="imandra-fold panel panel-default" id="fold-bda6f450-8d61-44de-a3cf-5c35313ee10e"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>List.length (interleave_strict x []) &lt;= (List.length x + List.length [])</span></div></div><div class="panel-body collapse"><ul><li><pre>start[0.209s, &quot;3&quot;]
  List.length (interleave_strict x []) &lt;= (List.length x + List.length [])</pre></li><li><div><h6>simplify</h6><div class="imandra-table" id="table-df659529-0ae6-4704-b7c4-047c4e3c569d"><table><tr><td><b>into</b></td><td><pre>true</pre></td></tr><tr><td><b>expansions</b></td><td><pre>[List.length, List.length, interleave_strict]</pre></td></tr><tr><td><b>rewrite_steps</b></td><td><ul></ul></td></tr><tr><td><b>forward_chaining</b></td><td><ul><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li></ul></td></tr></table></div></div></li></ul></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-bda6f450-8d61-44de-a3cf-5c35313ee10e';
  fold.hydrate(target);
});
</script></div></div></li></ul></div></li></ul></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-da1a3530-1835-4461-8df5-6a02e092f9f0';
  fold.hydrate(target);
});
</script></div></div></li></ul></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-8a44ba7f-f7c3-4d1d-9e23-40eee10924b8';
  fold.hydrate(target);
});
</script></div></div><div class="tab-pane"><div class="imandra-graphviz" id="graphviz-51005e82-c687-495e-af38-ecc71d85da6c"><textarea style="display: none">digraph &quot;proof&quot; {
p_398 [label=&quot;Start (List.length (interleave_strict :var_0: :var_1:) \&lt;=\l       (List.length :var_0: + List.length :var_1:) :name \&quot;Goal\&quot; :time 0.210s)&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_398 -&gt; p_396 [label=&quot;&quot;];
subgraph cluster_397 {
  color=blue;
p_396 [label=&quot;Start (List.length (interleave_strict x y) \&lt;= (List.length x + List.length y)\l       :name \&quot;1\&quot; :time 0.210s)&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_396 -&gt; p_395 [label=&quot;&quot;];
p_395 [label=&quot;Induct ((structural+ x, y),\l        :scheme φ x []\l                &amp;&amp; φ [] y\l                   &amp;&amp; (y \&lt;\&gt; [] &amp;&amp; x \&lt;\&gt; [] &amp;&amp; φ (List.tl x) (List.tl y)\l                       ==\&gt; φ x y))&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_395 -&gt; p_394 [label=&quot;&quot;];
p_394 [label=&quot;Split (let (_x_0 : int) = List.length x in\l       let (_x_1 : int) = List.length [] in\l       let (_x_2 : int) = List.length y in\l       let (_x_3 : sko_ty_0 list) = List.tl x in\l       let (_x_4 : sko_ty_0 list) = List.tl y in\l       (List.length (interleave_strict x []) \&lt;= (_x_0 + _x_1)\l        &amp;&amp; List.length (interleave_strict [] y) \&lt;= (_x_1 + _x_2))\l       &amp;&amp; (not\l           ((y \&lt;\&gt; [] &amp;&amp; x \&lt;\&gt; [])\l            &amp;&amp; List.length (interleave_strict _x_3 _x_4) \&lt;=\l               (List.length _x_3 + List.length _x_4))\l           \|\| List.length (interleave_strict x y) \&lt;= (_x_0 + _x_2))\l       :cases [List.length (interleave_strict x []) \&lt;=\l               (List.length x + List.length []);\l               List.length (interleave_strict [] y) \&lt;=\l               (List.length [] + List.length y);\l               let (_x_0 : sko_ty_0 list) = List.tl x in\l               let (_x_1 : sko_ty_0 list) = List.tl y in\l               ((not (y \&lt;\&gt; []) \|\| not (x \&lt;\&gt; []))\l                \|\| not\l                   (List.length (interleave_strict _x_0 _x_1) \&lt;=\l                    (List.length _x_0 + List.length _x_1)))\l               \|\| List.length (interleave_strict x y) \&lt;=\l                  (List.length x + List.length y)])&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_394 -&gt; p_386 [label=&quot;&quot;];
subgraph cluster_387 {
  color=blue;
p_386 [label=&quot;Start (let (_x_0 : sko_ty_0 list) = List.tl x in\l       let (_x_1 : sko_ty_0 list) = List.tl y in\l       ((not (y \&lt;\&gt; []) \|\| not (x \&lt;\&gt; []))\l        \|\| not\l           (List.length (interleave_strict _x_0 _x_1) \&lt;=\l            (List.length _x_0 + List.length _x_1)))\l       \|\| List.length (interleave_strict x y) \&lt;=\l          (List.length x + List.length y)\l       :name \&quot;1\&quot; :time 0.209s)&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_386 -&gt; p_385 [label=&quot;&quot;];
p_385 [label=&quot;Simplify (let (_x_0 : sko_ty_0 list) = List.tl x in\l          let (_x_1 : sko_ty_0 list) = List.tl y in\l          let (_x_2 : sko_ty_0 list) = interleave_strict _x_0 _x_1 in\l          let (_x_3 : int) = List.length _x_0 in\l          let (_x_4 : int) = List.length _x_1 in\l          ((not (y \&lt;\&gt; []) \|\| not (x \&lt;\&gt; []))\l           \|\| not (List.length _x_2 \&lt;= (_x_3 + _x_4)))\l          \|\| List.length ((List.hd y) :: _x_2) \&lt;= ((1 + _x_3) + _x_4)\l          :expansions [List.length;\l                       List.length;\l                       List.length;\l                       interleave_strict]\l          :rw []\l          :fc [List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative])&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_385 -&gt; p_384 [label=&quot;&quot;];
p_384 [label=&quot;Simplify (true :expansions [List.length] :rw []\l          :fc [List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative])&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
}
p_394 -&gt; p_389 [label=&quot;&quot;];
subgraph cluster_390 {
  color=blue;
p_389 [label=&quot;Start (List.length (interleave_strict [] y) \&lt;=\l       (List.length [] + List.length y) :name \&quot;2\&quot; :time 0.209s)&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_389 -&gt; p_388 [label=&quot;&quot;];
p_388 [label=&quot;Simplify (true :expansions [List.length; List.length; interleave_strict]\l          :rw []\l          :fc [List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative])&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
}
p_394 -&gt; p_392 [label=&quot;&quot;];
subgraph cluster_393 {
  color=blue;
p_392 [label=&quot;Start (List.length (interleave_strict x []) \&lt;=\l       (List.length x + List.length []) :name \&quot;3\&quot; :time 0.209s)&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_392 -&gt; p_391 [label=&quot;&quot;];
p_391 [label=&quot;Simplify (true :expansions [List.length; List.length; interleave_strict]\l          :rw []\l          :fc [List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative])&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
}
}
}
</textarea><button class="btn btn-primary">Load graph</button><div class="imandra-graphviz-loading display-none">Loading..</div><div class="imandra-graphviz-target"></div><script>
require(['nbextensions/nbimandra/graphviz'], function (graphviz) {
  var target = '#graphviz-51005e82-c687-495e-af38-ecc71d85da6c';
  graphviz.hydrate(target);
});
</script></div></div></div><script>
require(['nbextensions/nbimandra/alternatives'], function (alternatives) {
  var target = '#alt-3f4d08aa-b461-4303-8848-a32abef9580e';
  alternatives.hydrate(target);
});
</script></div></div></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-95de424a-aaeb-4218-a7da-c5fbe6e89a33';
  fold.hydrate(target);
});
</script></div></div></div></div>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="try-this-container">
  <a href="https://try.imandra.ai/launch/?next=/h/user-redirect/notebooks/Verification%20-%20Induction.ipynb%23try-cell-22" target="_blank" rel="nofollow">
    <div class="try-this">Try this!</div>
  </a>
</div>
<div class="input">
<div class="prompt input_prompt">In&nbsp;[13]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ocaml"><pre><span></span><span class="n">verify</span> <span class="o">(</span><span class="k">fun</span> <span class="n">x</span> <span class="n">y</span> <span class="o">-&gt;</span>
  <span class="nn">List</span><span class="p">.</span><span class="n">length</span> <span class="o">@@</span> <span class="n">interleave_strict</span> <span class="n">x</span> <span class="n">y</span> <span class="o">&lt;=</span> <span class="nn">List</span><span class="p">.</span><span class="n">length</span> <span class="n">x</span> <span class="o">+</span> <span class="nn">List</span><span class="p">.</span><span class="n">length</span> <span class="n">y</span><span class="o">)</span>
<span class="o">[@@</span><span class="n">induct</span> <span class="n">structural_mult</span> <span class="o">(</span><span class="n">x</span><span class="o">,</span><span class="n">y</span><span class="o">)]</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt output_prompt">Out[13]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>- : &#39;a list -&gt; &#39;a list -&gt; bool = &lt;fun&gt;
<span class="ansi-white-intense-fg ansi-bold">Goal</span>:

(List.length @@ interleave_strict x y) &lt;= (List.length x + List.length y).

1 nontautological subgoal.

<span class="ansi-cyan-intense-fg ansi-bold">Induction scheme</span>:

 φ [] []
 &amp;&amp; (y &lt;&gt; [] &amp;&amp; φ [] (List.tl y) ==&gt; φ [] y)
    &amp;&amp; (x &lt;&gt; [] &amp;&amp; φ (List.tl x) [] ==&gt; φ x [])
       &amp;&amp; (y &lt;&gt; [] &amp;&amp; x &lt;&gt; [] &amp;&amp; φ (List.tl x) (List.tl y) ==&gt; φ x y).

4 nontautological subgoals.

<span class="ansi-white-intense-fg ansi-bold">Subgoal 4</span>:

|---------------------------------------------------------------------------
 List.length (interleave_strict [] []) &lt;= (2 * List.length [])

But simplification reduces this to true, using the definitions of <span class="ansi-blue-intense-fg ansi-bold">List.length
</span>and<span class="ansi-blue-intense-fg ansi-bold"> interleave_strict</span>.

<span class="ansi-white-intense-fg ansi-bold">Subgoal 3</span>:

 H0. y &lt;&gt; []
 H1. List.length (interleave_strict [] (List.tl y)) &lt;=
     (List.length [] + List.length (List.tl y))
|---------------------------------------------------------------------------
 List.length (interleave_strict [] y) &lt;= (List.length [] + List.length y)

But simplification reduces this to true, using the definitions of <span class="ansi-blue-intense-fg ansi-bold">List.length
</span>and<span class="ansi-blue-intense-fg ansi-bold"> interleave_strict</span>.

<span class="ansi-white-intense-fg ansi-bold">Subgoal 2</span>:

 H0. x &lt;&gt; []
 H1. List.length (interleave_strict (List.tl x) []) &lt;=
     (List.length (List.tl x) + List.length [])
|---------------------------------------------------------------------------
 List.length (interleave_strict x []) &lt;= (List.length x + List.length [])

But simplification reduces this to true, using the definitions of <span class="ansi-blue-intense-fg ansi-bold">List.length
</span>and<span class="ansi-blue-intense-fg ansi-bold"> interleave_strict</span>.

<span class="ansi-white-intense-fg ansi-bold">Subgoal 1</span>:

 H0. y &lt;&gt; []
 H1. x &lt;&gt; []
 H2. List.length (interleave_strict (List.tl x) (List.tl y)) &lt;=
     (List.length (List.tl x) + List.length (List.tl y))
|---------------------------------------------------------------------------
 List.length (interleave_strict x y) &lt;= (List.length x + List.length y)

This simplifies, using the definitions of <span class="ansi-blue-intense-fg ansi-bold">List.length </span>and<span class="ansi-blue-intense-fg ansi-bold"> interleave_strict</span>
to:

<span class="ansi-white-intense-fg ansi-bold">Subgoal 1&#39;</span>:

 H0. y &lt;&gt; []
 H1. x &lt;&gt; []
 H2. List.length (interleave_strict (List.tl x) (List.tl y)) &lt;=
     (List.length (List.tl x) + List.length (List.tl y))
|---------------------------------------------------------------------------
 List.length ((List.hd y) :: (interleave_strict (List.tl x) (List.tl y))) &lt;=
 ((1 + List.length (List.tl x)) + List.length (List.tl y))

But simplification reduces this to true, using the definition of <span class="ansi-blue-intense-fg ansi-bold">List.length</span>.

<span class="ansi-cyan-intense-fg ansi-bold"> ⓘ </span> Rules:
    (:def List.length)
    (:def interleave_strict)
    (:fc List.len_nonnegative)
    (:induct struct list)

</pre>
</div>

</div>

<div class="output_area">

<div class="prompt"></div>



<div class="output_html rendered_html output_subarea ">
<div><div style="font-size: 1.2em; padding: 0.5em; border-top: 1px solid green; border-bottom: 1px solid green"><i class="fa fa-check-circle" style="margin-right: 0.5em; color: green"></i><span>Proved</span></div><div><div class="imandra-proof-top"><div class="imandra-fold panel panel-default" id="fold-4eb128d4-1316-4155-90c1-7df3d9360d7f"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>proof</span></div></div><div class="panel-body collapse"><div class="imandra-proof"><div class="imandra-alternatives" id="alt-cfa785fe-fa90-453c-9377-1e655ceabbc2"><ul class="nav nav-tabs"><li class="active" data-toggle="tab"><a>summary</a></li><li class="" data-toggle="tab"><a>full</a></li><li class="" data-toggle="tab"><a>graph</a></li></ul><div class="tab-content"><div class="tab-pane active"><div class="imandra-table" id="table-26b6e20e-a312-41db-808a-c17601754bde"><table><tr><td><b>ground_instances</b></td><td>0</td></tr><tr><td><b>definitions</b></td><td>16</td></tr><tr><td><b>inductions</b></td><td>1</td></tr><tr><td><b>search_time</b></td><td><pre>0.190s</pre></td></tr></table></div></div><div class="tab-pane"><div class="imandra-fold panel panel-default" id="fold-abb6bac3-bc60-4040-895b-71e34f270c5f"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>Expand</span></div></div><div class="panel-body collapse"><ul><li><pre>start[0.190s, &quot;Goal&quot;]
  List.length (interleave_strict :var_0: :var_1:) &lt;=
  (List.length :var_0: + List.length :var_1:)</pre></li><li><div><h4>subproof</h4><div class="imandra-fold panel panel-default" id="fold-5153b78b-f15b-4f7f-9cfc-a7be5e07306a"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>List.length (interleave_strict x y) &lt;= (List.length x + List.length y)</span></div></div><div class="panel-body collapse"><ul><li><pre>start[0.190s, &quot;1&quot;]
  List.length (interleave_strict x y) &lt;= (List.length x + List.length y)</pre></li><li><pre>induction on (structural* x, y)
:scheme φ [] []
        &amp;&amp; (y &lt;&gt; [] &amp;&amp; φ [] (List.tl y) ==&gt; φ [] y)
           &amp;&amp; (x &lt;&gt; [] &amp;&amp; φ (List.tl x) [] ==&gt; φ x [])
              &amp;&amp; (y &lt;&gt; [] &amp;&amp; x &lt;&gt; [] &amp;&amp; φ (List.tl x) (List.tl y) ==&gt; φ x y)</pre></li><li><div><pre>Split (let (_x_0 : int) = List.length [] in
       let (_x_1 : bool) = y &lt;&gt; [] in
       let (_x_2 : sko_ty_0 list) = List.tl y in
       let (_x_3 : int) = List.length _x_2 in
       let (_x_4 : int) = List.length y in
       let (_x_5 : bool) = x &lt;&gt; [] in
       let (_x_6 : sko_ty_0 list) = List.tl x in
       let (_x_7 : int) = List.length _x_6 in
       let (_x_8 : int) = List.length x in
       ((List.length (interleave_strict [] []) &lt;= (2 * _x_0)
         &amp;&amp; (not
             (_x_1
              &amp;&amp; List.length (interleave_strict [] _x_2) &lt;= (_x_0 + _x_3))
             || List.length (interleave_strict [] y) &lt;= (_x_0 + _x_4)))
        &amp;&amp; (not
            (_x_5 &amp;&amp; List.length (interleave_strict _x_6 []) &lt;= (_x_7 + _x_0))
            || List.length (interleave_strict x []) &lt;= (_x_8 + _x_0)))
       &amp;&amp; (not
           ((_x_1 &amp;&amp; _x_5)
            &amp;&amp; List.length (interleave_strict _x_6 _x_2) &lt;= (_x_7 + _x_3))
           || List.length (interleave_strict x y) &lt;= (_x_8 + _x_4))
       :cases [List.length (interleave_strict [] []) &lt;= (2 * List.length []);
               let (_x_0 : sko_ty_0 list) = List.tl y in
               let (_x_1 : int) = List.length [] in
               (not (y &lt;&gt; [])
                || not
                   (List.length (interleave_strict [] _x_0) &lt;=
                    (_x_1 + List.length _x_0)))
               || List.length (interleave_strict [] y) &lt;=
                  (_x_1 + List.length y);
               let (_x_0 : sko_ty_0 list) = List.tl x in
               let (_x_1 : int) = List.length [] in
               (not (x &lt;&gt; [])
                || not
                   (List.length (interleave_strict _x_0 []) &lt;=
                    (List.length _x_0 + _x_1)))
               || List.length (interleave_strict x []) &lt;=
                  (List.length x + _x_1);
               let (_x_0 : sko_ty_0 list) = List.tl x in
               let (_x_1 : sko_ty_0 list) = List.tl y in
               ((not (y &lt;&gt; []) || not (x &lt;&gt; []))
                || not
                   (List.length (interleave_strict _x_0 _x_1) &lt;=
                    (List.length _x_0 + List.length _x_1)))
               || List.length (interleave_strict x y) &lt;=
                  (List.length x + List.length y)])</pre><ul><li><div><h5>subproof</h5><div class="imandra-fold panel panel-default" id="fold-6a799db3-a1fa-4599-9c57-9a363928cd56"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>let (_x_0 : sko_ty_0 list) = List.tl x in
let (_x_1 : sko_ty_0 list) = List.tl y in
((not (y &lt;&gt; []) || not (x &lt;&gt; []))
 || not
    (List.length (interleave_strict _x_0 _x_1) &lt;=
     (List.length _x_0 + List.length _x_1)))
|| List.length (interleave_strict x y) &lt;= (List.length x + List.length y)</span></div></div><div class="panel-body collapse"><ul><li><pre>start[0.189s, &quot;1&quot;]
  let (_x_0 : sko_ty_0 list) = List.tl x in
  let (_x_1 : sko_ty_0 list) = List.tl y in
  ((not (y &lt;&gt; []) || not (x &lt;&gt; []))
   || not
      (List.length (interleave_strict _x_0 _x_1) &lt;=
       (List.length _x_0 + List.length _x_1)))
  || List.length (interleave_strict x y) &lt;= (List.length x + List.length y)</pre></li><li><div><h6>simplify</h6><div class="imandra-table" id="table-e84a5fac-1972-4b3f-871e-1b4bd393d2ae"><table><tr><td><b>into</b></td><td><pre>let (_x_0 : sko_ty_0 list) = List.tl x in
let (_x_1 : sko_ty_0 list) = List.tl y in
let (_x_2 : sko_ty_0 list) = interleave_strict _x_0 _x_1 in
let (_x_3 : int) = List.length _x_0 in
let (_x_4 : int) = List.length _x_1 in
((not (y &lt;&gt; []) || not (x &lt;&gt; [])) || not (List.length _x_2 &lt;= (_x_3 + _x_4)))
|| List.length ((List.hd y) :: _x_2) &lt;= ((1 + _x_3) + _x_4)</pre></td></tr><tr><td><b>expansions</b></td><td><pre>[List.length, List.length, List.length, interleave_strict]</pre></td></tr><tr><td><b>rewrite_steps</b></td><td><ul></ul></td></tr><tr><td><b>forward_chaining</b></td><td><ul><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li></ul></td></tr></table></div></div></li><li><div><h6>simplify</h6><div class="imandra-table" id="table-d4ce2650-6c8d-4229-99e4-4cba90a6bf2a"><table><tr><td><b>into</b></td><td><pre>true</pre></td></tr><tr><td><b>expansions</b></td><td><pre>List.length</pre></td></tr><tr><td><b>rewrite_steps</b></td><td><ul></ul></td></tr><tr><td><b>forward_chaining</b></td><td><ul><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li></ul></td></tr></table></div></div></li></ul></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-6a799db3-a1fa-4599-9c57-9a363928cd56';
  fold.hydrate(target);
});
</script></div></div></li><li><div><h5>subproof</h5><div class="imandra-fold panel panel-default" id="fold-a2311b4e-4d4f-4e75-96a4-fd9f4c097a54"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>let (_x_0 : sko_ty_0 list) = List.tl x in
let (_x_1 : int) = List.length [] in
(not (x &lt;&gt; [])
 || not
    (List.length (interleave_strict _x_0 []) &lt;= (List.length _x_0 + _x_1)))
|| List.length (interleave_strict x []) &lt;= (List.length x + _x_1)</span></div></div><div class="panel-body collapse"><ul><li><pre>start[0.189s, &quot;2&quot;]
  let (_x_0 : sko_ty_0 list) = List.tl x in
  let (_x_1 : int) = List.length [] in
  (not (x &lt;&gt; [])
   || not
      (List.length (interleave_strict _x_0 []) &lt;= (List.length _x_0 + _x_1)))
  || List.length (interleave_strict x []) &lt;= (List.length x + _x_1)</pre></li><li><div><h6>simplify</h6><div class="imandra-table" id="table-620935cb-7a76-46a9-a6fd-e29558713c7c"><table><tr><td><b>into</b></td><td><pre>true</pre></td></tr><tr><td><b>expansions</b></td><td><pre>[List.length, List.length, List.length, interleave_strict]</pre></td></tr><tr><td><b>rewrite_steps</b></td><td><ul></ul></td></tr><tr><td><b>forward_chaining</b></td><td><ul><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li></ul></td></tr></table></div></div></li></ul></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-a2311b4e-4d4f-4e75-96a4-fd9f4c097a54';
  fold.hydrate(target);
});
</script></div></div></li><li><div><h5>subproof</h5><div class="imandra-fold panel panel-default" id="fold-1d4cf0ec-62ae-4ca2-9f6c-8a0045daec70"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>let (_x_0 : sko_ty_0 list) = List.tl y in
let (_x_1 : int) = List.length [] in
(not (y &lt;&gt; [])
 || not
    (List.length (interleave_strict [] _x_0) &lt;= (_x_1 + List.length _x_0)))
|| List.length (interleave_strict [] y) &lt;= (_x_1 + List.length y)</span></div></div><div class="panel-body collapse"><ul><li><pre>start[0.189s, &quot;3&quot;]
  let (_x_0 : sko_ty_0 list) = List.tl y in
  let (_x_1 : int) = List.length [] in
  (not (y &lt;&gt; [])
   || not
      (List.length (interleave_strict [] _x_0) &lt;= (_x_1 + List.length _x_0)))
  || List.length (interleave_strict [] y) &lt;= (_x_1 + List.length y)</pre></li><li><div><h6>simplify</h6><div class="imandra-table" id="table-c6b1f0a6-1d8f-46cd-a874-70f5f63646f2"><table><tr><td><b>into</b></td><td><pre>true</pre></td></tr><tr><td><b>expansions</b></td><td><pre>[List.length, List.length, List.length, interleave_strict]</pre></td></tr><tr><td><b>rewrite_steps</b></td><td><ul></ul></td></tr><tr><td><b>forward_chaining</b></td><td><ul><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li></ul></td></tr></table></div></div></li></ul></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-1d4cf0ec-62ae-4ca2-9f6c-8a0045daec70';
  fold.hydrate(target);
});
</script></div></div></li><li><div><h5>subproof</h5><div class="imandra-fold panel panel-default" id="fold-290854ac-5e75-4009-bbdb-ef3bf8515c52"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>List.length (interleave_strict [] []) &lt;= (2 * List.length [])</span></div></div><div class="panel-body collapse"><ul><li><pre>start[0.189s, &quot;4&quot;]
  List.length (interleave_strict [] []) &lt;= (2 * List.length [])</pre></li><li><div><h6>simplify</h6><div class="imandra-table" id="table-05656de2-7139-422b-83f7-4e8be5c1fd6e"><table><tr><td><b>into</b></td><td><pre>true</pre></td></tr><tr><td><b>expansions</b></td><td><pre>[List.length, List.length, interleave_strict]</pre></td></tr><tr><td><b>rewrite_steps</b></td><td><ul></ul></td></tr><tr><td><b>forward_chaining</b></td><td><ul><li><pre>List.len_nonnegative</pre></li><li><pre>List.len_nonnegative</pre></li></ul></td></tr></table></div></div></li></ul></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-290854ac-5e75-4009-bbdb-ef3bf8515c52';
  fold.hydrate(target);
});
</script></div></div></li></ul></div></li></ul></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-5153b78b-f15b-4f7f-9cfc-a7be5e07306a';
  fold.hydrate(target);
});
</script></div></div></li></ul></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-abb6bac3-bc60-4040-895b-71e34f270c5f';
  fold.hydrate(target);
});
</script></div></div><div class="tab-pane"><div class="imandra-graphviz" id="graphviz-6ee11665-ee7b-4192-87a8-c06bf424aaab"><textarea style="display: none">digraph &quot;proof&quot; {
p_416 [label=&quot;Start (List.length (interleave_strict :var_0: :var_1:) \&lt;=\l       (List.length :var_0: + List.length :var_1:) :name \&quot;Goal\&quot; :time 0.190s)&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_416 -&gt; p_414 [label=&quot;&quot;];
subgraph cluster_415 {
  color=blue;
p_414 [label=&quot;Start (List.length (interleave_strict x y) \&lt;= (List.length x + List.length y)\l       :name \&quot;1\&quot; :time 0.190s)&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_414 -&gt; p_413 [label=&quot;&quot;];
p_413 [label=&quot;Induct ((structural* x, y),\l        :scheme φ [] []\l                &amp;&amp; (y \&lt;\&gt; [] &amp;&amp; φ [] (List.tl y) ==\&gt; φ [] y)\l                   &amp;&amp; (x \&lt;\&gt; [] &amp;&amp; φ (List.tl x) [] ==\&gt; φ x [])\l                      &amp;&amp; (y \&lt;\&gt; [] &amp;&amp; x \&lt;\&gt; [] &amp;&amp; φ (List.tl x) (List.tl y)\l                          ==\&gt; φ x y))&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_413 -&gt; p_412 [label=&quot;&quot;];
p_412 [label=&quot;Split (let (_x_0 : int) = List.length [] in\l       let (_x_1 : bool) = y \&lt;\&gt; [] in\l       let (_x_2 : sko_ty_0 list) = List.tl y in\l       let (_x_3 : int) = List.length _x_2 in\l       let (_x_4 : int) = List.length y in\l       let (_x_5 : bool) = x \&lt;\&gt; [] in\l       let (_x_6 : sko_ty_0 list) = List.tl x in\l       let (_x_7 : int) = List.length _x_6 in\l       let (_x_8 : int) = List.length x in\l       ((List.length (interleave_strict [] []) \&lt;= (2 * _x_0)\l         &amp;&amp; (not\l             (_x_1\l              &amp;&amp; List.length (interleave_strict [] _x_2) \&lt;= (_x_0 + _x_3))\l             \|\| List.length (interleave_strict [] y) \&lt;= (_x_0 + _x_4)))\l        &amp;&amp; (not\l            (_x_5 &amp;&amp; List.length (interleave_strict _x_6 []) \&lt;= (_x_7 + _x_0))\l            \|\| List.length (interleave_strict x []) \&lt;= (_x_8 + _x_0)))\l       &amp;&amp; (not\l           ((_x_1 &amp;&amp; _x_5)\l            &amp;&amp; List.length (interleave_strict _x_6 _x_2) \&lt;= (_x_7 + _x_3))\l           \|\| List.length (interleave_strict x y) \&lt;= (_x_8 + _x_4))\l       :cases [List.length (interleave_strict [] []) \&lt;= (2 * List.length []);\l               let (_x_0 : sko_ty_0 list) = List.tl y in\l               let (_x_1 : int) = List.length [] in\l               (not (y \&lt;\&gt; [])\l                \|\| not\l                   (List.length (interleave_strict [] _x_0) \&lt;=\l                    (_x_1 + List.length _x_0)))\l               \|\| List.length (interleave_strict [] y) \&lt;=\l                  (_x_1 + List.length y);\l               let (_x_0 : sko_ty_0 list) = List.tl x in\l               let (_x_1 : int) = List.length [] in\l               (not (x \&lt;\&gt; [])\l                \|\| not\l                   (List.length (interleave_strict _x_0 []) \&lt;=\l                    (List.length _x_0 + _x_1)))\l               \|\| List.length (interleave_strict x []) \&lt;=\l                  (List.length x + _x_1);\l               let (_x_0 : sko_ty_0 list) = List.tl x in\l               let (_x_1 : sko_ty_0 list) = List.tl y in\l               ((not (y \&lt;\&gt; []) \|\| not (x \&lt;\&gt; []))\l                \|\| not\l                   (List.length (interleave_strict _x_0 _x_1) \&lt;=\l                    (List.length _x_0 + List.length _x_1)))\l               \|\| List.length (interleave_strict x y) \&lt;=\l                  (List.length x + List.length y)])&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_412 -&gt; p_401 [label=&quot;&quot;];
subgraph cluster_402 {
  color=blue;
p_401 [label=&quot;Start (let (_x_0 : sko_ty_0 list) = List.tl x in\l       let (_x_1 : sko_ty_0 list) = List.tl y in\l       ((not (y \&lt;\&gt; []) \|\| not (x \&lt;\&gt; []))\l        \|\| not\l           (List.length (interleave_strict _x_0 _x_1) \&lt;=\l            (List.length _x_0 + List.length _x_1)))\l       \|\| List.length (interleave_strict x y) \&lt;=\l          (List.length x + List.length y)\l       :name \&quot;1\&quot; :time 0.189s)&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_401 -&gt; p_400 [label=&quot;&quot;];
p_400 [label=&quot;Simplify (let (_x_0 : sko_ty_0 list) = List.tl x in\l          let (_x_1 : sko_ty_0 list) = List.tl y in\l          let (_x_2 : sko_ty_0 list) = interleave_strict _x_0 _x_1 in\l          let (_x_3 : int) = List.length _x_0 in\l          let (_x_4 : int) = List.length _x_1 in\l          ((not (y \&lt;\&gt; []) \|\| not (x \&lt;\&gt; []))\l           \|\| not (List.length _x_2 \&lt;= (_x_3 + _x_4)))\l          \|\| List.length ((List.hd y) :: _x_2) \&lt;= ((1 + _x_3) + _x_4)\l          :expansions [List.length;\l                       List.length;\l                       List.length;\l                       interleave_strict]\l          :rw []\l          :fc [List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative])&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_400 -&gt; p_399 [label=&quot;&quot;];
p_399 [label=&quot;Simplify (true :expansions [List.length] :rw []\l          :fc [List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative])&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
}
p_412 -&gt; p_404 [label=&quot;&quot;];
subgraph cluster_405 {
  color=blue;
p_404 [label=&quot;Start (let (_x_0 : sko_ty_0 list) = List.tl x in\l       let (_x_1 : int) = List.length [] in\l       (not (x \&lt;\&gt; [])\l        \|\| not\l           (List.length (interleave_strict _x_0 []) \&lt;=\l            (List.length _x_0 + _x_1)))\l       \|\| List.length (interleave_strict x []) \&lt;= (List.length x + _x_1)\l       :name \&quot;2\&quot; :time 0.189s)&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_404 -&gt; p_403 [label=&quot;&quot;];
p_403 [label=&quot;Simplify (true\l          :expansions [List.length;\l                       List.length;\l                       List.length;\l                       interleave_strict]\l          :rw []\l          :fc [List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative])&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
}
p_412 -&gt; p_407 [label=&quot;&quot;];
subgraph cluster_408 {
  color=blue;
p_407 [label=&quot;Start (let (_x_0 : sko_ty_0 list) = List.tl y in\l       let (_x_1 : int) = List.length [] in\l       (not (y \&lt;\&gt; [])\l        \|\| not\l           (List.length (interleave_strict [] _x_0) \&lt;=\l            (_x_1 + List.length _x_0)))\l       \|\| List.length (interleave_strict [] y) \&lt;= (_x_1 + List.length y)\l       :name \&quot;3\&quot; :time 0.189s)&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_407 -&gt; p_406 [label=&quot;&quot;];
p_406 [label=&quot;Simplify (true\l          :expansions [List.length;\l                       List.length;\l                       List.length;\l                       interleave_strict]\l          :rw []\l          :fc [List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative;\l               List.len_nonnegative])&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
}
p_412 -&gt; p_410 [label=&quot;&quot;];
subgraph cluster_411 {
  color=blue;
p_410 [label=&quot;Start (List.length (interleave_strict [] []) \&lt;= (2 * List.length [])\l       :name \&quot;4\&quot; :time 0.189s)&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_410 -&gt; p_409 [label=&quot;&quot;];
p_409 [label=&quot;Simplify (true :expansions [List.length; List.length; interleave_strict]\l          :rw [] :fc [List.len_nonnegative; List.len_nonnegative])&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
}
}
}
</textarea><button class="btn btn-primary">Load graph</button><div class="imandra-graphviz-loading display-none">Loading..</div><div class="imandra-graphviz-target"></div><script>
require(['nbextensions/nbimandra/graphviz'], function (graphviz) {
  var target = '#graphviz-6ee11665-ee7b-4192-87a8-c06bf424aaab';
  graphviz.hydrate(target);
});
</script></div></div></div><script>
require(['nbextensions/nbimandra/alternatives'], function (alternatives) {
  var target = '#alt-cfa785fe-fa90-453c-9377-1e655ceabbc2';
  alternatives.hydrate(target);
});
</script></div></div></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-4eb128d4-1316-4155-90c1-7df3d9360d7f';
  fold.hydrate(target);
});
</script></div></div></div></div>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>Imandra was able to prove the property using both flavors of structural
induction, but we can see that the proof using the additive flavor was shorter.
Multiplicative schemes will often result in longer proofs than additive schemes,
and thus Imandra uses the additive flavor by default when
<code>[@@induct structural ...]</code> is used.</p>
<!-- TODO -->
<!-- ## Onward Through the Fog --></div>
</div>
</div>
                    </div>
                </article>
            </main>
            <footer class="footer">
                <a class="copyrights"href="http://imandra.ai">&#9400; 2018 - 2020 Imandra Inc. All rights reserved.</a>
            </footer>
        </div>
    
 


    <script>
    (function () {
            var lastId;
            var sideMenu = $("#side-nav-menu");
            var topMenu = $("#top-menu");
            var topMenuHeight = topMenu.outerHeight() + 15;

            // All list items
            var menuItems = sideMenu.find('a.side__nav-link--within-page');

            // Anchors corresponding to menu items
            var scrollItems = menuItems.map(function () {
              var item = $(this).attr("href");
              var thisItem = item.substring(item.lastIndexOf("#") + 1, item.length);
              var linkedItem = $('#' + CSS.escape(thisItem));
              if (linkedItem.length) { return linkedItem; }
            });

            // Bind to scroll
            $(window).scroll(function () {
                // Get container scroll position
                var fromTop = $(this).scrollTop() + topMenuHeight;;
                // Get id of current scroll item
                var cur = scrollItems.map(function () {
                    if ($(this).offset().top < fromTop)
                        return this;
                });
                cur = cur[cur.length - 1];
                // Get the id of the current element
                var id = cur && cur.length ? cur[0].id : "";
                if (id && lastId !== id) {
                    lastId = id;
                    // Set/remove active class
                    menuItems.each(function (idx, item) {
                    var $item = $(item);
                    $item.removeClass("side__nav-link--within-page--active");

                    if (item.href.endsWith('#' + lastId)) {
                        $item.addClass("side__nav-link--within-page--active");
                    };
                    });
                }
            });
        })()
    </script>
    <script type="text/javascript"> docsearch({
      apiKey: 'ff3a61a82b58783e62ebfbf51e50b0bc',
      indexName: 'imandra',
      inputSelector: '#search',
      debug: false // Set debug to true if you want to inspect the dropdown
    });
    </script>

    </body>
</html>
