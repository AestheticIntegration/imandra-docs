<!DOCTYPE html>
<html>
    <head><meta charset="utf-8" />
        <meta content="width=device-width, initial-scale=1.0" name="viewport">
        <title>Imandra Documentation - Crossing the River Safely</title>
        <meta property="og:url" content="https://docs.imandra.ai/imandra-docs/notebooks/crossing-river-safely/">
        <meta property="og:type" content="website">
        <meta property="og:title" content="Imandra Documentation - Crossing the River Safely">
        <meta property="og:description" content="River example notebooks">
        <meta property="og:image" content="https://storage.googleapis.com/imandra-assets/images/og_image_default_i78.jpg">

        
        <!-- Global site tag (gtag.js) - Google Analytics -->
        <script async src="https://www.googletagmanager.com/gtag/js?id=UA-116937440-6"></script>
        <script>
         window.dataLayer = window.dataLayer || [];
         function gtag(){dataLayer.push(arguments);}
         gtag('js', new Date());

         gtag('config', 'UA-116937440-1');
        </script>
        <script type="text/javascript"> var sc_project=11767520; var sc_invisible=1; var sc_security="fa7e88d1"; </script>
        <script type="text/javascript" src="https://www.statcounter.com/counter/counter.js" async></script>
        <noscript><div class="statcounter">
            <a title="Web Analytics" href="http://statcounter.com/" target="_blank">
                <img class="statcounter" src="//c.statcounter.com/11767520/0/fa7e88d1/1/" alt="Web Analytics"></a>
        </div></noscript>
        

        <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.1.10/require.min.js"></script>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Merriweather+Sans:300,300i,400,400i%7CMerriweather:300,300i,400,400i%7CRoboto+Slab:300,300i,400,400i">

        <link rel="stylesheet" href="/imandra-docs/static/style/style.min.9ef6027e.css" type="text/css">
        <link rel="stylesheet" href="/imandra-docs/static/nbextensions/nbimandra/styles.c7ed3d1a.css" type="text/css">
        <link rel="stylesheet" href="/imandra-docs/static/docs-styles.86fc0481.css" type="text/css">
        
        <link rel="stylesheet" href="/imandra-docs/static/jekyll-styles.9958bf85.css" type="text/css">
        

        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
        <script src="/imandra-docs/static/nbimandra-rjs-bundle.2469bcb7.js"></script>

        <style type="text/css">
         .highlight .hll { background-color: #ffffcc }
         .highlight  { background: #f8f8f8; }
         .highlight .c { color: #408080; font-style: italic } /* Comment */
         .highlight .err { border: 1px solid #FF0000 } /* Error */
         .highlight .k { color: #008000; font-weight: bold } /* Keyword */
         .highlight .o { color: #666666 } /* Operator */
         .highlight .ch { color: #408080; font-style: italic } /* Comment.Hashbang */
         .highlight .cm { color: #408080; font-style: italic } /* Comment.Multiline */
         .highlight .cp { color: #BC7A00 } /* Comment.Preproc */
         .highlight .cpf { color: #408080; font-style: italic } /* Comment.PreprocFile */
         .highlight .c1 { color: #408080; font-style: italic } /* Comment.Single */
         .highlight .cs { color: #408080; font-style: italic } /* Comment.Special */
         .highlight .gd { color: #A00000 } /* Generic.Deleted */
         .highlight .ge { font-style: italic } /* Generic.Emph */
         .highlight .gr { color: #FF0000 } /* Generic.Error */
         .highlight .gh { color: #000080; font-weight: bold } /* Generic.Heading */
         .highlight .gi { color: #00A000 } /* Generic.Inserted */
         .highlight .go { color: #888888 } /* Generic.Output */
         .highlight .gp { color: #000080; font-weight: bold } /* Generic.Prompt */
         .highlight .gs { font-weight: bold } /* Generic.Strong */
         .highlight .gu { color: #800080; font-weight: bold } /* Generic.Subheading */
         .highlight .gt { color: #0044DD } /* Generic.Traceback */
         .highlight .kc { color: #008000; font-weight: bold } /* Keyword.Constant */
         .highlight .kd { color: #008000; font-weight: bold } /* Keyword.Declaration */
         .highlight .kn { color: #008000; font-weight: bold } /* Keyword.Namespace */
         .highlight .kp { color: #008000 } /* Keyword.Pseudo */
         .highlight .kr { color: #008000; font-weight: bold } /* Keyword.Reserved */
         .highlight .kt { color: #B00040 } /* Keyword.Type */
         .highlight .m { color: #666666 } /* Literal.Number */
         .highlight .s { color: #BA2121 } /* Literal.String */
         .highlight .na { color: #7D9029 } /* Name.Attribute */
         .highlight .nb { color: #008000 } /* Name.Builtin */
         .highlight .nc { color: #0000FF; font-weight: bold } /* Name.Class */
         .highlight .no { color: #880000 } /* Name.Constant */
         .highlight .nd { color: #AA22FF } /* Name.Decorator */
         .highlight .ni { color: #999999; font-weight: bold } /* Name.Entity */
         .highlight .ne { color: #D2413A; font-weight: bold } /* Name.Exception */
         .highlight .nf { color: #0000FF } /* Name.Function */
         .highlight .nl { color: #A0A000 } /* Name.Label */
         .highlight .nn { color: #0000FF; font-weight: bold } /* Name.Namespace */
         .highlight .nt { color: #008000; font-weight: bold } /* Name.Tag */
         .highlight .nv { color: #19177C } /* Name.Variable */
         .highlight .ow { color: #AA22FF; font-weight: bold } /* Operator.Word */
         .highlight .w { color: #bbbbbb } /* Text.Whitespace */
         .highlight .mb { color: #666666 } /* Literal.Number.Bin */
         .highlight .mf { color: #666666 } /* Literal.Number.Float */
         .highlight .mh { color: #666666 } /* Literal.Number.Hex */
         .highlight .mi { color: #666666 } /* Literal.Number.Integer */
         .highlight .mo { color: #666666 } /* Literal.Number.Oct */
         .highlight .sa { color: #BA2121 } /* Literal.String.Affix */
         .highlight .sb { color: #BA2121 } /* Literal.String.Backtick */
         .highlight .sc { color: #BA2121 } /* Literal.String.Char */
         .highlight .dl { color: #BA2121 } /* Literal.String.Delimiter */
         .highlight .sd { color: #BA2121; font-style: italic } /* Literal.String.Doc */
         .highlight .s2 { color: #BA2121 } /* Literal.String.Double */
         .highlight .se { color: #BB6622; font-weight: bold } /* Literal.String.Escape */
         .highlight .sh { color: #BA2121 } /* Literal.String.Heredoc */
         .highlight .si { color: #BB6688; font-weight: bold } /* Literal.String.Interpol */
         .highlight .sx { color: #008000 } /* Literal.String.Other */
         .highlight .sr { color: #BB6688 } /* Literal.String.Regex */
         .highlight .s1 { color: #BA2121 } /* Literal.String.Single */
         .highlight .ss { color: #19177C } /* Literal.String.Symbol */
         .highlight .bp { color: #008000 } /* Name.Builtin.Pseudo */
         .highlight .fm { color: #0000FF } /* Name.Function.Magic */
         .highlight .vc { color: #19177C } /* Name.Variable.Class */
         .highlight .vg { color: #19177C } /* Name.Variable.Global */
         .highlight .vi { color: #19177C } /* Name.Variable.Instance */
         .highlight .vm { color: #19177C } /* Name.Variable.Magic */
         .highlight .il { color: #666666 } /* Literal.Number.Integer.Long */
        </style>

        <!-- Loading mathjax macro -->
        <!-- Load mathjax -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS_HTML"></script>
    <!-- MathJax configuration -->
    <script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        tex2jax: {
            inlineMath: [ ['$','$'], ["\\(","\\)"] ],
            displayMath: [ ['$$','$$'], ["\\[","\\]"] ],
            processEscapes: true,
            processEnvironments: true
        },
        // Center justify equations in code and markdown cells. Elsewhere
        // we use CSS to left justify single line equations in code cells.
        displayAlign: 'center',
        "HTML-CSS": {
            styles: {'.MathJax_Display': {"margin": 0}},
            linebreaks: { automatic: true }
        }
    });
    </script>
    <!-- End of mathjax configuration --></head>
    <body>
        <div class="background">
        </div>
        <div class="page-container">
            <main class="main-content-column">
                <!-- Jupyter (Imandra core docs) version -->
<header class="header">
    <div class="top-row-container">
        <div class="top-row">
            <div id="toggler--left" class="side__left-menu-toggler"><a href="#" class="side__toggle">≡ <span class="side__toggle-text">Docs</span></a></div>
            <div class="side__logo-container">
                <a class="side__logo-link" href="/">
                    <img class="side__logo " src = "/imandra-docs/jekyll-resources/assets/img/ai_logo_green.svg">
                </a>
            </div>
            <div id="toggler--right" class="side__right-menu-toggler"><a href="#" class="side__toggle"><span class="side__toggle-text">Pages</span> ≡</a></div>

            <nav class="side__nav-container side__nav-container--hidden">

                <ul class="side__nav-list">
                    
                    <li class="side__nav-list-item TopNavListItem">
                        <a class="side__nav-link" href="/">Documentation Home</a>
                        
                    </li>
                    
                    <li class="side__nav-list-item TopNavListItem">
                        <a class="side__nav-link side__nav-link--active" href="/imandra-docs">Imandra</a>
                        
                        <ul class="side__nav-list--sub-level-1">
                            
                            <li class="side__nav-list-item--sub-level-1">
                                
                                <a class="side__nav-link" href="/imandra-docs/notebooks/welcome">A Quick Tour</a>
                                
                                <ul class="side__nav-list--sub-level-2">
                                    
                                </ul>
                            </li>
                            
                            <li class="side__nav-list-item--sub-level-1">
                                
                                <a class="side__nav-link" href="/imandra-docs/notebooks/installation">Installation</a>
                                
                                <ul class="side__nav-list--sub-level-2">
                                    
                                    <li class="side__nav-list-item--sub-level-2">
                                        <a class="side__nav-link" href="/imandra-docs/notebooks/installation-simple">Simple</a>
                                        
                                    </li>
                                    
                                    <li class="side__nav-list-item--sub-level-2">
                                        <a class="side__nav-link" href="/imandra-docs/notebooks/installation-docker">Docker</a>
                                        
                                    </li>
                                    
                                    <li class="side__nav-list-item--sub-level-2">
                                        <a class="side__nav-link" href="/imandra-docs/notebooks/installation-vscode">VSCode</a>
                                        
                                    </li>
                                    
                                </ul>
                            </li>
                            
                            <li class="side__nav-list-item--sub-level-1">
                                
                                <a class="side__nav-link" href="/imandra-docs/notebooks/logic-and-program-modes">Logic and Program Modes</a>
                                
                                <ul class="side__nav-list--sub-level-2">
                                    
                                </ul>
                            </li>
                            
                            <li class="side__nav-list-item--sub-level-1">
                                
                                <a class="side__nav-link" href="/imandra-docs/notebooks/verification">Verification</a>
                                
                                <ul class="side__nav-list--sub-level-2">
                                    
                                    <li class="side__nav-list-item--sub-level-2">
                                        <a class="side__nav-link" href="/imandra-docs/notebooks/verification/#Commands">Commands</a>
                                        
                                    </li>
                                    
                                    <li class="side__nav-list-item--sub-level-2">
                                        <a class="side__nav-link" href="/imandra-docs/notebooks/verification/#Attributes">Attributes</a>
                                        
                                        <ul class="side__nav-list--sub-level-3">
                                            
                                            <li class="side__nav-list-item--sub-level-3">
                                              <a class="side__nav-link" href="/imandra-docs/notebooks/verification/#Verification-Hints">Verification Hints</a>
                                            </li>
                                            
                                            <li class="side__nav-list-item--sub-level-3">
                                              <a class="side__nav-link" href="/imandra-docs/notebooks/verification/#Rule-Classes">Rule Classes</a>
                                            </li>
                                            
                                        </ul>
                                        
                                    </li>
                                    
                                    <li class="side__nav-list-item--sub-level-2">
                                        <a class="side__nav-link" href="/imandra-docs/notebooks/verification/#Unrolling">Unrolling</a>
                                        
                                    </li>
                                    
                                    <li class="side__nav-list-item--sub-level-2">
                                        <a class="side__nav-link" href="/imandra-docs/notebooks/verification/#Simplification">Simplification</a>
                                        
                                        <ul class="side__nav-list--sub-level-3">
                                            
                                            <li class="side__nav-list-item--sub-level-3">
                                              <a class="side__nav-link" href="/imandra-docs/notebooks/verification/#Rewrite-Rules">Rewrite Rules</a>
                                            </li>
                                            
                                            <li class="side__nav-list-item--sub-level-3">
                                              <a class="side__nav-link" href="/imandra-docs/notebooks/verification/#Forward-chaining-Rules">Forward-chaining Rules</a>
                                            </li>
                                            
                                        </ul>
                                        
                                    </li>
                                    
                                    <li class="side__nav-list-item--sub-level-2">
                                        <a class="side__nav-link" href="/imandra-docs/notebooks/verification/#Induction">Induction</a>
                                        
                                        <ul class="side__nav-list--sub-level-3">
                                            
                                            <li class="side__nav-list-item--sub-level-3">
                                              <a class="side__nav-link" href="/imandra-docs/notebooks/verification/#Functional-Induction">Functional Induction</a>
                                            </li>
                                            
                                            <li class="side__nav-list-item--sub-level-3">
                                              <a class="side__nav-link" href="/imandra-docs/notebooks/verification/#Structural-Induction">Structural Induction</a>
                                            </li>
                                            
                                        </ul>
                                        
                                    </li>
                                    
                                </ul>
                            </li>
                            
                            <li class="side__nav-list-item--sub-level-1">
                                
                                <a class="side__nav-link" href="/imandra-docs/notebooks/proving-program-termination">Proving Program Termination</a>
                                
                                <ul class="side__nav-list--sub-level-2">
                                    
                                </ul>
                            </li>
                            
                            <li class="side__nav-list-item--sub-level-1">
                                
                                Region Decomposition
                                
                                <ul class="side__nav-list--sub-level-2">
                                    
                                    <li class="side__nav-list-item--sub-level-2">
                                        <a class="side__nav-link" href="/imandra-docs/notebooks/decomposition-flags">Imandra Decomposition Flags</a>
                                        
                                    </li>
                                    
                                    <li class="side__nav-list-item--sub-level-2">
                                        <a class="side__nav-link" href="/imandra-docs/notebooks/imandra-tools-intro">Imandra Tools Introduction</a>
                                        
                                    </li>
                                    
                                </ul>
                            </li>
                            
                            <li class="side__nav-list-item--sub-level-1">
                                
                                <a class="side__nav-link" href="/imandra-docs/notebooks/examples">Examples</a>
                                
                                <ul class="side__nav-list--sub-level-2">
                                    
                                    <li class="side__nav-list-item--sub-level-2">
                                        <a class="side__nav-link" href="/imandra-docs/notebooks/recursion-induction-and-rewriting">Recursion, Induction and Rewriting</a>
                                        
                                    </li>
                                    
                                    <li class="side__nav-list-item--sub-level-2">
                                        <a class="side__nav-link" href="/imandra-docs/notebooks/verifying-merge-sort">Verifying Merge Sort in Imandra</a>
                                        
                                    </li>
                                    
                                    <li class="side__nav-list-item--sub-level-2">
                                        <a class="side__nav-link" href="/imandra-docs/notebooks/ubs-case-study">Analysing the UBS ATS Dark Pool</a>
                                        
                                    </li>
                                    
                                    <li class="side__nav-list-item--sub-level-2">
                                        <a class="side__nav-link" href="/imandra-docs/notebooks/webservice-auth-logic">Analysing Web-app Authentication Logic</a>
                                        
                                    </li>
                                    
                                    <li class="side__nav-list-item--sub-level-2">
                                        <a class="side__nav-link" href="/imandra-docs/notebooks/simple-vehicle-controller">Simple Vehicle Controller</a>
                                        
                                    </li>
                                    
                                    <li class="side__nav-list-item--sub-level-2">
                                        <a class="side__nav-link" href="/imandra-docs/notebooks/ripple-carry-adder">Verifying a Ripple Carry Adder</a>
                                        
                                    </li>
                                    
                                    <li class="side__nav-list-item--sub-level-2">
                                        <a class="side__nav-link" href="/imandra-docs/notebooks/verifying-an-ros-node">Creating and Verifying a ROS Node</a>
                                        
                                    </li>
                                    
                                    <li class="side__nav-list-item--sub-level-2">
                                        <a class="side__nav-link" href="/imandra-docs/notebooks/reasonml-tic-tac-toe">Tic Tac Toe with ReasonML</a>
                                        
                                    </li>
                                    
                                    <li class="side__nav-list-item--sub-level-2">
                                        <a class="side__nav-link" href="/imandra-docs/notebooks/probabilistic-reasoning-in-reasonml">Probabilistic Reasoning in ReasonML</a>
                                        
                                    </li>
                                    
                                    <li class="side__nav-list-item--sub-level-2">
                                        <a class="side__nav-link" href="/imandra-docs/notebooks/sudoku">Solving Sudoku with Imandra</a>
                                        
                                    </li>
                                    
                                    <li class="side__nav-list-item--sub-level-2">
                                        <a class="side__nav-link side__nav-link--active" href="/imandra-docs/notebooks/crossing-river-safely">Crossing the River Safely</a>
                                        
                                    </li>
                                    
                                </ul>
                            </li>
                            
                        </ul>
                        
                    </li>
                    
                    <li class="side__nav-list-item TopNavListItem">
                        <a class="side__nav-link" href="/ipl">Imandra Protocol Language</a>
                        
                    </li>
                    
                    <li class="side__nav-list-item TopNavListItem">
                        <a class="side__nav-link" href="/fix-engine">FIX Engine</a>
                        
                    </li>
                    
                </ul>
            </nav>
        </div>
    </div>

    <div class="background">
    </div>

    <div class="template-header">
        <div class="top-bar">
            <nav class="top-bar__nav-container">
                <a href="#" class="top-bar__toggle">≡</a>
                <ul class="top-bar__nav-list top-bar__nav-list--hidden">
                    <li class="top-bar__nav-list-item"><a class="top-bar__nav-link" href="https://www.imandra.ai/">Home</a></li>
                    <li class="top-bar__nav-list-item"><a class="top-bar__nav-link" href="https://try.imandra.ai/">Try</a></li>
                    <li class="top-bar__nav-list-item"><a class="top-bar__nav-link" href="https://medium.com/imandra">Blog</a></li>
                    <li class="top-bar__nav-list-item"><a class="top-bar__nav-link" href="https://www.imandra.ai/research">Research</a></li>
                    <li class="top-bar__nav-list-item"><a class="top-bar__nav-link" href="https://docs.imandra.ai/">Docs</a></li>
                    <li class="top-bar__nav-list-item"><a class="top-bar__nav-link" href="https://www.imandra.ai/media">Media</a></li>
                    <li class="top-bar__nav-list-item"><a class="top-bar__nav-link" href="https://www.imandra.ai/about">About AI</a></li>
                    <li class="top-bar__nav-list-item"><a class="top-bar__nav-link" href="https://www.imandra.ai/careers">CAREERS</a></li>
                    <li class="top-bar__nav-list-item"><a class="top-bar__nav-link" href="https://www.imandra.ai/contact">CONTACT</a></li>
                </ul>
            </nav>
        </div>
        <div class="template-header__image-container template-header__image-container--jupyter">
            <div class="template-header__image" href ="/imandra-docs">
                <img class="SiteSpecificImage" src="/imandra-docs/static/img/site_specific_image_v_2.svg">
            </div>
        </div>
    </div>
    <script>
     document.getElementById('toggler--left').addEventListener('click', function () {
         document.getElementsByClassName('side__nav-container')[0].classList.toggle('side__nav-container--hidden');
         document.getElementsByClassName('top-bar__nav-list')[0].classList.add('top-bar__nav-list--hidden');
     });
     document.getElementById('toggler--right').addEventListener('click', function () {
         document.getElementsByClassName('side__nav-container')[0].classList.add('side__nav-container--hidden');
         document.getElementsByClassName('top-bar__nav-list')[0].classList.toggle('top-bar__nav-list--hidden');
     });
    </script>
</header>
                <article class="ArticleContainer">
                    <div class="main-content main-content--jupyter">
                        
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="Crossing-the-River-Safely">Crossing the River Safely<a class="anchor-link" href="#Crossing-the-River-Safely">&#182;</a></h1><p>For the sake of brain scrambling, we're going to solve this <a href="https://en.wikipedia.org/wiki/Fox,_goose_and_bag_of_beans_puzzle">ancient puzzle</a> using Imandra (<a href="https://medium.com/imandra/the-wolf-goat-and-cabbage-exchange-97e7f3ff8d5a">again!</a>). As most polyvalent farmers will tell you, going to the market with your pet wolf, tastiest goat, and freshest cabbage is sometimes difficult as they tend to have appetite for one another. The good news is that there is a way to cross this river safely anyway.</p>
<p>First we should define the problem by tallying our goods and looking around.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="try-this-container">
  <a href="https://try.imandra.ai/launch/?next=/h/user-redirect/notebooks/Crossing_the_river_safely.ipynb%23try-cell-2" target="_blank" rel="nofollow">
    <div class="try-this">Try this!</div>
  </a>
</div>
<div class="input">
<div class="prompt input_prompt">In&nbsp;[1]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ocaml"><pre><span></span><span class="k">type</span> <span class="n">location</span> <span class="o">=</span>
  <span class="o">|</span> <span class="nc">Boat</span>
  <span class="o">|</span> <span class="nc">LeftCoast</span>
  <span class="o">|</span> <span class="nc">RightCoast</span>
  <span class="o">|</span> <span class="nc">Eaten</span>

<span class="k">type</span> <span class="n">boat</span> <span class="o">=</span>
  <span class="o">|</span> <span class="nc">Left</span>
  <span class="o">|</span> <span class="nc">Right</span>

<span class="k">type</span> <span class="n">good</span> <span class="o">=</span> <span class="nc">Cabbage</span> <span class="o">|</span> <span class="nc">Goat</span> <span class="o">|</span> <span class="nc">Wolf</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt output_prompt">Out[1]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>type location = Boat | LeftCoast | RightCoast | Eaten
type boat = Left | Right
type good = Cabbage | Goat | Wolf
</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>This problem is delicate and will require multiple steps to be solved. Each step should take us from a <code>state</code> to another <code>state</code> (where, hopefully, no cabbage nor goat was hurt).</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="try-this-container">
  <a href="https://try.imandra.ai/launch/?next=/h/user-redirect/notebooks/Crossing_the_river_safely.ipynb%23try-cell-4" target="_blank" rel="nofollow">
    <div class="try-this">Try this!</div>
  </a>
</div>
<div class="input">
<div class="prompt input_prompt">In&nbsp;[2]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ocaml"><pre><span></span><span class="k">type</span> <span class="n">state</span> <span class="o">=</span> <span class="o">{</span>
  <span class="n">cabbage</span> <span class="o">:</span> <span class="n">location</span><span class="o">;</span>
  <span class="n">goat</span> <span class="o">:</span> <span class="n">location</span><span class="o">;</span>
  <span class="n">wolf</span> <span class="o">:</span> <span class="n">location</span><span class="o">;</span>
  <span class="n">boat</span> <span class="o">:</span> <span class="n">boat</span><span class="o">;</span>
<span class="o">}</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt output_prompt">Out[2]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>type state = {
  cabbage : location;
  goat : location;
  wolf : location;
  boat : boat;
}
</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>We can define a few helpers:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="try-this-container">
  <a href="https://try.imandra.ai/launch/?next=/h/user-redirect/notebooks/Crossing_the_river_safely.ipynb%23try-cell-6" target="_blank" rel="nofollow">
    <div class="try-this">Try this!</div>
  </a>
</div>
<div class="input">
<div class="prompt input_prompt">In&nbsp;[3]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ocaml"><pre><span></span><span class="k">let</span> <span class="n">get_location</span> <span class="o">(</span><span class="n">s</span><span class="o">:</span><span class="n">state</span><span class="o">)</span> <span class="o">(</span><span class="n">g</span><span class="o">:</span><span class="n">good</span><span class="o">)</span> <span class="o">=</span> <span class="k">match</span> <span class="n">g</span> <span class="k">with</span>
  <span class="o">|</span> <span class="nc">Cabbage</span> <span class="o">-&gt;</span> <span class="n">s</span><span class="o">.</span><span class="n">cabbage</span>
  <span class="o">|</span> <span class="nc">Goat</span> <span class="o">-&gt;</span> <span class="n">s</span><span class="o">.</span><span class="n">goat</span>
  <span class="o">|</span> <span class="nc">Wolf</span> <span class="o">-&gt;</span> <span class="n">s</span><span class="o">.</span><span class="n">wolf</span>

<span class="k">let</span> <span class="n">set_location</span> <span class="o">(</span><span class="n">s</span><span class="o">:</span><span class="n">state</span><span class="o">)</span> <span class="o">(</span><span class="n">g</span><span class="o">:</span><span class="n">good</span><span class="o">)</span> <span class="o">(</span><span class="n">l</span><span class="o">:</span><span class="n">location</span><span class="o">)</span> <span class="o">=</span> <span class="k">match</span> <span class="n">g</span> <span class="k">with</span>
  <span class="o">|</span> <span class="nc">Cabbage</span> <span class="o">-&gt;</span> <span class="o">{</span> <span class="n">s</span> <span class="k">with</span> <span class="n">cabbage</span> <span class="o">=</span> <span class="n">l</span><span class="o">}</span>
  <span class="o">|</span> <span class="nc">Goat</span>    <span class="o">-&gt;</span> <span class="o">{</span> <span class="n">s</span> <span class="k">with</span> <span class="n">goat</span>    <span class="o">=</span> <span class="n">l</span><span class="o">}</span>
  <span class="o">|</span> <span class="nc">Wolf</span>    <span class="o">-&gt;</span> <span class="o">{</span> <span class="n">s</span> <span class="k">with</span> <span class="n">wolf</span>    <span class="o">=</span> <span class="n">l</span><span class="o">}</span>

<span class="k">let</span> <span class="n">boat_empty</span> <span class="o">(</span><span class="n">s</span><span class="o">:</span><span class="n">state</span><span class="o">)</span> <span class="o">=</span>
  <span class="o">(</span><span class="n">s</span><span class="o">.</span><span class="n">cabbage</span> <span class="o">&lt;&gt;</span> <span class="nc">Boat</span><span class="o">)</span> <span class="o">&amp;&amp;</span>
  <span class="o">(</span><span class="n">s</span><span class="o">.</span><span class="n">goat</span>    <span class="o">&lt;&gt;</span> <span class="nc">Boat</span><span class="o">)</span> <span class="o">&amp;&amp;</span>
  <span class="o">(</span><span class="n">s</span><span class="o">.</span><span class="n">wolf</span>    <span class="o">&lt;&gt;</span> <span class="nc">Boat</span><span class="o">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt output_prompt">Out[3]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>val get_location : state -&gt; good -&gt; location = &lt;fun&gt;
val set_location : state -&gt; good -&gt; location -&gt; state = &lt;fun&gt;
val boat_empty : state -&gt; bool = &lt;fun&gt;
</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Now, transition from a state to the next one is done via <em>actions</em>:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="try-this-container">
  <a href="https://try.imandra.ai/launch/?next=/h/user-redirect/notebooks/Crossing_the_river_safely.ipynb%23try-cell-8" target="_blank" rel="nofollow">
    <div class="try-this">Try this!</div>
  </a>
</div>
<div class="input">
<div class="prompt input_prompt">In&nbsp;[4]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ocaml"><pre><span></span><span class="k">type</span> <span class="n">action</span> <span class="o">=</span>
  <span class="o">|</span> <span class="nc">Pick</span> <span class="k">of</span> <span class="n">good</span>
  <span class="o">|</span> <span class="nc">Drop</span> <span class="k">of</span> <span class="n">good</span>
  <span class="o">|</span> <span class="nc">CrossRiver</span>

<span class="k">let</span> <span class="n">process_action</span> <span class="o">(</span><span class="n">s</span><span class="o">:</span><span class="n">state</span><span class="o">)</span> <span class="o">(</span><span class="n">m</span><span class="o">:</span><span class="n">action</span><span class="o">)</span> <span class="o">:</span> <span class="n">state</span> <span class="o">=</span>
  <span class="k">match</span> <span class="n">m</span> <span class="k">with</span>
  <span class="o">|</span> <span class="nc">CrossRiver</span> <span class="o">-&gt;</span> <span class="o">{</span> <span class="n">s</span> <span class="k">with</span> <span class="n">boat</span> <span class="o">=</span> <span class="k">match</span> <span class="n">s</span><span class="o">.</span><span class="n">boat</span> <span class="k">with</span> <span class="nc">Left</span> <span class="o">-&gt;</span> <span class="nc">Right</span> <span class="o">|</span> <span class="nc">Right</span> <span class="o">-&gt;</span> <span class="nc">Left</span> <span class="o">}</span>
  <span class="o">|</span> <span class="nc">Pick</span> <span class="n">x</span> <span class="o">-&gt;</span> <span class="k">begin</span>
    <span class="k">if</span> <span class="n">not</span> <span class="o">@@</span> <span class="n">boat_empty</span> <span class="n">s</span> <span class="k">then</span> <span class="n">s</span> <span class="k">else</span>
    <span class="k">match</span> <span class="n">get_location</span> <span class="n">s</span> <span class="n">x</span><span class="o">,</span> <span class="n">s</span><span class="o">.</span><span class="n">boat</span> <span class="k">with</span>
    <span class="o">|</span>  <span class="nc">LeftCoast</span> <span class="o">,</span>  <span class="nc">Left</span> <span class="o">-&gt;</span> <span class="n">set_location</span> <span class="n">s</span> <span class="n">x</span> <span class="nc">Boat</span>
    <span class="o">|</span> <span class="nc">RightCoast</span> <span class="o">,</span> <span class="nc">Right</span> <span class="o">-&gt;</span> <span class="n">set_location</span> <span class="n">s</span> <span class="n">x</span> <span class="nc">Boat</span>
    <span class="o">|</span> <span class="o">_</span> <span class="o">-&gt;</span> <span class="n">s</span>
  <span class="k">end</span>
  <span class="o">|</span> <span class="nc">Drop</span> <span class="n">x</span> <span class="o">-&gt;</span> <span class="k">begin</span>
    <span class="k">match</span> <span class="n">get_location</span> <span class="n">s</span> <span class="n">x</span><span class="o">,</span> <span class="n">s</span><span class="o">.</span><span class="n">boat</span> <span class="k">with</span>
    <span class="o">|</span> <span class="nc">Boat</span> <span class="o">,</span>  <span class="nc">Left</span> <span class="o">-&gt;</span> <span class="n">set_location</span> <span class="n">s</span> <span class="n">x</span> <span class="nc">LeftCoast</span>
    <span class="o">|</span> <span class="nc">Boat</span> <span class="o">,</span> <span class="nc">Right</span> <span class="o">-&gt;</span> <span class="n">set_location</span> <span class="n">s</span> <span class="n">x</span> <span class="nc">RightCoast</span>
    <span class="o">|</span> <span class="o">_</span> <span class="o">-&gt;</span> <span class="n">s</span>
  <span class="k">end</span>
<span class="o">;;</span>

<span class="k">let</span> <span class="n">process_eating</span> <span class="n">s</span> <span class="o">=</span>
  <span class="k">match</span> <span class="n">s</span><span class="o">.</span><span class="n">boat</span><span class="o">,</span> <span class="n">s</span><span class="o">.</span><span class="n">cabbage</span><span class="o">,</span> <span class="n">s</span><span class="o">.</span><span class="n">goat</span><span class="o">,</span> <span class="n">s</span><span class="o">.</span><span class="n">wolf</span> <span class="k">with</span>
  <span class="o">|</span> <span class="nc">Right</span><span class="o">,</span> <span class="nc">LeftCoast</span><span class="o">,</span> <span class="nc">LeftCoast</span><span class="o">,</span> <span class="o">_</span>    <span class="o">-&gt;</span> <span class="nc">Some</span> <span class="o">{</span> <span class="n">s</span> <span class="k">with</span> <span class="n">cabbage</span> <span class="o">=</span> <span class="nc">Eaten</span> <span class="o">}</span>
  <span class="o">|</span> <span class="nc">Right</span><span class="o">,</span> <span class="o">_</span> <span class="o">,</span> <span class="nc">LeftCoast</span><span class="o">,</span> <span class="nc">LeftCoast</span>   <span class="o">-&gt;</span> <span class="nc">Some</span> <span class="o">{</span> <span class="n">s</span> <span class="k">with</span> <span class="n">goat</span> <span class="o">=</span> <span class="nc">Eaten</span> <span class="o">}</span>
  <span class="o">|</span>  <span class="nc">Left</span><span class="o">,</span> <span class="nc">RightCoast</span><span class="o">,</span> <span class="nc">RightCoast</span><span class="o">,</span> <span class="o">_</span>  <span class="o">-&gt;</span> <span class="nc">Some</span> <span class="o">{</span> <span class="n">s</span> <span class="k">with</span> <span class="n">cabbage</span> <span class="o">=</span> <span class="nc">Eaten</span> <span class="o">}</span>
  <span class="o">|</span>  <span class="nc">Left</span><span class="o">,</span> <span class="o">_</span> <span class="o">,</span> <span class="nc">RightCoast</span><span class="o">,</span> <span class="nc">RightCoast</span> <span class="o">-&gt;</span> <span class="nc">Some</span> <span class="o">{</span> <span class="n">s</span> <span class="k">with</span> <span class="n">goat</span> <span class="o">=</span> <span class="nc">Eaten</span> <span class="o">}</span>
  <span class="o">|</span> <span class="o">_</span>  <span class="o">-&gt;</span> <span class="nc">None</span>

<span class="c">(* is… it a bad state? *)</span>
<span class="k">let</span> <span class="n">anything_eaten</span> <span class="n">s</span> <span class="o">=</span>
  <span class="n">s</span><span class="o">.</span><span class="n">cabbage</span> <span class="o">=</span> <span class="nc">Eaten</span> <span class="o">||</span> <span class="n">s</span><span class="o">.</span><span class="n">goat</span> <span class="o">=</span> <span class="nc">Eaten</span>

<span class="k">let</span> <span class="n">one_step</span> <span class="n">s</span> <span class="n">a</span> <span class="o">=</span>
  <span class="k">if</span> <span class="n">anything_eaten</span> <span class="n">s</span> <span class="k">then</span> <span class="n">s</span>
  <span class="k">else</span>
    <span class="k">match</span> <span class="n">process_eating</span> <span class="n">s</span> <span class="k">with</span>
    <span class="o">|</span> <span class="nc">Some</span> <span class="n">s</span> <span class="o">-&gt;</span> <span class="n">s</span>
    <span class="o">|</span> <span class="nc">None</span> <span class="o">-&gt;</span>
      <span class="n">process_action</span> <span class="n">s</span> <span class="n">a</span>

<span class="c">(* process many actions. Note that we have to specify that [acts] is</span>
<span class="c">   the argument that proves termination *)</span>
<span class="k">let</span> <span class="k">rec</span> <span class="n">many_steps</span> <span class="n">s</span> <span class="n">acts</span> <span class="o">=</span>
  <span class="k">match</span> <span class="n">acts</span> <span class="k">with</span>
  <span class="o">|</span> <span class="bp">[]</span> <span class="o">-&gt;</span> <span class="n">s</span>
  <span class="o">|</span> <span class="n">a</span> <span class="o">::</span> <span class="n">acts</span> <span class="o">-&gt;</span>
    <span class="k">let</span> <span class="n">s&#39;</span> <span class="o">=</span> <span class="n">one_step</span> <span class="n">s</span> <span class="n">a</span> <span class="k">in</span>
    <span class="n">many_steps</span> <span class="n">s&#39;</span> <span class="n">acts</span>
<span class="o">[@@</span><span class="n">adm</span> <span class="mi">1</span><span class="n">n</span><span class="o">]</span>


<span class="k">let</span> <span class="n">solved</span> <span class="n">s</span> <span class="o">=</span>
  <span class="n">s</span><span class="o">.</span><span class="n">cabbage</span> <span class="o">=</span> <span class="nc">RightCoast</span>
  <span class="o">&amp;&amp;</span> <span class="n">s</span><span class="o">.</span><span class="n">goat</span> <span class="o">=</span> <span class="nc">RightCoast</span>
  <span class="o">&amp;&amp;</span> <span class="n">s</span><span class="o">.</span><span class="n">wolf</span> <span class="o">=</span> <span class="nc">RightCoast</span>
  <span class="o">&amp;&amp;</span> <span class="n">s</span><span class="o">.</span><span class="n">boat</span> <span class="o">=</span> <span class="nc">Right</span>
<span class="o">;;</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt output_prompt">Out[4]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>type action = Pick of good | Drop of good | CrossRiver
val process_action : state -&gt; action -&gt; state = &lt;fun&gt;
val process_eating : state -&gt; state option = &lt;fun&gt;
val anything_eaten : state -&gt; bool = &lt;fun&gt;
val one_step : state -&gt; action -&gt; state = &lt;fun&gt;
val many_steps : state -&gt; action list -&gt; state = &lt;fun&gt;
val solved : state -&gt; bool = &lt;fun&gt;
</pre>
</div>

</div>

<div class="output_area">

<div class="prompt"></div>



<div class="output_html rendered_html output_subarea ">
<div><div class="imandra-fold panel panel-default" id="fold-c6f6116c-6d2e-49ca-9436-68315e8c1b62"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>termination proof</span></div></div><div class="panel-body collapse"><div><h3>Termination proof</h3><p></p><div class="imandra-fold panel panel-default" id="fold-7c9473cf-08ba-463a-b1cf-330b03557d29"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>call `many_steps (one_step s (List.hd acts)) (List.tl acts)` from `many_steps s acts`</span></div></div><div class="panel-body collapse"><div class="imandra-table" id="table-64e35543-32c2-4ad6-a42b-db067fd35251"><table><tr><td><b>original</b></td><td>many_steps s acts</td></tr><tr><td><b>sub</b></td><td>many_steps (one_step s (List.hd acts)) (List.tl acts)</td></tr><tr><td><b>original ordinal</b></td><td>Ordinal.Int (Ordinal.count acts)</td></tr><tr><td><b>sub ordinal</b></td><td>Ordinal.Int (Ordinal.count (List.tl acts))</td></tr><tr><td><b>path</b></td><td>[not (acts = [])]</td></tr><tr><td><b>proof</b></td><td><div class="imandra-fold panel panel-default" id="fold-887389c7-5f79-4213-8b80-d21cd44d7c32"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>detailed proof</span></div></div><div class="panel-body collapse"><div class="imandra-proof"><div class="imandra-alternatives" id="alt-fdfe656a-face-4157-b519-e98e36b9b0e5"><ul class="nav nav-tabs"><li class="active" data-toggle="tab"><a>summary</a></li><li class="" data-toggle="tab"><a>full</a></li></ul><div class="tab-content"><div class="tab-pane active"><div class="imandra-table" id="table-9ef11435-4ab5-447a-bf33-643cbca4c96f"><table><tr><td><b>ground_instances</b></td><td>3</td></tr><tr><td><b>definitions</b></td><td>2</td></tr><tr><td><b>inductions</b></td><td>0</td></tr><tr><td><b>search_time</b></td><td><pre>0.026s</pre></td></tr><tr><td><b>details</b></td><td><div class="imandra-fold panel panel-default" id="fold-e2e59911-aa4c-4a74-8439-dea13ff61361"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>Expand</span></div></div><div class="panel-body collapse"><div class="imandra-table" id="table-309a7431-4433-41d7-bba2-d6a133d87f6a"><table><tr><td><b>smt_stats</b></td><td><div class="imandra-table" id="table-f6720d80-1752-4df6-b627-cc9449e86526"><table><tr><td><b>num checks</b></td><td>8</td></tr><tr><td><b>arith assert lower</b></td><td>18</td></tr><tr><td><b>arith pivots</b></td><td>7</td></tr><tr><td><b>rlimit count</b></td><td>3014</td></tr><tr><td><b>mk clause</b></td><td>29</td></tr><tr><td><b>datatype occurs check</b></td><td>33</td></tr><tr><td><b>mk bool var</b></td><td>129</td></tr><tr><td><b>arith assert upper</b></td><td>21</td></tr><tr><td><b>datatype splits</b></td><td>10</td></tr><tr><td><b>decisions</b></td><td>29</td></tr><tr><td><b>arith add rows</b></td><td>18</td></tr><tr><td><b>propagations</b></td><td>19</td></tr><tr><td><b>conflicts</b></td><td>11</td></tr><tr><td><b>arith fixed eqs</b></td><td>11</td></tr><tr><td><b>datatype accessor ax</b></td><td>11</td></tr><tr><td><b>minimized lits</b></td><td>1</td></tr><tr><td><b>arith conflicts</b></td><td>3</td></tr><tr><td><b>arith assert diseq</b></td><td>9</td></tr><tr><td><b>datatype constructor ax</b></td><td>28</td></tr><tr><td><b>num allocs</b></td><td>1191973300</td></tr><tr><td><b>final checks</b></td><td>9</td></tr><tr><td><b>added eqs</b></td><td>113</td></tr><tr><td><b>del clause</b></td><td>13</td></tr><tr><td><b>arith eq adapter</b></td><td>16</td></tr><tr><td><b>memory</b></td><td>17.960000</td></tr><tr><td><b>max memory</b></td><td>17.960000</td></tr></table></div></td></tr></table></div></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-e2e59911-aa4c-4a74-8439-dea13ff61361';
  fold.hydrate(target);
});
</script></div></td></tr></table></div></div><div class="tab-pane"><div class="imandra-fold panel panel-default" id="fold-6dd248c0-ab08-4904-9dab-85e81e6f0cf6"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>Expand</span></div></div><div class="panel-body collapse"><ul><li><pre>start[0.026s]
  not (acts = [])
  &amp;&amp; Ordinal.count acts &gt;= 0 &amp;&amp; Ordinal.count (List.tl acts) &gt;= 0
  ==&gt; List.tl acts = []
      || Ordinal.Int (Ordinal.count (List.tl acts)) Ordinal.&lt;&lt;
         Ordinal.Int (Ordinal.count acts)</pre></li><li><div><h5>simplify</h5><div class="imandra-table" id="table-4c8de276-aa14-4fee-8e1c-019ce99812f8"><table><tr><td><b>into</b></td><td><pre>(not
 ((not (acts = []) &amp;&amp; Ordinal.count acts &gt;= 0)
  &amp;&amp; Ordinal.count (List.tl acts) &gt;= 0)
 || List.tl acts = [])
|| Ordinal.Int (Ordinal.count (List.tl acts)) Ordinal.&lt;&lt;
   Ordinal.Int (Ordinal.count acts)</pre></td></tr><tr><td><b>expansions</b></td><td><pre>[]</pre></td></tr><tr><td><b>rewrite_steps</b></td><td><ul></ul></td></tr><tr><td><b>forward_chaining</b></td><td><ul></ul></td></tr></table></div></div></li><li><div>unroll<div class="imandra-table" id="table-be1f76c3-e5c8-45fb-90e7-6df78fa8d5ab"><table><tr><td><b>expr</b></td><td><pre>(|Ordinal.&lt;&lt;_121| (|Ordinal.Int_112|
                    (|count_`action list`_2394| (|get.::.1_2382…</pre></td></tr><tr><td><b>expansions</b></td><td><ul></ul></td></tr></table></div></div></li><li><div>unroll<div class="imandra-table" id="table-87594ccf-0211-443b-873c-1d0f4c81d290"><table><tr><td><b>expr</b></td><td><pre>(|count_`action list`_2394| (|get.::.1_2382| acts_2384))</pre></td></tr><tr><td><b>expansions</b></td><td><pre>Ordinal.count</pre></td></tr></table></div></div></li><li><div>unroll<div class="imandra-table" id="table-421d53a0-07a3-49f1-857a-9bfa0063ab95"><table><tr><td><b>expr</b></td><td><pre>(|count_`action list`_2394| acts_2384)</pre></td></tr><tr><td><b>expansions</b></td><td><pre>Ordinal.count</pre></td></tr></table></div></div></li><li><div><h5>unsat</h5><pre>(let ((a!1 (ite ((_ is (Pick_2344 (good_2314) action_2343))
                  (|get.::.0_2381| acts_…</pre></div></li></ul></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-6dd248c0-ab08-4904-9dab-85e81e6f0cf6';
  fold.hydrate(target);
});
</script></div></div></div><script>
require(['nbextensions/nbimandra/alternatives'], function (alternatives) {
  var target = '#alt-fdfe656a-face-4157-b519-e98e36b9b0e5';
  alternatives.hydrate(target);
});
</script></div></div></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-887389c7-5f79-4213-8b80-d21cd44d7c32';
  fold.hydrate(target);
});
</script></div></td></tr></table></div></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-7c9473cf-08ba-463a-b1cf-330b03557d29';
  fold.hydrate(target);
});
</script></div><p></p></div></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-c6f6116c-6d2e-49ca-9436-68315e8c1b62';
  fold.hydrate(target);
});
</script></div></div>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="try-this-container">
  <a href="https://try.imandra.ai/launch/?next=/h/user-redirect/notebooks/Crossing_the_river_safely.ipynb%23try-cell-9" target="_blank" rel="nofollow">
    <div class="try-this">Try this!</div>
  </a>
</div>
<div class="input">
<div class="prompt input_prompt">In&nbsp;[5]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ocaml"><pre><span></span><span class="c">(* initial state, on the west bank of Anduin with empty pockets and fuzzy side-kicks *)</span>
<span class="k">let</span> <span class="n">init_state</span> <span class="o">=</span> <span class="o">{</span>
  <span class="n">cabbage</span> <span class="o">=</span> <span class="nc">LeftCoast</span><span class="o">;</span>
  <span class="n">goat</span> <span class="o">=</span> <span class="nc">LeftCoast</span><span class="o">;</span>
  <span class="n">wolf</span> <span class="o">=</span> <span class="nc">LeftCoast</span><span class="o">;</span>
  <span class="n">boat</span> <span class="o">=</span> <span class="nc">Left</span><span class="o">;</span>
<span class="o">}</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt output_prompt">Out[5]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>val init_state : state =
  {cabbage = LeftCoast; goat = LeftCoast; wolf = LeftCoast; boat = Left}
</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>We are now ready to ask for a solution! Because we're looking for a given solution rather than a universal proof, <code>instance</code> is the most natural.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="try-this-container">
  <a href="https://try.imandra.ai/launch/?next=/h/user-redirect/notebooks/Crossing_the_river_safely.ipynb%23try-cell-11" target="_blank" rel="nofollow">
    <div class="try-this">Try this!</div>
  </a>
</div>
<div class="input">
<div class="prompt input_prompt">In&nbsp;[6]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ocaml"><pre><span></span><span class="o">#</span><span class="n">timeout</span> <span class="mi">20_000</span><span class="o">;;</span>

<span class="n">instance</span> <span class="o">(</span><span class="k">fun</span> <span class="n">l</span> <span class="o">-&gt;</span> <span class="n">solved</span> <span class="o">@@</span> <span class="n">many_steps</span> <span class="n">init_state</span> <span class="n">l</span><span class="o">)</span> <span class="o">;;</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt output_prompt">Out[6]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>- : action list -&gt; bool = &lt;fun&gt;
</pre>
</div>

</div>

<div class="output_area">

<div class="prompt"></div>



<div class="output_html rendered_html output_subarea ">
<div><div class="imandra-vr imandra-vr-unknown"><i class="fa fa-question-circle-o"></i><span>Unknown (Verification aborted by the solver (after 18 steps))</span></div><div><div class="imandra-alternatives" id="alt-051384f3-89e0-47f0-a750-31067f8ee00c"><ul class="nav nav-tabs"><li class="active" data-toggle="tab"><a>instances</a></li><li class="" data-toggle="tab"><a>call graph</a></li><li class="" data-toggle="tab"><a>proof-attempt</a></li></ul><div class="tab-content"><div class="tab-pane active"><div class="imandra-fold panel panel-default" id="fold-8d087353-aa95-46ba-be71-5ddaabba1760"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>Expand</span></div></div><div class="panel-body collapse"><div class="imandra-table" id="table-0ce22e3c-a885-4b7b-a4cf-87e950f3612a"><table><tr><td><b>expanded</b></td><td><ul><li>many_steps
(if (if (if ….cabbage = Eaten || ….goat = Eaten then … else …).cabbage
        = Eaten
        || (if ….cabbage = Eaten || ….goat = Eaten then … else …).goat
           = Eaten
     then if ….cabbage = Eaten || ….goat = Eaten then … else …
     else if Is_a(Some, …) then … else …).cabbage
    = Eaten
    || (if (if ….cabbage = Eaten || ….goat = Eaten then … else …).cabbage
           = Eaten
           || (if ….cabbage = Eaten || ….goat = Eaten then … else …).goat
              = Eaten
        then if ….cabbage = Eaten || ….goat = Eaten then … else …
        else if Is_a(Some, …) then … else …).goat
       = Eaten
 then
   if (if ….cabbage = Eaten || ….goat = Eaten then … else …).cabbage
      = Eaten
      || (if ….cabbage = Eaten || ….goat = Eaten then … else …).goat
         = Eaten
   then if ….cabbage = Eaten || ….goat = Eaten then … else …
   else if Is_a(Some, …) then … else …
 else
 if Is_a(Some,
    if ((if (if ….cabbage = Eaten || ….goat = Eaten then … else …).cabbage
            = Eaten
            || (if ….cabbage = Eaten || ….goat = Eaten then … else …).goat
               = Eaten
         then if ….cabbage = Eaten || ….goat = Eaten then … else …
         else if Is_a(Some, …) then … else …).goat
        = LeftCoast
        &amp;&amp; (if (if ….cabbage = Eaten || ….goat = Eaten then … else …).cabbage
               = Eaten
               || (if ….cabbage = Eaten || ….goat = Eaten then …
                   else …).goat
                  = Eaten
            then if ….cabbage = Eaten || ….goat = Eaten then … else …
            else if Is_a(Some, …) then … else …).cabbage
           = LeftCoast)
       &amp;&amp; ….boat = Right
    then … else …)
 then Option.get … else if List.hd … = CrossRiver then … else …)
(List.tl …)</li><li>many_steps
(if (if (if ….cabbage = Eaten || ….goat = Eaten then … else …).cabbage
        = Eaten
        || (if ….cabbage = Eaten || ….goat = Eaten then … else …).goat
           = Eaten
     then if ….cabbage = Eaten || ….goat = Eaten then … else …
     else if Is_a(Some, …) then … else …).cabbage
    = Eaten
    || (if (if ….cabbage = Eaten || ….goat = Eaten then … else …).cabbage
           = Eaten
           || (if ….cabbage = Eaten || ….goat = Eaten then … else …).goat
              = Eaten
        then if ….cabbage = Eaten || ….goat = Eaten then … else …
        else if Is_a(Some, …) then … else …).goat
       = Eaten
 then
   if (if ….cabbage = Eaten || ….goat = Eaten then … else …).cabbage
      = Eaten
      || (if ….cabbage = Eaten || ….goat = Eaten then … else …).goat
         = Eaten
   then if ….cabbage = Eaten || ….goat = Eaten then … else …
   else if Is_a(Some, …) then … else …
 else
 if Is_a(Some,
    if ((if (if ….cabbage = Eaten || ….goat = Eaten then … else …).cabbage
            = Eaten
            || (if ….cabbage = Eaten || ….goat = Eaten then … else …).goat
               = Eaten
         then if ….cabbage = Eaten || ….goat = Eaten then … else …
         else if Is_a(Some, …) then … else …).goat
        = LeftCoast
        &amp;&amp; (if (if ….cabbage = Eaten || ….goat = Eaten then … else …).cabbage
               = Eaten
               || (if ….cabbage = Eaten || ….goat = Eaten then …
                   else …).goat
                  = Eaten
            then if ….cabbage = Eaten || ….goat = Eaten then … else …
            else if Is_a(Some, …) then … else …).cabbage
           = LeftCoast)
       &amp;&amp; ….boat = Right
    then … else …)
 then Option.get … else if List.hd … = CrossRiver then … else …)
(List.tl …)</li><li>many_steps
(if (if (if ….cabbage = Eaten || ….goat = Eaten then … else …).cabbage
        = Eaten
        || (if ….cabbage = Eaten || ….goat = Eaten then … else …).goat
           = Eaten
     then if ….cabbage = Eaten || ….goat = Eaten then … else …
     else if Is_a(Some, …) then … else …).cabbage
    = Eaten
    || (if (if ….cabbage = Eaten || ….goat = Eaten then … else …).cabbage
           = Eaten
           || (if ….cabbage = Eaten || ….goat = Eaten then … else …).goat
              = Eaten
        then if ….cabbage = Eaten || ….goat = Eaten then … else …
        else if Is_a(Some, …) then … else …).goat
       = Eaten
 then
   if (if ….cabbage = Eaten || ….goat = Eaten then … else …).cabbage
      = Eaten
      || (if ….cabbage = Eaten || ….goat = Eaten then … else …).goat
         = Eaten
   then if ….cabbage = Eaten || ….goat = Eaten then … else …
   else if Is_a(Some, …) then … else …
 else
 if Is_a(Some,
    if ((if (if ….cabbage = Eaten || ….goat = Eaten then … else …).cabbage
            = Eaten
            || (if ….cabbage = Eaten || ….goat = Eaten then … else …).goat
               = Eaten
         then if ….cabbage = Eaten || ….goat = Eaten then … else …
         else if Is_a(Some, …) then … else …).goat
        = LeftCoast
        &amp;&amp; (if (if ….cabbage = Eaten || ….goat = Eaten then … else …).cabbage
               = Eaten
               || (if ….cabbage = Eaten || ….goat = Eaten then …
                   else …).goat
                  = Eaten
            then if ….cabbage = Eaten || ….goat = Eaten then … else …
            else if Is_a(Some, …) then … else …).cabbage
           = LeftCoast)
       &amp;&amp; ….boat = Right
    then … else …)
 then Option.get … else if List.hd … = CrossRiver then … else …)
(List.tl …)</li><li>many_steps
(if (if (if ….cabbage = Eaten || ….goat = Eaten then … else …).cabbage
        = Eaten
        || (if ….cabbage = Eaten || ….goat = Eaten then … else …).goat
           = Eaten
     then if ….cabbage = Eaten || ….goat = Eaten then … else …
     else if Is_a(Some, …) then … else …).cabbage
    = Eaten
    || (if (if ….cabbage = Eaten || ….goat = Eaten then … else …).cabbage
           = Eaten
           || (if ….cabbage = Eaten || ….goat = Eaten then … else …).goat
              = Eaten
        then if ….cabbage = Eaten || ….goat = Eaten then … else …
        else if Is_a(Some, …) then … else …).goat
       = Eaten
 then
   if (if ….cabbage = Eaten || ….goat = Eaten then … else …).cabbage
      = Eaten
      || (if ….cabbage = Eaten || ….goat = Eaten then … else …).goat
         = Eaten
   then if ….cabbage = Eaten || ….goat = Eaten then … else …
   else if Is_a(Some, …) then … else …
 else
 if Is_a(Some,
    if ((if (if ….cabbage = Eaten || ….goat = Eaten then … else …).cabbage
            = Eaten
            || (if ….cabbage = Eaten || ….goat = Eaten then … else …).goat
               = Eaten
         then if ….cabbage = Eaten || ….goat = Eaten then … else …
         else if Is_a(Some, …) then … else …).goat
        = LeftCoast
        &amp;&amp; (if (if ….cabbage = Eaten || ….goat = Eaten then … else …).cabbage
               = Eaten
               || (if ….cabbage = Eaten || ….goat = Eaten then …
                   else …).goat
                  = Eaten
            then if ….cabbage = Eaten || ….goat = Eaten then … else …
            else if Is_a(Some, …) then … else …).cabbage
           = LeftCoast)
       &amp;&amp; ….boat = Right
    then … else …)
 then Option.get … else if List.hd … = CrossRiver then … else …)
(List.tl …)</li><li>many_steps
(if (if (if ….cabbage = Eaten || ….goat = Eaten then … else …).cabbage
        = Eaten
        || (if ….cabbage = Eaten || ….goat = Eaten then … else …).goat
           = Eaten
     then if ….cabbage = Eaten || ….goat = Eaten then … else …
     else if Is_a(Some, …) then … else …).cabbage
    = Eaten
    || (if (if ….cabbage = Eaten || ….goat = Eaten then … else …).cabbage
           = Eaten
           || (if ….cabbage = Eaten || ….goat = Eaten then … else …).goat
              = Eaten
        then if ….cabbage = Eaten || ….goat = Eaten then … else …
        else if Is_a(Some, …) then … else …).goat
       = Eaten
 then
   if (if ….cabbage = Eaten || ….goat = Eaten then … else …).cabbage
      = Eaten
      || (if ….cabbage = Eaten || ….goat = Eaten then … else …).goat
         = Eaten
   then if ….cabbage = Eaten || ….goat = Eaten then … else …
   else if Is_a(Some, …) then … else …
 else
 if Is_a(Some,
    if ((if (if ….cabbage = Eaten || ….goat = Eaten then … else …).cabbage
            = Eaten
            || (if ….cabbage = Eaten || ….goat = Eaten then … else …).goat
               = Eaten
         then if ….cabbage = Eaten || ….goat = Eaten then … else …
         else if Is_a(Some, …) then … else …).goat
        = LeftCoast
        &amp;&amp; (if (if ….cabbage = Eaten || ….goat = Eaten then … else …).cabbage
               = Eaten
               || (if ….cabbage = Eaten || ….goat = Eaten then …
                   else …).goat
                  = Eaten
            then if ….cabbage = Eaten || ….goat = Eaten then … else …
            else if Is_a(Some, …) then … else …).cabbage
           = LeftCoast)
       &amp;&amp; ….boat = Right
    then … else …)
 then Option.get … else if List.hd … = CrossRiver then … else …)
(List.tl …)</li><li>many_steps
(if LeftCoast = Eaten || LeftCoast = Eaten
 then {cabbage = LeftCoast; goat = LeftCoast; wolf = LeftCoast; boat = Left}
 else
 if Is_a(Some,
    if (LeftCoast = LeftCoast &amp;&amp; LeftCoast = LeftCoast) &amp;&amp; Left = Right
    then … else …)
 then Option.get … else if List.hd … = CrossRiver then … else …)
(List.tl …)</li><li>many_steps
(if (if (if ….cabbage = Eaten || ….goat = Eaten then … else …).cabbage
        = Eaten
        || (if ….cabbage = Eaten || ….goat = Eaten then … else …).goat
           = Eaten
     then if ….cabbage = Eaten || ….goat = Eaten then … else …
     else if Is_a(Some, …) then … else …).cabbage
    = Eaten
    || (if (if ….cabbage = Eaten || ….goat = Eaten then … else …).cabbage
           = Eaten
           || (if ….cabbage = Eaten || ….goat = Eaten then … else …).goat
              = Eaten
        then if ….cabbage = Eaten || ….goat = Eaten then … else …
        else if Is_a(Some, …) then … else …).goat
       = Eaten
 then
   if (if ….cabbage = Eaten || ….goat = Eaten then … else …).cabbage
      = Eaten
      || (if ….cabbage = Eaten || ….goat = Eaten then … else …).goat
         = Eaten
   then if ….cabbage = Eaten || ….goat = Eaten then … else …
   else if Is_a(Some, …) then … else …
 else
 if Is_a(Some,
    if ((if (if ….cabbage = Eaten || ….goat = Eaten then … else …).cabbage
            = Eaten
            || (if ….cabbage = Eaten || ….goat = Eaten then … else …).goat
               = Eaten
         then if ….cabbage = Eaten || ….goat = Eaten then … else …
         else if Is_a(Some, …) then … else …).goat
        = LeftCoast
        &amp;&amp; (if (if ….cabbage = Eaten || ….goat = Eaten then … else …).cabbage
               = Eaten
               || (if ….cabbage = Eaten || ….goat = Eaten then …
                   else …).goat
                  = Eaten
            then if ….cabbage = Eaten || ….goat = Eaten then … else …
            else if Is_a(Some, …) then … else …).cabbage
           = LeftCoast)
       &amp;&amp; ….boat = Right
    then … else …)
 then Option.get … else if List.hd … = CrossRiver then … else …)
(List.tl …)</li><li>many_steps
(if (if (if ….cabbage = Eaten || ….goat = Eaten then … else …).cabbage
        = Eaten
        || (if ….cabbage = Eaten || ….goat = Eaten then … else …).goat
           = Eaten
     then if ….cabbage = Eaten || ….goat = Eaten then … else …
     else if Is_a(Some, …) then … else …).cabbage
    = Eaten
    || (if (if ….cabbage = Eaten || ….goat = Eaten then … else …).cabbage
           = Eaten
           || (if ….cabbage = Eaten || ….goat = Eaten then … else …).goat
              = Eaten
        then if ….cabbage = Eaten || ….goat = Eaten then … else …
        else if Is_a(Some, …) then … else …).goat
       = Eaten
 then
   if (if ….cabbage = Eaten || ….goat = Eaten then … else …).cabbage
      = Eaten
      || (if ….cabbage = Eaten || ….goat = Eaten then … else …).goat
         = Eaten
   then if ….cabbage = Eaten || ….goat = Eaten then … else …
   else if Is_a(Some, …) then … else …
 else
 if Is_a(Some,
    if ((if (if ….cabbage = Eaten || ….goat = Eaten then … else …).cabbage
            = Eaten
            || (if ….cabbage = Eaten || ….goat = Eaten then … else …).goat
               = Eaten
         then if ….cabbage = Eaten || ….goat = Eaten then … else …
         else if Is_a(Some, …) then … else …).goat
        = LeftCoast
        &amp;&amp; (if (if ….cabbage = Eaten || ….goat = Eaten then … else …).cabbage
               = Eaten
               || (if ….cabbage = Eaten || ….goat = Eaten then …
                   else …).goat
                  = Eaten
            then if ….cabbage = Eaten || ….goat = Eaten then … else …
            else if Is_a(Some, …) then … else …).cabbage
           = LeftCoast)
       &amp;&amp; ….boat = Right
    then … else …)
 then Option.get … else if List.hd … = CrossRiver then … else …)
(List.tl …)</li><li>many_steps
(if (if … = Eaten || … = Eaten
     then {cabbage = …; goat = …; wolf = …; boat = …}
     else if Is_a(Some, …) then … else …).cabbage
    = Eaten
    || (if … = Eaten || … = Eaten
        then {cabbage = …; goat = …; wolf = …; boat = …}
        else if Is_a(Some, …) then … else …).goat
       = Eaten
 then
   if … = Eaten || … = Eaten
   then {cabbage = …; goat = …; wolf = …; boat = …}
   else if Is_a(Some, …) then … else …
 else
 if Is_a(Some,
    if ((if … = Eaten || … = Eaten
         then {cabbage = …; goat = …; wolf = …; boat = …}
         else if Is_a(Some, …) then … else …).goat
        = …
        &amp;&amp; (if … = Eaten || … = Eaten
            then {cabbage = …; goat = …; wolf = …; boat = …}
            else if Is_a(Some, …) then … else …).cabbage
           = …)
       &amp;&amp; ….boat = Right
    then … else …)
 then Option.get … else if List.hd … = CrossRiver then … else …)
(List.tl …)</li><li>many_steps
(if (if (if ….cabbage = Eaten || ….goat = Eaten then … else …).cabbage
        = Eaten
        || (if ….cabbage = Eaten || ….goat = Eaten then … else …).goat
           = Eaten
     then if ….cabbage = Eaten || ….goat = Eaten then … else …
     else if Is_a(Some, …) then … else …).cabbage
    = Eaten
    || (if (if ….cabbage = Eaten || ….goat = Eaten then … else …).cabbage
           = Eaten
           || (if ….cabbage = Eaten || ….goat = Eaten then … else …).goat
              = Eaten
        then if ….cabbage = Eaten || ….goat = Eaten then … else …
        else if Is_a(Some, …) then … else …).goat
       = Eaten
 then
   if (if ….cabbage = Eaten || ….goat = Eaten then … else …).cabbage
      = Eaten
      || (if ….cabbage = Eaten || ….goat = Eaten then … else …).goat
         = Eaten
   then if ….cabbage = Eaten || ….goat = Eaten then … else …
   else if Is_a(Some, …) then … else …
 else
 if Is_a(Some,
    if ((if (if ….cabbage = Eaten || ….goat = Eaten then … else …).cabbage
            = Eaten
            || (if ….cabbage = Eaten || ….goat = Eaten then … else …).goat
               = Eaten
         then if ….cabbage = Eaten || ….goat = Eaten then … else …
         else if Is_a(Some, …) then … else …).goat
        = LeftCoast
        &amp;&amp; (if (if ….cabbage = Eaten || ….goat = Eaten then … else …).cabbage
               = Eaten
               || (if ….cabbage = Eaten || ….goat = Eaten then …
                   else …).goat
                  = Eaten
            then if ….cabbage = Eaten || ….goat = Eaten then … else …
            else if Is_a(Some, …) then … else …).cabbage
           = LeftCoast)
       &amp;&amp; ….boat = Right
    then … else …)
 then Option.get … else if List.hd … = CrossRiver then … else …)
(List.tl …)</li><li>many_steps
(if (if (if ….cabbage = Eaten || ….goat = Eaten then … else …).cabbage
        = Eaten
        || (if ….cabbage = Eaten || ….goat = Eaten then … else …).goat
           = Eaten
     then if ….cabbage = Eaten || ….goat = Eaten then … else …
     else if Is_a(Some, …) then … else …).cabbage
    = Eaten
    || (if (if ….cabbage = Eaten || ….goat = Eaten then … else …).cabbage
           = Eaten
           || (if ….cabbage = Eaten || ….goat = Eaten then … else …).goat
              = Eaten
        then if ….cabbage = Eaten || ….goat = Eaten then … else …
        else if Is_a(Some, …) then … else …).goat
       = Eaten
 then
   if (if ….cabbage = Eaten || ….goat = Eaten then … else …).cabbage
      = Eaten
      || (if ….cabbage = Eaten || ….goat = Eaten then … else …).goat
         = Eaten
   then if ….cabbage = Eaten || ….goat = Eaten then … else …
   else if Is_a(Some, …) then … else …
 else
 if Is_a(Some,
    if ((if (if ….cabbage = Eaten || ….goat = Eaten then … else …).cabbage
            = Eaten
            || (if ….cabbage = Eaten || ….goat = Eaten then … else …).goat
               = Eaten
         then if ….cabbage = Eaten || ….goat = Eaten then … else …
         else if Is_a(Some, …) then … else …).goat
        = LeftCoast
        &amp;&amp; (if (if ….cabbage = Eaten || ….goat = Eaten then … else …).cabbage
               = Eaten
               || (if ….cabbage = Eaten || ….goat = Eaten then …
                   else …).goat
                  = Eaten
            then if ….cabbage = Eaten || ….goat = Eaten then … else …
            else if Is_a(Some, …) then … else …).cabbage
           = LeftCoast)
       &amp;&amp; ….boat = Right
    then … else …)
 then Option.get … else if List.hd … = CrossRiver then … else …)
(List.tl …)</li><li>many_steps
(if (if (if ….cabbage = Eaten || ….goat = Eaten then … else …).cabbage
        = Eaten
        || (if ….cabbage = Eaten || ….goat = Eaten then … else …).goat
           = Eaten
     then if ….cabbage = Eaten || ….goat = Eaten then … else …
     else if Is_a(Some, …) then … else …).cabbage
    = Eaten
    || (if (if ….cabbage = Eaten || ….goat = Eaten then … else …).cabbage
           = Eaten
           || (if ….cabbage = Eaten || ….goat = Eaten then … else …).goat
              = Eaten
        then if ….cabbage = Eaten || ….goat = Eaten then … else …
        else if Is_a(Some, …) then … else …).goat
       = Eaten
 then
   if (if ….cabbage = Eaten || ….goat = Eaten then … else …).cabbage
      = Eaten
      || (if ….cabbage = Eaten || ….goat = Eaten then … else …).goat
         = Eaten
   then if ….cabbage = Eaten || ….goat = Eaten then … else …
   else if Is_a(Some, …) then … else …
 else
 if Is_a(Some,
    if ((if (if ….cabbage = Eaten || ….goat = Eaten then … else …).cabbage
            = Eaten
            || (if ….cabbage = Eaten || ….goat = Eaten then … else …).goat
               = Eaten
         then if ….cabbage = Eaten || ….goat = Eaten then … else …
         else if Is_a(Some, …) then … else …).goat
        = LeftCoast
        &amp;&amp; (if (if ….cabbage = Eaten || ….goat = Eaten then … else …).cabbage
               = Eaten
               || (if ….cabbage = Eaten || ….goat = Eaten then …
                   else …).goat
                  = Eaten
            then if ….cabbage = Eaten || ….goat = Eaten then … else …
            else if Is_a(Some, …) then … else …).cabbage
           = LeftCoast)
       &amp;&amp; ….boat = Right
    then … else …)
 then Option.get … else if List.hd … = CrossRiver then … else …)
(List.tl …)</li><li>many_steps
(if (if (if ….cabbage = Eaten || ….goat = Eaten then … else …).cabbage
        = Eaten
        || (if ….cabbage = Eaten || ….goat = Eaten then … else …).goat
           = Eaten
     then if ….cabbage = Eaten || ….goat = Eaten then … else …
     else if Is_a(Some, …) then … else …).cabbage
    = Eaten
    || (if (if ….cabbage = Eaten || ….goat = Eaten then … else …).cabbage
           = Eaten
           || (if ….cabbage = Eaten || ….goat = Eaten then … else …).goat
              = Eaten
        then if ….cabbage = Eaten || ….goat = Eaten then … else …
        else if Is_a(Some, …) then … else …).goat
       = Eaten
 then
   if (if ….cabbage = Eaten || ….goat = Eaten then … else …).cabbage
      = Eaten
      || (if ….cabbage = Eaten || ….goat = Eaten then … else …).goat
         = Eaten
   then if ….cabbage = Eaten || ….goat = Eaten then … else …
   else if Is_a(Some, …) then … else …
 else
 if Is_a(Some,
    if ((if (if ….cabbage = Eaten || ….goat = Eaten then … else …).cabbage
            = Eaten
            || (if ….cabbage = Eaten || ….goat = Eaten then … else …).goat
               = Eaten
         then if ….cabbage = Eaten || ….goat = Eaten then … else …
         else if Is_a(Some, …) then … else …).goat
        = LeftCoast
        &amp;&amp; (if (if ….cabbage = Eaten || ….goat = Eaten then … else …).cabbage
               = Eaten
               || (if ….cabbage = Eaten || ….goat = Eaten then …
                   else …).goat
                  = Eaten
            then if ….cabbage = Eaten || ….goat = Eaten then … else …
            else if Is_a(Some, …) then … else …).cabbage
           = LeftCoast)
       &amp;&amp; ….boat = Right
    then … else …)
 then Option.get … else if List.hd … = CrossRiver then … else …)
(List.tl …)</li><li>many_steps
{cabbage = LeftCoast; goat = LeftCoast; wolf = LeftCoast; boat = Left} l</li><li>many_steps
(if (if (if ….cabbage = Eaten || ….goat = Eaten then … else …).cabbage
        = Eaten
        || (if ….cabbage = Eaten || ….goat = Eaten then … else …).goat
           = Eaten
     then if ….cabbage = Eaten || ….goat = Eaten then … else …
     else if Is_a(Some, …) then … else …).cabbage
    = Eaten
    || (if (if ….cabbage = Eaten || ….goat = Eaten then … else …).cabbage
           = Eaten
           || (if ….cabbage = Eaten || ….goat = Eaten then … else …).goat
              = Eaten
        then if ….cabbage = Eaten || ….goat = Eaten then … else …
        else if Is_a(Some, …) then … else …).goat
       = Eaten
 then
   if (if ….cabbage = Eaten || ….goat = Eaten then … else …).cabbage
      = Eaten
      || (if ….cabbage = Eaten || ….goat = Eaten then … else …).goat
         = Eaten
   then if ….cabbage = Eaten || ….goat = Eaten then … else …
   else if Is_a(Some, …) then … else …
 else
 if Is_a(Some,
    if ((if (if ….cabbage = Eaten || ….goat = Eaten then … else …).cabbage
            = Eaten
            || (if ….cabbage = Eaten || ….goat = Eaten then … else …).goat
               = Eaten
         then if ….cabbage = Eaten || ….goat = Eaten then … else …
         else if Is_a(Some, …) then … else …).goat
        = LeftCoast
        &amp;&amp; (if (if ….cabbage = Eaten || ….goat = Eaten then … else …).cabbage
               = Eaten
               || (if ….cabbage = Eaten || ….goat = Eaten then …
                   else …).goat
                  = Eaten
            then if ….cabbage = Eaten || ….goat = Eaten then … else …
            else if Is_a(Some, …) then … else …).cabbage
           = LeftCoast)
       &amp;&amp; ….boat = Right
    then … else …)
 then Option.get … else if List.hd … = CrossRiver then … else …)
(List.tl …)</li><li>many_steps
(if (if (if ….cabbage = Eaten || ….goat = Eaten then … else …).cabbage
        = Eaten
        || (if ….cabbage = Eaten || ….goat = Eaten then … else …).goat
           = Eaten
     then if ….cabbage = Eaten || ….goat = Eaten then … else …
     else if Is_a(Some, …) then … else …).cabbage
    = Eaten
    || (if (if ….cabbage = Eaten || ….goat = Eaten then … else …).cabbage
           = Eaten
           || (if ….cabbage = Eaten || ….goat = Eaten then … else …).goat
              = Eaten
        then if ….cabbage = Eaten || ….goat = Eaten then … else …
        else if Is_a(Some, …) then … else …).goat
       = Eaten
 then
   if (if ….cabbage = Eaten || ….goat = Eaten then … else …).cabbage
      = Eaten
      || (if ….cabbage = Eaten || ….goat = Eaten then … else …).goat
         = Eaten
   then if ….cabbage = Eaten || ….goat = Eaten then … else …
   else if Is_a(Some, …) then … else …
 else
 if Is_a(Some,
    if ((if (if ….cabbage = Eaten || ….goat = Eaten then … else …).cabbage
            = Eaten
            || (if ….cabbage = Eaten || ….goat = Eaten then … else …).goat
               = Eaten
         then if ….cabbage = Eaten || ….goat = Eaten then … else …
         else if Is_a(Some, …) then … else …).goat
        = LeftCoast
        &amp;&amp; (if (if ….cabbage = Eaten || ….goat = Eaten then … else …).cabbage
               = Eaten
               || (if ….cabbage = Eaten || ….goat = Eaten then …
                   else …).goat
                  = Eaten
            then if ….cabbage = Eaten || ….goat = Eaten then … else …
            else if Is_a(Some, …) then … else …).cabbage
           = LeftCoast)
       &amp;&amp; ….boat = Right
    then … else …)
 then Option.get … else if List.hd … = CrossRiver then … else …)
(List.tl …)</li><li>many_steps
(if (if (if ….cabbage = Eaten || ….goat = Eaten then … else …).cabbage
        = Eaten
        || (if ….cabbage = Eaten || ….goat = Eaten then … else …).goat
           = Eaten
     then if ….cabbage = Eaten || ….goat = Eaten then … else …
     else if Is_a(Some, …) then … else …).cabbage
    = Eaten
    || (if (if ….cabbage = Eaten || ….goat = Eaten then … else …).cabbage
           = Eaten
           || (if ….cabbage = Eaten || ….goat = Eaten then … else …).goat
              = Eaten
        then if ….cabbage = Eaten || ….goat = Eaten then … else …
        else if Is_a(Some, …) then … else …).goat
       = Eaten
 then
   if (if ….cabbage = Eaten || ….goat = Eaten then … else …).cabbage
      = Eaten
      || (if ….cabbage = Eaten || ….goat = Eaten then … else …).goat
         = Eaten
   then if ….cabbage = Eaten || ….goat = Eaten then … else …
   else if Is_a(Some, …) then … else …
 else
 if Is_a(Some,
    if ((if (if ….cabbage = Eaten || ….goat = Eaten then … else …).cabbage
            = Eaten
            || (if ….cabbage = Eaten || ….goat = Eaten then … else …).goat
               = Eaten
         then if ….cabbage = Eaten || ….goat = Eaten then … else …
         else if Is_a(Some, …) then … else …).goat
        = LeftCoast
        &amp;&amp; (if (if ….cabbage = Eaten || ….goat = Eaten then … else …).cabbage
               = Eaten
               || (if ….cabbage = Eaten || ….goat = Eaten then …
                   else …).goat
                  = Eaten
            then if ….cabbage = Eaten || ….goat = Eaten then … else …
            else if Is_a(Some, …) then … else …).cabbage
           = LeftCoast)
       &amp;&amp; ….boat = Right
    then … else …)
 then Option.get … else if List.hd … = CrossRiver then … else …)
(List.tl …)</li><li>many_steps
(if (if (if ….cabbage = Eaten || ….goat = Eaten then … else …).cabbage
        = Eaten
        || (if ….cabbage = Eaten || ….goat = Eaten then … else …).goat
           = Eaten
     then if ….cabbage = Eaten || ….goat = Eaten then … else …
     else if Is_a(Some, …) then … else …).cabbage
    = Eaten
    || (if (if ….cabbage = Eaten || ….goat = Eaten then … else …).cabbage
           = Eaten
           || (if ….cabbage = Eaten || ….goat = Eaten then … else …).goat
              = Eaten
        then if ….cabbage = Eaten || ….goat = Eaten then … else …
        else if Is_a(Some, …) then … else …).goat
       = Eaten
 then
   if (if ….cabbage = Eaten || ….goat = Eaten then … else …).cabbage
      = Eaten
      || (if ….cabbage = Eaten || ….goat = Eaten then … else …).goat
         = Eaten
   then if ….cabbage = Eaten || ….goat = Eaten then … else …
   else if Is_a(Some, …) then … else …
 else
 if Is_a(Some,
    if ((if (if ….cabbage = Eaten || ….goat = Eaten then … else …).cabbage
            = Eaten
            || (if ….cabbage = Eaten || ….goat = Eaten then … else …).goat
               = Eaten
         then if ….cabbage = Eaten || ….goat = Eaten then … else …
         else if Is_a(Some, …) then … else …).goat
        = LeftCoast
        &amp;&amp; (if (if ….cabbage = Eaten || ….goat = Eaten then … else …).cabbage
               = Eaten
               || (if ….cabbage = Eaten || ….goat = Eaten then …
                   else …).goat
                  = Eaten
            then if ….cabbage = Eaten || ….goat = Eaten then … else …
            else if Is_a(Some, …) then … else …).cabbage
           = LeftCoast)
       &amp;&amp; ….boat = Right
    then … else …)
 then Option.get … else if List.hd … = CrossRiver then … else …)
(List.tl …)</li></ul></td></tr><tr><td><b>blocked</b></td><td><ul><li>many_steps
(if (if (if ….cabbage = Eaten || ….goat = Eaten then … else …).cabbage
        = Eaten
        || (if ….cabbage = Eaten || ….goat = Eaten then … else …).goat
           = Eaten
     then if ….cabbage = Eaten || ….goat = Eaten then … else …
     else if Is_a(Some, …) then … else …).cabbage
    = Eaten
    || (if (if ….cabbage = Eaten || ….goat = Eaten then … else …).cabbage
           = Eaten
           || (if ….cabbage = Eaten || ….goat = Eaten then … else …).goat
              = Eaten
        then if ….cabbage = Eaten || ….goat = Eaten then … else …
        else if Is_a(Some, …) then … else …).goat
       = Eaten
 then
   if (if ….cabbage = Eaten || ….goat = Eaten then … else …).cabbage
      = Eaten
      || (if ….cabbage = Eaten || ….goat = Eaten then … else …).goat
         = Eaten
   then if ….cabbage = Eaten || ….goat = Eaten then … else …
   else if Is_a(Some, …) then … else …
 else
 if Is_a(Some,
    if ((if (if ….cabbage = Eaten || ….goat = Eaten then … else …).cabbage
            = Eaten
            || (if ….cabbage = Eaten || ….goat = Eaten then … else …).goat
               = Eaten
         then if ….cabbage = Eaten || ….goat = Eaten then … else …
         else if Is_a(Some, …) then … else …).goat
        = LeftCoast
        &amp;&amp; (if (if ….cabbage = Eaten || ….goat = Eaten then … else …).cabbage
               = Eaten
               || (if ….cabbage = Eaten || ….goat = Eaten then …
                   else …).goat
                  = Eaten
            then if ….cabbage = Eaten || ….goat = Eaten then … else …
            else if Is_a(Some, …) then … else …).cabbage
           = LeftCoast)
       &amp;&amp; ….boat = Right
    then … else …)
 then Option.get … else if List.hd … = CrossRiver then … else …)
(List.tl …)</li></ul></td></tr></table></div></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-8d087353-aa95-46ba-be71-5ddaabba1760';
  fold.hydrate(target);
});
</script></div></div><div class="tab-pane"><div class="imandra-graphviz" id="graphviz-884e7bfa-41a4-4d59-a113-2d8ae3da1610"><textarea style="display: none">digraph &quot;call graph&quot; {
goal [label=&quot;(((many_steps\l   \{cabbage = LeftCoast; goat = LeftCoast; wolf = LeftCoast; boat = Left\} l).cabbage\l  = RightCoast\l  &amp;&amp; (many_steps\l      \{cabbage = LeftCoast; goat = LeftCoast; wolf = LeftCoast; boat = Left\}\l      l).goat\l     = RightCoast)\l &amp;&amp; (many_steps\l     \{cabbage = LeftCoast; goat = LeftCoast; wolf = LeftCoast; boat = Left\} l).wolf\l    = RightCoast)\l&amp;&amp; (many_steps\l    \{cabbage = LeftCoast; goat = LeftCoast; wolf = LeftCoast; boat = Left\} l).boat\l   = Right&quot;,shape=box,style=filled,color=&quot;cyan&quot;,fontname=&quot;courier&quot;,fontsize=14];
call_191466 [label=&quot;many_steps\l(if (if (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).cabbage\l        = Eaten\l        \|\| (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).goat\l           = Eaten\l     then if ….cabbage = Eaten \|\| ….goat = Eaten then … else …\l     else if Is_a(Some, …) then … else …).cabbage\l    = Eaten\l    \|\| (if (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).cabbage\l           = Eaten\l           \|\| (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).goat\l              = Eaten\l        then if ….cabbage = Eaten \|\| ….goat = Eaten then … else …\l        else if Is_a(Some, …) then … else …).goat\l       = Eaten\l then\l   if (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).cabbage\l      = Eaten\l      \|\| (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).goat\l         = Eaten\l   then if ….cabbage = Eaten \|\| ….goat = Eaten then … else …\l   else if Is_a(Some, …) then … else …\l else\l if Is_a(Some,\l    if ((if (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).cabbage\l            = Eaten\l            \|\| (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).goat\l               = Eaten\l         then if ….cabbage = Eaten \|\| ….goat = Eaten then … else …\l         else if Is_a(Some, …) then … else …).goat\l        = LeftCoast\l        &amp;&amp; (if (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).cabbage\l               = Eaten\l               \|\| (if ….cabbage = Eaten \|\| ….goat = Eaten then …\l                   else …).goat\l                  = Eaten\l            then if ….cabbage = Eaten \|\| ….goat = Eaten then … else …\l            else if Is_a(Some, …) then … else …).cabbage\l           = LeftCoast)\l       &amp;&amp; ….boat = Right\l    then … else …)\l then Option.get … else if List.hd … = CrossRiver then … else …)\l(List.tl …)&quot;,shape=box,style=filled,color=&quot;green&quot;,fontname=&quot;courier&quot;,fontsize=14];
call_191466 -&gt; expr_235627 [label=&quot;=&quot;];
expr_235627 [label=&quot;if List.tl\l   (List.tl\l    (List.tl\l     (List.tl\l      (List.tl\l       (List.tl (List.tl (List.tl (List.tl (List.tl (List.tl (List.tl l)))))))))))\l   = []\lthen\l  if (if (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).cabbage\l         = Eaten\l         \|\| (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).goat\l            = Eaten\l      then if ….cabbage = Eaten \|\| ….goat = Eaten then … else …\l      else if Is_a(Some, …) then … else …).cabbage\l     = Eaten\l     \|\| (if (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).cabbage\l            = Eaten\l            \|\| (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).goat\l               = Eaten\l         then if ….cabbage = Eaten \|\| ….goat = Eaten then … else …\l         else if Is_a(Some, …) then … else …).goat\l        = Eaten\l  then\l    if (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).cabbage\l       = Eaten\l       \|\| (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).goat\l          = Eaten\l    then if ….cabbage = Eaten \|\| ….goat = Eaten then … else …\l    else if Is_a(Some, …) then … else …\l  else\l  if Is_a(Some,\l     if ((if (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).cabbage\l             = Eaten\l             \|\| (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).goat\l                = Eaten\l          then if ….cabbage = Eaten \|\| ….goat = Eaten then … else …\l          else if Is_a(Some, …) then … else …).goat\l         = LeftCoast\l         &amp;&amp; (if (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).cabbage\l                = Eaten\l                \|\| (if ….cabbage = Eaten \|\| ….goat = Eaten then …\l                    else …).goat\l                   = Eaten\l             then\l               if ….cabbage = Eaten \|\| ….goat = Eaten then … else …\l             else if Is_a(Some, …) then … else …).cabbage\l            = LeftCoast)\l        &amp;&amp; ….boat = Right\l     then … else …)\l  then Option.get … else if … then … else …\lelse …&quot;,shape=box,style=filled,color=&quot;grey&quot;,fontname=&quot;courier&quot;,fontsize=14];
expr_191467 -&gt; call_191466 [label=&quot;calls&quot;];
call_9713 [label=&quot;many_steps\l(if (if (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).cabbage\l        = Eaten\l        \|\| (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).goat\l           = Eaten\l     then if ….cabbage = Eaten \|\| ….goat = Eaten then … else …\l     else if Is_a(Some, …) then … else …).cabbage\l    = Eaten\l    \|\| (if (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).cabbage\l           = Eaten\l           \|\| (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).goat\l              = Eaten\l        then if ….cabbage = Eaten \|\| ….goat = Eaten then … else …\l        else if Is_a(Some, …) then … else …).goat\l       = Eaten\l then\l   if (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).cabbage\l      = Eaten\l      \|\| (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).goat\l         = Eaten\l   then if ….cabbage = Eaten \|\| ….goat = Eaten then … else …\l   else if Is_a(Some, …) then … else …\l else\l if Is_a(Some,\l    if ((if (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).cabbage\l            = Eaten\l            \|\| (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).goat\l               = Eaten\l         then if ….cabbage = Eaten \|\| ….goat = Eaten then … else …\l         else if Is_a(Some, …) then … else …).goat\l        = LeftCoast\l        &amp;&amp; (if (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).cabbage\l               = Eaten\l               \|\| (if ….cabbage = Eaten \|\| ….goat = Eaten then …\l                   else …).goat\l                  = Eaten\l            then if ….cabbage = Eaten \|\| ….goat = Eaten then … else …\l            else if Is_a(Some, …) then … else …).cabbage\l           = LeftCoast)\l       &amp;&amp; ….boat = Right\l    then … else …)\l then Option.get … else if List.hd … = CrossRiver then … else …)\l(List.tl …)&quot;,shape=box,style=filled,color=&quot;green&quot;,fontname=&quot;courier&quot;,fontsize=14];
call_9713 -&gt; expr_15981 [label=&quot;=&quot;];
expr_15981 [label=&quot;if List.tl (List.tl (List.tl (List.tl (List.tl l)))) = []\lthen\l  if (if (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).cabbage\l         = Eaten\l         \|\| (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).goat\l            = Eaten\l      then if ….cabbage = Eaten \|\| ….goat = Eaten then … else …\l      else if Is_a(Some, …) then … else …).cabbage\l     = Eaten\l     \|\| (if (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).cabbage\l            = Eaten\l            \|\| (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).goat\l               = Eaten\l         then if ….cabbage = Eaten \|\| ….goat = Eaten then … else …\l         else if Is_a(Some, …) then … else …).goat\l        = Eaten\l  then\l    if (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).cabbage\l       = Eaten\l       \|\| (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).goat\l          = Eaten\l    then if ….cabbage = Eaten \|\| ….goat = Eaten then … else …\l    else if Is_a(Some, …) then … else …\l  else\l  if Is_a(Some,\l     if ((if (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).cabbage\l             = Eaten\l             \|\| (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).goat\l                = Eaten\l          then if ….cabbage = Eaten \|\| ….goat = Eaten then … else …\l          else if Is_a(Some, …) then … else …).goat\l         = LeftCoast\l         &amp;&amp; (if (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).cabbage\l                = Eaten\l                \|\| (if ….cabbage = Eaten \|\| ….goat = Eaten then …\l                    else …).goat\l                   = Eaten\l             then\l               if ….cabbage = Eaten \|\| ….goat = Eaten then … else …\l             else if Is_a(Some, …) then … else …).cabbage\l            = LeftCoast)\l        &amp;&amp; ….boat = Right\l     then … else …)\l  then Option.get … else if … then … else …\lelse …&quot;,shape=box,style=filled,color=&quot;grey&quot;,fontname=&quot;courier&quot;,fontsize=14];
expr_9714 -&gt; call_9713 [label=&quot;calls&quot;];
call_1959 [label=&quot;many_steps\l(if (if (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).cabbage\l        = Eaten\l        \|\| (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).goat\l           = Eaten\l     then if ….cabbage = Eaten \|\| ….goat = Eaten then … else …\l     else if Is_a(Some, …) then … else …).cabbage\l    = Eaten\l    \|\| (if (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).cabbage\l           = Eaten\l           \|\| (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).goat\l              = Eaten\l        then if ….cabbage = Eaten \|\| ….goat = Eaten then … else …\l        else if Is_a(Some, …) then … else …).goat\l       = Eaten\l then\l   if (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).cabbage\l      = Eaten\l      \|\| (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).goat\l         = Eaten\l   then if ….cabbage = Eaten \|\| ….goat = Eaten then … else …\l   else if Is_a(Some, …) then … else …\l else\l if Is_a(Some,\l    if ((if (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).cabbage\l            = Eaten\l            \|\| (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).goat\l               = Eaten\l         then if ….cabbage = Eaten \|\| ….goat = Eaten then … else …\l         else if Is_a(Some, …) then … else …).goat\l        = LeftCoast\l        &amp;&amp; (if (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).cabbage\l               = Eaten\l               \|\| (if ….cabbage = Eaten \|\| ….goat = Eaten then …\l                   else …).goat\l                  = Eaten\l            then if ….cabbage = Eaten \|\| ….goat = Eaten then … else …\l            else if Is_a(Some, …) then … else …).cabbage\l           = LeftCoast)\l       &amp;&amp; ….boat = Right\l    then … else …)\l then Option.get … else if List.hd … = CrossRiver then … else …)\l(List.tl …)&quot;,shape=box,style=filled,color=&quot;green&quot;,fontname=&quot;courier&quot;,fontsize=14];
call_1959 -&gt; expr_4826 [label=&quot;=&quot;];
expr_4826 [label=&quot;if List.tl (List.tl (List.tl l)) = []\lthen\l  if (if (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).cabbage\l         = Eaten\l         \|\| (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).goat\l            = Eaten\l      then if ….cabbage = Eaten \|\| ….goat = Eaten then … else …\l      else if Is_a(Some, …) then … else …).cabbage\l     = Eaten\l     \|\| (if (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).cabbage\l            = Eaten\l            \|\| (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).goat\l               = Eaten\l         then if ….cabbage = Eaten \|\| ….goat = Eaten then … else …\l         else if Is_a(Some, …) then … else …).goat\l        = Eaten\l  then\l    if (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).cabbage\l       = Eaten\l       \|\| (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).goat\l          = Eaten\l    then if ….cabbage = Eaten \|\| ….goat = Eaten then … else …\l    else if Is_a(Some, …) then … else …\l  else\l  if Is_a(Some,\l     if ((if (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).cabbage\l             = Eaten\l             \|\| (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).goat\l                = Eaten\l          then if ….cabbage = Eaten \|\| ….goat = Eaten then … else …\l          else if Is_a(Some, …) then … else …).goat\l         = LeftCoast\l         &amp;&amp; (if (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).cabbage\l                = Eaten\l                \|\| (if ….cabbage = Eaten \|\| ….goat = Eaten then …\l                    else …).goat\l                   = Eaten\l             then\l               if ….cabbage = Eaten \|\| ….goat = Eaten then … else …\l             else if Is_a(Some, …) then … else …).cabbage\l            = LeftCoast)\l        &amp;&amp; ….boat = Right\l     then … else …)\l  then Option.get … else if … then … else …\lelse …&quot;,shape=box,style=filled,color=&quot;grey&quot;,fontname=&quot;courier&quot;,fontsize=14];
expr_1960 -&gt; call_1959 [label=&quot;calls&quot;];
call_106614 [label=&quot;many_steps\l(if (if (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).cabbage\l        = Eaten\l        \|\| (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).goat\l           = Eaten\l     then if ….cabbage = Eaten \|\| ….goat = Eaten then … else …\l     else if Is_a(Some, …) then … else …).cabbage\l    = Eaten\l    \|\| (if (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).cabbage\l           = Eaten\l           \|\| (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).goat\l              = Eaten\l        then if ….cabbage = Eaten \|\| ….goat = Eaten then … else …\l        else if Is_a(Some, …) then … else …).goat\l       = Eaten\l then\l   if (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).cabbage\l      = Eaten\l      \|\| (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).goat\l         = Eaten\l   then if ….cabbage = Eaten \|\| ….goat = Eaten then … else …\l   else if Is_a(Some, …) then … else …\l else\l if Is_a(Some,\l    if ((if (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).cabbage\l            = Eaten\l            \|\| (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).goat\l               = Eaten\l         then if ….cabbage = Eaten \|\| ….goat = Eaten then … else …\l         else if Is_a(Some, …) then … else …).goat\l        = LeftCoast\l        &amp;&amp; (if (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).cabbage\l               = Eaten\l               \|\| (if ….cabbage = Eaten \|\| ….goat = Eaten then …\l                   else …).goat\l                  = Eaten\l            then if ….cabbage = Eaten \|\| ….goat = Eaten then … else …\l            else if Is_a(Some, …) then … else …).cabbage\l           = LeftCoast)\l       &amp;&amp; ….boat = Right\l    then … else …)\l then Option.get … else if List.hd … = CrossRiver then … else …)\l(List.tl …)&quot;,shape=box,style=filled,color=&quot;green&quot;,fontname=&quot;courier&quot;,fontsize=14];
call_106614 -&gt; expr_153308 [label=&quot;=&quot;];
expr_153308 [label=&quot;if List.tl\l   (List.tl\l    (List.tl\l     (List.tl (List.tl (List.tl (List.tl (List.tl (List.tl (List.tl l)))))))))\l   = []\lthen\l  if (if (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).cabbage\l         = Eaten\l         \|\| (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).goat\l            = Eaten\l      then if ….cabbage = Eaten \|\| ….goat = Eaten then … else …\l      else if Is_a(Some, …) then … else …).cabbage\l     = Eaten\l     \|\| (if (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).cabbage\l            = Eaten\l            \|\| (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).goat\l               = Eaten\l         then if ….cabbage = Eaten \|\| ….goat = Eaten then … else …\l         else if Is_a(Some, …) then … else …).goat\l        = Eaten\l  then\l    if (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).cabbage\l       = Eaten\l       \|\| (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).goat\l          = Eaten\l    then if ….cabbage = Eaten \|\| ….goat = Eaten then … else …\l    else if Is_a(Some, …) then … else …\l  else\l  if Is_a(Some,\l     if ((if (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).cabbage\l             = Eaten\l             \|\| (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).goat\l                = Eaten\l          then if ….cabbage = Eaten \|\| ….goat = Eaten then … else …\l          else if Is_a(Some, …) then … else …).goat\l         = LeftCoast\l         &amp;&amp; (if (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).cabbage\l                = Eaten\l                \|\| (if ….cabbage = Eaten \|\| ….goat = Eaten then …\l                    else …).goat\l                   = Eaten\l             then\l               if ….cabbage = Eaten \|\| ….goat = Eaten then … else …\l             else if Is_a(Some, …) then … else …).cabbage\l            = LeftCoast)\l        &amp;&amp; ….boat = Right\l     then … else …)\l  then Option.get … else if … then … else …\lelse …&quot;,shape=box,style=filled,color=&quot;grey&quot;,fontname=&quot;courier&quot;,fontsize=14];
expr_106615 -&gt; call_106614 [label=&quot;calls&quot;];
call_15980 [label=&quot;many_steps\l(if (if (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).cabbage\l        = Eaten\l        \|\| (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).goat\l           = Eaten\l     then if ….cabbage = Eaten \|\| ….goat = Eaten then … else …\l     else if Is_a(Some, …) then … else …).cabbage\l    = Eaten\l    \|\| (if (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).cabbage\l           = Eaten\l           \|\| (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).goat\l              = Eaten\l        then if ….cabbage = Eaten \|\| ….goat = Eaten then … else …\l        else if Is_a(Some, …) then … else …).goat\l       = Eaten\l then\l   if (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).cabbage\l      = Eaten\l      \|\| (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).goat\l         = Eaten\l   then if ….cabbage = Eaten \|\| ….goat = Eaten then … else …\l   else if Is_a(Some, …) then … else …\l else\l if Is_a(Some,\l    if ((if (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).cabbage\l            = Eaten\l            \|\| (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).goat\l               = Eaten\l         then if ….cabbage = Eaten \|\| ….goat = Eaten then … else …\l         else if Is_a(Some, …) then … else …).goat\l        = LeftCoast\l        &amp;&amp; (if (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).cabbage\l               = Eaten\l               \|\| (if ….cabbage = Eaten \|\| ….goat = Eaten then …\l                   else …).goat\l                  = Eaten\l            then if ….cabbage = Eaten \|\| ….goat = Eaten then … else …\l            else if Is_a(Some, …) then … else …).cabbage\l           = LeftCoast)\l       &amp;&amp; ….boat = Right\l    then … else …)\l then Option.get … else if List.hd … = CrossRiver then … else …)\l(List.tl …)&quot;,shape=box,style=filled,color=&quot;green&quot;,fontname=&quot;courier&quot;,fontsize=14];
call_15980 -&gt; expr_27382 [label=&quot;=&quot;];
expr_27382 [label=&quot;if List.tl (List.tl (List.tl (List.tl (List.tl (List.tl l))))) = []\lthen\l  if (if (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).cabbage\l         = Eaten\l         \|\| (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).goat\l            = Eaten\l      then if ….cabbage = Eaten \|\| ….goat = Eaten then … else …\l      else if Is_a(Some, …) then … else …).cabbage\l     = Eaten\l     \|\| (if (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).cabbage\l            = Eaten\l            \|\| (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).goat\l               = Eaten\l         then if ….cabbage = Eaten \|\| ….goat = Eaten then … else …\l         else if Is_a(Some, …) then … else …).goat\l        = Eaten\l  then\l    if (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).cabbage\l       = Eaten\l       \|\| (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).goat\l          = Eaten\l    then if ….cabbage = Eaten \|\| ….goat = Eaten then … else …\l    else if Is_a(Some, …) then … else …\l  else\l  if Is_a(Some,\l     if ((if (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).cabbage\l             = Eaten\l             \|\| (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).goat\l                = Eaten\l          then if ….cabbage = Eaten \|\| ….goat = Eaten then … else …\l          else if Is_a(Some, …) then … else …).goat\l         = LeftCoast\l         &amp;&amp; (if (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).cabbage\l                = Eaten\l                \|\| (if ….cabbage = Eaten \|\| ….goat = Eaten then …\l                    else …).goat\l                   = Eaten\l             then\l               if ….cabbage = Eaten \|\| ….goat = Eaten then … else …\l             else if Is_a(Some, …) then … else …).cabbage\l            = LeftCoast)\l        &amp;&amp; ….boat = Right\l     then … else …)\l  then Option.get … else if … then … else …\lelse …&quot;,shape=box,style=filled,color=&quot;grey&quot;,fontname=&quot;courier&quot;,fontsize=14];
expr_15981 -&gt; call_15980 [label=&quot;calls&quot;];
call_426 [label=&quot;many_steps\l(if LeftCoast = Eaten \|\| LeftCoast = Eaten\l then \{cabbage = LeftCoast; goat = LeftCoast; wolf = LeftCoast; boat = Left\}\l else\l if Is_a(Some,\l    if (LeftCoast = LeftCoast &amp;&amp; LeftCoast = LeftCoast) &amp;&amp; Left = Right\l    then … else …)\l then Option.get … else if List.hd … = CrossRiver then … else …)\l(List.tl …)&quot;,shape=box,style=filled,color=&quot;green&quot;,fontname=&quot;courier&quot;,fontsize=14];
call_426 -&gt; expr_707 [label=&quot;=&quot;];
expr_707 [label=&quot;if List.tl l = []\lthen\l  if LeftCoast = Eaten \|\| LeftCoast = Eaten\l  then \{cabbage = LeftCoast; goat = LeftCoast; wolf = LeftCoast; boat = Left\}\l  else\l  if Is_a(Some,\l     if (LeftCoast = LeftCoast &amp;&amp; LeftCoast = LeftCoast) &amp;&amp; Left = Right\l     then … else …)\l  then Option.get … else if List.hd l = CrossRiver then … else …\lelse\l  many_steps\l  (if (if LeftCoast = Eaten \|\| LeftCoast = Eaten\l       then\l         \{cabbage = LeftCoast; goat = LeftCoast; wolf = LeftCoast;\l          boat = Left\}\l       else …).cabbage\l      = Eaten\l      \|\| (if LeftCoast = Eaten \|\| LeftCoast = Eaten\l          then\l            \{cabbage = LeftCoast; goat = LeftCoast; wolf = LeftCoast;\l             boat = Left\}\l          else …).goat\l         = Eaten\l   then\l     if LeftCoast = Eaten \|\| LeftCoast = Eaten\l     then\l       \{cabbage = LeftCoast; goat = LeftCoast; wolf = LeftCoast; boat = Left\}\l     else …\l   else if Is_a(Some, …) then … else …)\l  (List.tl (List.tl l))&quot;,shape=box,style=filled,color=&quot;grey&quot;,fontname=&quot;courier&quot;,fontsize=14];
expr_427 -&gt; call_426 [label=&quot;calls&quot;];
call_678157 [label=&quot;many_steps\l(if (if (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).cabbage\l        = Eaten\l        \|\| (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).goat\l           = Eaten\l     then if ….cabbage = Eaten \|\| ….goat = Eaten then … else …\l     else if Is_a(Some, …) then … else …).cabbage\l    = Eaten\l    \|\| (if (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).cabbage\l           = Eaten\l           \|\| (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).goat\l              = Eaten\l        then if ….cabbage = Eaten \|\| ….goat = Eaten then … else …\l        else if Is_a(Some, …) then … else …).goat\l       = Eaten\l then\l   if (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).cabbage\l      = Eaten\l      \|\| (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).goat\l         = Eaten\l   then if ….cabbage = Eaten \|\| ….goat = Eaten then … else …\l   else if Is_a(Some, …) then … else …\l else\l if Is_a(Some,\l    if ((if (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).cabbage\l            = Eaten\l            \|\| (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).goat\l               = Eaten\l         then if ….cabbage = Eaten \|\| ….goat = Eaten then … else …\l         else if Is_a(Some, …) then … else …).goat\l        = LeftCoast\l        &amp;&amp; (if (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).cabbage\l               = Eaten\l               \|\| (if ….cabbage = Eaten \|\| ….goat = Eaten then …\l                   else …).goat\l                  = Eaten\l            then if ….cabbage = Eaten \|\| ….goat = Eaten then … else …\l            else if Is_a(Some, …) then … else …).cabbage\l           = LeftCoast)\l       &amp;&amp; ….boat = Right\l    then … else …)\l then Option.get … else if List.hd … = CrossRiver then … else …)\l(List.tl …)&quot;,shape=box,style=filled,color=&quot;green&quot;,fontname=&quot;courier&quot;,fontsize=14];
call_678157 -&gt; expr_138717 [label=&quot;=&quot;];
expr_138717 [label=&quot;if List.tl\l   (List.tl\l    (List.tl\l     (List.tl\l      (List.tl\l       (List.tl\l        (List.tl\l         (List.tl\l          (List.tl\l           (List.tl\l            (List.tl\l             (List.tl (List.tl (List.tl (List.tl (List.tl (List.tl l))))))))))))))))\l   = []\lthen\l  if (if (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).cabbage\l         = Eaten\l         \|\| (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).goat\l            = Eaten\l      then if ….cabbage = Eaten \|\| ….goat = Eaten then … else …\l      else if Is_a(Some, …) then … else …).cabbage\l     = Eaten\l     \|\| (if (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).cabbage\l            = Eaten\l            \|\| (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).goat\l               = Eaten\l         then if ….cabbage = Eaten \|\| ….goat = Eaten then … else …\l         else if Is_a(Some, …) then … else …).goat\l        = Eaten\l  then\l    if (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).cabbage\l       = Eaten\l       \|\| (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).goat\l          = Eaten\l    then if ….cabbage = Eaten \|\| ….goat = Eaten then … else …\l    else if Is_a(Some, …) then … else …\l  else\l  if Is_a(Some,\l     if ((if (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).cabbage\l             = Eaten\l             \|\| (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).goat\l                = Eaten\l          then if ….cabbage = Eaten \|\| ….goat = Eaten then … else …\l          else if Is_a(Some, …) then … else …).goat\l         = LeftCoast\l         &amp;&amp; (if (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).cabbage\l                = Eaten\l                \|\| (if ….cabbage = Eaten \|\| ….goat = Eaten then …\l                    else …).goat\l                   = Eaten\l             then\l               if ….cabbage = Eaten \|\| ….goat = Eaten then … else …\l             else if Is_a(Some, …) then … else …).cabbage\l            = LeftCoast)\l        &amp;&amp; ….boat = Right\l     then … else …)\l  then Option.get … else if … then … else …\lelse …&quot;,shape=box,style=filled,color=&quot;grey&quot;,fontname=&quot;courier&quot;,fontsize=14];
expr_678158 -&gt; call_678157 [label=&quot;calls&quot;];
call_4825 [label=&quot;many_steps\l(if (if (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).cabbage\l        = Eaten\l        \|\| (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).goat\l           = Eaten\l     then if ….cabbage = Eaten \|\| ….goat = Eaten then … else …\l     else if Is_a(Some, …) then … else …).cabbage\l    = Eaten\l    \|\| (if (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).cabbage\l           = Eaten\l           \|\| (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).goat\l              = Eaten\l        then if ….cabbage = Eaten \|\| ….goat = Eaten then … else …\l        else if Is_a(Some, …) then … else …).goat\l       = Eaten\l then\l   if (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).cabbage\l      = Eaten\l      \|\| (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).goat\l         = Eaten\l   then if ….cabbage = Eaten \|\| ….goat = Eaten then … else …\l   else if Is_a(Some, …) then … else …\l else\l if Is_a(Some,\l    if ((if (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).cabbage\l            = Eaten\l            \|\| (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).goat\l               = Eaten\l         then if ….cabbage = Eaten \|\| ….goat = Eaten then … else …\l         else if Is_a(Some, …) then … else …).goat\l        = LeftCoast\l        &amp;&amp; (if (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).cabbage\l               = Eaten\l               \|\| (if ….cabbage = Eaten \|\| ….goat = Eaten then …\l                   else …).goat\l                  = Eaten\l            then if ….cabbage = Eaten \|\| ….goat = Eaten then … else …\l            else if Is_a(Some, …) then … else …).cabbage\l           = LeftCoast)\l       &amp;&amp; ….boat = Right\l    then … else …)\l then Option.get … else if List.hd … = CrossRiver then … else …)\l(List.tl …)&quot;,shape=box,style=filled,color=&quot;green&quot;,fontname=&quot;courier&quot;,fontsize=14];
call_4825 -&gt; expr_9714 [label=&quot;=&quot;];
expr_9714 [label=&quot;if List.tl (List.tl (List.tl (List.tl l))) = []\lthen\l  if (if (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).cabbage\l         = Eaten\l         \|\| (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).goat\l            = Eaten\l      then if ….cabbage = Eaten \|\| ….goat = Eaten then … else …\l      else if Is_a(Some, …) then … else …).cabbage\l     = Eaten\l     \|\| (if (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).cabbage\l            = Eaten\l            \|\| (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).goat\l               = Eaten\l         then if ….cabbage = Eaten \|\| ….goat = Eaten then … else …\l         else if Is_a(Some, …) then … else …).goat\l        = Eaten\l  then\l    if (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).cabbage\l       = Eaten\l       \|\| (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).goat\l          = Eaten\l    then if ….cabbage = Eaten \|\| ….goat = Eaten then … else …\l    else if Is_a(Some, …) then … else …\l  else\l  if Is_a(Some,\l     if ((if (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).cabbage\l             = Eaten\l             \|\| (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).goat\l                = Eaten\l          then if ….cabbage = Eaten \|\| ….goat = Eaten then … else …\l          else if Is_a(Some, …) then … else …).goat\l         = LeftCoast\l         &amp;&amp; (if (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).cabbage\l                = Eaten\l                \|\| (if ….cabbage = Eaten \|\| ….goat = Eaten then …\l                    else …).goat\l                   = Eaten\l             then\l               if ….cabbage = Eaten \|\| ….goat = Eaten then … else …\l             else if Is_a(Some, …) then … else …).cabbage\l            = LeftCoast)\l        &amp;&amp; ….boat = Right\l     then … else …)\l  then Option.get … else if … then … else …\lelse …&quot;,shape=box,style=filled,color=&quot;grey&quot;,fontname=&quot;courier&quot;,fontsize=14];
expr_4826 -&gt; call_4825 [label=&quot;calls&quot;];
call_706 [label=&quot;many_steps\l(if (if … = Eaten \|\| … = Eaten\l     then \{cabbage = …; goat = …; wolf = …; boat = …\}\l     else if Is_a(Some, …) then … else …).cabbage\l    = Eaten\l    \|\| (if … = Eaten \|\| … = Eaten\l        then \{cabbage = …; goat = …; wolf = …; boat = …\}\l        else if Is_a(Some, …) then … else …).goat\l       = Eaten\l then\l   if … = Eaten \|\| … = Eaten\l   then \{cabbage = …; goat = …; wolf = …; boat = …\}\l   else if Is_a(Some, …) then … else …\l else\l if Is_a(Some,\l    if ((if … = Eaten \|\| … = Eaten\l         then \{cabbage = …; goat = …; wolf = …; boat = …\}\l         else if Is_a(Some, …) then … else …).goat\l        = …\l        &amp;&amp; (if … = Eaten \|\| … = Eaten\l            then \{cabbage = …; goat = …; wolf = …; boat = …\}\l            else if Is_a(Some, …) then … else …).cabbage\l           = …)\l       &amp;&amp; ….boat = Right\l    then … else …)\l then Option.get … else if List.hd … = CrossRiver then … else …)\l(List.tl …)&quot;,shape=box,style=filled,color=&quot;green&quot;,fontname=&quot;courier&quot;,fontsize=14];
call_706 -&gt; expr_1960 [label=&quot;=&quot;];
expr_1960 [label=&quot;if List.tl (List.tl l) = []\lthen\l  if (if … = Eaten \|\| … = Eaten\l      then \{cabbage = …; goat = …; wolf = …; boat = …\}\l      else if Is_a(Some, …) then … else …).cabbage\l     = Eaten\l     \|\| (if … = Eaten \|\| … = Eaten\l         then \{cabbage = …; goat = …; wolf = …; boat = …\}\l         else if Is_a(Some, …) then … else …).goat\l        = Eaten\l  then\l    if … = Eaten \|\| … = Eaten\l    then \{cabbage = …; goat = …; wolf = …; boat = …\}\l    else if Is_a(Some, …) then … else …\l  else\l  if Is_a(Some,\l     if ((if … = Eaten \|\| … = Eaten\l          then \{cabbage = …; goat = …; wolf = …; boat = …\}\l          else if Is_a(Some, …) then … else …).goat\l         = …\l         &amp;&amp; (if … = Eaten \|\| … = Eaten\l             then \{cabbage = …; goat = …; wolf = …; boat = …\}\l             else if Is_a(Some, …) then … else …).cabbage\l            = …)\l        &amp;&amp; ….boat = Right\l     then … else …)\l  then Option.get …\l  else if List.hd (List.tl l) = CrossRiver then … else …\lelse\l  many_steps\l  (if (if (if … = Eaten \|\| … = Eaten\l           then \{cabbage = …; goat = …; wolf = …; boat = …\}\l           else if Is_a(Some, …) then … else …).cabbage\l          = Eaten\l          \|\| (if … = Eaten \|\| … = Eaten\l              then \{cabbage = …; goat = …; wolf = …; boat = …\}\l              else if Is_a(Some, …) then … else …).goat\l             = Eaten\l       then … else …).cabbage\l      = Eaten\l      \|\| (if (if … = Eaten \|\| … = Eaten\l              then \{cabbage = …; goat = …; wolf = …; boat = …\}\l              else if Is_a(Some, …) then … else …).cabbage\l             = Eaten\l             \|\| (if … = Eaten \|\| … = Eaten\l                 then \{cabbage = …; goat = …; wolf = …; boat = …\}\l                 else if Is_a(Some, …) then … else …).goat\l                = Eaten\l          then … else …).goat\l         = Eaten\l   then … else …)\l  …&quot;,shape=box,style=filled,color=&quot;grey&quot;,fontname=&quot;courier&quot;,fontsize=14];
expr_707 -&gt; call_706 [label=&quot;calls&quot;];
call_417117 [label=&quot;many_steps\l(if (if (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).cabbage\l        = Eaten\l        \|\| (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).goat\l           = Eaten\l     then if ….cabbage = Eaten \|\| ….goat = Eaten then … else …\l     else if Is_a(Some, …) then … else …).cabbage\l    = Eaten\l    \|\| (if (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).cabbage\l           = Eaten\l           \|\| (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).goat\l              = Eaten\l        then if ….cabbage = Eaten \|\| ….goat = Eaten then … else …\l        else if Is_a(Some, …) then … else …).goat\l       = Eaten\l then\l   if (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).cabbage\l      = Eaten\l      \|\| (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).goat\l         = Eaten\l   then if ….cabbage = Eaten \|\| ….goat = Eaten then … else …\l   else if Is_a(Some, …) then … else …\l else\l if Is_a(Some,\l    if ((if (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).cabbage\l            = Eaten\l            \|\| (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).goat\l               = Eaten\l         then if ….cabbage = Eaten \|\| ….goat = Eaten then … else …\l         else if Is_a(Some, …) then … else …).goat\l        = LeftCoast\l        &amp;&amp; (if (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).cabbage\l               = Eaten\l               \|\| (if ….cabbage = Eaten \|\| ….goat = Eaten then …\l                   else …).goat\l                  = Eaten\l            then if ….cabbage = Eaten \|\| ….goat = Eaten then … else …\l            else if Is_a(Some, …) then … else …).cabbage\l           = LeftCoast)\l       &amp;&amp; ….boat = Right\l    then … else …)\l then Option.get … else if List.hd … = CrossRiver then … else …)\l(List.tl …)&quot;,shape=box,style=filled,color=&quot;green&quot;,fontname=&quot;courier&quot;,fontsize=14];
call_417117 -&gt; expr_462580 [label=&quot;=&quot;];
expr_462580 [label=&quot;if List.tl\l   (List.tl\l    (List.tl\l     (List.tl\l      (List.tl\l       (List.tl\l        (List.tl\l         (List.tl\l          (List.tl\l           (List.tl (List.tl (List.tl (List.tl (List.tl (List.tl l))))))))))))))\l   = []\lthen\l  if (if (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).cabbage\l         = Eaten\l         \|\| (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).goat\l            = Eaten\l      then if ….cabbage = Eaten \|\| ….goat = Eaten then … else …\l      else if Is_a(Some, …) then … else …).cabbage\l     = Eaten\l     \|\| (if (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).cabbage\l            = Eaten\l            \|\| (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).goat\l               = Eaten\l         then if ….cabbage = Eaten \|\| ….goat = Eaten then … else …\l         else if Is_a(Some, …) then … else …).goat\l        = Eaten\l  then\l    if (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).cabbage\l       = Eaten\l       \|\| (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).goat\l          = Eaten\l    then if ….cabbage = Eaten \|\| ….goat = Eaten then … else …\l    else if Is_a(Some, …) then … else …\l  else\l  if Is_a(Some,\l     if ((if (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).cabbage\l             = Eaten\l             \|\| (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).goat\l                = Eaten\l          then if ….cabbage = Eaten \|\| ….goat = Eaten then … else …\l          else if Is_a(Some, …) then … else …).goat\l         = LeftCoast\l         &amp;&amp; (if (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).cabbage\l                = Eaten\l                \|\| (if ….cabbage = Eaten \|\| ….goat = Eaten then …\l                    else …).goat\l                   = Eaten\l             then\l               if ….cabbage = Eaten \|\| ….goat = Eaten then … else …\l             else if Is_a(Some, …) then … else …).cabbage\l            = LeftCoast)\l        &amp;&amp; ….boat = Right\l     then … else …)\l  then Option.get … else if … then … else …\lelse …&quot;,shape=box,style=filled,color=&quot;grey&quot;,fontname=&quot;courier&quot;,fontsize=14];
expr_417118 -&gt; call_417117 [label=&quot;calls&quot;];
call_27381 [label=&quot;many_steps\l(if (if (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).cabbage\l        = Eaten\l        \|\| (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).goat\l           = Eaten\l     then if ….cabbage = Eaten \|\| ….goat = Eaten then … else …\l     else if Is_a(Some, …) then … else …).cabbage\l    = Eaten\l    \|\| (if (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).cabbage\l           = Eaten\l           \|\| (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).goat\l              = Eaten\l        then if ….cabbage = Eaten \|\| ….goat = Eaten then … else …\l        else if Is_a(Some, …) then … else …).goat\l       = Eaten\l then\l   if (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).cabbage\l      = Eaten\l      \|\| (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).goat\l         = Eaten\l   then if ….cabbage = Eaten \|\| ….goat = Eaten then … else …\l   else if Is_a(Some, …) then … else …\l else\l if Is_a(Some,\l    if ((if (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).cabbage\l            = Eaten\l            \|\| (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).goat\l               = Eaten\l         then if ….cabbage = Eaten \|\| ….goat = Eaten then … else …\l         else if Is_a(Some, …) then … else …).goat\l        = LeftCoast\l        &amp;&amp; (if (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).cabbage\l               = Eaten\l               \|\| (if ….cabbage = Eaten \|\| ….goat = Eaten then …\l                   else …).goat\l                  = Eaten\l            then if ….cabbage = Eaten \|\| ….goat = Eaten then … else …\l            else if Is_a(Some, …) then … else …).cabbage\l           = LeftCoast)\l       &amp;&amp; ….boat = Right\l    then … else …)\l then Option.get … else if List.hd … = CrossRiver then … else …)\l(List.tl …)&quot;,shape=box,style=filled,color=&quot;green&quot;,fontname=&quot;courier&quot;,fontsize=14];
call_27381 -&gt; expr_6718 [label=&quot;=&quot;];
expr_6718 [label=&quot;if List.tl (List.tl (List.tl (List.tl (List.tl (List.tl (List.tl l)))))) = []\lthen\l  if (if (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).cabbage\l         = Eaten\l         \|\| (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).goat\l            = Eaten\l      then if ….cabbage = Eaten \|\| ….goat = Eaten then … else …\l      else if Is_a(Some, …) then … else …).cabbage\l     = Eaten\l     \|\| (if (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).cabbage\l            = Eaten\l            \|\| (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).goat\l               = Eaten\l         then if ….cabbage = Eaten \|\| ….goat = Eaten then … else …\l         else if Is_a(Some, …) then … else …).goat\l        = Eaten\l  then\l    if (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).cabbage\l       = Eaten\l       \|\| (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).goat\l          = Eaten\l    then if ….cabbage = Eaten \|\| ….goat = Eaten then … else …\l    else if Is_a(Some, …) then … else …\l  else\l  if Is_a(Some,\l     if ((if (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).cabbage\l             = Eaten\l             \|\| (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).goat\l                = Eaten\l          then if ….cabbage = Eaten \|\| ….goat = Eaten then … else …\l          else if Is_a(Some, …) then … else …).goat\l         = LeftCoast\l         &amp;&amp; (if (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).cabbage\l                = Eaten\l                \|\| (if ….cabbage = Eaten \|\| ….goat = Eaten then …\l                    else …).goat\l                   = Eaten\l             then\l               if ….cabbage = Eaten \|\| ….goat = Eaten then … else …\l             else if Is_a(Some, …) then … else …).cabbage\l            = LeftCoast)\l        &amp;&amp; ….boat = Right\l     then … else …)\l  then Option.get … else if … then … else …\lelse …&quot;,shape=box,style=filled,color=&quot;grey&quot;,fontname=&quot;courier&quot;,fontsize=14];
expr_27382 -&gt; call_27381 [label=&quot;calls&quot;];
call_235626 [label=&quot;many_steps\l(if (if (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).cabbage\l        = Eaten\l        \|\| (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).goat\l           = Eaten\l     then if ….cabbage = Eaten \|\| ….goat = Eaten then … else …\l     else if Is_a(Some, …) then … else …).cabbage\l    = Eaten\l    \|\| (if (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).cabbage\l           = Eaten\l           \|\| (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).goat\l              = Eaten\l        then if ….cabbage = Eaten \|\| ….goat = Eaten then … else …\l        else if Is_a(Some, …) then … else …).goat\l       = Eaten\l then\l   if (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).cabbage\l      = Eaten\l      \|\| (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).goat\l         = Eaten\l   then if ….cabbage = Eaten \|\| ….goat = Eaten then … else …\l   else if Is_a(Some, …) then … else …\l else\l if Is_a(Some,\l    if ((if (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).cabbage\l            = Eaten\l            \|\| (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).goat\l               = Eaten\l         then if ….cabbage = Eaten \|\| ….goat = Eaten then … else …\l         else if Is_a(Some, …) then … else …).goat\l        = LeftCoast\l        &amp;&amp; (if (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).cabbage\l               = Eaten\l               \|\| (if ….cabbage = Eaten \|\| ….goat = Eaten then …\l                   else …).goat\l                  = Eaten\l            then if ….cabbage = Eaten \|\| ….goat = Eaten then … else …\l            else if Is_a(Some, …) then … else …).cabbage\l           = LeftCoast)\l       &amp;&amp; ….boat = Right\l    then … else …)\l then Option.get … else if List.hd … = CrossRiver then … else …)\l(List.tl …)&quot;,shape=box,style=filled,color=&quot;green&quot;,fontname=&quot;courier&quot;,fontsize=14];
call_235626 -&gt; expr_299379 [label=&quot;=&quot;];
expr_299379 [label=&quot;if List.tl\l   (List.tl\l    (List.tl\l     (List.tl\l      (List.tl\l       (List.tl\l        (List.tl\l         (List.tl (List.tl (List.tl (List.tl (List.tl (List.tl l))))))))))))\l   = []\lthen\l  if (if (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).cabbage\l         = Eaten\l         \|\| (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).goat\l            = Eaten\l      then if ….cabbage = Eaten \|\| ….goat = Eaten then … else …\l      else if Is_a(Some, …) then … else …).cabbage\l     = Eaten\l     \|\| (if (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).cabbage\l            = Eaten\l            \|\| (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).goat\l               = Eaten\l         then if ….cabbage = Eaten \|\| ….goat = Eaten then … else …\l         else if Is_a(Some, …) then … else …).goat\l        = Eaten\l  then\l    if (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).cabbage\l       = Eaten\l       \|\| (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).goat\l          = Eaten\l    then if ….cabbage = Eaten \|\| ….goat = Eaten then … else …\l    else if Is_a(Some, …) then … else …\l  else\l  if Is_a(Some,\l     if ((if (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).cabbage\l             = Eaten\l             \|\| (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).goat\l                = Eaten\l          then if ….cabbage = Eaten \|\| ….goat = Eaten then … else …\l          else if Is_a(Some, …) then … else …).goat\l         = LeftCoast\l         &amp;&amp; (if (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).cabbage\l                = Eaten\l                \|\| (if ….cabbage = Eaten \|\| ….goat = Eaten then …\l                    else …).goat\l                   = Eaten\l             then\l               if ….cabbage = Eaten \|\| ….goat = Eaten then … else …\l             else if Is_a(Some, …) then … else …).cabbage\l            = LeftCoast)\l        &amp;&amp; ….boat = Right\l     then … else …)\l  then Option.get … else if … then … else …\lelse …&quot;,shape=box,style=filled,color=&quot;grey&quot;,fontname=&quot;courier&quot;,fontsize=14];
expr_235627 -&gt; call_235626 [label=&quot;calls&quot;];
call_69332 [label=&quot;many_steps\l(if (if (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).cabbage\l        = Eaten\l        \|\| (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).goat\l           = Eaten\l     then if ….cabbage = Eaten \|\| ….goat = Eaten then … else …\l     else if Is_a(Some, …) then … else …).cabbage\l    = Eaten\l    \|\| (if (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).cabbage\l           = Eaten\l           \|\| (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).goat\l              = Eaten\l        then if ….cabbage = Eaten \|\| ….goat = Eaten then … else …\l        else if Is_a(Some, …) then … else …).goat\l       = Eaten\l then\l   if (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).cabbage\l      = Eaten\l      \|\| (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).goat\l         = Eaten\l   then if ….cabbage = Eaten \|\| ….goat = Eaten then … else …\l   else if Is_a(Some, …) then … else …\l else\l if Is_a(Some,\l    if ((if (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).cabbage\l            = Eaten\l            \|\| (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).goat\l               = Eaten\l         then if ….cabbage = Eaten \|\| ….goat = Eaten then … else …\l         else if Is_a(Some, …) then … else …).goat\l        = LeftCoast\l        &amp;&amp; (if (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).cabbage\l               = Eaten\l               \|\| (if ….cabbage = Eaten \|\| ….goat = Eaten then …\l                   else …).goat\l                  = Eaten\l            then if ….cabbage = Eaten \|\| ….goat = Eaten then … else …\l            else if Is_a(Some, …) then … else …).cabbage\l           = LeftCoast)\l       &amp;&amp; ….boat = Right\l    then … else …)\l then Option.get … else if List.hd … = CrossRiver then … else …)\l(List.tl …)&quot;,shape=box,style=filled,color=&quot;green&quot;,fontname=&quot;courier&quot;,fontsize=14];
call_69332 -&gt; expr_106615 [label=&quot;=&quot;];
expr_106615 [label=&quot;if List.tl\l   (List.tl\l    (List.tl (List.tl (List.tl (List.tl (List.tl (List.tl (List.tl l))))))))\l   = []\lthen\l  if (if (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).cabbage\l         = Eaten\l         \|\| (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).goat\l            = Eaten\l      then if ….cabbage = Eaten \|\| ….goat = Eaten then … else …\l      else if Is_a(Some, …) then … else …).cabbage\l     = Eaten\l     \|\| (if (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).cabbage\l            = Eaten\l            \|\| (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).goat\l               = Eaten\l         then if ….cabbage = Eaten \|\| ….goat = Eaten then … else …\l         else if Is_a(Some, …) then … else …).goat\l        = Eaten\l  then\l    if (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).cabbage\l       = Eaten\l       \|\| (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).goat\l          = Eaten\l    then if ….cabbage = Eaten \|\| ….goat = Eaten then … else …\l    else if Is_a(Some, …) then … else …\l  else\l  if Is_a(Some,\l     if ((if (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).cabbage\l             = Eaten\l             \|\| (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).goat\l                = Eaten\l          then if ….cabbage = Eaten \|\| ….goat = Eaten then … else …\l          else if Is_a(Some, …) then … else …).goat\l         = LeftCoast\l         &amp;&amp; (if (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).cabbage\l                = Eaten\l                \|\| (if ….cabbage = Eaten \|\| ….goat = Eaten then …\l                    else …).goat\l                   = Eaten\l             then\l               if ….cabbage = Eaten \|\| ….goat = Eaten then … else …\l             else if Is_a(Some, …) then … else …).cabbage\l            = LeftCoast)\l        &amp;&amp; ….boat = Right\l     then … else …)\l  then Option.get … else if … then … else …\lelse …&quot;,shape=box,style=filled,color=&quot;grey&quot;,fontname=&quot;courier&quot;,fontsize=14];
expr_69333 -&gt; call_69332 [label=&quot;calls&quot;];
call_36 [label=&quot;many_steps\l\{cabbage = LeftCoast; goat = LeftCoast; wolf = LeftCoast; boat = Left\} l&quot;,shape=box,style=filled,color=&quot;green&quot;,fontname=&quot;courier&quot;,fontsize=14];
call_36 -&gt; expr_427 [label=&quot;=&quot;];
expr_427 [label=&quot;if l = []\lthen \{cabbage = LeftCoast; goat = LeftCoast; wolf = LeftCoast; boat = Left\}\lelse\l  many_steps\l  (if LeftCoast = Eaten \|\| LeftCoast = Eaten\l   then\l     \{cabbage = LeftCoast; goat = LeftCoast; wolf = LeftCoast; boat = Left\}\l   else if Is_a(Some, …) then … else …)\l  (List.tl l)&quot;,shape=box,style=filled,color=&quot;grey&quot;,fontname=&quot;courier&quot;,fontsize=14];
goal -&gt; call_36 [label=&quot;calls&quot;];
call_153307 [label=&quot;many_steps\l(if (if (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).cabbage\l        = Eaten\l        \|\| (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).goat\l           = Eaten\l     then if ….cabbage = Eaten \|\| ….goat = Eaten then … else …\l     else if Is_a(Some, …) then … else …).cabbage\l    = Eaten\l    \|\| (if (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).cabbage\l           = Eaten\l           \|\| (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).goat\l              = Eaten\l        then if ….cabbage = Eaten \|\| ….goat = Eaten then … else …\l        else if Is_a(Some, …) then … else …).goat\l       = Eaten\l then\l   if (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).cabbage\l      = Eaten\l      \|\| (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).goat\l         = Eaten\l   then if ….cabbage = Eaten \|\| ….goat = Eaten then … else …\l   else if Is_a(Some, …) then … else …\l else\l if Is_a(Some,\l    if ((if (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).cabbage\l            = Eaten\l            \|\| (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).goat\l               = Eaten\l         then if ….cabbage = Eaten \|\| ….goat = Eaten then … else …\l         else if Is_a(Some, …) then … else …).goat\l        = LeftCoast\l        &amp;&amp; (if (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).cabbage\l               = Eaten\l               \|\| (if ….cabbage = Eaten \|\| ….goat = Eaten then …\l                   else …).goat\l                  = Eaten\l            then if ….cabbage = Eaten \|\| ….goat = Eaten then … else …\l            else if Is_a(Some, …) then … else …).cabbage\l           = LeftCoast)\l       &amp;&amp; ….boat = Right\l    then … else …)\l then Option.get … else if List.hd … = CrossRiver then … else …)\l(List.tl …)&quot;,shape=box,style=filled,color=&quot;green&quot;,fontname=&quot;courier&quot;,fontsize=14];
call_153307 -&gt; expr_191467 [label=&quot;=&quot;];
expr_191467 [label=&quot;if List.tl\l   (List.tl\l    (List.tl\l     (List.tl\l      (List.tl (List.tl (List.tl (List.tl (List.tl (List.tl (List.tl l))))))))))\l   = []\lthen\l  if (if (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).cabbage\l         = Eaten\l         \|\| (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).goat\l            = Eaten\l      then if ….cabbage = Eaten \|\| ….goat = Eaten then … else …\l      else if Is_a(Some, …) then … else …).cabbage\l     = Eaten\l     \|\| (if (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).cabbage\l            = Eaten\l            \|\| (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).goat\l               = Eaten\l         then if ….cabbage = Eaten \|\| ….goat = Eaten then … else …\l         else if Is_a(Some, …) then … else …).goat\l        = Eaten\l  then\l    if (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).cabbage\l       = Eaten\l       \|\| (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).goat\l          = Eaten\l    then if ….cabbage = Eaten \|\| ….goat = Eaten then … else …\l    else if Is_a(Some, …) then … else …\l  else\l  if Is_a(Some,\l     if ((if (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).cabbage\l             = Eaten\l             \|\| (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).goat\l                = Eaten\l          then if ….cabbage = Eaten \|\| ….goat = Eaten then … else …\l          else if Is_a(Some, …) then … else …).goat\l         = LeftCoast\l         &amp;&amp; (if (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).cabbage\l                = Eaten\l                \|\| (if ….cabbage = Eaten \|\| ….goat = Eaten then …\l                    else …).goat\l                   = Eaten\l             then\l               if ….cabbage = Eaten \|\| ….goat = Eaten then … else …\l             else if Is_a(Some, …) then … else …).cabbage\l            = LeftCoast)\l        &amp;&amp; ….boat = Right\l     then … else …)\l  then Option.get … else if … then … else …\lelse …&quot;,shape=box,style=filled,color=&quot;grey&quot;,fontname=&quot;courier&quot;,fontsize=14];
expr_153308 -&gt; call_153307 [label=&quot;calls&quot;];
call_462579 [label=&quot;many_steps\l(if (if (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).cabbage\l        = Eaten\l        \|\| (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).goat\l           = Eaten\l     then if ….cabbage = Eaten \|\| ….goat = Eaten then … else …\l     else if Is_a(Some, …) then … else …).cabbage\l    = Eaten\l    \|\| (if (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).cabbage\l           = Eaten\l           \|\| (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).goat\l              = Eaten\l        then if ….cabbage = Eaten \|\| ….goat = Eaten then … else …\l        else if Is_a(Some, …) then … else …).goat\l       = Eaten\l then\l   if (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).cabbage\l      = Eaten\l      \|\| (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).goat\l         = Eaten\l   then if ….cabbage = Eaten \|\| ….goat = Eaten then … else …\l   else if Is_a(Some, …) then … else …\l else\l if Is_a(Some,\l    if ((if (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).cabbage\l            = Eaten\l            \|\| (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).goat\l               = Eaten\l         then if ….cabbage = Eaten \|\| ….goat = Eaten then … else …\l         else if Is_a(Some, …) then … else …).goat\l        = LeftCoast\l        &amp;&amp; (if (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).cabbage\l               = Eaten\l               \|\| (if ….cabbage = Eaten \|\| ….goat = Eaten then …\l                   else …).goat\l                  = Eaten\l            then if ….cabbage = Eaten \|\| ….goat = Eaten then … else …\l            else if Is_a(Some, …) then … else …).cabbage\l           = LeftCoast)\l       &amp;&amp; ….boat = Right\l    then … else …)\l then Option.get … else if List.hd … = CrossRiver then … else …)\l(List.tl …)&quot;,shape=box,style=filled,color=&quot;green&quot;,fontname=&quot;courier&quot;,fontsize=14];
call_462579 -&gt; expr_678158 [label=&quot;=&quot;];
expr_678158 [label=&quot;if List.tl\l   (List.tl\l    (List.tl\l     (List.tl\l      (List.tl\l       (List.tl\l        (List.tl\l         (List.tl\l          (List.tl\l           (List.tl\l            (List.tl (List.tl (List.tl (List.tl (List.tl (List.tl l)))))))))))))))\l   = []\lthen\l  if (if (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).cabbage\l         = Eaten\l         \|\| (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).goat\l            = Eaten\l      then if ….cabbage = Eaten \|\| ….goat = Eaten then … else …\l      else if Is_a(Some, …) then … else …).cabbage\l     = Eaten\l     \|\| (if (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).cabbage\l            = Eaten\l            \|\| (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).goat\l               = Eaten\l         then if ….cabbage = Eaten \|\| ….goat = Eaten then … else …\l         else if Is_a(Some, …) then … else …).goat\l        = Eaten\l  then\l    if (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).cabbage\l       = Eaten\l       \|\| (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).goat\l          = Eaten\l    then if ….cabbage = Eaten \|\| ….goat = Eaten then … else …\l    else if Is_a(Some, …) then … else …\l  else\l  if Is_a(Some,\l     if ((if (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).cabbage\l             = Eaten\l             \|\| (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).goat\l                = Eaten\l          then if ….cabbage = Eaten \|\| ….goat = Eaten then … else …\l          else if Is_a(Some, …) then … else …).goat\l         = LeftCoast\l         &amp;&amp; (if (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).cabbage\l                = Eaten\l                \|\| (if ….cabbage = Eaten \|\| ….goat = Eaten then …\l                    else …).goat\l                   = Eaten\l             then\l               if ….cabbage = Eaten \|\| ….goat = Eaten then … else …\l             else if Is_a(Some, …) then … else …).cabbage\l            = LeftCoast)\l        &amp;&amp; ….boat = Right\l     then … else …)\l  then Option.get … else if … then … else …\lelse …&quot;,shape=box,style=filled,color=&quot;grey&quot;,fontname=&quot;courier&quot;,fontsize=14];
expr_462580 -&gt; call_462579 [label=&quot;calls&quot;];
call_7920 [label=&quot;many_steps\l(if (if (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).cabbage\l        = Eaten\l        \|\| (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).goat\l           = Eaten\l     then if ….cabbage = Eaten \|\| ….goat = Eaten then … else …\l     else if Is_a(Some, …) then … else …).cabbage\l    = Eaten\l    \|\| (if (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).cabbage\l           = Eaten\l           \|\| (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).goat\l              = Eaten\l        then if ….cabbage = Eaten \|\| ….goat = Eaten then … else …\l        else if Is_a(Some, …) then … else …).goat\l       = Eaten\l then\l   if (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).cabbage\l      = Eaten\l      \|\| (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).goat\l         = Eaten\l   then if ….cabbage = Eaten \|\| ….goat = Eaten then … else …\l   else if Is_a(Some, …) then … else …\l else\l if Is_a(Some,\l    if ((if (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).cabbage\l            = Eaten\l            \|\| (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).goat\l               = Eaten\l         then if ….cabbage = Eaten \|\| ….goat = Eaten then … else …\l         else if Is_a(Some, …) then … else …).goat\l        = LeftCoast\l        &amp;&amp; (if (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).cabbage\l               = Eaten\l               \|\| (if ….cabbage = Eaten \|\| ….goat = Eaten then …\l                   else …).goat\l                  = Eaten\l            then if ….cabbage = Eaten \|\| ….goat = Eaten then … else …\l            else if Is_a(Some, …) then … else …).cabbage\l           = LeftCoast)\l       &amp;&amp; ….boat = Right\l    then … else …)\l then Option.get … else if List.hd … = CrossRiver then … else …)\l(List.tl …)&quot;,shape=box,style=filled,color=&quot;green&quot;,fontname=&quot;courier&quot;,fontsize=14];
call_7920 -&gt; expr_69333 [label=&quot;=&quot;];
expr_69333 [label=&quot;if List.tl\l   (List.tl (List.tl (List.tl (List.tl (List.tl (List.tl (List.tl l))))))) =\l   []\lthen\l  if (if (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).cabbage\l         = Eaten\l         \|\| (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).goat\l            = Eaten\l      then if ….cabbage = Eaten \|\| ….goat = Eaten then … else …\l      else if Is_a(Some, …) then … else …).cabbage\l     = Eaten\l     \|\| (if (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).cabbage\l            = Eaten\l            \|\| (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).goat\l               = Eaten\l         then if ….cabbage = Eaten \|\| ….goat = Eaten then … else …\l         else if Is_a(Some, …) then … else …).goat\l        = Eaten\l  then\l    if (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).cabbage\l       = Eaten\l       \|\| (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).goat\l          = Eaten\l    then if ….cabbage = Eaten \|\| ….goat = Eaten then … else …\l    else if Is_a(Some, …) then … else …\l  else\l  if Is_a(Some,\l     if ((if (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).cabbage\l             = Eaten\l             \|\| (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).goat\l                = Eaten\l          then if ….cabbage = Eaten \|\| ….goat = Eaten then … else …\l          else if Is_a(Some, …) then … else …).goat\l         = LeftCoast\l         &amp;&amp; (if (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).cabbage\l                = Eaten\l                \|\| (if ….cabbage = Eaten \|\| ….goat = Eaten then …\l                    else …).goat\l                   = Eaten\l             then\l               if ….cabbage = Eaten \|\| ….goat = Eaten then … else …\l             else if Is_a(Some, …) then … else …).cabbage\l            = LeftCoast)\l        &amp;&amp; ….boat = Right\l     then … else …)\l  then Option.get … else if … then … else …\lelse …&quot;,shape=box,style=filled,color=&quot;grey&quot;,fontname=&quot;courier&quot;,fontsize=14];
expr_6718 -&gt; call_7920 [label=&quot;calls&quot;];
call_138716 [label=&quot;many_steps\l(if (if (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).cabbage\l        = Eaten\l        \|\| (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).goat\l           = Eaten\l     then if ….cabbage = Eaten \|\| ….goat = Eaten then … else …\l     else if Is_a(Some, …) then … else …).cabbage\l    = Eaten\l    \|\| (if (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).cabbage\l           = Eaten\l           \|\| (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).goat\l              = Eaten\l        then if ….cabbage = Eaten \|\| ….goat = Eaten then … else …\l        else if Is_a(Some, …) then … else …).goat\l       = Eaten\l then\l   if (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).cabbage\l      = Eaten\l      \|\| (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).goat\l         = Eaten\l   then if ….cabbage = Eaten \|\| ….goat = Eaten then … else …\l   else if Is_a(Some, …) then … else …\l else\l if Is_a(Some,\l    if ((if (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).cabbage\l            = Eaten\l            \|\| (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).goat\l               = Eaten\l         then if ….cabbage = Eaten \|\| ….goat = Eaten then … else …\l         else if Is_a(Some, …) then … else …).goat\l        = LeftCoast\l        &amp;&amp; (if (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).cabbage\l               = Eaten\l               \|\| (if ….cabbage = Eaten \|\| ….goat = Eaten then …\l                   else …).goat\l                  = Eaten\l            then if ….cabbage = Eaten \|\| ….goat = Eaten then … else …\l            else if Is_a(Some, …) then … else …).cabbage\l           = LeftCoast)\l       &amp;&amp; ….boat = Right\l    then … else …)\l then Option.get … else if List.hd … = CrossRiver then … else …)\l(List.tl …)&quot;,shape=box,style=filled,color=&quot;yellow&quot;,fontname=&quot;courier&quot;,fontsize=14];
expr_138717 -&gt; call_138716 [label=&quot;calls&quot;];
call_299378 [label=&quot;many_steps\l(if (if (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).cabbage\l        = Eaten\l        \|\| (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).goat\l           = Eaten\l     then if ….cabbage = Eaten \|\| ….goat = Eaten then … else …\l     else if Is_a(Some, …) then … else …).cabbage\l    = Eaten\l    \|\| (if (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).cabbage\l           = Eaten\l           \|\| (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).goat\l              = Eaten\l        then if ….cabbage = Eaten \|\| ….goat = Eaten then … else …\l        else if Is_a(Some, …) then … else …).goat\l       = Eaten\l then\l   if (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).cabbage\l      = Eaten\l      \|\| (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).goat\l         = Eaten\l   then if ….cabbage = Eaten \|\| ….goat = Eaten then … else …\l   else if Is_a(Some, …) then … else …\l else\l if Is_a(Some,\l    if ((if (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).cabbage\l            = Eaten\l            \|\| (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).goat\l               = Eaten\l         then if ….cabbage = Eaten \|\| ….goat = Eaten then … else …\l         else if Is_a(Some, …) then … else …).goat\l        = LeftCoast\l        &amp;&amp; (if (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).cabbage\l               = Eaten\l               \|\| (if ….cabbage = Eaten \|\| ….goat = Eaten then …\l                   else …).goat\l                  = Eaten\l            then if ….cabbage = Eaten \|\| ….goat = Eaten then … else …\l            else if Is_a(Some, …) then … else …).cabbage\l           = LeftCoast)\l       &amp;&amp; ….boat = Right\l    then … else …)\l then Option.get … else if List.hd … = CrossRiver then … else …)\l(List.tl …)&quot;,shape=box,style=filled,color=&quot;green&quot;,fontname=&quot;courier&quot;,fontsize=14];
call_299378 -&gt; expr_417118 [label=&quot;=&quot;];
expr_417118 [label=&quot;if List.tl\l   (List.tl\l    (List.tl\l     (List.tl\l      (List.tl\l       (List.tl\l        (List.tl\l         (List.tl\l          (List.tl (List.tl (List.tl (List.tl (List.tl (List.tl l)))))))))))))\l   = []\lthen\l  if (if (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).cabbage\l         = Eaten\l         \|\| (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).goat\l            = Eaten\l      then if ….cabbage = Eaten \|\| ….goat = Eaten then … else …\l      else if Is_a(Some, …) then … else …).cabbage\l     = Eaten\l     \|\| (if (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).cabbage\l            = Eaten\l            \|\| (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).goat\l               = Eaten\l         then if ….cabbage = Eaten \|\| ….goat = Eaten then … else …\l         else if Is_a(Some, …) then … else …).goat\l        = Eaten\l  then\l    if (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).cabbage\l       = Eaten\l       \|\| (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).goat\l          = Eaten\l    then if ….cabbage = Eaten \|\| ….goat = Eaten then … else …\l    else if Is_a(Some, …) then … else …\l  else\l  if Is_a(Some,\l     if ((if (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).cabbage\l             = Eaten\l             \|\| (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).goat\l                = Eaten\l          then if ….cabbage = Eaten \|\| ….goat = Eaten then … else …\l          else if Is_a(Some, …) then … else …).goat\l         = LeftCoast\l         &amp;&amp; (if (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).cabbage\l                = Eaten\l                \|\| (if ….cabbage = Eaten \|\| ….goat = Eaten then …\l                    else …).goat\l                   = Eaten\l             then\l               if ….cabbage = Eaten \|\| ….goat = Eaten then … else …\l             else if Is_a(Some, …) then … else …).cabbage\l            = LeftCoast)\l        &amp;&amp; ….boat = Right\l     then … else …)\l  then Option.get … else if … then … else …\lelse …&quot;,shape=box,style=filled,color=&quot;grey&quot;,fontname=&quot;courier&quot;,fontsize=14];
expr_299379 -&gt; call_299378 [label=&quot;calls&quot;];
}
</textarea><button class="btn btn-primary">Load graph</button><div class="imandra-graphviz-loading display-none">Loading..</div><div class="imandra-graphviz-target"></div><script>
require(['nbextensions/nbimandra/graphviz'], function (graphviz) {
  var target = '#graphviz-884e7bfa-41a4-4d59-a113-2d8ae3da1610';
  graphviz.hydrate(target);
});
</script></div></div><div class="tab-pane"><div class="imandra-proof-top"><div class="imandra-fold panel panel-default" id="fold-ac44381d-3b45-47b2-8788-26ad4f5b4317"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>proof attempt</span></div></div><div class="panel-body collapse"><div class="imandra-proof"><div class="imandra-alternatives" id="alt-383f3f38-2438-4624-bffd-8cc769be98b7"><ul class="nav nav-tabs"><li class="active" data-toggle="tab"><a>summary</a></li><li class="" data-toggle="tab"><a>full</a></li><li class="" data-toggle="tab"><a>graph</a></li></ul><div class="tab-content"><div class="tab-pane active"><div class="imandra-table" id="table-c26dcb32-6048-4842-8d22-1f1ab949339e"><table><tr><td><b>ground_instances</b></td><td>18</td></tr><tr><td><b>definitions</b></td><td>126</td></tr><tr><td><b>inductions</b></td><td>0</td></tr><tr><td><b>search_time</b></td><td><pre>20.674s</pre></td></tr></table></div></div><div class="tab-pane"><div class="imandra-fold panel panel-default" id="fold-ba8f2af3-e1ef-498a-aae9-14fdebbdbb9b"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>Expand</span></div></div><div class="panel-body collapse"><ul><li><pre>start[20.674s]
  (many_steps
   {cabbage = LeftCoast; goat = LeftCoast; wolf = LeftCoast; boat = Left}
   :var_0:).cabbage
  = RightCoast
  &amp;&amp; (many_steps
      {cabbage = LeftCoast; goat = LeftCoast; wolf = LeftCoast; boat = Left}
      :var_0:).goat
     = RightCoast
     &amp;&amp; (many_steps
         {cabbage = LeftCoast; goat = LeftCoast; wolf = LeftCoast;
          boat = Left}
         :var_0:).wolf
        = RightCoast
        &amp;&amp; (many_steps
            {cabbage = LeftCoast; goat = LeftCoast; wolf = LeftCoast;
             boat = Left}
            :var_0:).boat
           = Right</pre></li><li><div><h4>simplify</h4><div class="imandra-table" id="table-76fa5c5b-ca65-4594-acc9-329be5f841b4"><table><tr><td><b>into</b></td><td><pre>(((many_steps
   {cabbage = LeftCoast; goat = LeftCoast; wolf = LeftCoast; boat = Left}
   :var_0:).cabbage
  = RightCoast
  &amp;&amp; (many_steps
      {cabbage = LeftCoast; goat = LeftCoast; wolf = LeftCoast; boat = Left}
      :var_0:).goat
     = RightCoast)
 &amp;&amp; (many_steps
     {cabbage = LeftCoast; goat = LeftCoast; wolf = LeftCoast; boat = Left}
     :var_0:).wolf
    = RightCoast)
&amp;&amp; (many_steps
    {cabbage = LeftCoast; goat = LeftCoast; wolf = LeftCoast; boat = Left}
    :var_0:).boat
   = Right</pre></td></tr><tr><td><b>expansions</b></td><td><pre>[]</pre></td></tr><tr><td><b>rewrite_steps</b></td><td><ul></ul></td></tr><tr><td><b>forward_chaining</b></td><td><ul></ul></td></tr></table></div></div></li><li><div>unroll<div class="imandra-table" id="table-5b0471df-4f74-41c7-9a1b-6b1b299e3113"><table><tr><td><b>expr</b></td><td><pre>(many_steps_2372 (|rec_mk.state_2413|
                   LeftCoast_2308
                   LeftCoast…</pre></td></tr><tr><td><b>expansions</b></td><td><ul><li><pre>get_location</pre></li><li><pre>get_locationset_location</pre></li><li><pre>get_locationset_locationboat_empty</pre></li><li><pre>get_locationset_locationboat_emptyprocess_action</pre></li><li><pre>get_locationset_locationboat_emptyprocess_actionprocess_eating</pre></li><li><pre>get_locationset_locationboat_emptyprocess_actionprocess_eatinganything_eaten</pre></li><li><pre>get_locationset_locationboat_emptyprocess_actionprocess_eatinganything_eatenone_step</pre></li></ul></td></tr></table></div></div></li><li><div>unroll<div class="imandra-table" id="table-10fec136-9c9a-409e-9b5a-bfe4b97715e9"><table><tr><td><b>expr</b></td><td><pre>(let ((a!1 (or (= (cabbage_2319 (|rec_mk.state_2413|
                                  LeftCoast_230…</pre></td></tr><tr><td><b>expansions</b></td><td><ul><li><pre>get_location</pre></li><li><pre>get_locationset_location</pre></li><li><pre>get_locationset_locationboat_empty</pre></li><li><pre>get_locationset_locationboat_emptyprocess_action</pre></li><li><pre>get_locationset_locationboat_emptyprocess_actionprocess_eating</pre></li><li><pre>get_locationset_locationboat_emptyprocess_actionprocess_eatinganything_eaten</pre></li><li><pre>get_locationset_locationboat_emptyprocess_actionprocess_eatinganything_eatenone_step</pre></li></ul></td></tr></table></div></div></li><li><div>unroll<div class="imandra-table" id="table-7cc5637d-c102-43de-b7bb-3647fae6836c"><table><tr><td><b>expr</b></td><td><pre>(let ((a!1 (or (= (cabbage_2319 (|rec_mk.state_2413|
                                  LeftCoast_230…</pre></td></tr><tr><td><b>expansions</b></td><td><ul><li><pre>get_location</pre></li><li><pre>get_locationset_location</pre></li><li><pre>get_locationset_locationboat_empty</pre></li><li><pre>get_locationset_locationboat_emptyprocess_action</pre></li><li><pre>get_locationset_locationboat_emptyprocess_actionprocess_eating</pre></li><li><pre>get_locationset_locationboat_emptyprocess_actionprocess_eatinganything_eaten</pre></li><li><pre>get_locationset_locationboat_emptyprocess_actionprocess_eatinganything_eatenone_step</pre></li></ul></td></tr></table></div></div></li><li><div>unroll<div class="imandra-table" id="table-676bff24-081d-49bf-b936-92ac4647b942"><table><tr><td><b>expr</b></td><td><pre>(let ((a!1 (or (= (cabbage_2319 (|rec_mk.state_2413|
                                  LeftCoast_230…</pre></td></tr><tr><td><b>expansions</b></td><td><ul><li><pre>get_location</pre></li><li><pre>get_locationset_location</pre></li><li><pre>get_locationset_locationboat_empty</pre></li><li><pre>get_locationset_locationboat_emptyprocess_action</pre></li><li><pre>get_locationset_locationboat_emptyprocess_actionprocess_eating</pre></li><li><pre>get_locationset_locationboat_emptyprocess_actionprocess_eatinganything_eaten</pre></li><li><pre>get_locationset_locationboat_emptyprocess_actionprocess_eatinganything_eatenone_step</pre></li></ul></td></tr></table></div></div></li><li><div>unroll<div class="imandra-table" id="table-b6a67c12-3ac0-4798-b853-4d5595cf024c"><table><tr><td><b>expr</b></td><td><pre>(let ((a!1 (or (= (cabbage_2319 (|rec_mk.state_2413|
                                  LeftCoast_230…</pre></td></tr><tr><td><b>expansions</b></td><td><ul><li><pre>get_location</pre></li><li><pre>get_locationset_location</pre></li><li><pre>get_locationset_locationboat_empty</pre></li><li><pre>get_locationset_locationboat_emptyprocess_action</pre></li><li><pre>get_locationset_locationboat_emptyprocess_actionprocess_eating</pre></li><li><pre>get_locationset_locationboat_emptyprocess_actionprocess_eatinganything_eaten</pre></li><li><pre>get_locationset_locationboat_emptyprocess_actionprocess_eatinganything_eatenone_step</pre></li></ul></td></tr></table></div></div></li><li><div>unroll<div class="imandra-table" id="table-cf7d51a7-a2e2-49c4-9999-ed931a26fe0f"><table><tr><td><b>expr</b></td><td><pre>(let ((a!1 (or (= (cabbage_2319 (|rec_mk.state_2413|
                                  LeftCoast_230…</pre></td></tr><tr><td><b>expansions</b></td><td><ul><li><pre>get_location</pre></li><li><pre>get_locationset_location</pre></li><li><pre>get_locationset_locationboat_empty</pre></li><li><pre>get_locationset_locationboat_emptyprocess_action</pre></li><li><pre>get_locationset_locationboat_emptyprocess_actionprocess_eating</pre></li><li><pre>get_locationset_locationboat_emptyprocess_actionprocess_eatinganything_eaten</pre></li><li><pre>get_locationset_locationboat_emptyprocess_actionprocess_eatinganything_eatenone_step</pre></li></ul></td></tr></table></div></div></li><li><div>unroll<div class="imandra-table" id="table-da023557-4615-4828-8263-a151ff452439"><table><tr><td><b>expr</b></td><td><pre>(let ((a!1 (or (= (cabbage_2319 (|rec_mk.state_2413|
                                  LeftCoast_230…</pre></td></tr><tr><td><b>expansions</b></td><td><ul><li><pre>get_location</pre></li><li><pre>get_locationset_location</pre></li><li><pre>get_locationset_locationboat_empty</pre></li><li><pre>get_locationset_locationboat_emptyprocess_action</pre></li><li><pre>get_locationset_locationboat_emptyprocess_actionprocess_eating</pre></li><li><pre>get_locationset_locationboat_emptyprocess_actionprocess_eatinganything_eaten</pre></li><li><pre>get_locationset_locationboat_emptyprocess_actionprocess_eatinganything_eatenone_step</pre></li></ul></td></tr></table></div></div></li><li><div>unroll<div class="imandra-table" id="table-df57681e-3907-4ae7-a724-c14caa1a35d1"><table><tr><td><b>expr</b></td><td><pre>(let ((a!1 (or (= (cabbage_2319 (|rec_mk.state_2413|
                                  LeftCoast_230…</pre></td></tr><tr><td><b>expansions</b></td><td><ul><li><pre>get_location</pre></li><li><pre>get_locationset_location</pre></li><li><pre>get_locationset_locationboat_empty</pre></li><li><pre>get_locationset_locationboat_emptyprocess_action</pre></li><li><pre>get_locationset_locationboat_emptyprocess_actionprocess_eating</pre></li><li><pre>get_locationset_locationboat_emptyprocess_actionprocess_eatinganything_eaten</pre></li><li><pre>get_locationset_locationboat_emptyprocess_actionprocess_eatinganything_eatenone_step</pre></li></ul></td></tr></table></div></div></li><li><div>unroll<div class="imandra-table" id="table-e656e2aa-25ac-42c1-90e3-21f874806998"><table><tr><td><b>expr</b></td><td><pre>(let ((a!1 (or (= (cabbage_2319 (|rec_mk.state_2413|
                                  LeftCoast_230…</pre></td></tr><tr><td><b>expansions</b></td><td><ul><li><pre>get_location</pre></li><li><pre>get_locationset_location</pre></li><li><pre>get_locationset_locationboat_empty</pre></li><li><pre>get_locationset_locationboat_emptyprocess_action</pre></li><li><pre>get_locationset_locationboat_emptyprocess_actionprocess_eating</pre></li><li><pre>get_locationset_locationboat_emptyprocess_actionprocess_eatinganything_eaten</pre></li><li><pre>get_locationset_locationboat_emptyprocess_actionprocess_eatinganything_eatenone_step</pre></li></ul></td></tr></table></div></div></li><li><div>unroll<div class="imandra-table" id="table-35fc4956-4def-4dc3-a3f1-31a0225061e2"><table><tr><td><b>expr</b></td><td><pre>(let ((a!1 (or (= (cabbage_2319 (|rec_mk.state_2413|
                                  LeftCoast_230…</pre></td></tr><tr><td><b>expansions</b></td><td><ul><li><pre>get_location</pre></li><li><pre>get_locationset_location</pre></li><li><pre>get_locationset_locationboat_empty</pre></li><li><pre>get_locationset_locationboat_emptyprocess_action</pre></li><li><pre>get_locationset_locationboat_emptyprocess_actionprocess_eating</pre></li><li><pre>get_locationset_locationboat_emptyprocess_actionprocess_eatinganything_eaten</pre></li><li><pre>get_locationset_locationboat_emptyprocess_actionprocess_eatinganything_eatenone_step</pre></li></ul></td></tr></table></div></div></li><li><div>unroll<div class="imandra-table" id="table-223d46f7-70e2-4594-9303-f33639469e49"><table><tr><td><b>expr</b></td><td><pre>(let ((a!1 (or (= (cabbage_2319 (|rec_mk.state_2413|
                                  LeftCoast_230…</pre></td></tr><tr><td><b>expansions</b></td><td><ul><li><pre>get_location</pre></li><li><pre>get_locationset_location</pre></li><li><pre>get_locationset_locationboat_empty</pre></li><li><pre>get_locationset_locationboat_emptyprocess_action</pre></li><li><pre>get_locationset_locationboat_emptyprocess_actionprocess_eating</pre></li><li><pre>get_locationset_locationboat_emptyprocess_actionprocess_eatinganything_eaten</pre></li><li><pre>get_locationset_locationboat_emptyprocess_actionprocess_eatinganything_eatenone_step</pre></li></ul></td></tr></table></div></div></li><li><div>unroll<div class="imandra-table" id="table-50507b9e-cdc5-4d71-b4be-4de2c28bb52d"><table><tr><td><b>expr</b></td><td><pre>(let ((a!1 (or (= (cabbage_2319 (|rec_mk.state_2413|
                                  LeftCoast_230…</pre></td></tr><tr><td><b>expansions</b></td><td><ul><li><pre>get_location</pre></li><li><pre>get_locationset_location</pre></li><li><pre>get_locationset_locationboat_empty</pre></li><li><pre>get_locationset_locationboat_emptyprocess_action</pre></li><li><pre>get_locationset_locationboat_emptyprocess_actionprocess_eating</pre></li><li><pre>get_locationset_locationboat_emptyprocess_actionprocess_eatinganything_eaten</pre></li><li><pre>get_locationset_locationboat_emptyprocess_actionprocess_eatinganything_eatenone_step</pre></li></ul></td></tr></table></div></div></li><li><div>unroll<div class="imandra-table" id="table-170e4000-9fcf-43ea-93a0-d4241d1955e8"><table><tr><td><b>expr</b></td><td><pre>(let ((a!1 (or (= (cabbage_2319 (|rec_mk.state_2413|
                                  LeftCoast_230…</pre></td></tr><tr><td><b>expansions</b></td><td><ul><li><pre>get_location</pre></li><li><pre>get_locationset_location</pre></li><li><pre>get_locationset_locationboat_empty</pre></li><li><pre>get_locationset_locationboat_emptyprocess_action</pre></li><li><pre>get_locationset_locationboat_emptyprocess_actionprocess_eating</pre></li><li><pre>get_locationset_locationboat_emptyprocess_actionprocess_eatinganything_eaten</pre></li><li><pre>get_locationset_locationboat_emptyprocess_actionprocess_eatinganything_eatenone_step</pre></li></ul></td></tr></table></div></div></li><li><div>unroll<div class="imandra-table" id="table-95fe8b5b-196b-4fe3-b1f4-3d271fa8cc16"><table><tr><td><b>expr</b></td><td><pre>(let ((a!1 (or (= (cabbage_2319 (|rec_mk.state_2413|
                                  LeftCoast_230…</pre></td></tr><tr><td><b>expansions</b></td><td><ul><li><pre>get_location</pre></li><li><pre>get_locationset_location</pre></li><li><pre>get_locationset_locationboat_empty</pre></li><li><pre>get_locationset_locationboat_emptyprocess_action</pre></li><li><pre>get_locationset_locationboat_emptyprocess_actionprocess_eating</pre></li><li><pre>get_locationset_locationboat_emptyprocess_actionprocess_eatinganything_eaten</pre></li><li><pre>get_locationset_locationboat_emptyprocess_actionprocess_eatinganything_eatenone_step</pre></li></ul></td></tr></table></div></div></li><li><div>unroll<div class="imandra-table" id="table-a33cf11e-5fff-434d-8c5c-3e782a69acb7"><table><tr><td><b>expr</b></td><td><pre>(let ((a!1 (or (= (cabbage_2319 (|rec_mk.state_2413|
                                  LeftCoast_230…</pre></td></tr><tr><td><b>expansions</b></td><td><ul><li><pre>get_location</pre></li><li><pre>get_locationset_location</pre></li><li><pre>get_locationset_locationboat_empty</pre></li><li><pre>get_locationset_locationboat_emptyprocess_action</pre></li><li><pre>get_locationset_locationboat_emptyprocess_actionprocess_eating</pre></li><li><pre>get_locationset_locationboat_emptyprocess_actionprocess_eatinganything_eaten</pre></li><li><pre>get_locationset_locationboat_emptyprocess_actionprocess_eatinganything_eatenone_step</pre></li></ul></td></tr></table></div></div></li><li><div>unroll<div class="imandra-table" id="table-1f3f6d36-360a-40da-86a0-3c168701ad6e"><table><tr><td><b>expr</b></td><td><pre>(let ((a!1 (or (= (cabbage_2319 (|rec_mk.state_2413|
                                  LeftCoast_230…</pre></td></tr><tr><td><b>expansions</b></td><td><ul><li><pre>get_location</pre></li><li><pre>get_locationset_location</pre></li><li><pre>get_locationset_locationboat_empty</pre></li><li><pre>get_locationset_locationboat_emptyprocess_action</pre></li><li><pre>get_locationset_locationboat_emptyprocess_actionprocess_eating</pre></li><li><pre>get_locationset_locationboat_emptyprocess_actionprocess_eatinganything_eaten</pre></li><li><pre>get_locationset_locationboat_emptyprocess_actionprocess_eatinganything_eatenone_step</pre></li></ul></td></tr></table></div></div></li><li><div>unroll<div class="imandra-table" id="table-2a60bbcd-df28-44bf-8f0a-d0321e192c49"><table><tr><td><b>expr</b></td><td><pre>(let ((a!1 (or (= (cabbage_2319 (|rec_mk.state_2413|
                                  LeftCoast_230…</pre></td></tr><tr><td><b>expansions</b></td><td><ul><li><pre>get_location</pre></li><li><pre>get_locationset_location</pre></li><li><pre>get_locationset_locationboat_empty</pre></li><li><pre>get_locationset_locationboat_emptyprocess_action</pre></li><li><pre>get_locationset_locationboat_emptyprocess_actionprocess_eating</pre></li><li><pre>get_locationset_locationboat_emptyprocess_actionprocess_eatinganything_eaten</pre></li><li><pre>get_locationset_locationboat_emptyprocess_actionprocess_eatinganything_eatenone_step</pre></li></ul></td></tr></table></div></div></li><li><div>unroll<div class="imandra-table" id="table-614cbe9b-9690-40c7-b030-67d0bd9302fc"><table><tr><td><b>expr</b></td><td><pre>(let ((a!1 (or (= (cabbage_2319 (|rec_mk.state_2413|
                                  LeftCoast_230…</pre></td></tr><tr><td><b>expansions</b></td><td><ul><li><pre>get_location</pre></li><li><pre>get_locationset_location</pre></li><li><pre>get_locationset_locationboat_empty</pre></li><li><pre>get_locationset_locationboat_emptyprocess_action</pre></li><li><pre>get_locationset_locationboat_emptyprocess_actionprocess_eating</pre></li><li><pre>get_locationset_locationboat_emptyprocess_actionprocess_eatinganything_eaten</pre></li><li><pre>get_locationset_locationboat_emptyprocess_actionprocess_eatinganything_eatenone_step</pre></li></ul></td></tr></table></div></div></li></ul></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-ba8f2af3-e1ef-498a-aae9-14fdebbdbb9b';
  fold.hydrate(target);
});
</script></div></div><div class="tab-pane"><div class="imandra-graphviz" id="graphviz-7e85be1a-4747-4ef4-bbc3-90474bef63ee"><textarea style="display: none">digraph &quot;proof&quot; {
p_286 [label=&quot;Start ((many_steps\l        \{cabbage = LeftCoast; goat = LeftCoast; wolf = LeftCoast; boat = Left\}\l        :var_0:).cabbage\l       = RightCoast\l       &amp;&amp; (many_steps\l           \{cabbage = LeftCoast; goat = LeftCoast; wolf = LeftCoast;\l            boat = Left\}\l           :var_0:).goat\l          = RightCoast\l          &amp;&amp; (many_steps\l              \{cabbage = LeftCoast; goat = LeftCoast; wolf = LeftCoast;\l               boat = Left\}\l              :var_0:).wolf\l             = RightCoast\l             &amp;&amp; (many_steps\l                 \{cabbage = LeftCoast; goat = LeftCoast; wolf = LeftCoast;\l                  boat = Left\}\l                 :var_0:).boat\l                = Right\l       :time 20.674s)&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_286 -&gt; p_285 [label=&quot;&quot;];
p_285 [label=&quot;Simplify ((((many_steps\l             \{cabbage = LeftCoast; goat = LeftCoast; wolf = LeftCoast;\l              boat = Left\}\l             :var_0:).cabbage\l            = RightCoast\l            &amp;&amp; (many_steps\l                \{cabbage = LeftCoast; goat = LeftCoast; wolf = LeftCoast;\l                 boat = Left\}\l                :var_0:).goat\l               = RightCoast)\l           &amp;&amp; (many_steps\l               \{cabbage = LeftCoast; goat = LeftCoast; wolf = LeftCoast;\l                boat = Left\}\l               :var_0:).wolf\l              = RightCoast)\l          &amp;&amp; (many_steps\l              \{cabbage = LeftCoast; goat = LeftCoast; wolf = LeftCoast;\l               boat = Left\}\l              :var_0:).boat\l             = Right\l          :expansions [] :rw [] :fc [])&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_285 -&gt; p_284 [label=&quot;&quot;];
p_284 [label=&quot;Unroll ([many_steps\l         \{cabbage = LeftCoast; goat = LeftCoast; wolf = LeftCoast;\l          boat = Left\}\l         l],\l        [[get_location;\l          set_location;\l          boat_empty;\l          process_action;\l          process_eating;\l          anything_eaten;\l          one_step]])&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_284 -&gt; p_283 [label=&quot;&quot;];
p_283 [label=&quot;Unroll ([many_steps\l         (if LeftCoast = Eaten \|\| LeftCoast = Eaten\l          then\l            \{cabbage = LeftCoast; goat = LeftCoast; wolf = LeftCoast;\l             boat = Left\}\l          else\l          if Is_a(Some,\l             if (LeftCoast = LeftCoast &amp;&amp; LeftCoast = LeftCoast)\l                &amp;&amp; Left = Right\l             then … else …)\l          then Option.get …\l          else if List.hd … = CrossRiver then … else …)\l         (List.tl …)],\l        [[get_location;\l          set_location;\l          boat_empty;\l          process_action;\l          process_eating;\l          anything_eaten;\l          one_step]])&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_283 -&gt; p_282 [label=&quot;&quot;];
p_282 [label=&quot;Unroll ([many_steps\l         (if (if … = Eaten \|\| … = Eaten\l              then \{cabbage = …; goat = …; wolf = …; boat = …\}\l              else if Is_a(Some, …) then … else …).cabbage\l             = Eaten\l             \|\| (if … = Eaten \|\| … = Eaten\l                 then \{cabbage = …; goat = …; wolf = …; boat = …\}\l                 else if Is_a(Some, …) then … else …).goat\l                = Eaten\l          then\l            if … = Eaten \|\| … = Eaten\l            then \{cabbage = …; goat = …; wolf = …; boat = …\}\l            else if Is_a(Some, …) then … else …\l          else\l          if Is_a(Some,\l             if ((if … = Eaten \|\| … = Eaten\l                  then \{cabbage = …; goat = …; wolf = …; boat = …\}\l                  else if Is_a(Some, …) then … else …).goat\l                 = …\l                 &amp;&amp; (if … = Eaten \|\| … = Eaten\l                     then \{cabbage = …; goat = …; wolf = …; boat = …\}\l                     else if Is_a(Some, …) then … else …).cabbage\l                    = …)\l                &amp;&amp; ….boat = Right\l             then … else …)\l          then Option.get …\l          else if List.hd … = CrossRiver then … else …)\l         (List.tl …)],\l        [[get_location;\l          set_location;\l          boat_empty;\l          process_action;\l          process_eating;\l          anything_eaten;\l          one_step]])&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_282 -&gt; p_281 [label=&quot;&quot;];
p_281 [label=&quot;Unroll ([many_steps\l         (if (if (if ….cabbage = Eaten \|\| ….goat = Eaten then …\l                  else …).cabbage\l                 = Eaten\l                 \|\| (if ….cabbage = Eaten \|\| ….goat = Eaten then …\l                     else …).goat\l                    = Eaten\l              then\l                if ….cabbage = Eaten \|\| ….goat = Eaten then … else …\l              else if Is_a(Some, …) then … else …).cabbage\l             = Eaten\l             \|\| (if (if ….cabbage = Eaten \|\| ….goat = Eaten then …\l                     else …).cabbage\l                    = Eaten\l                    \|\| (if ….cabbage = Eaten \|\| ….goat = Eaten then …\l                        else …).goat\l                       = Eaten\l                 then\l                   if ….cabbage = Eaten \|\| ….goat = Eaten then …\l                   else …\l                 else if Is_a(Some, …) then … else …).goat\l                = Eaten\l          then\l            if (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).cabbage\l               = Eaten\l               \|\| (if ….cabbage = Eaten \|\| ….goat = Eaten then …\l                   else …).goat\l                  = Eaten\l            then if ….cabbage = Eaten \|\| ….goat = Eaten then … else …\l            else if Is_a(Some, …) then … else …\l          else\l          if Is_a(Some,\l             if ((if (if ….cabbage = Eaten \|\| ….goat = Eaten then …\l                      else …).cabbage\l                     = Eaten\l                     \|\| (if ….cabbage = Eaten \|\| ….goat = Eaten then …\l                         else …).goat\l                        = Eaten\l                  then\l                    if ….cabbage = Eaten \|\| ….goat = Eaten then …\l                    else …\l                  else if Is_a(Some, …) then … else …).goat\l                 = LeftCoast\l                 &amp;&amp; (if (if ….cabbage = Eaten \|\| ….goat = Eaten then …\l                         else …).cabbage\l                        = Eaten\l                        \|\| (if ….cabbage = Eaten \|\| ….goat = Eaten\l                            then … else …).goat\l                           = Eaten\l                     then\l                       if ….cabbage = Eaten \|\| ….goat = Eaten then …\l                       else …\l                     else if Is_a(Some, …) then … else …).cabbage\l                    = LeftCoast)\l                &amp;&amp; ….boat = Right\l             then … else …)\l          then Option.get …\l          else if List.hd … = CrossRiver then … else …)\l         (List.tl …)],\l        [[get_location;\l          set_location;\l          boat_empty;\l          process_action;\l          process_eating;\l          anything_eaten;\l          one_step]])&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_281 -&gt; p_280 [label=&quot;&quot;];
p_280 [label=&quot;Unroll ([many_steps\l         (if (if (if ….cabbage = Eaten \|\| ….goat = Eaten then …\l                  else …).cabbage\l                 = Eaten\l                 \|\| (if ….cabbage = Eaten \|\| ….goat = Eaten then …\l                     else …).goat\l                    = Eaten\l              then\l                if ….cabbage = Eaten \|\| ….goat = Eaten then … else …\l              else if Is_a(Some, …) then … else …).cabbage\l             = Eaten\l             \|\| (if (if ….cabbage = Eaten \|\| ….goat = Eaten then …\l                     else …).cabbage\l                    = Eaten\l                    \|\| (if ….cabbage = Eaten \|\| ….goat = Eaten then …\l                        else …).goat\l                       = Eaten\l                 then\l                   if ….cabbage = Eaten \|\| ….goat = Eaten then …\l                   else …\l                 else if Is_a(Some, …) then … else …).goat\l                = Eaten\l          then\l            if (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).cabbage\l               = Eaten\l               \|\| (if ….cabbage = Eaten \|\| ….goat = Eaten then …\l                   else …).goat\l                  = Eaten\l            then if ….cabbage = Eaten \|\| ….goat = Eaten then … else …\l            else if Is_a(Some, …) then … else …\l          else\l          if Is_a(Some,\l             if ((if (if ….cabbage = Eaten \|\| ….goat = Eaten then …\l                      else …).cabbage\l                     = Eaten\l                     \|\| (if ….cabbage = Eaten \|\| ….goat = Eaten then …\l                         else …).goat\l                        = Eaten\l                  then\l                    if ….cabbage = Eaten \|\| ….goat = Eaten then …\l                    else …\l                  else if Is_a(Some, …) then … else …).goat\l                 = LeftCoast\l                 &amp;&amp; (if (if ….cabbage = Eaten \|\| ….goat = Eaten then …\l                         else …).cabbage\l                        = Eaten\l                        \|\| (if ….cabbage = Eaten \|\| ….goat = Eaten\l                            then … else …).goat\l                           = Eaten\l                     then\l                       if ….cabbage = Eaten \|\| ….goat = Eaten then …\l                       else …\l                     else if Is_a(Some, …) then … else …).cabbage\l                    = LeftCoast)\l                &amp;&amp; ….boat = Right\l             then … else …)\l          then Option.get …\l          else if List.hd … = CrossRiver then … else …)\l         (List.tl …)],\l        [[get_location;\l          set_location;\l          boat_empty;\l          process_action;\l          process_eating;\l          anything_eaten;\l          one_step]])&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_280 -&gt; p_279 [label=&quot;&quot;];
p_279 [label=&quot;Unroll ([many_steps\l         (if (if (if ….cabbage = Eaten \|\| ….goat = Eaten then …\l                  else …).cabbage\l                 = Eaten\l                 \|\| (if ….cabbage = Eaten \|\| ….goat = Eaten then …\l                     else …).goat\l                    = Eaten\l              then\l                if ….cabbage = Eaten \|\| ….goat = Eaten then … else …\l              else if Is_a(Some, …) then … else …).cabbage\l             = Eaten\l             \|\| (if (if ….cabbage = Eaten \|\| ….goat = Eaten then …\l                     else …).cabbage\l                    = Eaten\l                    \|\| (if ….cabbage = Eaten \|\| ….goat = Eaten then …\l                        else …).goat\l                       = Eaten\l                 then\l                   if ….cabbage = Eaten \|\| ….goat = Eaten then …\l                   else …\l                 else if Is_a(Some, …) then … else …).goat\l                = Eaten\l          then\l            if (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).cabbage\l               = Eaten\l               \|\| (if ….cabbage = Eaten \|\| ….goat = Eaten then …\l                   else …).goat\l                  = Eaten\l            then if ….cabbage = Eaten \|\| ….goat = Eaten then … else …\l            else if Is_a(Some, …) then … else …\l          else\l          if Is_a(Some,\l             if ((if (if ….cabbage = Eaten \|\| ….goat = Eaten then …\l                      else …).cabbage\l                     = Eaten\l                     \|\| (if ….cabbage = Eaten \|\| ….goat = Eaten then …\l                         else …).goat\l                        = Eaten\l                  then\l                    if ….cabbage = Eaten \|\| ….goat = Eaten then …\l                    else …\l                  else if Is_a(Some, …) then … else …).goat\l                 = LeftCoast\l                 &amp;&amp; (if (if ….cabbage = Eaten \|\| ….goat = Eaten then …\l                         else …).cabbage\l                        = Eaten\l                        \|\| (if ….cabbage = Eaten \|\| ….goat = Eaten\l                            then … else …).goat\l                           = Eaten\l                     then\l                       if ….cabbage = Eaten \|\| ….goat = Eaten then …\l                       else …\l                     else if Is_a(Some, …) then … else …).cabbage\l                    = LeftCoast)\l                &amp;&amp; ….boat = Right\l             then … else …)\l          then Option.get …\l          else if List.hd … = CrossRiver then … else …)\l         (List.tl …)],\l        [[get_location;\l          set_location;\l          boat_empty;\l          process_action;\l          process_eating;\l          anything_eaten;\l          one_step]])&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_279 -&gt; p_278 [label=&quot;&quot;];
p_278 [label=&quot;Unroll ([many_steps\l         (if (if (if ….cabbage = Eaten \|\| ….goat = Eaten then …\l                  else …).cabbage\l                 = Eaten\l                 \|\| (if ….cabbage = Eaten \|\| ….goat = Eaten then …\l                     else …).goat\l                    = Eaten\l              then\l                if ….cabbage = Eaten \|\| ….goat = Eaten then … else …\l              else if Is_a(Some, …) then … else …).cabbage\l             = Eaten\l             \|\| (if (if ….cabbage = Eaten \|\| ….goat = Eaten then …\l                     else …).cabbage\l                    = Eaten\l                    \|\| (if ….cabbage = Eaten \|\| ….goat = Eaten then …\l                        else …).goat\l                       = Eaten\l                 then\l                   if ….cabbage = Eaten \|\| ….goat = Eaten then …\l                   else …\l                 else if Is_a(Some, …) then … else …).goat\l                = Eaten\l          then\l            if (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).cabbage\l               = Eaten\l               \|\| (if ….cabbage = Eaten \|\| ….goat = Eaten then …\l                   else …).goat\l                  = Eaten\l            then if ….cabbage = Eaten \|\| ….goat = Eaten then … else …\l            else if Is_a(Some, …) then … else …\l          else\l          if Is_a(Some,\l             if ((if (if ….cabbage = Eaten \|\| ….goat = Eaten then …\l                      else …).cabbage\l                     = Eaten\l                     \|\| (if ….cabbage = Eaten \|\| ….goat = Eaten then …\l                         else …).goat\l                        = Eaten\l                  then\l                    if ….cabbage = Eaten \|\| ….goat = Eaten then …\l                    else …\l                  else if Is_a(Some, …) then … else …).goat\l                 = LeftCoast\l                 &amp;&amp; (if (if ….cabbage = Eaten \|\| ….goat = Eaten then …\l                         else …).cabbage\l                        = Eaten\l                        \|\| (if ….cabbage = Eaten \|\| ….goat = Eaten\l                            then … else …).goat\l                           = Eaten\l                     then\l                       if ….cabbage = Eaten \|\| ….goat = Eaten then …\l                       else …\l                     else if Is_a(Some, …) then … else …).cabbage\l                    = LeftCoast)\l                &amp;&amp; ….boat = Right\l             then … else …)\l          then Option.get …\l          else if List.hd … = CrossRiver then … else …)\l         (List.tl …)],\l        [[get_location;\l          set_location;\l          boat_empty;\l          process_action;\l          process_eating;\l          anything_eaten;\l          one_step]])&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_278 -&gt; p_277 [label=&quot;&quot;];
p_277 [label=&quot;Unroll ([many_steps\l         (if (if (if ….cabbage = Eaten \|\| ….goat = Eaten then …\l                  else …).cabbage\l                 = Eaten\l                 \|\| (if ….cabbage = Eaten \|\| ….goat = Eaten then …\l                     else …).goat\l                    = Eaten\l              then\l                if ….cabbage = Eaten \|\| ….goat = Eaten then … else …\l              else if Is_a(Some, …) then … else …).cabbage\l             = Eaten\l             \|\| (if (if ….cabbage = Eaten \|\| ….goat = Eaten then …\l                     else …).cabbage\l                    = Eaten\l                    \|\| (if ….cabbage = Eaten \|\| ….goat = Eaten then …\l                        else …).goat\l                       = Eaten\l                 then\l                   if ….cabbage = Eaten \|\| ….goat = Eaten then …\l                   else …\l                 else if Is_a(Some, …) then … else …).goat\l                = Eaten\l          then\l            if (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).cabbage\l               = Eaten\l               \|\| (if ….cabbage = Eaten \|\| ….goat = Eaten then …\l                   else …).goat\l                  = Eaten\l            then if ….cabbage = Eaten \|\| ….goat = Eaten then … else …\l            else if Is_a(Some, …) then … else …\l          else\l          if Is_a(Some,\l             if ((if (if ….cabbage = Eaten \|\| ….goat = Eaten then …\l                      else …).cabbage\l                     = Eaten\l                     \|\| (if ….cabbage = Eaten \|\| ….goat = Eaten then …\l                         else …).goat\l                        = Eaten\l                  then\l                    if ….cabbage = Eaten \|\| ….goat = Eaten then …\l                    else …\l                  else if Is_a(Some, …) then … else …).goat\l                 = LeftCoast\l                 &amp;&amp; (if (if ….cabbage = Eaten \|\| ….goat = Eaten then …\l                         else …).cabbage\l                        = Eaten\l                        \|\| (if ….cabbage = Eaten \|\| ….goat = Eaten\l                            then … else …).goat\l                           = Eaten\l                     then\l                       if ….cabbage = Eaten \|\| ….goat = Eaten then …\l                       else …\l                     else if Is_a(Some, …) then … else …).cabbage\l                    = LeftCoast)\l                &amp;&amp; ….boat = Right\l             then … else …)\l          then Option.get …\l          else if List.hd … = CrossRiver then … else …)\l         (List.tl …)],\l        [[get_location;\l          set_location;\l          boat_empty;\l          process_action;\l          process_eating;\l          anything_eaten;\l          one_step]])&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_277 -&gt; p_276 [label=&quot;&quot;];
p_276 [label=&quot;Unroll ([many_steps\l         (if (if (if ….cabbage = Eaten \|\| ….goat = Eaten then …\l                  else …).cabbage\l                 = Eaten\l                 \|\| (if ….cabbage = Eaten \|\| ….goat = Eaten then …\l                     else …).goat\l                    = Eaten\l              then\l                if ….cabbage = Eaten \|\| ….goat = Eaten then … else …\l              else if Is_a(Some, …) then … else …).cabbage\l             = Eaten\l             \|\| (if (if ….cabbage = Eaten \|\| ….goat = Eaten then …\l                     else …).cabbage\l                    = Eaten\l                    \|\| (if ….cabbage = Eaten \|\| ….goat = Eaten then …\l                        else …).goat\l                       = Eaten\l                 then\l                   if ….cabbage = Eaten \|\| ….goat = Eaten then …\l                   else …\l                 else if Is_a(Some, …) then … else …).goat\l                = Eaten\l          then\l            if (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).cabbage\l               = Eaten\l               \|\| (if ….cabbage = Eaten \|\| ….goat = Eaten then …\l                   else …).goat\l                  = Eaten\l            then if ….cabbage = Eaten \|\| ….goat = Eaten then … else …\l            else if Is_a(Some, …) then … else …\l          else\l          if Is_a(Some,\l             if ((if (if ….cabbage = Eaten \|\| ….goat = Eaten then …\l                      else …).cabbage\l                     = Eaten\l                     \|\| (if ….cabbage = Eaten \|\| ….goat = Eaten then …\l                         else …).goat\l                        = Eaten\l                  then\l                    if ….cabbage = Eaten \|\| ….goat = Eaten then …\l                    else …\l                  else if Is_a(Some, …) then … else …).goat\l                 = LeftCoast\l                 &amp;&amp; (if (if ….cabbage = Eaten \|\| ….goat = Eaten then …\l                         else …).cabbage\l                        = Eaten\l                        \|\| (if ….cabbage = Eaten \|\| ….goat = Eaten\l                            then … else …).goat\l                           = Eaten\l                     then\l                       if ….cabbage = Eaten \|\| ….goat = Eaten then …\l                       else …\l                     else if Is_a(Some, …) then … else …).cabbage\l                    = LeftCoast)\l                &amp;&amp; ….boat = Right\l             then … else …)\l          then Option.get …\l          else if List.hd … = CrossRiver then … else …)\l         (List.tl …)],\l        [[get_location;\l          set_location;\l          boat_empty;\l          process_action;\l          process_eating;\l          anything_eaten;\l          one_step]])&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_276 -&gt; p_275 [label=&quot;&quot;];
p_275 [label=&quot;Unroll ([many_steps\l         (if (if (if ….cabbage = Eaten \|\| ….goat = Eaten then …\l                  else …).cabbage\l                 = Eaten\l                 \|\| (if ….cabbage = Eaten \|\| ….goat = Eaten then …\l                     else …).goat\l                    = Eaten\l              then\l                if ….cabbage = Eaten \|\| ….goat = Eaten then … else …\l              else if Is_a(Some, …) then … else …).cabbage\l             = Eaten\l             \|\| (if (if ….cabbage = Eaten \|\| ….goat = Eaten then …\l                     else …).cabbage\l                    = Eaten\l                    \|\| (if ….cabbage = Eaten \|\| ….goat = Eaten then …\l                        else …).goat\l                       = Eaten\l                 then\l                   if ….cabbage = Eaten \|\| ….goat = Eaten then …\l                   else …\l                 else if Is_a(Some, …) then … else …).goat\l                = Eaten\l          then\l            if (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).cabbage\l               = Eaten\l               \|\| (if ….cabbage = Eaten \|\| ….goat = Eaten then …\l                   else …).goat\l                  = Eaten\l            then if ….cabbage = Eaten \|\| ….goat = Eaten then … else …\l            else if Is_a(Some, …) then … else …\l          else\l          if Is_a(Some,\l             if ((if (if ….cabbage = Eaten \|\| ….goat = Eaten then …\l                      else …).cabbage\l                     = Eaten\l                     \|\| (if ….cabbage = Eaten \|\| ….goat = Eaten then …\l                         else …).goat\l                        = Eaten\l                  then\l                    if ….cabbage = Eaten \|\| ….goat = Eaten then …\l                    else …\l                  else if Is_a(Some, …) then … else …).goat\l                 = LeftCoast\l                 &amp;&amp; (if (if ….cabbage = Eaten \|\| ….goat = Eaten then …\l                         else …).cabbage\l                        = Eaten\l                        \|\| (if ….cabbage = Eaten \|\| ….goat = Eaten\l                            then … else …).goat\l                           = Eaten\l                     then\l                       if ….cabbage = Eaten \|\| ….goat = Eaten then …\l                       else …\l                     else if Is_a(Some, …) then … else …).cabbage\l                    = LeftCoast)\l                &amp;&amp; ….boat = Right\l             then … else …)\l          then Option.get …\l          else if List.hd … = CrossRiver then … else …)\l         (List.tl …)],\l        [[get_location;\l          set_location;\l          boat_empty;\l          process_action;\l          process_eating;\l          anything_eaten;\l          one_step]])&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_275 -&gt; p_274 [label=&quot;&quot;];
p_274 [label=&quot;Unroll ([many_steps\l         (if (if (if ….cabbage = Eaten \|\| ….goat = Eaten then …\l                  else …).cabbage\l                 = Eaten\l                 \|\| (if ….cabbage = Eaten \|\| ….goat = Eaten then …\l                     else …).goat\l                    = Eaten\l              then\l                if ….cabbage = Eaten \|\| ….goat = Eaten then … else …\l              else if Is_a(Some, …) then … else …).cabbage\l             = Eaten\l             \|\| (if (if ….cabbage = Eaten \|\| ….goat = Eaten then …\l                     else …).cabbage\l                    = Eaten\l                    \|\| (if ….cabbage = Eaten \|\| ….goat = Eaten then …\l                        else …).goat\l                       = Eaten\l                 then\l                   if ….cabbage = Eaten \|\| ….goat = Eaten then …\l                   else …\l                 else if Is_a(Some, …) then … else …).goat\l                = Eaten\l          then\l            if (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).cabbage\l               = Eaten\l               \|\| (if ….cabbage = Eaten \|\| ….goat = Eaten then …\l                   else …).goat\l                  = Eaten\l            then if ….cabbage = Eaten \|\| ….goat = Eaten then … else …\l            else if Is_a(Some, …) then … else …\l          else\l          if Is_a(Some,\l             if ((if (if ….cabbage = Eaten \|\| ….goat = Eaten then …\l                      else …).cabbage\l                     = Eaten\l                     \|\| (if ….cabbage = Eaten \|\| ….goat = Eaten then …\l                         else …).goat\l                        = Eaten\l                  then\l                    if ….cabbage = Eaten \|\| ….goat = Eaten then …\l                    else …\l                  else if Is_a(Some, …) then … else …).goat\l                 = LeftCoast\l                 &amp;&amp; (if (if ….cabbage = Eaten \|\| ….goat = Eaten then …\l                         else …).cabbage\l                        = Eaten\l                        \|\| (if ….cabbage = Eaten \|\| ….goat = Eaten\l                            then … else …).goat\l                           = Eaten\l                     then\l                       if ….cabbage = Eaten \|\| ….goat = Eaten then …\l                       else …\l                     else if Is_a(Some, …) then … else …).cabbage\l                    = LeftCoast)\l                &amp;&amp; ….boat = Right\l             then … else …)\l          then Option.get …\l          else if List.hd … = CrossRiver then … else …)\l         (List.tl …)],\l        [[get_location;\l          set_location;\l          boat_empty;\l          process_action;\l          process_eating;\l          anything_eaten;\l          one_step]])&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_274 -&gt; p_273 [label=&quot;&quot;];
p_273 [label=&quot;Unroll ([many_steps\l         (if (if (if ….cabbage = Eaten \|\| ….goat = Eaten then …\l                  else …).cabbage\l                 = Eaten\l                 \|\| (if ….cabbage = Eaten \|\| ….goat = Eaten then …\l                     else …).goat\l                    = Eaten\l              then\l                if ….cabbage = Eaten \|\| ….goat = Eaten then … else …\l              else if Is_a(Some, …) then … else …).cabbage\l             = Eaten\l             \|\| (if (if ….cabbage = Eaten \|\| ….goat = Eaten then …\l                     else …).cabbage\l                    = Eaten\l                    \|\| (if ….cabbage = Eaten \|\| ….goat = Eaten then …\l                        else …).goat\l                       = Eaten\l                 then\l                   if ….cabbage = Eaten \|\| ….goat = Eaten then …\l                   else …\l                 else if Is_a(Some, …) then … else …).goat\l                = Eaten\l          then\l            if (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).cabbage\l               = Eaten\l               \|\| (if ….cabbage = Eaten \|\| ….goat = Eaten then …\l                   else …).goat\l                  = Eaten\l            then if ….cabbage = Eaten \|\| ….goat = Eaten then … else …\l            else if Is_a(Some, …) then … else …\l          else\l          if Is_a(Some,\l             if ((if (if ….cabbage = Eaten \|\| ….goat = Eaten then …\l                      else …).cabbage\l                     = Eaten\l                     \|\| (if ….cabbage = Eaten \|\| ….goat = Eaten then …\l                         else …).goat\l                        = Eaten\l                  then\l                    if ….cabbage = Eaten \|\| ….goat = Eaten then …\l                    else …\l                  else if Is_a(Some, …) then … else …).goat\l                 = LeftCoast\l                 &amp;&amp; (if (if ….cabbage = Eaten \|\| ….goat = Eaten then …\l                         else …).cabbage\l                        = Eaten\l                        \|\| (if ….cabbage = Eaten \|\| ….goat = Eaten\l                            then … else …).goat\l                           = Eaten\l                     then\l                       if ….cabbage = Eaten \|\| ….goat = Eaten then …\l                       else …\l                     else if Is_a(Some, …) then … else …).cabbage\l                    = LeftCoast)\l                &amp;&amp; ….boat = Right\l             then … else …)\l          then Option.get …\l          else if List.hd … = CrossRiver then … else …)\l         (List.tl …)],\l        [[get_location;\l          set_location;\l          boat_empty;\l          process_action;\l          process_eating;\l          anything_eaten;\l          one_step]])&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_273 -&gt; p_272 [label=&quot;&quot;];
p_272 [label=&quot;Unroll ([many_steps\l         (if (if (if ….cabbage = Eaten \|\| ….goat = Eaten then …\l                  else …).cabbage\l                 = Eaten\l                 \|\| (if ….cabbage = Eaten \|\| ….goat = Eaten then …\l                     else …).goat\l                    = Eaten\l              then\l                if ….cabbage = Eaten \|\| ….goat = Eaten then … else …\l              else if Is_a(Some, …) then … else …).cabbage\l             = Eaten\l             \|\| (if (if ….cabbage = Eaten \|\| ….goat = Eaten then …\l                     else …).cabbage\l                    = Eaten\l                    \|\| (if ….cabbage = Eaten \|\| ….goat = Eaten then …\l                        else …).goat\l                       = Eaten\l                 then\l                   if ….cabbage = Eaten \|\| ….goat = Eaten then …\l                   else …\l                 else if Is_a(Some, …) then … else …).goat\l                = Eaten\l          then\l            if (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).cabbage\l               = Eaten\l               \|\| (if ….cabbage = Eaten \|\| ….goat = Eaten then …\l                   else …).goat\l                  = Eaten\l            then if ….cabbage = Eaten \|\| ….goat = Eaten then … else …\l            else if Is_a(Some, …) then … else …\l          else\l          if Is_a(Some,\l             if ((if (if ….cabbage = Eaten \|\| ….goat = Eaten then …\l                      else …).cabbage\l                     = Eaten\l                     \|\| (if ….cabbage = Eaten \|\| ….goat = Eaten then …\l                         else …).goat\l                        = Eaten\l                  then\l                    if ….cabbage = Eaten \|\| ….goat = Eaten then …\l                    else …\l                  else if Is_a(Some, …) then … else …).goat\l                 = LeftCoast\l                 &amp;&amp; (if (if ….cabbage = Eaten \|\| ….goat = Eaten then …\l                         else …).cabbage\l                        = Eaten\l                        \|\| (if ….cabbage = Eaten \|\| ….goat = Eaten\l                            then … else …).goat\l                           = Eaten\l                     then\l                       if ….cabbage = Eaten \|\| ….goat = Eaten then …\l                       else …\l                     else if Is_a(Some, …) then … else …).cabbage\l                    = LeftCoast)\l                &amp;&amp; ….boat = Right\l             then … else …)\l          then Option.get …\l          else if List.hd … = CrossRiver then … else …)\l         (List.tl …)],\l        [[get_location;\l          set_location;\l          boat_empty;\l          process_action;\l          process_eating;\l          anything_eaten;\l          one_step]])&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_272 -&gt; p_271 [label=&quot;&quot;];
p_271 [label=&quot;Unroll ([many_steps\l         (if (if (if ….cabbage = Eaten \|\| ….goat = Eaten then …\l                  else …).cabbage\l                 = Eaten\l                 \|\| (if ….cabbage = Eaten \|\| ….goat = Eaten then …\l                     else …).goat\l                    = Eaten\l              then\l                if ….cabbage = Eaten \|\| ….goat = Eaten then … else …\l              else if Is_a(Some, …) then … else …).cabbage\l             = Eaten\l             \|\| (if (if ….cabbage = Eaten \|\| ….goat = Eaten then …\l                     else …).cabbage\l                    = Eaten\l                    \|\| (if ….cabbage = Eaten \|\| ….goat = Eaten then …\l                        else …).goat\l                       = Eaten\l                 then\l                   if ….cabbage = Eaten \|\| ….goat = Eaten then …\l                   else …\l                 else if Is_a(Some, …) then … else …).goat\l                = Eaten\l          then\l            if (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).cabbage\l               = Eaten\l               \|\| (if ….cabbage = Eaten \|\| ….goat = Eaten then …\l                   else …).goat\l                  = Eaten\l            then if ….cabbage = Eaten \|\| ….goat = Eaten then … else …\l            else if Is_a(Some, …) then … else …\l          else\l          if Is_a(Some,\l             if ((if (if ….cabbage = Eaten \|\| ….goat = Eaten then …\l                      else …).cabbage\l                     = Eaten\l                     \|\| (if ….cabbage = Eaten \|\| ….goat = Eaten then …\l                         else …).goat\l                        = Eaten\l                  then\l                    if ….cabbage = Eaten \|\| ….goat = Eaten then …\l                    else …\l                  else if Is_a(Some, …) then … else …).goat\l                 = LeftCoast\l                 &amp;&amp; (if (if ….cabbage = Eaten \|\| ….goat = Eaten then …\l                         else …).cabbage\l                        = Eaten\l                        \|\| (if ….cabbage = Eaten \|\| ….goat = Eaten\l                            then … else …).goat\l                           = Eaten\l                     then\l                       if ….cabbage = Eaten \|\| ….goat = Eaten then …\l                       else …\l                     else if Is_a(Some, …) then … else …).cabbage\l                    = LeftCoast)\l                &amp;&amp; ….boat = Right\l             then … else …)\l          then Option.get …\l          else if List.hd … = CrossRiver then … else …)\l         (List.tl …)],\l        [[get_location;\l          set_location;\l          boat_empty;\l          process_action;\l          process_eating;\l          anything_eaten;\l          one_step]])&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_271 -&gt; p_270 [label=&quot;&quot;];
p_270 [label=&quot;Unroll ([many_steps\l         (if (if (if ….cabbage = Eaten \|\| ….goat = Eaten then …\l                  else …).cabbage\l                 = Eaten\l                 \|\| (if ….cabbage = Eaten \|\| ….goat = Eaten then …\l                     else …).goat\l                    = Eaten\l              then\l                if ….cabbage = Eaten \|\| ….goat = Eaten then … else …\l              else if Is_a(Some, …) then … else …).cabbage\l             = Eaten\l             \|\| (if (if ….cabbage = Eaten \|\| ….goat = Eaten then …\l                     else …).cabbage\l                    = Eaten\l                    \|\| (if ….cabbage = Eaten \|\| ….goat = Eaten then …\l                        else …).goat\l                       = Eaten\l                 then\l                   if ….cabbage = Eaten \|\| ….goat = Eaten then …\l                   else …\l                 else if Is_a(Some, …) then … else …).goat\l                = Eaten\l          then\l            if (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).cabbage\l               = Eaten\l               \|\| (if ….cabbage = Eaten \|\| ….goat = Eaten then …\l                   else …).goat\l                  = Eaten\l            then if ….cabbage = Eaten \|\| ….goat = Eaten then … else …\l            else if Is_a(Some, …) then … else …\l          else\l          if Is_a(Some,\l             if ((if (if ….cabbage = Eaten \|\| ….goat = Eaten then …\l                      else …).cabbage\l                     = Eaten\l                     \|\| (if ….cabbage = Eaten \|\| ….goat = Eaten then …\l                         else …).goat\l                        = Eaten\l                  then\l                    if ….cabbage = Eaten \|\| ….goat = Eaten then …\l                    else …\l                  else if Is_a(Some, …) then … else …).goat\l                 = LeftCoast\l                 &amp;&amp; (if (if ….cabbage = Eaten \|\| ….goat = Eaten then …\l                         else …).cabbage\l                        = Eaten\l                        \|\| (if ….cabbage = Eaten \|\| ….goat = Eaten\l                            then … else …).goat\l                           = Eaten\l                     then\l                       if ….cabbage = Eaten \|\| ….goat = Eaten then …\l                       else …\l                     else if Is_a(Some, …) then … else …).cabbage\l                    = LeftCoast)\l                &amp;&amp; ….boat = Right\l             then … else …)\l          then Option.get …\l          else if List.hd … = CrossRiver then … else …)\l         (List.tl …)],\l        [[get_location;\l          set_location;\l          boat_empty;\l          process_action;\l          process_eating;\l          anything_eaten;\l          one_step]])&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_270 -&gt; p_269 [label=&quot;&quot;];
p_269 [label=&quot;Unroll ([many_steps\l         (if (if (if ….cabbage = Eaten \|\| ….goat = Eaten then …\l                  else …).cabbage\l                 = Eaten\l                 \|\| (if ….cabbage = Eaten \|\| ….goat = Eaten then …\l                     else …).goat\l                    = Eaten\l              then\l                if ….cabbage = Eaten \|\| ….goat = Eaten then … else …\l              else if Is_a(Some, …) then … else …).cabbage\l             = Eaten\l             \|\| (if (if ….cabbage = Eaten \|\| ….goat = Eaten then …\l                     else …).cabbage\l                    = Eaten\l                    \|\| (if ….cabbage = Eaten \|\| ….goat = Eaten then …\l                        else …).goat\l                       = Eaten\l                 then\l                   if ….cabbage = Eaten \|\| ….goat = Eaten then …\l                   else …\l                 else if Is_a(Some, …) then … else …).goat\l                = Eaten\l          then\l            if (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).cabbage\l               = Eaten\l               \|\| (if ….cabbage = Eaten \|\| ….goat = Eaten then …\l                   else …).goat\l                  = Eaten\l            then if ….cabbage = Eaten \|\| ….goat = Eaten then … else …\l            else if Is_a(Some, …) then … else …\l          else\l          if Is_a(Some,\l             if ((if (if ….cabbage = Eaten \|\| ….goat = Eaten then …\l                      else …).cabbage\l                     = Eaten\l                     \|\| (if ….cabbage = Eaten \|\| ….goat = Eaten then …\l                         else …).goat\l                        = Eaten\l                  then\l                    if ….cabbage = Eaten \|\| ….goat = Eaten then …\l                    else …\l                  else if Is_a(Some, …) then … else …).goat\l                 = LeftCoast\l                 &amp;&amp; (if (if ….cabbage = Eaten \|\| ….goat = Eaten then …\l                         else …).cabbage\l                        = Eaten\l                        \|\| (if ….cabbage = Eaten \|\| ….goat = Eaten\l                            then … else …).goat\l                           = Eaten\l                     then\l                       if ….cabbage = Eaten \|\| ….goat = Eaten then …\l                       else …\l                     else if Is_a(Some, …) then … else …).cabbage\l                    = LeftCoast)\l                &amp;&amp; ….boat = Right\l             then … else …)\l          then Option.get …\l          else if List.hd … = CrossRiver then … else …)\l         (List.tl …)],\l        [[get_location;\l          set_location;\l          boat_empty;\l          process_action;\l          process_eating;\l          anything_eaten;\l          one_step]])&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_269 -&gt; p_268 [label=&quot;&quot;];
p_268 [label=&quot;Unroll ([many_steps\l         (if (if (if ….cabbage = Eaten \|\| ….goat = Eaten then …\l                  else …).cabbage\l                 = Eaten\l                 \|\| (if ….cabbage = Eaten \|\| ….goat = Eaten then …\l                     else …).goat\l                    = Eaten\l              then\l                if ….cabbage = Eaten \|\| ….goat = Eaten then … else …\l              else if Is_a(Some, …) then … else …).cabbage\l             = Eaten\l             \|\| (if (if ….cabbage = Eaten \|\| ….goat = Eaten then …\l                     else …).cabbage\l                    = Eaten\l                    \|\| (if ….cabbage = Eaten \|\| ….goat = Eaten then …\l                        else …).goat\l                       = Eaten\l                 then\l                   if ….cabbage = Eaten \|\| ….goat = Eaten then …\l                   else …\l                 else if Is_a(Some, …) then … else …).goat\l                = Eaten\l          then\l            if (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).cabbage\l               = Eaten\l               \|\| (if ….cabbage = Eaten \|\| ….goat = Eaten then …\l                   else …).goat\l                  = Eaten\l            then if ….cabbage = Eaten \|\| ….goat = Eaten then … else …\l            else if Is_a(Some, …) then … else …\l          else\l          if Is_a(Some,\l             if ((if (if ….cabbage = Eaten \|\| ….goat = Eaten then …\l                      else …).cabbage\l                     = Eaten\l                     \|\| (if ….cabbage = Eaten \|\| ….goat = Eaten then …\l                         else …).goat\l                        = Eaten\l                  then\l                    if ….cabbage = Eaten \|\| ….goat = Eaten then …\l                    else …\l                  else if Is_a(Some, …) then … else …).goat\l                 = LeftCoast\l                 &amp;&amp; (if (if ….cabbage = Eaten \|\| ….goat = Eaten then …\l                         else …).cabbage\l                        = Eaten\l                        \|\| (if ….cabbage = Eaten \|\| ….goat = Eaten\l                            then … else …).goat\l                           = Eaten\l                     then\l                       if ….cabbage = Eaten \|\| ….goat = Eaten then …\l                       else …\l                     else if Is_a(Some, …) then … else …).cabbage\l                    = LeftCoast)\l                &amp;&amp; ….boat = Right\l             then … else …)\l          then Option.get …\l          else if List.hd … = CrossRiver then … else …)\l         (List.tl …)],\l        [[get_location;\l          set_location;\l          boat_empty;\l          process_action;\l          process_eating;\l          anything_eaten;\l          one_step]])&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_268 -&gt; p_267 [label=&quot;&quot;];
p_267 [label=&quot;Unroll ([many_steps\l         (if (if (if ….cabbage = Eaten \|\| ….goat = Eaten then …\l                  else …).cabbage\l                 = Eaten\l                 \|\| (if ….cabbage = Eaten \|\| ….goat = Eaten then …\l                     else …).goat\l                    = Eaten\l              then\l                if ….cabbage = Eaten \|\| ….goat = Eaten then … else …\l              else if Is_a(Some, …) then … else …).cabbage\l             = Eaten\l             \|\| (if (if ….cabbage = Eaten \|\| ….goat = Eaten then …\l                     else …).cabbage\l                    = Eaten\l                    \|\| (if ….cabbage = Eaten \|\| ….goat = Eaten then …\l                        else …).goat\l                       = Eaten\l                 then\l                   if ….cabbage = Eaten \|\| ….goat = Eaten then …\l                   else …\l                 else if Is_a(Some, …) then … else …).goat\l                = Eaten\l          then\l            if (if ….cabbage = Eaten \|\| ….goat = Eaten then … else …).cabbage\l               = Eaten\l               \|\| (if ….cabbage = Eaten \|\| ….goat = Eaten then …\l                   else …).goat\l                  = Eaten\l            then if ….cabbage = Eaten \|\| ….goat = Eaten then … else …\l            else if Is_a(Some, …) then … else …\l          else\l          if Is_a(Some,\l             if ((if (if ….cabbage = Eaten \|\| ….goat = Eaten then …\l                      else …).cabbage\l                     = Eaten\l                     \|\| (if ….cabbage = Eaten \|\| ….goat = Eaten then …\l                         else …).goat\l                        = Eaten\l                  then\l                    if ….cabbage = Eaten \|\| ….goat = Eaten then …\l                    else …\l                  else if Is_a(Some, …) then … else …).goat\l                 = LeftCoast\l                 &amp;&amp; (if (if ….cabbage = Eaten \|\| ….goat = Eaten then …\l                         else …).cabbage\l                        = Eaten\l                        \|\| (if ….cabbage = Eaten \|\| ….goat = Eaten\l                            then … else …).goat\l                           = Eaten\l                     then\l                       if ….cabbage = Eaten \|\| ….goat = Eaten then …\l                       else …\l                     else if Is_a(Some, …) then … else …).cabbage\l                    = LeftCoast)\l                &amp;&amp; ….boat = Right\l             then … else …)\l          then Option.get …\l          else if List.hd … = CrossRiver then … else …)\l         (List.tl …)],\l        [[get_location;\l          set_location;\l          boat_empty;\l          process_action;\l          process_eating;\l          anything_eaten;\l          one_step]])&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
}
</textarea><button class="btn btn-primary">Load graph</button><div class="imandra-graphviz-loading display-none">Loading..</div><div class="imandra-graphviz-target"></div><script>
require(['nbextensions/nbimandra/graphviz'], function (graphviz) {
  var target = '#graphviz-7e85be1a-4747-4ef4-bbc3-90474bef63ee';
  graphviz.hydrate(target);
});
</script></div></div></div><script>
require(['nbextensions/nbimandra/alternatives'], function (alternatives) {
  var target = '#alt-383f3f38-2438-4624-bffd-8cc769be98b7';
  alternatives.hydrate(target);
});
</script></div></div></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-ac44381d-3b45-47b2-8788-26ad4f5b4317';
  fold.hydrate(target);
});
</script></div></div></div></div><script>
require(['nbextensions/nbimandra/alternatives'], function (alternatives) {
  var target = '#alt-051384f3-89e0-47f0-a750-31067f8ee00c';
  alternatives.hydrate(target);
});
</script></div></div></div>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>That seems to take a bit of time, because this problem is not that easy for Imandra's unrolling algorithm. Let's try <code>[@@blast]</code> to see if we can get a result faster:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="try-this-container">
  <a href="https://try.imandra.ai/launch/?next=/h/user-redirect/notebooks/Crossing_the_river_safely.ipynb%23try-cell-13" target="_blank" rel="nofollow">
    <div class="try-this">Try this!</div>
  </a>
</div>
<div class="input">
<div class="prompt input_prompt">In&nbsp;[7]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ocaml"><pre><span></span><span class="n">instance</span> <span class="o">(</span><span class="k">fun</span> <span class="n">l</span> <span class="o">-&gt;</span> <span class="n">solved</span> <span class="o">@@</span> <span class="n">many_steps</span> <span class="n">init_state</span> <span class="n">l</span><span class="o">)</span>
<span class="o">[@@</span><span class="n">blast</span><span class="o">]</span> <span class="o">;;</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt output_prompt">Out[7]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>- : action list -&gt; bool = &lt;fun&gt;
module CX : sig val l : action list end
</pre>
</div>

</div>

<div class="output_area">

<div class="prompt"></div>



<div class="output_html rendered_html output_subarea ">
<div><pre>Instance (after 72 steps, 0.187s):
  let l =
    [Pick Goat; CrossRiver; Drop Goat; CrossRiver; Pick Cabbage; CrossRiver;
     Drop Cabbage; Pick Goat; CrossRiver; Drop Goat; Pick Wolf; CrossRiver;
     Drop Wolf; CrossRiver; Pick Goat; CrossRiver; Drop Goat]
</pre></div>

</div>

</div>

<div class="output_area">

<div class="prompt"></div>



<div class="output_html rendered_html output_subarea ">
<div><div class="imandra-vr imandra-vr-proved"><i class="fa fa-check-circle"></i><span>Instance</span></div><div><div class="imandra-alternatives" id="alt-0f1d499c-5566-4991-bc5e-e8105c0ac3c9"><ul class="nav nav-tabs"><li class="active" data-toggle="tab"><a>call graph</a></li><li class="" data-toggle="tab"><a>proof-attempt</a></li></ul><div class="tab-content"><div class="tab-pane active"><div class="imandra-graphviz" id="graphviz-056d8eb2-d4d8-42c4-b8ba-1ff857163423"><textarea style="display: none">digraph calls {}</textarea><button class="btn btn-primary">Load graph</button><div class="imandra-graphviz-loading display-none">Loading..</div><div class="imandra-graphviz-target"></div><script>
require(['nbextensions/nbimandra/graphviz'], function (graphviz) {
  var target = '#graphviz-056d8eb2-d4d8-42c4-b8ba-1ff857163423';
  graphviz.hydrate(target);
});
</script></div></div><div class="tab-pane"><div class="imandra-proof-top"><div></div></div></div></div><script>
require(['nbextensions/nbimandra/alternatives'], function (alternatives) {
  var target = '#alt-0f1d499c-5566-4991-bc5e-e8105c0ac3c9';
  alternatives.hydrate(target);
});
</script></div></div></div>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>It only took a fraction of second! 🎉</p>
<p>Now we have a clear plan for crossing the river. How to sell the goat and cabbage is left as an exercise to the reader.</p>

</div>
</div>
</div>
                    </div>

                    </article>
            </main>
            <footer class="Footer">
                <a class="Copyrights"href="http://imandra.ai">&#9400; 2018 Aesthetic Integration Ltd. All rights reserved.</a>
            </footer>
        </div>
    </body>
    
 


        </div>
        </div>
        </div>
    </body>
</html>
