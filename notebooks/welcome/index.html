<!DOCTYPE html>
<html>
    <head><meta charset="utf-8" />
        <meta content="width=device-width, initial-scale=1.0" name="viewport">
        <title>Imandra Documentation - A Quick Tour of Imandra</title>
        <meta property="og:url" content="https://docs.imandra.ai/imandra-docs/notebooks/welcome/">
        <meta property="og:type" content="website">
        <meta property="og:title" content="Imandra Documentation - A Quick Tour of Imandra">
        <meta property="og:description" content="A quick tour through Imandra's basic features.">
        <meta property="og:image" content="https://storage.googleapis.com/imandra-assets/images/og_image_default_i78.jpg">

        
        <!-- Global site tag (gtag.js) - Google Analytics -->
        <script async src="https://www.googletagmanager.com/gtag/js?id=UA-116937440-6"></script>
        <script>
         window.dataLayer = window.dataLayer || [];
         function gtag(){dataLayer.push(arguments);}
         gtag('js', new Date());

         gtag('config', 'UA-116937440-6');
        </script>
        <script type="text/javascript"> var sc_project=11767520; var sc_invisible=1; var sc_security="fa7e88d1"; </script>
        <script type="text/javascript" src="https://www.statcounter.com/counter/counter.js" async></script>
        <noscript><div class="statcounter">
            <a title="Web Analytics" href="http://statcounter.com/" target="_blank">
                <img class="statcounter" src="//c.statcounter.com/11767520/0/fa7e88d1/1/" alt="Web Analytics"></a>
        </div></noscript>
        

        <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.1.10/require.min.js"></script>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Merriweather+Sans:300,300i,400,400i%7CMerriweather:300,300i,400,400i%7CRoboto+Slab:300,300i,400,400i">

        <link rel="stylesheet" href="/imandra-docs/static/style/style.min.9ef6027e.css" type="text/css">
        <link rel="stylesheet" href="/imandra-docs/static/nbextensions/nbimandra/styles.c7ed3d1a.css" type="text/css">
        <link rel="stylesheet" href="/imandra-docs/static/docs-styles.86fc0481.css" type="text/css">
        
        <link rel="stylesheet" href="/imandra-docs/static/jekyll-styles.0d588486.css" type="text/css">
        

        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
        <script src="/imandra-docs/static/nbimandra-rjs-bundle.2469bcb7.js"></script>

        <style type="text/css">
         .highlight .hll { background-color: #ffffcc }
         .highlight  { background: #f8f8f8; }
         .highlight .c { color: #408080; font-style: italic } /* Comment */
         .highlight .err { border: 1px solid #FF0000 } /* Error */
         .highlight .k { color: #008000; font-weight: bold } /* Keyword */
         .highlight .o { color: #666666 } /* Operator */
         .highlight .ch { color: #408080; font-style: italic } /* Comment.Hashbang */
         .highlight .cm { color: #408080; font-style: italic } /* Comment.Multiline */
         .highlight .cp { color: #BC7A00 } /* Comment.Preproc */
         .highlight .cpf { color: #408080; font-style: italic } /* Comment.PreprocFile */
         .highlight .c1 { color: #408080; font-style: italic } /* Comment.Single */
         .highlight .cs { color: #408080; font-style: italic } /* Comment.Special */
         .highlight .gd { color: #A00000 } /* Generic.Deleted */
         .highlight .ge { font-style: italic } /* Generic.Emph */
         .highlight .gr { color: #FF0000 } /* Generic.Error */
         .highlight .gh { color: #000080; font-weight: bold } /* Generic.Heading */
         .highlight .gi { color: #00A000 } /* Generic.Inserted */
         .highlight .go { color: #888888 } /* Generic.Output */
         .highlight .gp { color: #000080; font-weight: bold } /* Generic.Prompt */
         .highlight .gs { font-weight: bold } /* Generic.Strong */
         .highlight .gu { color: #800080; font-weight: bold } /* Generic.Subheading */
         .highlight .gt { color: #0044DD } /* Generic.Traceback */
         .highlight .kc { color: #008000; font-weight: bold } /* Keyword.Constant */
         .highlight .kd { color: #008000; font-weight: bold } /* Keyword.Declaration */
         .highlight .kn { color: #008000; font-weight: bold } /* Keyword.Namespace */
         .highlight .kp { color: #008000 } /* Keyword.Pseudo */
         .highlight .kr { color: #008000; font-weight: bold } /* Keyword.Reserved */
         .highlight .kt { color: #B00040 } /* Keyword.Type */
         .highlight .m { color: #666666 } /* Literal.Number */
         .highlight .s { color: #BA2121 } /* Literal.String */
         .highlight .na { color: #7D9029 } /* Name.Attribute */
         .highlight .nb { color: #008000 } /* Name.Builtin */
         .highlight .nc { color: #0000FF; font-weight: bold } /* Name.Class */
         .highlight .no { color: #880000 } /* Name.Constant */
         .highlight .nd { color: #AA22FF } /* Name.Decorator */
         .highlight .ni { color: #999999; font-weight: bold } /* Name.Entity */
         .highlight .ne { color: #D2413A; font-weight: bold } /* Name.Exception */
         .highlight .nf { color: #0000FF } /* Name.Function */
         .highlight .nl { color: #A0A000 } /* Name.Label */
         .highlight .nn { color: #0000FF; font-weight: bold } /* Name.Namespace */
         .highlight .nt { color: #008000; font-weight: bold } /* Name.Tag */
         .highlight .nv { color: #19177C } /* Name.Variable */
         .highlight .ow { color: #AA22FF; font-weight: bold } /* Operator.Word */
         .highlight .w { color: #bbbbbb } /* Text.Whitespace */
         .highlight .mb { color: #666666 } /* Literal.Number.Bin */
         .highlight .mf { color: #666666 } /* Literal.Number.Float */
         .highlight .mh { color: #666666 } /* Literal.Number.Hex */
         .highlight .mi { color: #666666 } /* Literal.Number.Integer */
         .highlight .mo { color: #666666 } /* Literal.Number.Oct */
         .highlight .sa { color: #BA2121 } /* Literal.String.Affix */
         .highlight .sb { color: #BA2121 } /* Literal.String.Backtick */
         .highlight .sc { color: #BA2121 } /* Literal.String.Char */
         .highlight .dl { color: #BA2121 } /* Literal.String.Delimiter */
         .highlight .sd { color: #BA2121; font-style: italic } /* Literal.String.Doc */
         .highlight .s2 { color: #BA2121 } /* Literal.String.Double */
         .highlight .se { color: #BB6622; font-weight: bold } /* Literal.String.Escape */
         .highlight .sh { color: #BA2121 } /* Literal.String.Heredoc */
         .highlight .si { color: #BB6688; font-weight: bold } /* Literal.String.Interpol */
         .highlight .sx { color: #008000 } /* Literal.String.Other */
         .highlight .sr { color: #BB6688 } /* Literal.String.Regex */
         .highlight .s1 { color: #BA2121 } /* Literal.String.Single */
         .highlight .ss { color: #19177C } /* Literal.String.Symbol */
         .highlight .bp { color: #008000 } /* Name.Builtin.Pseudo */
         .highlight .fm { color: #0000FF } /* Name.Function.Magic */
         .highlight .vc { color: #19177C } /* Name.Variable.Class */
         .highlight .vg { color: #19177C } /* Name.Variable.Global */
         .highlight .vi { color: #19177C } /* Name.Variable.Instance */
         .highlight .vm { color: #19177C } /* Name.Variable.Magic */
         .highlight .il { color: #666666 } /* Literal.Number.Integer.Long */
        </style>

        <!-- Loading mathjax macro -->
        <!-- Load mathjax -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS_HTML"></script>
    <!-- MathJax configuration -->
    <script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        tex2jax: {
            inlineMath: [ ['$','$'], ["\\(","\\)"] ],
            displayMath: [ ['$$','$$'], ["\\[","\\]"] ],
            processEscapes: true,
            processEnvironments: true
        },
        // Center justify equations in code and markdown cells. Elsewhere
        // we use CSS to left justify single line equations in code cells.
        displayAlign: 'center',
        "HTML-CSS": {
            styles: {'.MathJax_Display': {"margin": 0}},
            linebreaks: { automatic: true }
        }
    });
    </script>
    <!-- End of mathjax configuration --></head>
    <body>
        <div class="background">
        </div>
        <div class="page-container">
            <main class="main-content-column">
                <!-- Jupyter (Imandra core docs) version -->
<header class="header">
    <div class="top-row-container">
        <div class="top-row">
            <div id="toggler--left" class="side__left-menu-toggler"><a href="#" class="side__toggle">≡ <span class="side__toggle-text">Docs</span></a></div>
            <div class="side__logo-container">
                <a class="side__logo-link" href="/">
                    <img class="side__logo " src = "/imandra-docs/jekyll-resources/assets/img/ai_logo_green.svg">
                </a>
            </div>
            <div id="toggler--right" class="side__right-menu-toggler"><a href="#" class="side__toggle"><span class="side__toggle-text">Pages</span> ≡</a></div>

            <nav class="side__nav-container side__nav-container--hidden">

                <ul class="side__nav-list">
                    
                    <li class="side__nav-list-item TopNavListItem">
                        <a class="side__nav-link" href="/">Home</a>
                        
                    </li>
                    
                    <li class="side__nav-list-item TopNavListItem">
                        <a class="side__nav-link side__nav-link--active" href="/imandra-docs">Imandra</a>
                        
                        <ul class="side__nav-list--sub-level-1">
                            
                            <li class="side__nav-list-item--sub-level-1">
                                
                                <a class="side__nav-link side__nav-link--active" href="/imandra-docs/notebooks/welcome">A Quick Tour</a>
                                
                                <ul class="side__nav-list--sub-level-2">
                                    
                                </ul>
                            </li>
                            
                            <li class="side__nav-list-item--sub-level-1">
                                
                                <a class="side__nav-link" href="/imandra-docs/notebooks/installation">Installation</a>
                                
                                <ul class="side__nav-list--sub-level-2">
                                    
                                    <li class="side__nav-list-item--sub-level-2">
                                        <a class="side__nav-link" href="/imandra-docs/notebooks/installation-simple">Simple</a>
                                        
                                    </li>
                                    
                                    <li class="side__nav-list-item--sub-level-2">
                                        <a class="side__nav-link" href="/imandra-docs/notebooks/installation-manual-opam">Manual (opam)</a>
                                        
                                    </li>
                                    
                                    <li class="side__nav-list-item--sub-level-2">
                                        <a class="side__nav-link" href="/imandra-docs/notebooks/installation-docker">Docker</a>
                                        
                                    </li>
                                    
                                </ul>
                            </li>
                            
                            <li class="side__nav-list-item--sub-level-1">
                                
                                <a class="side__nav-link" href="/imandra-docs/notebooks/logic-and-program-modes">Logic and Program Modes</a>
                                
                                <ul class="side__nav-list--sub-level-2">
                                    
                                </ul>
                            </li>
                            
                            <li class="side__nav-list-item--sub-level-1">
                                
                                <a class="side__nav-link" href="/imandra-docs/notebooks/verification">Verification</a>
                                
                                <ul class="side__nav-list--sub-level-2">
                                    
                                    <li class="side__nav-list-item--sub-level-2">
                                        <a class="side__nav-link" href="/imandra-docs/notebooks/verification#Bounded-Solving">Bounded Solving</a>
                                        
                                        <ul class="side__nav-list--sub-level-3">
                                            
                                            <li class="side__nav-list-item--sub-level-3">
                                              <a class="side__nav-link" href="/imandra-docs/notebooks/verification#Unrolling">Unrolling</a>
                                            </li>
                                            
                                            <li class="side__nav-list-item--sub-level-3">
                                              <a class="side__nav-link" href="/imandra-docs/notebooks/verification#Blast">Blast</a>
                                            </li>
                                            
                                        </ul>
                                        
                                    </li>
                                    
                                    <li class="side__nav-list-item--sub-level-2">
                                        <a class="side__nav-link" href="/imandra-docs/notebooks/verification#Simplification">Simplification</a>
                                        
                                        <ul class="side__nav-list--sub-level-3">
                                            
                                            <li class="side__nav-list-item--sub-level-3">
                                              <a class="side__nav-link" href="/imandra-docs/notebooks/verification#Rewrite-Rule">Rewrite Rule</a>
                                            </li>
                                            
                                            <li class="side__nav-list-item--sub-level-3">
                                              <a class="side__nav-link" href="/imandra-docs/notebooks/verification#Forward-Chaining">Forward Chaining</a>
                                            </li>
                                            
                                        </ul>
                                        
                                    </li>
                                    
                                    <li class="side__nav-list-item--sub-level-2">
                                        <a class="side__nav-link" href="/imandra-docs/notebooks/verification#Induction">Induction</a>
                                        
                                    </li>
                                    
                                </ul>
                            </li>
                            
                            <li class="side__nav-list-item--sub-level-1">
                                
                                Features
                                
                                <ul class="side__nav-list--sub-level-2">
                                    
                                    <li class="side__nav-list-item--sub-level-2">
                                        <a class="side__nav-link" href="/imandra-docs/notebooks/verifying-merge-sort">Verifying Merge Sort in Imandra</a>
                                        
                                    </li>
                                    
                                    <li class="side__nav-list-item--sub-level-2">
                                        <a class="side__nav-link" href="/imandra-docs/notebooks/recursion-induction-and-rewriting">Recursion, Induction and Rewriting</a>
                                        
                                    </li>
                                    
                                    <li class="side__nav-list-item--sub-level-2">
                                        <a class="side__nav-link" href="/imandra-docs/notebooks/proving-program-termination">Proving Program Termination with Imandra</a>
                                        
                                    </li>
                                    
                                    <li class="side__nav-list-item--sub-level-2">
                                        <a class="side__nav-link" href="/imandra-docs/notebooks/decomposition-flags">Imandra Decomposition Flags</a>
                                        
                                    </li>
                                    
                                    <li class="side__nav-list-item--sub-level-2">
                                        <a class="side__nav-link" href="/imandra-docs/notebooks/imandra-tools-intro">Imandra Tools Introduction</a>
                                        
                                    </li>
                                    
                                </ul>
                            </li>
                            
                            <li class="side__nav-list-item--sub-level-1">
                                
                                Examples
                                
                                <ul class="side__nav-list--sub-level-2">
                                    
                                    <li class="side__nav-list-item--sub-level-2">
                                        <a class="side__nav-link" href="/imandra-docs/notebooks/ubs-case-study">Analysing the UBS ATS Dark Pool</a>
                                        
                                    </li>
                                    
                                    <li class="side__nav-list-item--sub-level-2">
                                        <a class="side__nav-link" href="/imandra-docs/notebooks/webservice-auth-logic">Analysing Web-app Authentication Logic</a>
                                        
                                    </li>
                                    
                                    <li class="side__nav-list-item--sub-level-2">
                                        <a class="side__nav-link" href="/imandra-docs/notebooks/simple-vehicle-controller">Simple Vehicle Controller</a>
                                        
                                    </li>
                                    
                                    <li class="side__nav-list-item--sub-level-2">
                                        <a class="side__nav-link" href="/imandra-docs/notebooks/ripple-carry-adder">Verifying a Ripple Carry Adder</a>
                                        
                                    </li>
                                    
                                    <li class="side__nav-list-item--sub-level-2">
                                        <a class="side__nav-link" href="/imandra-docs/notebooks/verifying-an-ros-node">Creating and Verifying a ROS Node</a>
                                        
                                    </li>
                                    
                                    <li class="side__nav-list-item--sub-level-2">
                                        <a class="side__nav-link" href="/imandra-docs/notebooks/reasonml-tic-tac-toe">Tic Tac Toe with ReasonML</a>
                                        
                                    </li>
                                    
                                </ul>
                            </li>
                            
                        </ul>
                        
                    </li>
                    
                    <li class="side__nav-list-item TopNavListItem">
                        <a class="side__nav-link" href="/ipl">Imandra Protocol Language</a>
                        
                    </li>
                    
                    <li class="side__nav-list-item TopNavListItem">
                        <a class="side__nav-link" href="/fix-engine">FIX Engine</a>
                        
                    </li>
                    
                </ul>
            </nav>
        </div>
    </div>

    <div class="background">
    </div>

    <div class="template-header">
        <div class="top-bar">
            <nav class="top-bar__nav-container">
                <a href="#" class="top-bar__toggle">≡</a>
                <ul class="top-bar__nav-list top-bar__nav-list--hidden">
                    <li class="top-bar__nav-list-item"><a class="top-bar__nav-link" href="https://imandra.ai/">Home</a></li>
                    <li class="top-bar__nav-list-item"><a class="top-bar__nav-link" href="https://imandra.ai/">Imandra</a></li>
                    <li class="top-bar__nav-list-item"><a class="top-bar__nav-link" href="https://try.imandra.ai/">Try</a></li>
                    <li class="top-bar__nav-list-item"><a class="top-bar__nav-link" href="https://medium.com/">Blog</a></li>
                    <li class="top-bar__nav-list-item"><a class="top-bar__nav-link" href="https://imandra.ai/">Research</a></li>
                    <li class="top-bar__nav-list-item"><a class="top-bar__nav-link" href="https://docs.imandra.ai/">Docs</a></li>
                    <li class="top-bar__nav-list-item"><a class="top-bar__nav-link" href="https://imandra.ai/media">Media</a></li>
                    <li class="top-bar__nav-list-item"><a class="top-bar__nav-link" href="https://imandra.ai/#about-ai">About AI</a></li>
                    <li class="top-bar__nav-list-item"><a class="top-bar__nav-link" href="https://imandra.ai/careers">CAREERS</a></li>
                    <li class="top-bar__nav-list-item"><a class="top-bar__nav-link" href="https://imandra.ai/#contact">CONTACT</a></li>
                </ul>
            </nav>
        </div>
        <div class="template-header__image-container template-header__image-container--jupyter">
            <div class="template-header__image" href ="/imandra-docs">
                <img class="SiteSpecificImage" src="/imandra-docs/static/img/site_specific_image_v_2.svg">
            </div>
        </div>
    </div>
    <script>
     document.getElementById('toggler--left').addEventListener('click', function () {
         document.getElementsByClassName('side__nav-container')[0].classList.toggle('side__nav-container--hidden');
         document.getElementsByClassName('top-bar__nav-list')[0].classList.add('top-bar__nav-list--hidden');
     });
     document.getElementById('toggler--right').addEventListener('click', function () {
         document.getElementsByClassName('side__nav-container')[0].classList.add('side__nav-container--hidden');
         document.getElementsByClassName('top-bar__nav-list')[0].classList.toggle('top-bar__nav-list--hidden');
     });
    </script>
</header>
                <article class="ArticleContainer">
                    <div class="main-content main-content--jupyter">
                        
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="A-Quick-Tour-of-Imandra">A Quick Tour of Imandra<a class="anchor-link" href="#A-Quick-Tour-of-Imandra">&#182;</a></h1><p>This section will give you a quick, 5 minute overview of what Imandra can do. If you want to play around with the code in any of the examples hit the 'Try this!' buttons throughout, and you'll get a Jupyter notebook session where you can experiment.</p>
<h2 id="Your-first-proof-and-counterexample">Your first proof and counterexample<a class="anchor-link" href="#Your-first-proof-and-counterexample">&#182;</a></h2><p>Let's define a couple of simple arithmetic functions and analyse them with Imandra:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="try-this-container">
  <a href="https://try.imandra.ai/launch/?next=/h/user-redirect/notebooks/A%20Quick%20Tour%20of%20Imandra.ipynb%23try-cell-2" target="_blank" rel="nofollow">
    <div class="try-this">Try this!</div>
  </a>
</div>
<div class="input">
<div class="prompt input_prompt">In&nbsp;[1]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ocaml"><pre><span></span><span class="k">let</span> <span class="n">g</span> <span class="n">x</span> <span class="o">=</span>
  <span class="k">if</span> <span class="n">x</span> <span class="o">&gt;</span> <span class="mi">22</span> <span class="k">then</span> <span class="mi">9</span>
  <span class="k">else</span> <span class="mi">100</span> <span class="o">+</span> <span class="n">x</span>

<span class="k">let</span> <span class="n">f</span> <span class="n">x</span> <span class="o">=</span>
  <span class="k">if</span> <span class="n">x</span> <span class="o">&gt;</span> <span class="mi">99</span> <span class="k">then</span>
    <span class="mi">100</span>
  <span class="k">else</span> <span class="k">if</span> <span class="n">x</span> <span class="o">&lt;</span> <span class="mi">70</span> <span class="o">&amp;&amp;</span> <span class="n">x</span> <span class="o">&gt;</span> <span class="mi">23</span>
  <span class="k">then</span> <span class="mi">89</span> <span class="o">+</span> <span class="n">x</span>
  <span class="k">else</span> <span class="k">if</span> <span class="n">x</span> <span class="o">&gt;</span> <span class="mi">20</span>
  <span class="k">then</span> <span class="n">g</span> <span class="n">x</span> <span class="o">+</span> <span class="mi">20</span>
  <span class="k">else</span> <span class="k">if</span> <span class="n">x</span> <span class="o">&gt;</span> <span class="o">-</span><span class="mi">2</span> <span class="k">then</span>
    <span class="mi">103</span>
  <span class="k">else</span> <span class="mi">99</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt output_prompt">Out[1]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>val g : int -&gt; Z.t = &lt;fun&gt;
val f : int -&gt; Z.t = &lt;fun&gt;
</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Here, <code>g</code> and <code>f</code> are the names of our functions, and they each take a single argument <code>x</code>. In OCaml/IML, <code>let g x = &lt;body&gt;</code> is the equivalent of something like <code>function g (x : Int) { &lt;body&gt; }</code> in other languages. OCaml's powerful type system can infer the type of the argument <code>x</code> based on what we do with it - in this case, comparisons with other integers and additions means it is inferred to be an integer itself, but we could write this explicitly by instead defining <code>g</code> with <code>let g (x : int) = &lt;body&gt;</code>.</p>
<p>(By default, Imandra actually uses an arbitrary precision integer type called <code>Z.t</code> rather than OCaml's <code>int</code> type, as <code>Z.t</code> is much easier to reason about. Later on in <a href="../imandra-extract/">Imandra extract</a>, we'll discuss this distinction, and the details of getting the programs we run to align with what we've reasoned about in a logically sound way).</p>
<p>We can execute <code>f</code> and <code>g</code> as normal OCaml functions (we call a function with a space between function name and argument, rather than with parenthesis, e.g. <code>g(5)</code> as often seen in other languages):</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="try-this-container">
  <a href="https://try.imandra.ai/launch/?next=/h/user-redirect/notebooks/A%20Quick%20Tour%20of%20Imandra.ipynb%23try-cell-4" target="_blank" rel="nofollow">
    <div class="try-this">Try this!</div>
  </a>
</div>
<div class="input">
<div class="prompt input_prompt">In&nbsp;[2]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ocaml"><pre><span></span><span class="n">g</span> <span class="mi">5</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt output_prompt">Out[2]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>- : Z.t = 105
</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="try-this-container">
  <a href="https://try.imandra.ai/launch/?next=/h/user-redirect/notebooks/A%20Quick%20Tour%20of%20Imandra.ipynb%23try-cell-5" target="_blank" rel="nofollow">
    <div class="try-this">Try this!</div>
  </a>
</div>
<div class="input">
<div class="prompt input_prompt">In&nbsp;[3]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ocaml"><pre><span></span><span class="n">g</span> <span class="mi">22</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt output_prompt">Out[3]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>- : Z.t = 122
</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="try-this-container">
  <a href="https://try.imandra.ai/launch/?next=/h/user-redirect/notebooks/A%20Quick%20Tour%20of%20Imandra.ipynb%23try-cell-6" target="_blank" rel="nofollow">
    <div class="try-this">Try this!</div>
  </a>
</div>
<div class="input">
<div class="prompt input_prompt">In&nbsp;[4]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ocaml"><pre><span></span><span class="n">g</span> <span class="mi">23017263820</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt output_prompt">Out[4]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>- : Z.t = 9
</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="try-this-container">
  <a href="https://try.imandra.ai/launch/?next=/h/user-redirect/notebooks/A%20Quick%20Tour%20of%20Imandra.ipynb%23try-cell-7" target="_blank" rel="nofollow">
    <div class="try-this">Try this!</div>
  </a>
</div>
<div class="input">
<div class="prompt input_prompt">In&nbsp;[5]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ocaml"><pre><span></span><span class="n">f</span> <span class="o">(-</span> <span class="mi">1</span><span class="o">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt output_prompt">Out[5]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>- : Z.t = 103
</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>However, functions in Imandra are more than just code: they're also mathematical objects that can be analysed and subjected to the rigours of mathematical proof.</p>
<p>For example, let's verify that <strong>for all possible integer inputs <code>x</code></strong>, <code>g x</code> never goes above <code>122</code>, which corresponds to the logical statement <code>(forall (x : int), g x &lt;= 122)</code>. We represent logical statements like these with OCaml functions:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="try-this-container">
  <a href="https://try.imandra.ai/launch/?next=/h/user-redirect/notebooks/A%20Quick%20Tour%20of%20Imandra.ipynb%23try-cell-9" target="_blank" rel="nofollow">
    <div class="try-this">Try this!</div>
  </a>
</div>
<div class="input">
<div class="prompt input_prompt">In&nbsp;[6]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ocaml"><pre><span></span><span class="k">let</span> <span class="n">that_g_never_goes_above_122</span> <span class="n">x</span> <span class="o">=</span>
   <span class="n">g</span> <span class="n">x</span> <span class="o">&lt;=</span> <span class="mi">122</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt output_prompt">Out[6]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>val that_g_never_goes_above_122 : int -&gt; bool = &lt;fun&gt;
</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Now let's ask Imandra to verify our statement!</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="try-this-container">
  <a href="https://try.imandra.ai/launch/?next=/h/user-redirect/notebooks/A%20Quick%20Tour%20of%20Imandra.ipynb%23try-cell-11" target="_blank" rel="nofollow">
    <div class="try-this">Try this!</div>
  </a>
</div>
<div class="input">
<div class="prompt input_prompt">In&nbsp;[7]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ocaml"><pre><span></span><span class="n">verify</span> <span class="n">that_g_never_goes_above_122</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt output_prompt">Out[7]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>- : int -&gt; bool = &lt;fun&gt;
</pre>
</div>

</div>

<div class="output_area">

<div class="prompt"></div>



<div class="output_html rendered_html output_subarea ">
<div><div class="imandra-vr imandra-vr-proved"><i class="fa fa-check-circle"></i><span>Proved</span></div><div><div class="imandra-alternatives" id="alt-feae83bd-b328-4b40-a74d-fc8cdea22512"><ul class="nav nav-tabs"><li class="active" data-toggle="tab"><a>proof</a></li><li class="" data-toggle="tab"><a>call graph</a></li></ul><div class="tab-content"><div class="tab-pane active"><div class="imandra-proof-top"><div class="imandra-fold panel panel-default" id="fold-678a4141-72fe-459b-bd29-7dcec969df34"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>proof</span></div></div><div class="panel-body collapse"><div class="imandra-proof"><div class="imandra-alternatives" id="alt-2212ebcc-ec48-41a6-852f-e11abb9c4dfe"><ul class="nav nav-tabs"><li class="active" data-toggle="tab"><a>summary</a></li><li class="" data-toggle="tab"><a>full</a></li><li class="" data-toggle="tab"><a>graph</a></li></ul><div class="tab-content"><div class="tab-pane active"><div class="imandra-table" id="table-09b2a7de-9bb4-4048-af4d-51e355adcf30"><table><tr><td><b>ground_instances</b></td><td>0</td></tr><tr><td><b>definitions</b></td><td>0</td></tr><tr><td><b>inductions</b></td><td>0</td></tr><tr><td><b>search_time</b></td><td><pre>0.013s</pre></td></tr><tr><td><b>details</b></td><td><div class="imandra-fold panel panel-default" id="fold-0ad15dd5-0a1f-4d9b-a6a5-46c1fea59d76"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>Expand</span></div></div><div class="panel-body collapse"><div class="imandra-table" id="table-8c1bafdb-99a7-41de-993f-5b617439b519"><table><tr><td><b>smt_stats</b></td><td><div class="imandra-table" id="table-544ff348-ee31-4f62-8d53-50c11d92f84f"><table><tr><td><b>rlimit count</b></td><td>81</td></tr><tr><td><b>mk bool var</b></td><td>5</td></tr><tr><td><b>num allocs</b></td><td>874756955</td></tr><tr><td><b>memory</b></td><td>16.580000</td></tr><tr><td><b>max memory</b></td><td>19.240000</td></tr></table></div></td></tr></table></div></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-0ad15dd5-0a1f-4d9b-a6a5-46c1fea59d76';
  fold.hydrate(target);
});
</script></div></td></tr></table></div></div><div class="tab-pane"><div class="imandra-fold panel panel-default" id="fold-ed564f10-60ad-4d0e-964d-2cdbdd6a716c"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>Expand</span></div></div><div class="panel-body collapse"><ul><li><pre>start[0.013s] (if :var_0: &gt; 22 then 9 else (100 + :var_0:)) &lt;= 122</pre></li><li><div><h4>simplify</h4><div class="imandra-table" id="table-c7c7b466-2978-43be-bd60-38de9f956c8b"><table><tr><td><b>into</b></td><td><pre>(if :var_0: &lt;= 22 then 100 + :var_0: else 9) &lt;= 122</pre></td></tr><tr><td><b>expansions</b></td><td><pre>[]</pre></td></tr><tr><td><b>rewrite_steps</b></td><td><ul></ul></td></tr><tr><td><b>forward_chaining</b></td><td><ul></ul></td></tr></table></div></div></li><li><div><h4>unsat</h4><pre>(let ((a!1 (&lt;= (ite (&lt;= _x_0_2302 22) (+ 100 _x_0_2302) 9) 122))
      (a!3 (ite (&lt;= _x_0_2302 22) (…</pre></div></li></ul></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-ed564f10-60ad-4d0e-964d-2cdbdd6a716c';
  fold.hydrate(target);
});
</script></div></div><div class="tab-pane"><div class="imandra-graphviz" id="graphviz-04727da4-b631-41b0-88ff-9b407bbc03fd"><textarea style="display: none">digraph &quot;proof&quot; {
p_267 [label=&quot;Start ((if :var_0: \&gt; 22 then 9 else (100 + :var_0:)) \&lt;= 122 :time 0.013s)&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_267 -&gt; p_266 [label=&quot;&quot;];
p_266 [label=&quot;Simplify ((if :var_0: \&lt;= 22 then 100 + :var_0: else 9) \&lt;= 122 :expansions []\l          :rw [] :fc [])&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_266 -&gt; p_265 [label=&quot;&quot;];
p_265 -&gt; p_z3_73 [label=&quot;&quot;,fontname=&quot;courier&quot;,fontsize=14];
p_z3_73 [label=&quot;(let ((a!1 (&lt;= (ite (&lt;= _x_0_2302 22) (+ 100 _x_0_2302) 9) 122))
      (a!3 (ite (&lt;= _x_0_2302 22) (…&quot;,shape=box,fontname=&quot;courier&quot;,fontsize=14];p_265 [label=&quot;unsat&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
}
</textarea><button class="btn btn-primary">Load graph</button><div class="imandra-graphviz-loading display-none">Loading..</div><div class="imandra-graphviz-target"></div><script>
require(['nbextensions/nbimandra/graphviz'], function (graphviz) {
  var target = '#graphviz-04727da4-b631-41b0-88ff-9b407bbc03fd';
  graphviz.hydrate(target);
});
</script></div></div></div><script>
require(['nbextensions/nbimandra/alternatives'], function (alternatives) {
  var target = '#alt-2212ebcc-ec48-41a6-852f-e11abb9c4dfe';
  alternatives.hydrate(target);
});
</script></div></div></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-678a4141-72fe-459b-bd29-7dcec969df34';
  fold.hydrate(target);
});
</script></div></div></div><div class="tab-pane"><div class="imandra-graphviz" id="graphviz-249a6ea5-7a0d-49fd-b09a-9d2999c72759"><textarea style="display: none">digraph &quot;call graph&quot; {
goal [label=&quot;not ((if _x_0 \&lt;= 22 then 100 + _x_0 else 9) \&lt;= 122)&quot;,shape=box,style=filled,color=&quot;cyan&quot;,fontname=&quot;courier&quot;,fontsize=14];
}
</textarea><button class="btn btn-primary">Load graph</button><div class="imandra-graphviz-loading display-none">Loading..</div><div class="imandra-graphviz-target"></div><script>
require(['nbextensions/nbimandra/graphviz'], function (graphviz) {
  var target = '#graphviz-249a6ea5-7a0d-49fd-b09a-9d2999c72759';
  graphviz.hydrate(target);
});
</script></div></div></div><script>
require(['nbextensions/nbimandra/alternatives'], function (alternatives) {
  var target = '#alt-feae83bd-b328-4b40-a74d-fc8cdea22512';
  alternatives.hydrate(target);
});
</script></div></div></div>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Imandra has verified this fact for us automatically, by directly examining the definition of our statement and the definitions of the other functions it refers to (in this case, <code>g</code>).</p>
<p>Now, let's ask Imandra to verify that there exists no <code>x</code> such that <code>f x</code> is equal to <code>158</code>. Giving our statements names can sometimes be a bit unwieldy (although it can be helpfully descriptive in some situations). For simple statements like these, the statements themselves are descriptive enough, so we can also pass an anonymous function to <code>verify</code> that represents our statement, using <code>fun</code>:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="try-this-container">
  <a href="https://try.imandra.ai/launch/?next=/h/user-redirect/notebooks/A%20Quick%20Tour%20of%20Imandra.ipynb%23try-cell-13" target="_blank" rel="nofollow">
    <div class="try-this">Try this!</div>
  </a>
</div>
<div class="input">
<div class="prompt input_prompt">In&nbsp;[8]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ocaml"><pre><span></span><span class="n">verify</span> <span class="o">(</span><span class="k">fun</span> <span class="n">x</span> <span class="o">-&gt;</span> <span class="n">f</span> <span class="n">x</span> <span class="o">&lt;&gt;</span> <span class="mi">158</span><span class="o">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt output_prompt">Out[8]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>- : int -&gt; bool = &lt;fun&gt;
module CX : sig val x : Z.t end
</pre>
</div>

</div>

<div class="output_area">

<div class="prompt"></div>



<div class="output_html rendered_html output_subarea ">
<div><pre>Counterexample (after 0 steps, 0.013s):
 let x = 69
</pre></div>

</div>

</div>

<div class="output_area">

<div class="prompt"></div>



<div class="output_html rendered_html output_subarea ">
<div><div class="imandra-vr imandra-vr-refuted"><i class="fa fa-times-circle-o"></i><span>Refuted</span></div><div><div class="imandra-alternatives" id="alt-3fad52bb-9227-44e1-9864-b854ae86a4f1"><ul class="nav nav-tabs"><li class="active" data-toggle="tab"><a>call graph</a></li><li class="" data-toggle="tab"><a>proof-attempt</a></li></ul><div class="tab-content"><div class="tab-pane active"><div class="imandra-graphviz" id="graphviz-ecd9ebad-e4d7-42e8-b529-866629c05ba2"><textarea style="display: none">digraph &quot;call graph&quot; {
goal [label=&quot;not\l(not\l ((if x \&lt;= 99\l   then\l     if not (70 \&lt;= x) &amp;&amp; not (x \&lt;= 23) then 89 + x\l     else\l     if x \&lt;= 20 then if x \&lt;= -2 then 99 else 103\l     else 20 + (if x \&lt;= 22 then … else 9)\l   else 100)\l  = 158))&quot;,shape=box,style=filled,color=&quot;cyan&quot;,fontname=&quot;courier&quot;,fontsize=14];
}
</textarea><button class="btn btn-primary">Load graph</button><div class="imandra-graphviz-loading display-none">Loading..</div><div class="imandra-graphviz-target"></div><script>
require(['nbextensions/nbimandra/graphviz'], function (graphviz) {
  var target = '#graphviz-ecd9ebad-e4d7-42e8-b529-866629c05ba2';
  graphviz.hydrate(target);
});
</script></div></div><div class="tab-pane"><div class="imandra-proof-top"><div class="imandra-fold panel panel-default" id="fold-b884db23-f4f0-4b4e-97d2-6f434a7b955c"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>proof attempt</span></div></div><div class="panel-body collapse"><div class="imandra-proof"><div class="imandra-alternatives" id="alt-21ccfb4e-9bfb-4540-ad5b-d7cb377be98f"><ul class="nav nav-tabs"><li class="active" data-toggle="tab"><a>summary</a></li><li class="" data-toggle="tab"><a>full</a></li><li class="" data-toggle="tab"><a>graph</a></li></ul><div class="tab-content"><div class="tab-pane active"><div class="imandra-table" id="table-22854567-7911-4eb4-b598-5b9317ebae3d"><table><tr><td><b>ground_instances</b></td><td>0</td></tr><tr><td><b>definitions</b></td><td>0</td></tr><tr><td><b>inductions</b></td><td>0</td></tr><tr><td><b>search_time</b></td><td><pre>0.013s</pre></td></tr><tr><td><b>details</b></td><td><div class="imandra-fold panel panel-default" id="fold-b528fb7e-c710-4bff-a08f-900ac51ed01b"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>Expand</span></div></div><div class="panel-body collapse"><div class="imandra-table" id="table-aa83f607-6463-473d-bc83-1f97a6012603"><table><tr><td><b>smt_stats</b></td><td><div class="imandra-table" id="table-6e65d838-9378-45e2-aa46-30cdc56b3efd"><table><tr><td><b>arith assert lower</b></td><td>6</td></tr><tr><td><b>rlimit count</b></td><td>529</td></tr><tr><td><b>mk clause</b></td><td>28</td></tr><tr><td><b>mk bool var</b></td><td>18</td></tr><tr><td><b>arith assert upper</b></td><td>3</td></tr><tr><td><b>decisions</b></td><td>2</td></tr><tr><td><b>propagations</b></td><td>19</td></tr><tr><td><b>conflicts</b></td><td>1</td></tr><tr><td><b>num allocs</b></td><td>913916053</td></tr><tr><td><b>final checks</b></td><td>1</td></tr><tr><td><b>memory</b></td><td>18.820000</td></tr><tr><td><b>max memory</b></td><td>19.240000</td></tr></table></div></td></tr></table></div></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-b528fb7e-c710-4bff-a08f-900ac51ed01b';
  fold.hydrate(target);
});
</script></div></td></tr></table></div></div><div class="tab-pane"><div class="imandra-fold panel panel-default" id="fold-7788c389-acbf-4797-9cb3-96688964d43f"><div class="panel-heading"><div><i class="fa fa-chevron-down hidden"></i><i class="fa fa-chevron-right"></i><span>Expand</span></div></div><div class="panel-body collapse"><ul><li><pre>start[0.013s]
  not
  ((if :var_0: &gt; 99 then 100
    else
    if :var_0: &lt; 70 &amp;&amp; :var_0: &gt; 23 then 89 + :var_0:
    else
    if :var_0: &gt; 20 then (if :var_0: &gt; 22 then 9 else …) + 20
    else if :var_0: &gt; -2 then 103 else 99)
   = 158)</pre></li><li><div><h4>simplify</h4><div class="imandra-table" id="table-117d320e-e58a-4632-aafe-72e3ef9d7115"><table><tr><td><b>into</b></td><td><pre>not
((if :var_0: &lt;= 99
  then
    if not (70 &lt;= :var_0:) &amp;&amp; not (:var_0: &lt;= 23) then 89 + :var_0:
    else
    if :var_0: &lt;= 20 then if :var_0: &lt;= -2 then 99 else 103
    else 20 + (if :var_0: &lt;= 22 then … else 9)
  else 100)
 = 158)</pre></td></tr><tr><td><b>expansions</b></td><td><pre>[]</pre></td></tr><tr><td><b>rewrite_steps</b></td><td><ul></ul></td></tr><tr><td><b>forward_chaining</b></td><td><ul></ul></td></tr></table></div></div></li><li>Sat (Some  let x = 69
)</li></ul></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-7788c389-acbf-4797-9cb3-96688964d43f';
  fold.hydrate(target);
});
</script></div></div><div class="tab-pane"><div class="imandra-graphviz" id="graphviz-26750596-d48d-4609-95f4-b40d34abde99"><textarea style="display: none">digraph &quot;proof&quot; {
p_270 [label=&quot;Start (not\l       ((if :var_0: \&gt; 99 then 100\l         else\l         if :var_0: \&lt; 70 &amp;&amp; :var_0: \&gt; 23 then 89 + :var_0:\l         else\l         if :var_0: \&gt; 20 then (if :var_0: \&gt; 22 then 9 else …) + 20\l         else if :var_0: \&gt; -2 then 103 else 99)\l        = 158)\l       :time 0.013s)&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_270 -&gt; p_269 [label=&quot;&quot;];
p_269 [label=&quot;Simplify (not\l          ((if :var_0: \&lt;= 99\l            then\l              if not (70 \&lt;= :var_0:) &amp;&amp; not (:var_0: \&lt;= 23) then 89 + :var_0:\l              else\l              if :var_0: \&lt;= 20 then if :var_0: \&lt;= -2 then 99 else 103\l              else 20 + (if :var_0: \&lt;= 22 then … else 9)\l            else 100)\l           = 158)\l          :expansions [] :rw [] :fc [])&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
p_269 -&gt; p_268 [label=&quot;&quot;];
p_268 [label=&quot;Sat (Some  let x = 69\l)&quot;,shape=box,style=filled,fontname=&quot;courier&quot;,fontsize=14];
}
</textarea><button class="btn btn-primary">Load graph</button><div class="imandra-graphviz-loading display-none">Loading..</div><div class="imandra-graphviz-target"></div><script>
require(['nbextensions/nbimandra/graphviz'], function (graphviz) {
  var target = '#graphviz-26750596-d48d-4609-95f4-b40d34abde99';
  graphviz.hydrate(target);
});
</script></div></div></div><script>
require(['nbextensions/nbimandra/alternatives'], function (alternatives) {
  var target = '#alt-21ccfb4e-9bfb-4540-ad5b-d7cb377be98f';
  alternatives.hydrate(target);
});
</script></div></div></div><script>
require(['nbextensions/nbimandra/fold'], function (fold) {
  var target = '#fold-b884db23-f4f0-4b4e-97d2-6f434a7b955c';
  fold.hydrate(target);
});
</script></div></div></div></div><script>
require(['nbextensions/nbimandra/alternatives'], function (alternatives) {
  var target = '#alt-3fad52bb-9227-44e1-9864-b854ae86a4f1';
  alternatives.hydrate(target);
});
</script></div></div></div>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Imandra has found our statement to be false, and has also found us a concrete counterexample to demonstrate. Let's try executing <code>f</code> with that value to confirm:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="try-this-container">
  <a href="https://try.imandra.ai/launch/?next=/h/user-redirect/notebooks/A%20Quick%20Tour%20of%20Imandra.ipynb%23try-cell-15" target="_blank" rel="nofollow">
    <div class="try-this">Try this!</div>
  </a>
</div>
<div class="input">
<div class="prompt input_prompt">In&nbsp;[9]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ocaml"><pre><span></span><span class="n">f</span> <span class="mi">69</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt output_prompt">Out[9]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>- : Z.t = 158
</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Imandra has derived for us that if <code>x=69</code>, then <code>f x</code> is equal to <code>158</code>, so the conjecture <code>(fun x -&gt; f x &lt;&gt; 158)</code> is not true! Imandra has given us a concrete counterexample <em>refuting</em> this conjecture.</p>
<p>In Imandra, all counterexamples are "first-class" values, and are automatically reflected into the runtime in a module (namespace) called <code>CX</code>. So, another way to experiment with that counterexample is to utilise the <code>CX</code> module that the <code>verify</code> command constructed for us:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="try-this-container">
  <a href="https://try.imandra.ai/launch/?next=/h/user-redirect/notebooks/A%20Quick%20Tour%20of%20Imandra.ipynb%23try-cell-17" target="_blank" rel="nofollow">
    <div class="try-this">Try this!</div>
  </a>
</div>
<div class="input">
<div class="prompt input_prompt">In&nbsp;[10]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ocaml"><pre><span></span><span class="nn">CX</span><span class="p">.</span><span class="n">x</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt output_prompt">Out[10]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>- : Z.t = 69
</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="try-this-container">
  <a href="https://try.imandra.ai/launch/?next=/h/user-redirect/notebooks/A%20Quick%20Tour%20of%20Imandra.ipynb%23try-cell-18" target="_blank" rel="nofollow">
    <div class="try-this">Try this!</div>
  </a>
</div>
<div class="input">
<div class="prompt input_prompt">In&nbsp;[11]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ocaml"><pre><span></span><span class="n">f</span> <span class="nn">CX</span><span class="p">.</span><span class="n">x</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt output_prompt">Out[11]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>- : Z.t = 158
</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Decomposition">Decomposition<a class="anchor-link" href="#Decomposition">&#182;</a></h2><p>We can also ask Imandra to <em>decompose</em> our function to get a symbolic representation of its state-space. This decomposes the (potentially infinite) state-space into a <em>finite</em> number of symbolically described <em>regions</em>, each describing a class of behaviours of the function.</p>
<p>For each region it is proved that if the inputs of the function satisfy the <em>constraints</em>, then the output of the function satisfies the <em>invariant</em>. Furthermore, Imandra proves <em>coverage</em>: every possible concrete behaviour of the function is represented by a region in the decomposition:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="try-this-container">
  <a href="https://try.imandra.ai/launch/?next=/h/user-redirect/notebooks/A%20Quick%20Tour%20of%20Imandra.ipynb%23try-cell-20" target="_blank" rel="nofollow">
    <div class="try-this">Try this!</div>
  </a>
</div>
<div class="input">
<div class="prompt input_prompt">In&nbsp;[12]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ocaml"><pre><span></span><span class="nn">Decompose</span><span class="p">.</span><span class="n">top</span> <span class="s2">&quot;f&quot;</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt output_prompt">Out[12]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>- : Imandra_reasoning.Decompose.t list =
[&lt;region&gt;; &lt;region&gt;; &lt;region&gt;; &lt;region&gt;; &lt;region&gt;; &lt;region&gt;; &lt;region&gt;]
</pre>
</div>

</div>

<div class="output_area">

<div class="prompt"></div>



<div class="output_html rendered_html output_subarea ">
<div class="imandra-alternatives" id="alt-505a4291-e84c-432b-9772-5f78af5e97f1"><ul class="nav nav-tabs"><li class="active" data-toggle="tab"><a>Voronoi</a></li><li class="" data-toggle="tab"><a>Table</a></li></ul><div class="tab-content"><div class="tab-pane active"><div id="decompose-2267da41-6426-463e-8baa-f58db72e8009" class="decompose"><textarea class="display-none">{
  &quot;regions&quot;: [
    {
      &quot;constraints&quot;: [ &quot;not (x &lt;= 99)&quot; ],
      &quot;region&quot;: {
        &quot;constraints&quot;: [ &quot;not (x &lt;= 99)&quot; ],
        &quot;invariant&quot;: &quot;F = 100&quot;
      },
      &quot;groups&quot;: [],
      &quot;label&quot;: &quot;R[2]&quot;,
      &quot;weight&quot;: 1
    },
    {
      &quot;constraints&quot;: [ &quot;x &lt;= 99&quot; ],
      &quot;region&quot;: null,
      &quot;groups&quot;: [
        {
          &quot;constraints&quot;: [
            &quot;x &lt;= 99&quot;, &quot;not (x &lt;= 20)&quot;, &quot;70 &lt;= x&quot;, &quot;not (x &lt;= 22)&quot;
          ],
          &quot;region&quot;: {
            &quot;constraints&quot;: [
              &quot;x &lt;= 99&quot;, &quot;70 &lt;= x&quot;, &quot;not (x &lt;= 20)&quot;, &quot;not (x &lt;= 22)&quot;
            ],
            &quot;invariant&quot;: &quot;F = 29&quot;
          },
          &quot;groups&quot;: [],
          &quot;label&quot;: &quot;R[1.2.1.1]&quot;,
          &quot;weight&quot;: 1
        },
        {
          &quot;constraints&quot;: [ &quot;x &lt;= 99&quot;, &quot;not (70 &lt;= x)&quot; ],
          &quot;region&quot;: null,
          &quot;groups&quot;: [
            {
              &quot;constraints&quot;: [ &quot;x &lt;= 99&quot;, &quot;not (70 &lt;= x)&quot;, &quot;not (x &lt;= 23)&quot; ],
              &quot;region&quot;: {
                &quot;constraints&quot;: [
                  &quot;x &lt;= 99&quot;, &quot;not (70 &lt;= x)&quot;, &quot;not (x &lt;= 23)&quot;
                ],
                &quot;invariant&quot;: &quot;F = 89 + x&quot;
              },
              &quot;groups&quot;: [],
              &quot;label&quot;: &quot;R[1.1.2]&quot;,
              &quot;weight&quot;: 1
            },
            {
              &quot;constraints&quot;: [ &quot;x &lt;= 99&quot;, &quot;not (70 &lt;= x)&quot;, &quot;x &lt;= 23&quot; ],
              &quot;region&quot;: null,
              &quot;groups&quot;: [
                {
                  &quot;constraints&quot;: [
                    &quot;x &lt;= 99&quot;, &quot;not (70 &lt;= x)&quot;, &quot;x &lt;= 23&quot;, &quot;x &lt;= 20&quot;
                  ],
                  &quot;region&quot;: null,
                  &quot;groups&quot;: [
                    {
                      &quot;constraints&quot;: [
                        &quot;x &lt;= 99&quot;, &quot;not (70 &lt;= x)&quot;, &quot;x &lt;= 23&quot;, &quot;x &lt;= 20&quot;,
                        &quot;x &lt;= -2&quot;
                      ],
                      &quot;region&quot;: {
                        &quot;constraints&quot;: [
                          &quot;x &lt;= 99&quot;, &quot;not (70 &lt;= x)&quot;, &quot;x &lt;= 23&quot;, &quot;x &lt;= 20&quot;,
                          &quot;x &lt;= -2&quot;
                        ],
                        &quot;invariant&quot;: &quot;F = 99&quot;
                      },
                      &quot;groups&quot;: [],
                      &quot;label&quot;: &quot;R[1.1.1.2.2]&quot;,
                      &quot;weight&quot;: 1
                    },
                    {
                      &quot;constraints&quot;: [
                        &quot;x &lt;= 99&quot;, &quot;not (70 &lt;= x)&quot;, &quot;x &lt;= 23&quot;, &quot;x &lt;= 20&quot;,
                        &quot;not (x &lt;= -2)&quot;
                      ],
                      &quot;region&quot;: {
                        &quot;constraints&quot;: [
                          &quot;x &lt;= 99&quot;, &quot;not (70 &lt;= x)&quot;, &quot;x &lt;= 23&quot;, &quot;x &lt;= 20&quot;,
                          &quot;not (x &lt;= -2)&quot;
                        ],
                        &quot;invariant&quot;: &quot;F = 103&quot;
                      },
                      &quot;groups&quot;: [],
                      &quot;label&quot;: &quot;R[1.1.1.2.1]&quot;,
                      &quot;weight&quot;: 1
                    }
                  ],
                  &quot;label&quot;: &quot;(1.1.1.2)&quot;,
                  &quot;weight&quot;: 2
                },
                {
                  &quot;constraints&quot;: [
                    &quot;x &lt;= 99&quot;, &quot;not (70 &lt;= x)&quot;, &quot;x &lt;= 23&quot;, &quot;not (x &lt;= 20)&quot;
                  ],
                  &quot;region&quot;: null,
                  &quot;groups&quot;: [
                    {
                      &quot;constraints&quot;: [
                        &quot;x &lt;= 99&quot;, &quot;not (70 &lt;= x)&quot;, &quot;x &lt;= 23&quot;,
                        &quot;not (x &lt;= 20)&quot;, &quot;x &lt;= 22&quot;
                      ],
                      &quot;region&quot;: {
                        &quot;constraints&quot;: [
                          &quot;x &lt;= 99&quot;, &quot;not (70 &lt;= x)&quot;, &quot;x &lt;= 23&quot;,
                          &quot;not (x &lt;= 20)&quot;, &quot;x &lt;= 22&quot;
                        ],
                        &quot;invariant&quot;: &quot;F = 120 + x&quot;
                      },
                      &quot;groups&quot;: [],
                      &quot;label&quot;: &quot;R[1.1.1.1.2]&quot;,
                      &quot;weight&quot;: 1
                    },
                    {
                      &quot;constraints&quot;: [
                        &quot;x &lt;= 99&quot;, &quot;not (70 &lt;= x)&quot;, &quot;x &lt;= 23&quot;,
                        &quot;not (x &lt;= 20)&quot;, &quot;not (x &lt;= 22)&quot;
                      ],
                      &quot;region&quot;: {
                        &quot;constraints&quot;: [
                          &quot;x &lt;= 99&quot;, &quot;not (70 &lt;= x)&quot;, &quot;x &lt;= 23&quot;,
                          &quot;not (x &lt;= 20)&quot;, &quot;not (x &lt;= 22)&quot;
                        ],
                        &quot;invariant&quot;: &quot;F = 29&quot;
                      },
                      &quot;groups&quot;: [],
                      &quot;label&quot;: &quot;R[1.1.1.1.1]&quot;,
                      &quot;weight&quot;: 1
                    }
                  ],
                  &quot;label&quot;: &quot;(1.1.1.1)&quot;,
                  &quot;weight&quot;: 2
                }
              ],
              &quot;label&quot;: &quot;(1.1.1)&quot;,
              &quot;weight&quot;: 4
            }
          ],
          &quot;label&quot;: &quot;(1.1)&quot;,
          &quot;weight&quot;: 5
        }
      ],
      &quot;label&quot;: &quot;(1)&quot;,
      &quot;weight&quot;: 6
    }
  ]
}</textarea><div class="decompose-foamtree"></div><div class="decompose-details"><div class="decompose-details-header">Regions details</div><div class="decompose-details-no-selection">No group selected.</div><div class="decompose-details-selection hidden"><div><span class="decompose-details-label">Direct sub-regions: </span><span class="decompose-details-direct-sub-regions-text">-</span></div><div><span class="decompose-details-label">Contained regions: </span><span class="decompose-details-contained-regions-text">-</span></div><div class="decompose-details-section-header">Constraints</div><div class="decompose-details-constraints"><pre class="decompose-details-constraint">&lt;constraint&gt;</pre></div><div class="decompose-details-invariant"><div class="decompose-details-section-header">Invariant</div><pre class="decompose-details-invariant-text">&lt;invariant&gt;</pre></div></div></div><script>
(function () {
  require(['nbextensions/nbimandra/regions'], function (regions) {
    var target = '#decompose-2267da41-6426-463e-8baa-f58db72e8009';
    regions.hydrate(target);
  });
})();
</script></div></div><div class="tab-pane"><div><div class="imandra-table" id="table-79a6a1f3-ddbd-4f18-b0cf-ec70c9d1e447"><table><thead><tr><th>Constraints</th><th>Invariant</th></tr></thead><tr><td><ul><li><pre>not (x &lt;= 99)</pre></li></ul></td><td><pre>F = 100</pre></td></tr><tr><td><ul><li><pre>x &lt;= 99</pre></li><li><pre>70 &lt;= x</pre></li><li><pre>not (x &lt;= 20)</pre></li><li><pre>not (x &lt;= 22)</pre></li></ul></td><td><pre>F = 29</pre></td></tr><tr><td><ul><li><pre>x &lt;= 99</pre></li><li><pre>not (70 &lt;= x)</pre></li><li><pre>x &lt;= 23</pre></li><li><pre>not (x &lt;= 20)</pre></li><li><pre>not (x &lt;= 22)</pre></li></ul></td><td><pre>F = 29</pre></td></tr><tr><td><ul><li><pre>x &lt;= 99</pre></li><li><pre>not (70 &lt;= x)</pre></li><li><pre>x &lt;= 23</pre></li><li><pre>not (x &lt;= 20)</pre></li><li><pre>x &lt;= 22</pre></li></ul></td><td><pre>F = 120 + x</pre></td></tr><tr><td><ul><li><pre>x &lt;= 99</pre></li><li><pre>not (70 &lt;= x)</pre></li><li><pre>x &lt;= 23</pre></li><li><pre>x &lt;= 20</pre></li><li><pre>not (x &lt;= -2)</pre></li></ul></td><td><pre>F = 103</pre></td></tr><tr><td><ul><li><pre>x &lt;= 99</pre></li><li><pre>not (70 &lt;= x)</pre></li><li><pre>x &lt;= 23</pre></li><li><pre>x &lt;= 20</pre></li><li><pre>x &lt;= -2</pre></li></ul></td><td><pre>F = 99</pre></td></tr><tr><td><ul><li><pre>x &lt;= 99</pre></li><li><pre>not (70 &lt;= x)</pre></li><li><pre>not (x &lt;= 23)</pre></li></ul></td><td><pre>F = 89 + x</pre></td></tr></table></div></div></div></div><script>
require(['nbextensions/nbimandra/alternatives'], function (alternatives) {
  var target = '#alt-505a4291-e84c-432b-9772-5f78af5e97f1';
  alternatives.hydrate(target);
});
</script></div>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Click on the different full regions (those sub-diagrams of the Voronoi diagram starting with <code>R</code>) and inspect their constraints and invariant. Note that the invariant may depend on the input value (<code>x</code>), e.g., in regions corresponding to branches of the function <code>f</code> where it returns <code>x</code> plus some constant.</p>
<p>Region decompositions form the basis of many powerful Imandra features, including forms of reachability analysis and automated test-suite generation and auditing.</p>

</div>
</div>
</div>
                    </div>

                    <div class="sidebar-right">
                        <div class="sidebar-right__menu">
                            
                            <a class="sidebar-right__menu-item sidebar-right__menu-item--h1" href="#A-Quick-Tour-of-Imandra">A Quick Tour of Imandra</a>
                            
                            <a class="sidebar-right__menu-item sidebar-right__menu-item--h2" href="#Your-first-proof-and-counterexample">Your first proof and counterexample</a>
                            
                            <a class="sidebar-right__menu-item sidebar-right__menu-item--h2" href="#Decomposition">Decomposition</a>
                            
                        </div>
                    </div></article>
            </main>
            <footer class="Footer">
                <a class="Copyrights"href="http://imandra.ai">&#9400; 2018 Aesthetic Integration Ltd. All rights reserved.</a>
            </footer>
        </div>
    </body>
    
 


        </div>
        </div>
        </div>
    </body>
</html>
