<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Util (imandra-base.Imandra_util.Util)</title><link rel="stylesheet" href="../../../odoc.css"/><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> – <a href="../../index.html">imandra-base</a> &#x00BB; <a href="../index.html">Imandra_util</a> &#x00BB; Util</nav><h1>Module <code>Imandra_util.Util</code></h1></header><section><header><h2 id="some-simple-utilities-useful-for-imandra"><a href="#some-simple-utilities-useful-for-imandra" class="anchor"></a>Some simple utilities useful for Imandra</h2></header><dl><dt class="spec value" id="val-failwithf"><a href="#val-failwithf" class="anchor"></a><code><span class="keyword">val </span>failwithf : (<span class="type-var">'a</span>, Format.formatter, unit, <span class="type-var">'b</span>) Pervasives.format4 <span>&#45;&gt;</span> <span class="type-var">'a</span></code></dt><dd><p>Formatting wrapper to <code>failwith</code> Example: <code>failwithf &quot;%s bad term %a&quot; &quot;ohnoes&quot; Term.print t</code></p></dd></dl><dl><dt class="spec value" id="val-(&gt;&gt;)"><a href="#val-(&gt;&gt;)" class="anchor"></a><code><span class="keyword">val </span>(&gt;&gt;) : (<span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'b</span>) <span>&#45;&gt;</span> (<span class="type-var">'b</span> <span>&#45;&gt;</span> <span class="type-var">'c</span>) <span>&#45;&gt;</span> <span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'c</span></code></dt><dd><p>Function composition</p></dd></dl><dl><dt class="spec value" id="val-is_qualified"><a href="#val-is_qualified" class="anchor"></a><code><span class="keyword">val </span>is_qualified : string <span>&#45;&gt;</span> bool</code></dt><dd><p>Is this a qualified identifier (ie with a non empty path)?</p></dd></dl><dl><dt class="spec value" id="val-chop_path"><a href="#val-chop_path" class="anchor"></a><code><span class="keyword">val </span>chop_path : string <span>&#45;&gt;</span> string</code></dt><dd><p>Remove module prefix, turning <code>A.B.c</code> into <code>c</code></p></dd></dl><dl><dt class="spec value" id="val-split_path"><a href="#val-split_path" class="anchor"></a><code><span class="keyword">val </span>split_path : string <span>&#45;&gt;</span> string<span class="keyword"> * </span>string</code></dt><dd><p>Split into module prefix and identifier</p></dd></dl><dl><dt class="spec value" id="val-get_env_home"><a href="#val-get_env_home" class="anchor"></a><code><span class="keyword">val </span>get_env_home : unit <span>&#45;&gt;</span> string</code></dt><dd><p>Obtain <code>&quot;$IMANDRA_HOME&quot;</code> environment variable</p></dd></dl><dl><dt class="spec value" id="val-format_time"><a href="#val-format_time" class="anchor"></a><code><span class="keyword">val </span>format_time : ?&#8288;compact:bool <span>&#45;&gt;</span> float <span>&#45;&gt;</span> string</code></dt><dd><p>Formatting of time</p></dd></dl><dl><dt class="spec value" id="val-print_hr"><a href="#val-print_hr" class="anchor"></a><code><span class="keyword">val </span>print_hr : unit <span>&#45;&gt;</span> unit</code></dt><dd><p>Print horizontal rule</p></dd></dl><dl><dt class="spec value" id="val-pp_hr"><a href="#val-pp_hr" class="anchor"></a><code><span class="keyword">val </span>pp_hr : Format.formatter <span>&#45;&gt;</span> unit <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-batch_banner"><a href="#val-batch_banner" class="anchor"></a><code><span class="keyword">val </span>batch_banner : string</code></dt><dt class="spec value" id="val-print_banner"><a href="#val-print_banner" class="anchor"></a><code><span class="keyword">val </span>print_banner : unit <span>&#45;&gt;</span> unit</code></dt><dd><p>Print banner</p></dd></dl><dl><dt class="spec value" id="val-print_about"><a href="#val-print_about" class="anchor"></a><code><span class="keyword">val </span>print_about : unit <span>&#45;&gt;</span> unit</code></dt><dd><p>Print &quot;about&quot; message</p></dd></dl><dl><dt class="spec value" id="val-split_regex"><a href="#val-split_regex" class="anchor"></a><code><span class="keyword">val </span>split_regex : by:string <span>&#45;&gt;</span> string <span>&#45;&gt;</span> string list</code></dt><dd><p>Split on given regex</p></dd></dl><dl><dt class="spec value" id="val-flat_map"><a href="#val-flat_map" class="anchor"></a><code><span class="keyword">val </span>flat_map : (<span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'b</span> list) <span>&#45;&gt;</span> <span class="type-var">'a</span> list <span>&#45;&gt;</span> <span class="type-var">'b</span> list</code></dt><dt class="spec value" id="val-zip"><a href="#val-zip" class="anchor"></a><code><span class="keyword">val </span>zip : <span class="type-var">'a</span> list <span>&#45;&gt;</span> <span class="type-var">'b</span> list <span>&#45;&gt;</span> (<span class="type-var">'a</span><span class="keyword"> * </span><span class="type-var">'b</span>) list</code></dt><dd><p>Zip of the common prefix of the lists</p></dd></dl><dl><dt class="spec value" id="val-unzip"><a href="#val-unzip" class="anchor"></a><code><span class="keyword">val </span>unzip : (<span class="type-var">'a</span><span class="keyword"> * </span><span class="type-var">'b</span>) list <span>&#45;&gt;</span> <span class="type-var">'a</span> list<span class="keyword"> * </span><span class="type-var">'b</span> list</code></dt><dt class="spec value" id="val-crc_of_str"><a href="#val-crc_of_str" class="anchor"></a><code><span class="keyword">val </span>crc_of_str : string <span>&#45;&gt;</span> int</code></dt><dd><p>CRC</p></dd></dl><dl><dt class="spec value" id="val-combine_hashes"><a href="#val-combine_hashes" class="anchor"></a><code><span class="keyword">val </span>combine_hashes : int <span>&#45;&gt;</span> int <span>&#45;&gt;</span> int</code></dt><dt class="spec value" id="val-str_for_all"><a href="#val-str_for_all" class="anchor"></a><code><span class="keyword">val </span>str_for_all : (char <span>&#45;&gt;</span> bool) <span>&#45;&gt;</span> string <span>&#45;&gt;</span> bool</code></dt><dt class="spec value" id="val-str_exists"><a href="#val-str_exists" class="anchor"></a><code><span class="keyword">val </span>str_exists : (char <span>&#45;&gt;</span> bool) <span>&#45;&gt;</span> string <span>&#45;&gt;</span> bool</code></dt><dt class="spec value" id="val-sanitize_name"><a href="#val-sanitize_name" class="anchor"></a><code><span class="keyword">val </span>sanitize_name : string <span>&#45;&gt;</span> string</code></dt></dl><div class="spec module" id="module-Lex_class"><a href="#module-Lex_class" class="anchor"></a><code><span class="keyword">module </span><a href="Lex_class/index.html">Lex_class</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></div><dl><dt class="spec value" id="val-remove_dups"><a href="#val-remove_dups" class="anchor"></a><code><span class="keyword">val </span>remove_dups : <span class="type-var">'a</span> list <span>&#45;&gt;</span> <span class="type-var">'a</span> list</code></dt><dd><p>Remove duplicates in a list, using <code>(=)</code> and poly hash</p></dd></dl><dl><dt class="spec value" id="val-map_c"><a href="#val-map_c" class="anchor"></a><code><span class="keyword">val </span>map_c : ?&#8288;base:int <span>&#45;&gt;</span> (<span class="type-var">'a</span> <span>&#45;&gt;</span> int <span>&#45;&gt;</span> <span class="type-var">'b</span>) <span>&#45;&gt;</span> <span class="type-var">'a</span> list <span>&#45;&gt;</span> <span class="type-var">'b</span> list</code></dt><dd><p>Similar to <span class="xref-unresolved" title="unresolved reference to &quot;List.mapi&quot;"><code>List</code>.mapi</span> but with an initial offset <code>base</code></p></dd></dl><dl><dt class="spec value" id="val-iter_c"><a href="#val-iter_c" class="anchor"></a><code><span class="keyword">val </span>iter_c : ?&#8288;base:int <span>&#45;&gt;</span> (<span class="type-var">'a</span> <span>&#45;&gt;</span> int <span>&#45;&gt;</span> unit) <span>&#45;&gt;</span> <span class="type-var">'a</span> list <span>&#45;&gt;</span> unit</code></dt><dd><p>Similar to <span class="xref-unresolved" title="unresolved reference to &quot;List.iteri&quot;"><code>List</code>.iteri</span> but with an initial offset <code>base</code></p></dd></dl><dl><dt class="spec value" id="val-list_of_hashtbl"><a href="#val-list_of_hashtbl" class="anchor"></a><code><span class="keyword">val </span>list_of_hashtbl : (<span class="type-var">'a</span>, <span class="type-var">'b</span>) Hashtbl.t <span>&#45;&gt;</span> (<span class="type-var">'a</span><span class="keyword"> * </span><span class="type-var">'b</span>) list</code></dt><dt class="spec value" id="val-suggest_correction"><a href="#val-suggest_correction" class="anchor"></a><code><span class="keyword">val </span>suggest_correction : ?&#8288;dist:int <span>&#45;&gt;</span> string <span>&#45;&gt;</span> ((string <span>&#45;&gt;</span> unit) <span>&#45;&gt;</span> unit) <span>&#45;&gt;</span> string option</code></dt><dd><p><code>suggest_correction ?dist s seq</code> uses the sequence <code>seq</code> of available items to suggest corrections to some failing query <code>s</code>. It returns a string with suggestions, or <code>None</code>.</p><dl><dt>parameter dist</dt><dd><p>max distance acceptable for a suggestion</p></dd></dl></dd></dl><dl><dt class="spec value" id="val-q_to_float"><a href="#val-q_to_float" class="anchor"></a><code><span class="keyword">val </span>q_to_float : Q.t <span>&#45;&gt;</span> float</code></dt><dt class="spec value" id="val-escape_dot"><a href="#val-escape_dot" class="anchor"></a><code><span class="keyword">val </span>escape_dot : string <span>&#45;&gt;</span> string</code></dt><dd><p>Escaping for graphviz labels</p></dd></dl><dl><dt class="spec value" id="val-default_style_dot"><a href="#val-default_style_dot" class="anchor"></a><code><span class="keyword">val </span>default_style_dot : string</code></dt><dd><p>Default style for labels in graphviz</p></dd></dl><dl><dt class="spec value" id="val-on_one_line"><a href="#val-on_one_line" class="anchor"></a><code><span class="keyword">val </span>on_one_line : string <span>&#45;&gt;</span> string</code></dt><dd><p>replace <code>'\n'</code> by <code>' '</code> so this fits on one line</p></dd></dl><dl><dt class="spec value" id="val-enable_warnings"><a href="#val-enable_warnings" class="anchor"></a><code><span class="keyword">val </span>enable_warnings : unit <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-disable_warnings"><a href="#val-disable_warnings" class="anchor"></a><code><span class="keyword">val </span>disable_warnings : unit <span>&#45;&gt;</span> unit</code></dt></dl><div class="spec module" id="module-Stopwatch"><a href="#module-Stopwatch" class="anchor"></a><code><span class="keyword">module </span><a href="Stopwatch/index.html">Stopwatch</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></div><div class="spec module" id="module-Str_map"><a href="#module-Str_map" class="anchor"></a><code><span class="keyword">module </span>Str_map : CCMap.S<span class="keyword"> with </span><span class="keyword">type </span><a href="index.html#module-Str_map">Str_map</a>.key<span class="keyword"> = </span>string</code></div><div class="spec module" id="module-Str_set"><a href="#module-Str_set" class="anchor"></a><code><span class="keyword">module </span>Str_set : CCSet.S<span class="keyword"> with </span><span class="keyword">type </span><a href="index.html#module-Str_set">Str_set</a>.elt<span class="keyword"> = </span>string</code></div><div class="spec module" id="module-Str_tbl"><a href="#module-Str_tbl" class="anchor"></a><code><span class="keyword">module </span>Str_tbl : CCHashtbl.S<span class="keyword"> with </span><span class="keyword">type </span><a href="index.html#module-Str_tbl">Str_tbl</a>.key<span class="keyword"> = </span>string</code></div><div class="spec module" id="module-Int_tbl"><a href="#module-Int_tbl" class="anchor"></a><code><span class="keyword">module </span>Int_tbl : CCHashtbl.S<span class="keyword"> with </span><span class="keyword">type </span><a href="index.html#module-Int_tbl">Int_tbl</a>.key<span class="keyword"> = </span>int</code></div><div class="spec module" id="module-Int_set"><a href="#module-Int_set" class="anchor"></a><code><span class="keyword">module </span>Int_set : CCSet.S<span class="keyword"> with </span><span class="keyword">type </span><a href="index.html#module-Int_set">Int_set</a>.elt<span class="keyword"> = </span>int</code></div><div class="spec module" id="module-Int_map"><a href="#module-Int_map" class="anchor"></a><code><span class="keyword">module </span>Int_map : CCMap.S<span class="keyword"> with </span><span class="keyword">type </span><a href="index.html#module-Int_map">Int_map</a>.key<span class="keyword"> = </span>int</code></div><dl><dt class="spec value" id="val-gensym"><a href="#val-gensym" class="anchor"></a><code><span class="keyword">val </span>gensym : unit <span>&#45;&gt;</span> string</code></dt><dt class="spec value" id="val-print_int"><a href="#val-print_int" class="anchor"></a><code><span class="keyword">val </span>print_int : Format.formatter <span>&#45;&gt;</span> int <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-print_float"><a href="#val-print_float" class="anchor"></a><code><span class="keyword">val </span>print_float : Format.formatter <span>&#45;&gt;</span> float <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-tweak_gc"><a href="#val-tweak_gc" class="anchor"></a><code><span class="keyword">val </span>tweak_gc : unit <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-len_filtered"><a href="#val-len_filtered" class="anchor"></a><code><span class="keyword">val </span>len_filtered : (<span class="type-var">'a</span> <span>&#45;&gt;</span> bool) <span>&#45;&gt;</span> <span class="type-var">'a</span> list <span>&#45;&gt;</span> int</code></dt></dl></section></div></body></html>