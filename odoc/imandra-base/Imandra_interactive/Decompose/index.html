<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Decompose (imandra-base.Imandra_interactive.Decompose)</title><link rel="stylesheet" href="../../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc %%VERSION%%"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> â€“ <a href="../../index.html">imandra-base</a> &#x00BB; <a href="../index.html">Imandra_interactive</a> &#x00BB; Decompose</nav><h1>Module <code>Imandra_interactive.Decompose</code></h1><nav class="toc"><ul><li><a href="#region-decomposition">Region Decomposition</a></li></ul></nav></header><section><header><h2 id="region-decomposition"><a href="#region-decomposition" class="anchor"></a>Region Decomposition</h2></header><dl><dt class="spec type" id="type-t"><a href="#type-t" class="anchor"></a><code><span class="keyword">type</span> t</code><code> = <span class="keyword">private</span> <a href="../../Imandra_surface/Top_result/index.html#type-decompose_region">Imandra_surface.Top_result.decompose_region</a></code><code> = </code><code>{</code><table class="record"><tr id="type-t.reg_session" class="anchored"><td class="def field"><a href="#type-t.reg_session" class="anchor"></a><code>reg_session : <a href="../../Imandra_surface/Top_result/index.html#type-decompose_session_id">Imandra_surface.Top_result.decompose_session_id</a>;</code></td></tr><tr id="type-t.reg_id" class="anchored"><td class="def field"><a href="#type-t.reg_id" class="anchor"></a><code>reg_id : int;</code></td></tr><tr id="type-t.reg_args" class="anchored"><td class="def field"><a href="#type-t.reg_args" class="anchor"></a><code>reg_args : <span><a href="../../Imandra_surface/Var/index.html#type-t">Imandra_surface.Var.t</a> list</span>;</code></td></tr><tr id="type-t.reg_constraints" class="anchored"><td class="def field"><a href="#type-t.reg_constraints" class="anchor"></a><code>reg_constraints : <span><a href="../../Imandra_surface/Term/index.html#type-t">Imandra_surface.Term.t</a> list</span>;</code></td></tr><tr id="type-t.reg_invariant" class="anchored"><td class="def field"><a href="#type-t.reg_invariant" class="anchor"></a><code>reg_invariant : <a href="../../Imandra_surface/Term/index.html#type-t">Imandra_surface.Term.t</a>;</code></td></tr><tr id="type-t.reg_liveness" class="anchored"><td class="def field"><a href="#type-t.reg_liveness" class="anchor"></a><code>reg_liveness : <a href="../../Imandra_surface/Decompose_region/index.html#type-liveness">Imandra_surface.Decompose_region.liveness</a>;</code></td></tr></table><code>}</code></dt><dt class="spec type" id="type-gen"><a href="#type-gen" class="anchor"></a><code><span class="keyword">type</span> <span>'a gen</span></code><code> = unit <span>&#45;&gt;</span> <span><span class="type-var">'a</span> option</span></code></dt><dt class="spec type" id="type-context"><a href="#type-context" class="anchor"></a><code><span class="keyword">type</span> context</code></dt><dd><p>A context is a transient handle to the server's decomposition state. It can only be created via <a href="index.html#val-top_gen"><code>top_gen</code></a> and should <b>NEVER</b> escape the scope of the function argument.</p></dd></dl><dl><dt class="spec value" id="val-context_of_region"><a href="#val-context_of_region" class="anchor"></a><code><span class="keyword">val</span> context_of_region : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-context">context</a></code></dt><dt class="spec value" id="val-context_next"><a href="#val-context_next" class="anchor"></a><code><span class="keyword">val</span> context_next : <a href="index.html#type-context">context</a> <span>&#45;&gt;</span> <span><a href="index.html#type-t">t</a> option</span></code></dt><dd><p>Next region in this context, in case it comes from <a href="index.html#val-top_incremental"><code>top_incremental</code></a>.</p></dd></dl><dl><dt class="spec value" id="val-context_close"><a href="#val-context_close" class="anchor"></a><code><span class="keyword">val</span> context_close : <a href="index.html#type-context">context</a> <span>&#45;&gt;</span> unit</code></dt><dd><p>Release the context (and resources, such as memory, associated with it). From now on, <a href="index.html#val-get_model"><code>get_model</code></a> cannot be called on any region that depends on this context.</p></dd></dl><dl><dt class="spec value" id="val-gen_of_context"><a href="#val-gen_of_context" class="anchor"></a><code><span class="keyword">val</span> gen_of_context : <a href="index.html#type-context">context</a> <span>&#45;&gt;</span> <span><a href="index.html#type-t">t</a> <a href="index.html#type-gen">gen</a></span></code></dt><dt class="spec value" id="val-get_model"><a href="#val-get_model" class="anchor"></a><code><span class="keyword">val</span> get_model : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="../../Imandra_surface/Top_result/index.html#type-term_model">Imandra_surface.Top_result.term_model</a></code></dt><dd><p>Get a model for the given region. If the associated context (see <a href="index.html#val-context_of_region"><code>context_of_region</code></a>) has been closed with <a href="index.html#val-context_close"><code>context_close</code></a> or because <a href="index.html#val-top_incremental"><code>top_incremental</code></a> has returned, this will raise an error.</p></dd></dl><dl><dt class="spec value" id="val-top_incremental"><a href="#val-top_incremental" class="anchor"></a><code><span class="keyword">val</span> top_incremental : <span>?&#8288;compound:bool</span> <span>&#45;&gt;</span> <span>?&#8288;max_ctx_simp:int</span> <span>&#45;&gt;</span> <span>?&#8288;basis:<span>string list</span></span> <span>&#45;&gt;</span> <span>?&#8288;assuming:string</span> <span>&#45;&gt;</span> <span>?&#8288;interpret_basis:bool</span> <span>&#45;&gt;</span> <span>?&#8288;ctx_asm_simp:bool</span> <span>&#45;&gt;</span> <span>?&#8288;reduce_symmetry:bool</span> <span>&#45;&gt;</span> <span>?&#8288;aggressive_rec:bool</span> <span>&#45;&gt;</span> string <span>&#45;&gt;</span> <span>(<a href="index.html#type-context">context</a> <span>&#45;&gt;</span> <span class="type-var">'a</span>)</span> <span>&#45;&gt;</span> <span class="type-var">'a</span></code></dt><dd><p><code>top_incremental f callback</code> decomposes function <code>f</code> lazily. It calls <code>callback</code> with a context, that can be used to iterate over the regions of <code>f</code>, obtain models. etc. <code>callback</code> can use the context as pleases it, but the context becomes invalid after <code>callback ctx</code> returns and <b>MUST NOT</b> be used any further. Once the <code>callback</code> has returned, the session is properly disposed of and resources (memory) released.</p></dd></dl><dl><dt class="spec value" id="val-top_ctx"><a href="#val-top_ctx" class="anchor"></a><code><span class="keyword">val</span> top_ctx : <span>?&#8288;compound:bool</span> <span>&#45;&gt;</span> <span>?&#8288;max_ctx_simp:int</span> <span>&#45;&gt;</span> <span>?&#8288;basis:<span>string list</span></span> <span>&#45;&gt;</span> <span>?&#8288;assuming:string</span> <span>&#45;&gt;</span> <span>?&#8288;interpret_basis:bool</span> <span>&#45;&gt;</span> <span>?&#8288;ctx_asm_simp:bool</span> <span>&#45;&gt;</span> <span>?&#8288;reduce_symmetry:bool</span> <span>&#45;&gt;</span> <span>?&#8288;aggressive_rec:bool</span> <span>&#45;&gt;</span> string <span>&#45;&gt;</span> <a href="index.html#type-context">context</a></code></dt><dd><p><code>top_ctx f</code> decomposes function <code>f</code> lazily. The context must be manually iterated over in order to obtain regions of <code>f</code>, obtain models etc. The context <b>MUST</b> be manually closed using <a href="index.html#val-context_close"><code>context_close</code></a> in order to release resources and dispose of the session.</p></dd></dl><dl><dt class="spec value" id="val-top_gen"><a href="#val-top_gen" class="anchor"></a><code><span class="keyword">val</span> top_gen : <span>?&#8288;compound:bool</span> <span>&#45;&gt;</span> <span>?&#8288;max_ctx_simp:int</span> <span>&#45;&gt;</span> <span>?&#8288;basis:<span>string list</span></span> <span>&#45;&gt;</span> <span>?&#8288;assuming:string</span> <span>&#45;&gt;</span> <span>?&#8288;interpret_basis:bool</span> <span>&#45;&gt;</span> <span>?&#8288;ctx_asm_simp:bool</span> <span>&#45;&gt;</span> <span>?&#8288;reduce_symmetry:bool</span> <span>&#45;&gt;</span> <span>?&#8288;aggressive_rec:bool</span> <span>&#45;&gt;</span> string <span>&#45;&gt;</span> <a href="index.html#type-context">context</a> * <span><a href="index.html#type-t">t</a> <a href="index.html#type-gen">gen</a></span></code></dt><dd><p><code>top_gen f</code> decomposes function <code>f</code> lazily. The context is automatically closed once the generator reaches its end, if the generator is not fully consumed, the user <b>MUST</b> manually close the context using <a href="index.html#val-context_of_region"><code>context_of_region</code></a> and <a href="index.html#val-context_close"><code>context_close</code></a> in order to release resources and dispose of the session.</p></dd></dl><dl><dt class="spec value" id="val-top"><a href="#val-top" class="anchor"></a><code><span class="keyword">val</span> top : <span>?&#8288;compound:bool</span> <span>&#45;&gt;</span> <span>?&#8288;max_ctx_simp:int</span> <span>&#45;&gt;</span> <span>?&#8288;basis:<span>string list</span></span> <span>&#45;&gt;</span> <span>?&#8288;assuming:string</span> <span>&#45;&gt;</span> <span>?&#8288;interpret_basis:bool</span> <span>&#45;&gt;</span> <span>?&#8288;ctx_asm_simp:bool</span> <span>&#45;&gt;</span> <span>?&#8288;reduce_symmetry:bool</span> <span>&#45;&gt;</span> <span>?&#8288;aggressive_rec:bool</span> <span>&#45;&gt;</span> string <span>&#45;&gt;</span> <span><a href="index.html#type-t">t</a> list</span></code></dt><dd><p>Decompose the function whose name is given into regions.</p><dl><dt>parameter basis</dt><dd><p>blocked functions</p></dd></dl><dl><dt>parameter compound</dt><dd><p>do not decompose compound path conditions</p></dd></dl><dl><dt>parameter interpret_basis</dt><dd><p>give definitional interpretations to all basis functions during feasibility checks and sample point extraction</p></dd></dl><dl><dt>parameter assuming</dt><dd><p>function (with compatible signature) to assume as a side-condition</p></dd></dl><dl><dt>parameter reduce_symmetry</dt><dd><p>apply aggressive symmetry reduction during simplification</p></dd></dl><dl><dt>parameter aggressive_rec</dt><dd><p>aggressively manipulates recursive functions appearing in decomposition targets</p></dd></dl><dl><dt>parameter max_ctx_simp</dt><dd><p>maximal number of iterations of contextual simplification (pre-lifting)</p></dd></dl><dl><dt>parameter ctx_asm_simp</dt><dd><p>apply contextual simplification to the assuming function</p></dd></dl><dl><dt>parameter max_depth</dt><dd><p>max depth for the analysis</p></dd></dl></dd></dl><dl><dt class="spec value" id="val-string_of_region"><a href="#val-string_of_region" class="anchor"></a><code><span class="keyword">val</span> string_of_region : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> string</code></dt><dt class="spec value" id="val-print"><a href="#val-print" class="anchor"></a><code><span class="keyword">val</span> print : Format.formatter <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-print_opaque"><a href="#val-print_opaque" class="anchor"></a><code><span class="keyword">val</span> print_opaque : Format.formatter <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-refine"><a href="#val-refine" class="anchor"></a><code><span class="keyword">val</span> refine : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span>basis:<span>string list</span></span> <span>&#45;&gt;</span> <span><a href="../../Imandra_surface/Term/index.html#type-t">Imandra_surface.Term.t</a> list</span> <span>&#45;&gt;</span> <span><a href="index.html#type-t">t</a> option</span></code></dt></dl></section></div></body></html>