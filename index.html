<!DOCTYPE html>
<html>
    <head>
	  <meta charset="utf-8">
	  <meta http-equiv="x-ua-compatible" content="ie=edge">
	  <meta name="viewport" content="width=device-width, initial-scale=1">

	  <title>Note: See our new interactive documentation</title>
	  
	  <link rel="shortcut icon" type="image/x-icon" href="/imandra-docs/favicon.ico">
	  <link rel="stylesheet" href="/imandra-docs/css/main.css">
      <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Merriweather+Sans:300,300i,400,400i%7CMerriweather:300,300i,400,400i%7CRoboto+Slab:300,300i,400,400i">

	  <link rel="canonical" href="https://docs.imandra.ai//imandra-docs/">
	  <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.1/jquery.min.js"></script>
	  <script type="text/javascript" src = "/imandra-docs/jekyll-resources/assets/scripts/jquery.scrollme.min.js"></script>
	  <script type="text/javascript" src = "/imandra-docs/jekyll-resources/assets/scripts/jquery.sticky.min.js"></script>
	  <script type="text/javascript">
	  	 
		$(document).ready(function(){
			$("#StickMenu").sticky({topSpacing:52});
		});

	  </script>

</head> 


    <body>
	      <div class="TopRowContainer">
	<div class="TopRow">
		<div class="TopNavLogoContainer">
			<a class="TopNavLogoLink" href="https://docs.imandra.ai/">
				<img class="TopNavLogo" src = "/imandra-docs/jekyll-resources/assets/img/imandra_doc_logo_main.svg">
			</a>
		</div>
		<nav class="TopNavContainer">
			<ul class="TopNavList">
				
				 
				
				 
				
				
				
				
				<li class="TopNavListItem"><a class="TopNavLink" href="/imandra-docs/configuration/">Configuration</a></li>
				
				
				 
				
				
				
				
				<li class="TopNavListItem"><a class="TopNavLink" href="/imandra-docs/examples/">Examples</a></li>
				
				
				 
				
				
				
				
				<li class="TopNavListItem"><a class="TopNavLink" href="/imandra-docs/hacking/">Hacking</a></li>
				
				
				 
				
				
				
				
				<li class="TopNavListItem"><a class="TopNavLink" href="/imandra-docs/regionDecomposition/">Region Decomposition</a></li>
				
				
				 
				
				
				
				
				<li class="TopNavListItem"><a class="TopNavLink" href="/imandra-docs/extra/">Further functionality</a></li>
				
				
				
			</ul>
		</nav>
	</div>
</div>

<header class="TemplateHeader">
	<div class="TemplateHeaderImageContainer">
	<a href ="/imandra-docs">
		<img class="SiteSpecificImage" src="/imandra-docs/assets/img/site_specific_image_v_2.svg">
	</a>
	</div>
</header>


	      <main class="MainContentColumn">
		        <article class="ArticleContainer">
			          <div class="DummySideMenu">
</div>

<div class="MainContent">
    <h2><font color = "Maroon">Note: See our new interactive documentation</font></h2>

    <p><strong>This documentation is out of date and will soon be revamped. In the meantime, please see our interactive documentation beginning with the “Welcome to Imandra” notebook here:</strong></p>

<p><a href="https://try.imandra.ai/notebook/welcome/"><img src="/imandra-docs/jekyll-resources/assets/img/imandraWelcome.jpg" alt="" class="template-image" /></a></p>

<h3 id="welcome-to-the-online-imandra-documentation">Welcome to the online Imandra documentation!</h3>

<p>Imandra is both a programming language and a reasoning engine with which you can analyse and verify properties of your programs.</p>

<p>As a programming language, Imandra is a subset of the functional language OCaml.
We call this subset of OCaml “IML” or “ImandraML” (for “Imandra Modelling Language”).</p>

<p>With Imandra, you write your code and verification goals in the same language, and pursue programming and reasoning together.</p>

<p>Before starting to use Imandra, it may be helpful to familiarise yourself with the basics of OCaml.
There are many great resources and books for doing so.
Here’s a good place to start:</p>

<p><a href="http://ocaml.org/learn"><img src="https://ocaml.org/img/real-world-ocaml.jpg" alt="OCaml" /></a></p>

<h3 id="first-steps">First steps</h3>

<p>As a first example, let’s define a simple arithmetic function and analyse it with Imandra:</p>

<figure class="highlight"><pre><code class="language-iml" data-lang="iml"><span class="o">#</span><span class="k">let</span> <span class="n">f</span> <span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">=</span> <span class="n">x</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;;</span></code></pre></figure>

<p>When we submit this function definition to Imandra, it responds with a message telling us the function’s type:</p>

<figure class="highlight"><pre><code class="language-iml" data-lang="iml"><span class="o">#</span> <span class="k">let</span> <span class="n">f</span> <span class="n">x</span> <span class="o">=</span> <span class="n">x</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;;</span>
<span class="k">val</span> <span class="n">f</span> <span class="o">:</span> <span class="kt">int</span> <span class="o">-&gt;</span> <span class="kt">int</span> <span class="o">=</span> <span class="o">&lt;</span><span class="k">fun</span><span class="o">&gt;</span></code></pre></figure>

<p>This means that our function <code class="highlighter-rouge">f</code> maps integers to integers.</p>

<p>We can compute with this function:</p>

<figure class="highlight"><pre><code class="language-iml" data-lang="iml"><span class="o">#</span> <span class="n">f</span> <span class="mi">0</span><span class="p">;;</span>
<span class="o">-</span> <span class="o">:</span> <span class="kt">int</span> <span class="o">=</span> <span class="mi">1</span>
<span class="o">#</span> <span class="n">f</span> <span class="mi">10</span><span class="p">;;</span>
<span class="o">-</span> <span class="o">:</span> <span class="kt">int</span> <span class="o">=</span> <span class="mi">11</span>
<span class="o">#</span> <span class="n">f</span> <span class="mi">20</span><span class="p">;;</span>
<span class="o">-</span> <span class="o">:</span> <span class="kt">int</span> <span class="o">=</span> <span class="mi">21</span>
<span class="o">#</span> <span class="n">f</span> <span class="mi">99</span><span class="p">;;</span>
<span class="o">-</span> <span class="o">:</span> <span class="kt">int</span> <span class="o">=</span> <span class="mi">100</span></code></pre></figure>

<p>And we can also ask Imandra questions about this function. For example, is there any instance of this function in which its result will be <code class="highlighter-rouge">1000</code>?</p>

<figure class="highlight"><pre><code class="language-iml" data-lang="iml"><span class="o">#</span> <span class="kr">instance</span> <span class="n">_</span> <span class="n">x</span> <span class="o">=</span>
   <span class="n">f</span> <span class="n">x</span> <span class="o">=</span> <span class="mi">1000</span><span class="p">;;</span>
<span class="nc">Instance</span><span class="o">:</span>
  <span class="p">{</span> <span class="n">x</span> <span class="o">=</span> <span class="mi">999</span><span class="p">;</span> <span class="p">}</span></code></pre></figure>

<p>Imandra tells us that yes, this can happen, when <code class="highlighter-rouge">x = 999</code>. Whenever Imandra finds an instance like this, it will reflect the values of the variables in the instance into a module (i.e., a name space) called <code class="highlighter-rouge">CX</code>. So, we can compute directly with this found value by using, in this case, <code class="highlighter-rouge">CX.x</code>:</p>

<figure class="highlight"><pre><code class="language-iml" data-lang="iml"><span class="o">#</span> <span class="nn">CX</span><span class="p">.</span><span class="n">x</span><span class="p">;;</span>
<span class="o">-</span> <span class="o">:</span> <span class="kt">int</span> <span class="o">=</span> <span class="mi">999</span>
<span class="o">#</span> <span class="n">f</span> <span class="p">(</span><span class="nn">CX</span><span class="p">.</span><span class="n">x</span><span class="p">);;</span>
<span class="o">-</span> <span class="o">:</span> <span class="kt">int</span> <span class="o">=</span> <span class="mi">1000</span></code></pre></figure>

<p>Finally, we may also want to prove theorems about this function. Here’s a simple one:</p>

<figure class="highlight"><pre><code class="language-iml" data-lang="iml"><span class="o">#</span> <span class="kr">theorem</span> <span class="n">_</span> <span class="n">x</span> <span class="o">=</span>
   <span class="n">f</span> <span class="n">x</span> <span class="o">&gt;</span> <span class="n">x</span><span class="p">;;</span>
<span class="kr">thm</span> <span class="n">_</span> <span class="o">=</span> <span class="o">&lt;</span><span class="kr">proved</span><span class="o">&gt;</span></code></pre></figure>

<p>In Imandra, all variables in logical formulas are implicitly universally quantified. So, we’ve just proven the mathematical statement “for all integers <code class="highlighter-rouge">x</code>, it is always the case that <code class="highlighter-rouge">f(x) &gt; x</code>.”</p>

<p>Let’s now see what happens if we try to prove something that’s false:</p>

<figure class="highlight"><pre><code class="language-iml" data-lang="iml"><span class="o">#</span> <span class="kr">theorem</span> <span class="n">_</span> <span class="n">x</span> <span class="o">=</span> <span class="n">f</span> <span class="n">x</span> <span class="o">=</span> <span class="n">f</span> <span class="p">(</span><span class="n">x</span><span class="o">+</span><span class="mi">1</span><span class="p">);;</span>
<span class="p">[</span><span class="n">x</span><span class="p">]</span> <span class="n">_</span><span class="o">:</span> <span class="n">proof</span> <span class="n">attempt</span> <span class="n">failed</span><span class="o">.</span></code></pre></figure>

<p>Imandra tells us that its proof attempt failed. When Imandra proves (or tries to prove) a theorem, it typically works by reducing a statement to a sequence of subgoals that are easier to prove. When it fails to complete a proof, we can ask Imandra to show us the subgoals it computed for our problem:</p>

<figure class="highlight"><pre><code class="language-iml" data-lang="iml"><span class="o">#</span> <span class="o">:</span><span class="n">s</span>
<span class="mi">1</span> <span class="n">subgoal</span><span class="o">:</span>
 <span class="n">x</span> <span class="o">:</span> <span class="kt">int</span>
 <span class="o">|--------------------------------------------------------------------------</span>
 <span class="bp">false</span></code></pre></figure>

<p>In this case, we see that Imandra reduced our original conjecture to a clearly false subgoal. In a subgoal, the constraints above the bar are the hypotheses, and the statement below the bar is the conclusion. Thus, this subgoal is “for all integers <code class="highlighter-rouge">x</code>, false is true,” which is clearly false. No wonder Imandra’s proof attempt failed!</p>

<p>Let’s ask Imandra to compute a counterexample for us. We do this with the <code class="highlighter-rouge">check</code> command:</p>

<figure class="highlight"><pre><code class="language-iml" data-lang="iml"><span class="o">#</span> <span class="kr">check</span> <span class="n">_</span> <span class="n">x</span> <span class="o">=</span> <span class="n">f</span> <span class="n">x</span> <span class="o">=</span> <span class="n">f</span> <span class="p">(</span><span class="n">x</span><span class="o">+</span><span class="mi">1</span><span class="p">);;</span>

<span class="nc">Counterexample</span><span class="o">:</span>
  <span class="p">{</span> <span class="n">x</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="p">}</span></code></pre></figure>

<p>So, clearly the universally quantified conjecture is false. But we might wonder if there exists any integers <code class="highlighter-rouge">x</code> such that <code class="highlighter-rouge">f(x) = f(x+1)</code>. We can use the <code class="highlighter-rouge">instance</code> command again to see:</p>

<figure class="highlight"><pre><code class="language-iml" data-lang="iml"><span class="o">#</span> <span class="kr">instance</span> <span class="n">_</span> <span class="n">x</span> <span class="o">=</span> <span class="n">f</span> <span class="n">x</span> <span class="o">=</span> <span class="n">f</span><span class="p">(</span><span class="n">x</span><span class="o">+</span><span class="mi">1</span><span class="p">);;</span>
<span class="nc">No</span> <span class="n">such</span> <span class="kr">instance</span> <span class="n">exists</span><span class="o">.</span></code></pre></figure>

<p>Thus, every integer is a counterexample to this conjecture.</p>

<p>Subgoals can also help us to understand “why” something isn’t true. For example, if we try to prove the following false goal:</p>

<figure class="highlight"><pre><code class="language-iml" data-lang="iml"><span class="nc">No</span> <span class="n">such</span> <span class="kr">instance</span> <span class="n">exists</span><span class="o">.</span>
<span class="o">#</span> <span class="kr">theorem</span> <span class="n">_</span> <span class="p">(</span><span class="n">x</span><span class="o">,</span><span class="n">y</span><span class="p">)</span> <span class="o">=</span>
   <span class="n">f</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">=</span> <span class="n">f</span><span class="p">(</span><span class="n">y</span><span class="p">);;</span>
   <span class="p">[</span><span class="n">x</span><span class="p">]</span> <span class="n">_</span><span class="o">:</span> <span class="n">proof</span> <span class="n">attempt</span> <span class="n">failed</span><span class="o">.</span></code></pre></figure>

<p>And inspect the subgoals:</p>

<figure class="highlight"><pre><code class="language-iml" data-lang="iml"><span class="o">#</span> <span class="o">:</span><span class="n">s</span>
<span class="mi">1</span> <span class="n">subgoal</span><span class="o">:</span>
 <span class="n">x</span> <span class="o">:</span> <span class="kt">int</span>
 <span class="n">y</span> <span class="o">:</span> <span class="kt">int</span>
<span class="o">|--------------------------------------------------------------------------</span>
 <span class="n">x</span> <span class="o">=</span> <span class="n">y</span></code></pre></figure>

<p>We see immediately why the goal is false. For it to be true, it would have to be the case that all integers <code class="highlighter-rouge">x</code> and <code class="highlighter-rouge">y</code> are equal to each other. But of course this is not the case.</p>

<p>This concludes our first example. Happy proving!</p>


</div>
		        </article>
	      </main>
	      <footer class="Footer">
	  <a class="Copyrights"href="http://imandra.ai">&#9400; 2018 Aesthetic Integration Ltd. All rights reserved.</a>
</footer>

    </body>

</html>
