<p>Proofs by induction are based upon an <em>induction principle.</em></p>

<p>With induction, we <em>deduce</em> a universal property <code class="highlighter-rouge">Forall x. P(x)</code> by assuming the property P holds for some ``smaller’’ values, and then combining the results.</p>

<p>Perhaps this reminds you of something: With recursion, we <em>compute</em> a value F(x) of a function by first computing F with respect to some <code class="highlighter-rouge">smaller</code> values, and then combining the results.</p>

<p>Indeed, recursion and induction are intimately related.</p>

<p>In Imandra, if we wish to prove a property about a recursive function, we will usually do this by induction. There are many subtleties, e.g., exactly which induction principle should be used, whether or not the formula being proved should be generalised, etc.</p>

<p>Let us approach these subjects with concrete examples.</p>

<h4 id="deleting-an-element-preserves-sorting">Deleting an element preserves sorting</h4>

<p>Note the use of the custom termination measure below. This gives us a simpler induction principle than the default, which allows us to prove our goal sorted_stable. (Will write more soon!).</p>
<div class="language-ocaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="k">let</span> <span class="k">rec</span> <span class="n">is_sorted</span> <span class="p">(</span><span class="n">xs</span><span class="p">)</span> <span class="o">=</span>
  <span class="k">match</span> <span class="n">xs</span> <span class="k">with</span>
  <span class="o">|</span> <span class="n">x</span> <span class="o">::</span> <span class="n">y</span> <span class="o">::</span> <span class="n">rest</span> <span class="o">-&gt;</span>
    <span class="n">x</span> <span class="o">&lt;=</span> <span class="n">y</span> <span class="o">&amp;&amp;</span> <span class="n">is_sorted</span> <span class="p">(</span><span class="nn">List</span><span class="p">.</span><span class="n">tl</span> <span class="n">xs</span><span class="p">)</span>
  <span class="o">|</span> <span class="n">_</span> <span class="o">-&gt;</span> <span class="bp">true</span>
<span class="p">;;</span>


<span class="c">(* @meta[measure : delete_at]
    let measure_delete_at (i, xs) = List.length xs
  @end
*)</span>

<span class="k">let</span> <span class="k">rec</span> <span class="n">delete_at</span> <span class="p">(</span><span class="n">i</span><span class="o">,</span><span class="n">xs</span><span class="p">)</span> <span class="o">=</span>
  <span class="k">if</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">0</span> <span class="k">then</span> <span class="n">xs</span> <span class="k">else</span>
    <span class="k">match</span> <span class="n">xs</span> <span class="k">with</span>
    <span class="o">|</span> <span class="n">x</span> <span class="o">::</span> <span class="n">rest</span> <span class="o">-&gt;</span>
      <span class="k">if</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span> <span class="k">then</span>
        <span class="n">rest</span>
      <span class="k">else</span>
        <span class="n">x</span> <span class="o">::</span> <span class="n">delete_at</span><span class="p">(</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="o">,</span><span class="n">rest</span><span class="p">)</span>
    <span class="o">|</span> <span class="bp">[]</span> <span class="o">-&gt;</span> <span class="bp">[]</span>
<span class="p">;;</span>

<span class="n">theorem</span><span class="p">[</span><span class="n">rw</span><span class="p">]</span> <span class="n">sorted_stable</span> <span class="p">(</span><span class="n">i</span><span class="o">,</span><span class="n">xs</span><span class="p">)</span> <span class="o">=</span>
  <span class="n">is_sorted</span> <span class="n">xs</span> <span class="o">==&gt;</span> <span class="n">is_sorted</span><span class="p">(</span><span class="n">delete_at</span><span class="p">(</span><span class="n">i</span><span class="o">,</span><span class="n">xs</span><span class="p">))</span>
<span class="p">;;</span>

</code></pre></div></div>
